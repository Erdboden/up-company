/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 166);
/******/ })
/************************************************************************/
/******/ ({

/***/ 166:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(20);


/***/ }),

/***/ 20:
/***/ (function(module, exports, __webpack_require__) {

eval("__webpack_require__(80);\n__webpack_require__(81);\n__webpack_require__(79);\n\n$(function () {\n    $('[data-editor=\"ckeditor\"]').ckeditor();\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vcmVzb3VyY2VzL2Fzc2V0cy9hZG1pbmlzdHJhdG9yL2pzL2VkaXRvcnMvY2tlZGl0b3IuanM/Zjk2NyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCdja2VkaXRvcicpO1xucmVxdWlyZSgnY2tlZGl0b3IvY29uZmlnJyk7XG5yZXF1aXJlKCdja2VkaXRvci9hZGFwdGVycy9qcXVlcnknKTtcblxuJCgoKSA9PiB7XG4gICAgJCgnW2RhdGEtZWRpdG9yPVwiY2tlZGl0b3JcIl0nKS5ja2VkaXRvcigpO1xufSk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gcmVzb3VyY2VzL2Fzc2V0cy9hZG1pbmlzdHJhdG9yL2pzL2VkaXRvcnMvY2tlZGl0b3IuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 79:
/***/ (function(module, exports) {

eval("ï»¿/*\n Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n For licensing, see LICENSE.md or http://ckeditor.com/license\n*/\n(function(a){if(\"undefined\"==typeof a)throw Error(\"jQuery should be loaded before CKEditor jQuery adapter.\");if(\"undefined\"==typeof CKEDITOR)throw Error(\"CKEditor should be loaded before CKEditor jQuery adapter.\");CKEDITOR.config.jqueryOverrideVal=\"undefined\"==typeof CKEDITOR.config.jqueryOverrideVal?!0:CKEDITOR.config.jqueryOverrideVal;a.extend(a.fn,{ckeditorGet:function(){var a=this.eq(0).data(\"ckeditorInstance\");if(!a)throw\"CKEditor is not initialized yet, use ckeditor() with a callback.\";return a},\nckeditor:function(g,d){if(!CKEDITOR.env.isCompatible)throw Error(\"The environment is incompatible.\");if(!a.isFunction(g)){var m=d;d=g;g=m}var k=[];d=d||{};this.each(function(){var b=a(this),c=b.data(\"ckeditorInstance\"),f=b.data(\"_ckeditorInstanceLock\"),h=this,l=new a.Deferred;k.push(l.promise());if(c&&!f)g&&g.apply(c,[this]),l.resolve();else if(f)c.once(\"instanceReady\",function(){setTimeout(function(){c.element?(c.element.$==h&&g&&g.apply(c,[h]),l.resolve()):setTimeout(arguments.callee,100)},0)},\nnull,null,9999);else{if(d.autoUpdateElement||\"undefined\"==typeof d.autoUpdateElement&&CKEDITOR.config.autoUpdateElement)d.autoUpdateElementJquery=!0;d.autoUpdateElement=!1;b.data(\"_ckeditorInstanceLock\",!0);c=a(this).is(\"textarea\")?CKEDITOR.replace(h,d):CKEDITOR.inline(h,d);b.data(\"ckeditorInstance\",c);c.on(\"instanceReady\",function(d){var e=d.editor;setTimeout(function(){if(e.element){d.removeListener();e.on(\"dataReady\",function(){b.trigger(\"dataReady.ckeditor\",[e])});e.on(\"setData\",function(a){b.trigger(\"setData.ckeditor\",\n[e,a.data])});e.on(\"getData\",function(a){b.trigger(\"getData.ckeditor\",[e,a.data])},999);e.on(\"destroy\",function(){b.trigger(\"destroy.ckeditor\",[e])});e.on(\"save\",function(){a(h.form).submit();return!1},null,null,20);if(e.config.autoUpdateElementJquery&&b.is(\"textarea\")&&a(h.form).length){var c=function(){b.ckeditor(function(){e.updateElement()})};a(h.form).submit(c);a(h.form).bind(\"form-pre-serialize\",c);b.bind(\"destroy.ckeditor\",function(){a(h.form).unbind(\"submit\",c);a(h.form).unbind(\"form-pre-serialize\",\nc)})}e.on(\"destroy\",function(){b.removeData(\"ckeditorInstance\")});b.removeData(\"_ckeditorInstanceLock\");b.trigger(\"instanceReady.ckeditor\",[e]);g&&g.apply(e,[h]);l.resolve()}else setTimeout(arguments.callee,100)},0)},null,null,9999)}});var f=new a.Deferred;this.promise=f.promise();a.when.apply(this,k).then(function(){f.resolve()});this.editor=this.eq(0).data(\"ckeditorInstance\");return this}});CKEDITOR.config.jqueryOverrideVal&&(a.fn.val=CKEDITOR.tools.override(a.fn.val,function(g){return function(d){if(arguments.length){var m=\nthis,k=[],f=this.each(function(){var b=a(this),c=b.data(\"ckeditorInstance\");if(b.is(\"textarea\")&&c){var f=new a.Deferred;c.setData(d,function(){f.resolve()});k.push(f.promise());return!0}return g.call(b,d)});if(k.length){var b=new a.Deferred;a.when.apply(this,k).done(function(){b.resolveWith(m)});return b.promise()}return f}var f=a(this).eq(0),c=f.data(\"ckeditorInstance\");return f.is(\"textarea\")&&c?c.getData():g.call(f)}}))})(window.jQuery);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2NrZWRpdG9yL2FkYXB0ZXJzL2pxdWVyeS5qcz9lYzA3Il0sInNvdXJjZXNDb250ZW50IjpbIu+7vy8qXG4gQ29weXJpZ2h0IChjKSAyMDAzLTIwMTcsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4qL1xuKGZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBhKXRocm93IEVycm9yKFwialF1ZXJ5IHNob3VsZCBiZSBsb2FkZWQgYmVmb3JlIENLRWRpdG9yIGpRdWVyeSBhZGFwdGVyLlwiKTtpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgQ0tFRElUT1IpdGhyb3cgRXJyb3IoXCJDS0VkaXRvciBzaG91bGQgYmUgbG9hZGVkIGJlZm9yZSBDS0VkaXRvciBqUXVlcnkgYWRhcHRlci5cIik7Q0tFRElUT1IuY29uZmlnLmpxdWVyeU92ZXJyaWRlVmFsPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBDS0VESVRPUi5jb25maWcuanF1ZXJ5T3ZlcnJpZGVWYWw/ITA6Q0tFRElUT1IuY29uZmlnLmpxdWVyeU92ZXJyaWRlVmFsO2EuZXh0ZW5kKGEuZm4se2NrZWRpdG9yR2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lcSgwKS5kYXRhKFwiY2tlZGl0b3JJbnN0YW5jZVwiKTtpZighYSl0aHJvd1wiQ0tFZGl0b3IgaXMgbm90IGluaXRpYWxpemVkIHlldCwgdXNlIGNrZWRpdG9yKCkgd2l0aCBhIGNhbGxiYWNrLlwiO3JldHVybiBhfSxcbmNrZWRpdG9yOmZ1bmN0aW9uKGcsZCl7aWYoIUNLRURJVE9SLmVudi5pc0NvbXBhdGlibGUpdGhyb3cgRXJyb3IoXCJUaGUgZW52aXJvbm1lbnQgaXMgaW5jb21wYXRpYmxlLlwiKTtpZighYS5pc0Z1bmN0aW9uKGcpKXt2YXIgbT1kO2Q9ZztnPW19dmFyIGs9W107ZD1kfHx7fTt0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9Yi5kYXRhKFwiY2tlZGl0b3JJbnN0YW5jZVwiKSxmPWIuZGF0YShcIl9ja2VkaXRvckluc3RhbmNlTG9ja1wiKSxoPXRoaXMsbD1uZXcgYS5EZWZlcnJlZDtrLnB1c2gobC5wcm9taXNlKCkpO2lmKGMmJiFmKWcmJmcuYXBwbHkoYyxbdGhpc10pLGwucmVzb2x2ZSgpO2Vsc2UgaWYoZiljLm9uY2UoXCJpbnN0YW5jZVJlYWR5XCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5lbGVtZW50PyhjLmVsZW1lbnQuJD09aCYmZyYmZy5hcHBseShjLFtoXSksbC5yZXNvbHZlKCkpOnNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwxMDApfSwwKX0sXG5udWxsLG51bGwsOTk5OSk7ZWxzZXtpZihkLmF1dG9VcGRhdGVFbGVtZW50fHxcInVuZGVmaW5lZFwiPT10eXBlb2YgZC5hdXRvVXBkYXRlRWxlbWVudCYmQ0tFRElUT1IuY29uZmlnLmF1dG9VcGRhdGVFbGVtZW50KWQuYXV0b1VwZGF0ZUVsZW1lbnRKcXVlcnk9ITA7ZC5hdXRvVXBkYXRlRWxlbWVudD0hMTtiLmRhdGEoXCJfY2tlZGl0b3JJbnN0YW5jZUxvY2tcIiwhMCk7Yz1hKHRoaXMpLmlzKFwidGV4dGFyZWFcIik/Q0tFRElUT1IucmVwbGFjZShoLGQpOkNLRURJVE9SLmlubGluZShoLGQpO2IuZGF0YShcImNrZWRpdG9ySW5zdGFuY2VcIixjKTtjLm9uKFwiaW5zdGFuY2VSZWFkeVwiLGZ1bmN0aW9uKGQpe3ZhciBlPWQuZWRpdG9yO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtpZihlLmVsZW1lbnQpe2QucmVtb3ZlTGlzdGVuZXIoKTtlLm9uKFwiZGF0YVJlYWR5XCIsZnVuY3Rpb24oKXtiLnRyaWdnZXIoXCJkYXRhUmVhZHkuY2tlZGl0b3JcIixbZV0pfSk7ZS5vbihcInNldERhdGFcIixmdW5jdGlvbihhKXtiLnRyaWdnZXIoXCJzZXREYXRhLmNrZWRpdG9yXCIsXG5bZSxhLmRhdGFdKX0pO2Uub24oXCJnZXREYXRhXCIsZnVuY3Rpb24oYSl7Yi50cmlnZ2VyKFwiZ2V0RGF0YS5ja2VkaXRvclwiLFtlLGEuZGF0YV0pfSw5OTkpO2Uub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtiLnRyaWdnZXIoXCJkZXN0cm95LmNrZWRpdG9yXCIsW2VdKX0pO2Uub24oXCJzYXZlXCIsZnVuY3Rpb24oKXthKGguZm9ybSkuc3VibWl0KCk7cmV0dXJuITF9LG51bGwsbnVsbCwyMCk7aWYoZS5jb25maWcuYXV0b1VwZGF0ZUVsZW1lbnRKcXVlcnkmJmIuaXMoXCJ0ZXh0YXJlYVwiKSYmYShoLmZvcm0pLmxlbmd0aCl7dmFyIGM9ZnVuY3Rpb24oKXtiLmNrZWRpdG9yKGZ1bmN0aW9uKCl7ZS51cGRhdGVFbGVtZW50KCl9KX07YShoLmZvcm0pLnN1Ym1pdChjKTthKGguZm9ybSkuYmluZChcImZvcm0tcHJlLXNlcmlhbGl6ZVwiLGMpO2IuYmluZChcImRlc3Ryb3kuY2tlZGl0b3JcIixmdW5jdGlvbigpe2EoaC5mb3JtKS51bmJpbmQoXCJzdWJtaXRcIixjKTthKGguZm9ybSkudW5iaW5kKFwiZm9ybS1wcmUtc2VyaWFsaXplXCIsXG5jKX0pfWUub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtiLnJlbW92ZURhdGEoXCJja2VkaXRvckluc3RhbmNlXCIpfSk7Yi5yZW1vdmVEYXRhKFwiX2NrZWRpdG9ySW5zdGFuY2VMb2NrXCIpO2IudHJpZ2dlcihcImluc3RhbmNlUmVhZHkuY2tlZGl0b3JcIixbZV0pO2cmJmcuYXBwbHkoZSxbaF0pO2wucmVzb2x2ZSgpfWVsc2Ugc2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLDEwMCl9LDApfSxudWxsLG51bGwsOTk5OSl9fSk7dmFyIGY9bmV3IGEuRGVmZXJyZWQ7dGhpcy5wcm9taXNlPWYucHJvbWlzZSgpO2Eud2hlbi5hcHBseSh0aGlzLGspLnRoZW4oZnVuY3Rpb24oKXtmLnJlc29sdmUoKX0pO3RoaXMuZWRpdG9yPXRoaXMuZXEoMCkuZGF0YShcImNrZWRpdG9ySW5zdGFuY2VcIik7cmV0dXJuIHRoaXN9fSk7Q0tFRElUT1IuY29uZmlnLmpxdWVyeU92ZXJyaWRlVmFsJiYoYS5mbi52YWw9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5mbi52YWwsZnVuY3Rpb24oZyl7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBtPVxudGhpcyxrPVtdLGY9dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPWIuZGF0YShcImNrZWRpdG9ySW5zdGFuY2VcIik7aWYoYi5pcyhcInRleHRhcmVhXCIpJiZjKXt2YXIgZj1uZXcgYS5EZWZlcnJlZDtjLnNldERhdGEoZCxmdW5jdGlvbigpe2YucmVzb2x2ZSgpfSk7ay5wdXNoKGYucHJvbWlzZSgpKTtyZXR1cm4hMH1yZXR1cm4gZy5jYWxsKGIsZCl9KTtpZihrLmxlbmd0aCl7dmFyIGI9bmV3IGEuRGVmZXJyZWQ7YS53aGVuLmFwcGx5KHRoaXMsaykuZG9uZShmdW5jdGlvbigpe2IucmVzb2x2ZVdpdGgobSl9KTtyZXR1cm4gYi5wcm9taXNlKCl9cmV0dXJuIGZ9dmFyIGY9YSh0aGlzKS5lcSgwKSxjPWYuZGF0YShcImNrZWRpdG9ySW5zdGFuY2VcIik7cmV0dXJuIGYuaXMoXCJ0ZXh0YXJlYVwiKSYmYz9jLmdldERhdGEoKTpnLmNhbGwoZil9fSkpfSkod2luZG93LmpRdWVyeSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2NrZWRpdG9yL2FkYXB0ZXJzL2pxdWVyeS5qc1xuLy8gbW9kdWxlIGlkID0gNzlcbi8vIG1vZHVsZSBjaHVua3MgPSAzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 80:
/***/ (function(module, exports) {

eval("ï»¿/*\nCopyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\nFor licensing, see LICENSE.md or http://ckeditor.com/license\n*/\n(function(){function ka(a,f){CKEDITOR.tools.extend(this,f,{editor:a,id:\"cke-\"+CKEDITOR.tools.getUniqueId(),area:a._.notificationArea});f.type||(this.type=\"info\");this.element=this._createElement();a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function la(a){var f=this;this.editor=a;this.notifications=[];this.element=this._createElement();this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this);this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,\nthis);a.on(\"destroy\",function(){f._removeListeners();f.element.remove()})}window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var a=/(^|.*[\\\\\\/])ckeditor\\.js(?:\\?.*|;.*)?$/i,f={timestamp:\"H4PF\",version:\"4.7.0 (Standard)\",revision:\"320013d56\",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:a},status:\"unloaded\",basePath:function(){var c=window.CKEDITOR_BASEPATH||\"\";if(!c)for(var b=document.getElementsByTagName(\"script\"),f=0;f<b.length;f++){var d=\nb[f].src.match(a);if(d){c=d[1];break}}-1==c.indexOf(\":/\")&&\"//\"!=c.slice(0,2)&&(c=0===c.indexOf(\"/\")?location.href.match(/^.*?:\\/\\/[^\\/]*/)[0]+c:location.href.match(/^[^\\?]*\\/(?:)/)[0]+c);if(!c)throw'The CKEditor installation path could not be automatically detected. Please set the global variable \"CKEDITOR_BASEPATH\" before creating editor instances.';return c}(),getUrl:function(a){-1==a.indexOf(\":/\")&&0!==a.indexOf(\"/\")&&(a=this.basePath+a);this.timestamp&&\"/\"!=a.charAt(a.length-1)&&!/[&?]t=/.test(a)&&\n(a+=(0<=a.indexOf(\"?\")?\"\\x26\":\"?\")+\"t\\x3d\"+this.timestamp);return a},domReady:function(){function a(){try{document.addEventListener?(document.removeEventListener(\"DOMContentLoaded\",a,!1),c()):document.attachEvent&&\"complete\"===document.readyState&&(document.detachEvent(\"onreadystatechange\",a),c())}catch(d){}}function c(){for(var a;a=b.shift();)a()}var b=[];return function(d){function c(){try{document.documentElement.doScroll(\"left\")}catch(g){setTimeout(c,1);return}a()}b.push(d);\"complete\"===document.readyState&&\nsetTimeout(a,1);if(1==b.length)if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",a,!1),window.addEventListener(\"load\",a,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",a);window.attachEvent(\"onload\",a);d=!1;try{d=!window.frameElement}catch(m){}document.documentElement.doScroll&&d&&c()}}}()},b=window.CKEDITOR_GETURL;if(b){var c=f.getUrl;f.getUrl=function(a){return b.call(f,a)||c.call(f,a)}}return f}()),CKEDITOR.event||(CKEDITOR.event=function(){},\nCKEDITOR.event.implementOn=function(a){var f=CKEDITOR.event.prototype,b;for(b in f)null==a[b]&&(a[b]=f[b])},CKEDITOR.event.prototype=function(){function a(a){var e=f(this);return e[a]||(e[a]=new b(a))}var f=function(a){a=a.getPrivate&&a.getPrivate()||a._||(a._={});return a.events||(a.events={})},b=function(a){this.name=a;this.listeners=[]};b.prototype={getListenerIndex:function(a){for(var b=0,f=this.listeners;b<f.length;b++)if(f[b].fn==a)return b;return-1}};return{define:function(b,e){var f=a.call(this,\nb);CKEDITOR.tools.extend(f,e,!0)},on:function(b,e,f,k,d){function h(a,g,d,h){a={name:b,sender:this,editor:a,data:g,listenerData:k,stop:d,cancel:h,removeListener:m};return!1===e.call(f,a)?!1:a.data}function m(){n.removeListener(b,e)}var g=a.call(this,b);if(0>g.getListenerIndex(e)){g=g.listeners;f||(f=this);isNaN(d)&&(d=10);var n=this;h.fn=e;h.priority=d;for(var p=g.length-1;0<=p;p--)if(g[p].priority<=d)return g.splice(p+1,0,h),{removeListener:m};g.unshift(h)}return{removeListener:m}},once:function(){var a=\nArray.prototype.slice.call(arguments),b=a[1];a[1]=function(a){a.removeListener();return b.apply(this,arguments)};return this.on.apply(this,a)},capture:function(){CKEDITOR.event.useCapture=1;var a=this.on.apply(this,arguments);CKEDITOR.event.useCapture=0;return a},fire:function(){var a=0,b=function(){a=1},l=0,k=function(){l=1};return function(d,h,m){var g=f(this)[d];d=a;var n=l;a=l=0;if(g){var p=g.listeners;if(p.length)for(var p=p.slice(0),r,x=0;x<p.length;x++){if(g.errorProof)try{r=p[x].call(this,\nm,h,b,k)}catch(v){}else r=p[x].call(this,m,h,b,k);!1===r?l=1:\"undefined\"!=typeof r&&(h=r);if(a||l)break}}h=l?!1:\"undefined\"==typeof h?!0:h;a=d;l=n;return h}}(),fireOnce:function(a,b,l){b=this.fire(a,b,l);delete f(this)[a];return b},removeListener:function(a,b){var l=f(this)[a];if(l){var k=l.getListenerIndex(b);0<=k&&l.listeners.splice(k,1)}},removeAllListeners:function(){var a=f(this),b;for(b in a)delete a[b]},hasListeners:function(a){return(a=f(this)[a])&&0<a.listeners.length}}}()),CKEDITOR.editor||\n(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]);CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fire.call(this,a,f,this)},CKEDITOR.editor.prototype.fireOnce=function(a,f){a in{instanceReady:1,loaded:1}&&(this[a]=!0);return CKEDITOR.event.prototype.fireOnce.call(this,a,f,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var a=\nnavigator.userAgent.toLowerCase(),f=a.match(/edge[ \\/](\\d+.?\\d*)/),b=-1<a.indexOf(\"trident/\"),b=!(!f&&!b),b={ie:b,edge:!!f,webkit:!b&&-1<a.indexOf(\" applewebkit/\"),air:-1<a.indexOf(\" adobeair/\"),mac:-1<a.indexOf(\"macintosh\"),quirks:\"BackCompat\"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<a.indexOf(\"mobile\"),iOS:/(ipad|iphone|ipod)/.test(a),isCustomDomain:function(){if(!this.ie)return!1;var a=document.domain,b=window.location.hostname;return a!=b&&a!=\"[\"+b+\"]\"},\nsecure:\"https:\"==location.protocol};b.gecko=\"Gecko\"==navigator.product&&!b.webkit&&!b.ie;b.webkit&&(-1<a.indexOf(\"chrome\")?b.chrome=!0:b.safari=!0);var c=0;b.ie&&(c=f?parseFloat(f[1]):b.quirks||!document.documentMode?parseFloat(a.match(/msie (\\d+)/)[1]):document.documentMode,b.ie9Compat=9==c,b.ie8Compat=8==c,b.ie7Compat=7==c,b.ie6Compat=7>c||b.quirks);b.gecko&&(f=a.match(/rv:([\\d\\.]+)/))&&(f=f[1].split(\".\"),c=1E4*f[0]+100*(f[1]||0)+1*(f[2]||0));b.air&&(c=parseFloat(a.match(/ adobeair\\/(\\d+)/)[1]));\nb.webkit&&(c=parseFloat(a.match(/ applewebkit\\/(\\d+)/)[1]));b.version=c;b.isCompatible=!(b.ie&&7>c)&&!(b.gecko&&4E4>c)&&!(b.webkit&&534>c);b.hidpi=2<=window.devicePixelRatio;b.needsBrFiller=b.gecko||b.webkit||b.ie&&10<c;b.needsNbspFiller=b.ie&&11>c;b.cssClass=\"cke_browser_\"+(b.ie?\"ie\":b.gecko?\"gecko\":b.webkit?\"webkit\":\"unknown\");b.quirks&&(b.cssClass+=\" cke_browser_quirks\");b.ie&&(b.cssClass+=\" cke_browser_ie\"+(b.quirks?\"6 cke_browser_iequirks\":b.version));b.air&&(b.cssClass+=\" cke_browser_air\");\nb.iOS&&(b.cssClass+=\" cke_browser_ios\");b.hidpi&&(b.cssClass+=\" cke_hidpi\");return b}()),\"unloaded\"==CKEDITOR.status&&function(){CKEDITOR.event.implementOn(CKEDITOR);CKEDITOR.loadFullCore=function(){if(\"basic_ready\"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var a=document.createElement(\"script\");a.type=\"text/javascript\";a.src=CKEDITOR.basePath+\"ckeditor.js\";document.getElementsByTagName(\"head\")[0].appendChild(a)}};CKEDITOR.loadFullCoreTimeout=0;CKEDITOR.add=\nfunction(a){(this._.pending||(this._.pending=[])).push(a)};(function(){CKEDITOR.domReady(function(){var a=CKEDITOR.loadFullCore,f=CKEDITOR.loadFullCoreTimeout;a&&(CKEDITOR.status=\"basic_ready\",a&&a._load?a():f&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1E3*f))})})();CKEDITOR.status=\"basic_loaded\"}(),\"use strict\",CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(a,f){CKEDITOR.verbosity&\nCKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire(\"log\",{type:\"warn\",errorCode:a,additionalData:f})},CKEDITOR.error=function(a,f){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire(\"log\",{type:\"error\",errorCode:a,additionalData:f})},CKEDITOR.on(\"log\",function(a){if(window.console&&window.console.log){var f=console[a.data.type]?a.data.type:\"log\",b=a.data.errorCode;if(a=a.data.additionalData)console[f](\"[CKEDITOR] Error code: \"+b+\".\",a);else console[f](\"[CKEDITOR] Error code: \"+b+\".\");console[f](\"[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-\"+\nb)}},null,null,999),CKEDITOR.dom={},function(){var a=[],f=CKEDITOR.env.gecko?\"-moz-\":CKEDITOR.env.webkit?\"-webkit-\":CKEDITOR.env.ie?\"-ms-\":\"\",b=/&/g,c=/>/g,e=/</g,l=/\"/g,k=/&(lt|gt|amp|quot|nbsp|shy|#\\d{1,5});/g,d={lt:\"\\x3c\",gt:\"\\x3e\",amp:\"\\x26\",quot:'\"',nbsp:\"Â \",shy:\"Â­\"},h=function(a,g){return\"#\"==g[0]?String.fromCharCode(parseInt(g.slice(1),10)):d[g]};CKEDITOR.on(\"reset\",function(){a=[]});CKEDITOR.tools={arrayCompare:function(a,g){if(!a&&!g)return!0;if(!a||!g||a.length!=g.length)return!1;for(var d=\n0;d<a.length;d++)if(a[d]!=g[d])return!1;return!0},getIndex:function(a,g){for(var d=0;d<a.length;++d)if(g(a[d]))return d;return-1},clone:function(a){var g;if(a&&a instanceof Array){g=[];for(var d=0;d<a.length;d++)g[d]=CKEDITOR.tools.clone(a[d]);return g}if(null===a||\"object\"!=typeof a||a instanceof String||a instanceof Number||a instanceof Boolean||a instanceof Date||a instanceof RegExp||a.nodeType||a.window===a)return a;g=new a.constructor;for(d in a)g[d]=CKEDITOR.tools.clone(a[d]);return g},capitalize:function(a,\ng){return a.charAt(0).toUpperCase()+(g?a.slice(1):a.slice(1).toLowerCase())},extend:function(a){var g=arguments.length,d,b;\"boolean\"==typeof(d=arguments[g-1])?g--:\"boolean\"==typeof(d=arguments[g-2])&&(b=arguments[g-1],g-=2);for(var h=1;h<g;h++){var c=arguments[h],e;for(e in c)if(!0===d||null==a[e])if(!b||e in b)a[e]=c[e]}return a},prototypedCopy:function(a){var g=function(){};g.prototype=a;return new g},copy:function(a){var g={},d;for(d in a)g[d]=a[d];return g},isArray:function(a){return\"[object Array]\"==\nObject.prototype.toString.call(a)},isEmpty:function(a){for(var g in a)if(a.hasOwnProperty(g))return!1;return!0},cssVendorPrefix:function(a,g,d){if(d)return f+a+\":\"+g+\";\"+a+\":\"+g;d={};d[a]=g;d[f+a]=g;return d},cssStyleToDomStyle:function(){var a=document.createElement(\"div\").style,g=\"undefined\"!=typeof a.cssFloat?\"cssFloat\":\"undefined\"!=typeof a.styleFloat?\"styleFloat\":\"float\";return function(a){return\"float\"==a?g:a.replace(/-./g,function(a){return a.substr(1).toUpperCase()})}}(),buildStyleHtml:function(a){a=\n[].concat(a);for(var g,d=[],b=0;b<a.length;b++)if(g=a[b])/@import|[{}]/.test(g)?d.push(\"\\x3cstyle\\x3e\"+g+\"\\x3c/style\\x3e\"):d.push('\\x3clink type\\x3d\"text/css\" rel\\x3dstylesheet href\\x3d\"'+g+'\"\\x3e');return d.join(\"\")},htmlEncode:function(a){return void 0===a||null===a?\"\":String(a).replace(b,\"\\x26amp;\").replace(c,\"\\x26gt;\").replace(e,\"\\x26lt;\")},htmlDecode:function(a){return a.replace(k,h)},htmlEncodeAttr:function(a){return CKEDITOR.tools.htmlEncode(a).replace(l,\"\\x26quot;\")},htmlDecodeAttr:function(a){return CKEDITOR.tools.htmlDecode(a)},\ntransformPlainTextToHtml:function(a,g){var d=g==CKEDITOR.ENTER_BR,b=this.htmlEncode(a.replace(/\\r\\n/g,\"\\n\")),b=b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\"),h=g==CKEDITOR.ENTER_P?\"p\":\"div\";if(!d){var c=/\\n{2}/g;if(c.test(b))var e=\"\\x3c\"+h+\"\\x3e\",f=\"\\x3c/\"+h+\"\\x3e\",b=e+b.replace(c,function(){return f+e})+f}b=b.replace(/\\n/g,\"\\x3cbr\\x3e\");d||(b=b.replace(new RegExp(\"\\x3cbr\\x3e(?\\x3d\\x3c/\"+h+\"\\x3e)\"),function(a){return CKEDITOR.tools.repeat(a,2)}));b=b.replace(/^ | $/g,\"\\x26nbsp;\");return b=b.replace(/(>|\\s) /g,\nfunction(a,g){return g+\"\\x26nbsp;\"}).replace(/ (?=<)/g,\"\\x26nbsp;\")},getNextNumber:function(){var a=0;return function(){return++a}}(),getNextId:function(){return\"cke_\"+this.getNextNumber()},getUniqueId:function(){for(var a=\"e\",g=0;8>g;g++)a+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return a},override:function(a,g){var d=g(a);d.prototype=a.prototype;return d},setTimeout:function(a,g,d,b,h){h||(h=window);d||(d=h);return h.setTimeout(function(){b?a.apply(d,[].concat(b)):a.apply(d)},\ng||0)},trim:function(){var a=/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g;return function(g){return g.replace(a,\"\")}}(),ltrim:function(){var a=/^[ \\t\\n\\r]+/g;return function(g){return g.replace(a,\"\")}}(),rtrim:function(){var a=/[ \\t\\n\\r]+$/g;return function(g){return g.replace(a,\"\")}}(),indexOf:function(a,g){if(\"function\"==typeof g)for(var d=0,b=a.length;d<b;d++){if(g(a[d]))return d}else{if(a.indexOf)return a.indexOf(g);d=0;for(b=a.length;d<b;d++)if(a[d]===g)return d}return-1},search:function(a,g){var d=CKEDITOR.tools.indexOf(a,\ng);return 0<=d?a[d]:null},bind:function(a,g){return function(){return a.apply(g,arguments)}},createClass:function(a){var g=a.$,d=a.base,b=a.privates||a._,h=a.proto;a=a.statics;!g&&(g=function(){d&&this.base.apply(this,arguments)});if(b)var c=g,g=function(){var a=this._||(this._={}),g;for(g in b){var d=b[g];a[g]=\"function\"==typeof d?CKEDITOR.tools.bind(d,this):d}c.apply(this,arguments)};d&&(g.prototype=this.prototypedCopy(d.prototype),g.prototype.constructor=g,g.base=d,g.baseProto=d.prototype,g.prototype.base=\nfunction(){this.base=d.prototype.base;d.apply(this,arguments);this.base=arguments.callee});h&&this.extend(g.prototype,h,!0);a&&this.extend(g,a,!0);return g},addFunction:function(d,g){return a.push(function(){return d.apply(g||this,arguments)})-1},removeFunction:function(d){a[d]=null},callFunction:function(d){var g=a[d];return g&&g.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var a=/^-?\\d+\\.?\\d*px$/,g;return function(d){g=CKEDITOR.tools.trim(d+\"\")+\"px\";return a.test(g)?\ng:d||\"\"}}(),convertToPx:function(){var a;return function(g){a||(a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;\"\\x3e\\x3c/div\\x3e',CKEDITOR.document),CKEDITOR.document.getBody().append(a));return/%$/.test(g)?g:(a.setStyle(\"width\",g),a.$.clientWidth)}}(),repeat:function(a,g){return Array(g+1).join(a)},tryThese:function(){for(var a,g=0,d=arguments.length;g<d;g++){var b=arguments[g];try{a=b();break}catch(h){}}return a},\ngenKey:function(){return Array.prototype.slice.call(arguments).join(\"-\")},defer:function(a){return function(){var g=arguments,d=this;window.setTimeout(function(){a.apply(d,g)},0)}},normalizeCssText:function(a,g){var d=[],b,h=CKEDITOR.tools.parseCssText(a,!0,g);for(b in h)d.push(b+\":\"+h[b]);d.sort();return d.length?d.join(\";\")+\";\":\"\"},convertRgbToHex:function(a){return a.replace(/(?:rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\))/gi,function(a,d,b,h){a=[d,b,h];for(d=0;3>d;d++)a[d]=(\"0\"+parseInt(a[d],10).toString(16)).slice(-2);\nreturn\"#\"+a.join(\"\")})},normalizeHex:function(a){return a.replace(/#(([0-9a-f]{3}){1,2})($|;|\\s+)/gi,function(a,d,b,h){a=d.toLowerCase();3==a.length&&(a=a.split(\"\"),a=[a[0],a[0],a[1],a[1],a[2],a[2]].join(\"\"));return\"#\"+a+h})},parseCssText:function(a,g,d){var b={};d&&(a=(new CKEDITOR.dom.element(\"span\")).setAttribute(\"style\",a).getAttribute(\"style\")||\"\");a&&(a=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(a)));if(!a||\";\"==a)return b;a.replace(/&quot;/g,'\"').replace(/\\s*([^:;\\s]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,\nfunction(a,d,h){g&&(d=d.toLowerCase(),\"font-family\"==d&&(h=h.replace(/\\s*,\\s*/g,\",\")),h=CKEDITOR.tools.trim(h));b[d]=h});return b},writeCssText:function(a,g){var d,b=[];for(d in a)b.push(d+\":\"+a[d]);g&&b.sort();return b.join(\"; \")},objectCompare:function(a,g,d){var b;if(!a&&!g)return!0;if(!a||!g)return!1;for(b in a)if(a[b]!=g[b])return!1;if(!d)for(b in g)if(a[b]!=g[b])return!1;return!0},objectKeys:function(a){var g=[],d;for(d in a)g.push(d);return g},convertArrayToObject:function(a,g){var d={};1==\narguments.length&&(g=!0);for(var b=0,h=a.length;b<h;++b)d[a[b]]=g;return d},fixDomain:function(){for(var a;;)try{a=window.parent.document.domain;break}catch(g){a=a?a.replace(/.+?(?:\\.|$)/,\"\"):document.domain;if(!a)break;document.domain=a}return!!a},eventsBuffer:function(a,g,d){function b(){c=(new Date).getTime();h=!1;d?g.call(d):g()}var h,c=0;return{input:function(){if(!h){var g=(new Date).getTime()-c;g<a?h=setTimeout(b,a-g):b()}},reset:function(){h&&clearTimeout(h);h=c=0}}},enableHtml5Elements:function(a,\ng){for(var d=\"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video\".split(\" \"),b=d.length,h;b--;)h=a.createElement(d[b]),g&&a.appendChild(h)},checkIfAnyArrayItemMatches:function(a,g){for(var d=0,b=a.length;d<b;++d)if(a[d].match(g))return!0;return!1},checkIfAnyObjectPropertyMatches:function(a,g){for(var d in a)if(d.match(g))return!0;return!1},keystrokeToString:function(a,g){var d=g&16711680,b=\ng&65535,h=CKEDITOR.env.mac,c=[],e=[];d&CKEDITOR.CTRL&&(c.push(h?\"â\":a[17]),e.push(h?a[224]:a[17]));d&CKEDITOR.ALT&&(c.push(h?\"â¥\":a[18]),e.push(a[18]));d&CKEDITOR.SHIFT&&(c.push(h?\"â§\":a[16]),e.push(a[16]));b&&(a[b]?(c.push(a[b]),e.push(a[b])):(c.push(String.fromCharCode(b)),e.push(String.fromCharCode(b))));return{display:c.join(\"+\"),aria:e.join(\"+\")}},transparentImageData:\"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw\\x3d\\x3d\",getCookie:function(a){a=a.toLowerCase();\nfor(var g=document.cookie.split(\";\"),d,b,h=0;h<g.length;h++)if(d=g[h].split(\"\\x3d\"),b=decodeURIComponent(CKEDITOR.tools.trim(d[0]).toLowerCase()),b===a)return decodeURIComponent(1<d.length?d[1]:\"\");return null},setCookie:function(a,g){document.cookie=encodeURIComponent(a)+\"\\x3d\"+encodeURIComponent(g)+\";path\\x3d/\"},getCsrfToken:function(){var a=CKEDITOR.tools.getCookie(\"ckCsrfToken\");if(!a||40!=a.length){var a=[],g=\"\";if(window.crypto&&window.crypto.getRandomValues)a=new Uint8Array(40),window.crypto.getRandomValues(a);\nelse for(var d=0;40>d;d++)a.push(Math.floor(256*Math.random()));for(d=0;d<a.length;d++)var b=\"abcdefghijklmnopqrstuvwxyz0123456789\".charAt(a[d]%36),g=g+(.5<Math.random()?b.toUpperCase():b);a=g;CKEDITOR.tools.setCookie(\"ckCsrfToken\",a)}return a},escapeCss:function(a){return a?window.CSS&&CSS.escape?CSS.escape(a):isNaN(parseInt(a.charAt(0),10))?a:\"\\\\3\"+a.charAt(0)+\" \"+a.substring(1,a.length):\"\"},style:{parse:{_colors:{aliceblue:\"#F0F8FF\",antiquewhite:\"#FAEBD7\",aqua:\"#00FFFF\",aquamarine:\"#7FFFD4\",azure:\"#F0FFFF\",\nbeige:\"#F5F5DC\",bisque:\"#FFE4C4\",black:\"#000000\",blanchedalmond:\"#FFEBCD\",blue:\"#0000FF\",blueviolet:\"#8A2BE2\",brown:\"#A52A2A\",burlywood:\"#DEB887\",cadetblue:\"#5F9EA0\",chartreuse:\"#7FFF00\",chocolate:\"#D2691E\",coral:\"#FF7F50\",cornflowerblue:\"#6495ED\",cornsilk:\"#FFF8DC\",crimson:\"#DC143C\",cyan:\"#00FFFF\",darkblue:\"#00008B\",darkcyan:\"#008B8B\",darkgoldenrod:\"#B8860B\",darkgray:\"#A9A9A9\",darkgreen:\"#006400\",darkgrey:\"#A9A9A9\",darkkhaki:\"#BDB76B\",darkmagenta:\"#8B008B\",darkolivegreen:\"#556B2F\",darkorange:\"#FF8C00\",\ndarkorchid:\"#9932CC\",darkred:\"#8B0000\",darksalmon:\"#E9967A\",darkseagreen:\"#8FBC8F\",darkslateblue:\"#483D8B\",darkslategray:\"#2F4F4F\",darkslategrey:\"#2F4F4F\",darkturquoise:\"#00CED1\",darkviolet:\"#9400D3\",deeppink:\"#FF1493\",deepskyblue:\"#00BFFF\",dimgray:\"#696969\",dimgrey:\"#696969\",dodgerblue:\"#1E90FF\",firebrick:\"#B22222\",floralwhite:\"#FFFAF0\",forestgreen:\"#228B22\",fuchsia:\"#FF00FF\",gainsboro:\"#DCDCDC\",ghostwhite:\"#F8F8FF\",gold:\"#FFD700\",goldenrod:\"#DAA520\",gray:\"#808080\",green:\"#008000\",greenyellow:\"#ADFF2F\",\ngrey:\"#808080\",honeydew:\"#F0FFF0\",hotpink:\"#FF69B4\",indianred:\"#CD5C5C\",indigo:\"#4B0082\",ivory:\"#FFFFF0\",khaki:\"#F0E68C\",lavender:\"#E6E6FA\",lavenderblush:\"#FFF0F5\",lawngreen:\"#7CFC00\",lemonchiffon:\"#FFFACD\",lightblue:\"#ADD8E6\",lightcoral:\"#F08080\",lightcyan:\"#E0FFFF\",lightgoldenrodyellow:\"#FAFAD2\",lightgray:\"#D3D3D3\",lightgreen:\"#90EE90\",lightgrey:\"#D3D3D3\",lightpink:\"#FFB6C1\",lightsalmon:\"#FFA07A\",lightseagreen:\"#20B2AA\",lightskyblue:\"#87CEFA\",lightslategray:\"#778899\",lightslategrey:\"#778899\",lightsteelblue:\"#B0C4DE\",\nlightyellow:\"#FFFFE0\",lime:\"#00FF00\",limegreen:\"#32CD32\",linen:\"#FAF0E6\",magenta:\"#FF00FF\",maroon:\"#800000\",mediumaquamarine:\"#66CDAA\",mediumblue:\"#0000CD\",mediumorchid:\"#BA55D3\",mediumpurple:\"#9370DB\",mediumseagreen:\"#3CB371\",mediumslateblue:\"#7B68EE\",mediumspringgreen:\"#00FA9A\",mediumturquoise:\"#48D1CC\",mediumvioletred:\"#C71585\",midnightblue:\"#191970\",mintcream:\"#F5FFFA\",mistyrose:\"#FFE4E1\",moccasin:\"#FFE4B5\",navajowhite:\"#FFDEAD\",navy:\"#000080\",oldlace:\"#FDF5E6\",olive:\"#808000\",olivedrab:\"#6B8E23\",\norange:\"#FFA500\",orangered:\"#FF4500\",orchid:\"#DA70D6\",palegoldenrod:\"#EEE8AA\",palegreen:\"#98FB98\",paleturquoise:\"#AFEEEE\",palevioletred:\"#DB7093\",papayawhip:\"#FFEFD5\",peachpuff:\"#FFDAB9\",peru:\"#CD853F\",pink:\"#FFC0CB\",plum:\"#DDA0DD\",powderblue:\"#B0E0E6\",purple:\"#800080\",rebeccapurple:\"#663399\",red:\"#FF0000\",rosybrown:\"#BC8F8F\",royalblue:\"#4169E1\",saddlebrown:\"#8B4513\",salmon:\"#FA8072\",sandybrown:\"#F4A460\",seagreen:\"#2E8B57\",seashell:\"#FFF5EE\",sienna:\"#A0522D\",silver:\"#C0C0C0\",skyblue:\"#87CEEB\",slateblue:\"#6A5ACD\",\nslategray:\"#708090\",slategrey:\"#708090\",snow:\"#FFFAFA\",springgreen:\"#00FF7F\",steelblue:\"#4682B4\",tan:\"#D2B48C\",teal:\"#008080\",thistle:\"#D8BFD8\",tomato:\"#FF6347\",turquoise:\"#40E0D0\",violet:\"#EE82EE\",wheat:\"#F5DEB3\",white:\"#FFFFFF\",whitesmoke:\"#F5F5F5\",yellow:\"#FFFF00\",yellowgreen:\"#9ACD32\"},_rgbaRegExp:/rgba?\\(\\s*\\d+%?\\s*,\\s*\\d+%?\\s*,\\s*\\d+%?\\s*(?:,\\s*[0-9.]+\\s*)?\\)/gi,_hslaRegExp:/hsla?\\(\\s*[0-9.]+\\s*,\\s*\\d+%\\s*,\\s*\\d+%\\s*(?:,\\s*[0-9.]+\\s*)?\\)/gi,background:function(a){var g={},d=this._findColor(a);\nd.length&&(g.color=d[0],CKEDITOR.tools.array.forEach(d,function(g){a=a.replace(g,\"\")}));if(a=CKEDITOR.tools.trim(a))g.unprocessed=a;return g},margin:function(a){function g(a){d.top=b[a[0]];d.right=b[a[1]];d.bottom=b[a[2]];d.left=b[a[3]]}var d={},b=a.match(/(?:\\-?[\\.\\d]+(?:%|\\w*)|auto|inherit|initial|unset)/g)||[\"0px\"];switch(b.length){case 1:g([0,0,0,0]);break;case 2:g([0,1,0,1]);break;case 3:g([0,1,2,1]);break;case 4:g([0,1,2,3])}return d},_findColor:function(a){var g=[],d=CKEDITOR.tools.array,g=\ng.concat(a.match(this._rgbaRegExp)||[]),g=g.concat(a.match(this._hslaRegExp)||[]);return g=g.concat(d.filter(a.split(/\\s+/),function(a){return a.match(/^\\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)?!0:a.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(a,g,d){var b=[];this.forEach(a,function(h,c){g.call(d,h,c,a)&&b.push(h)});return b},forEach:function(a,g,d){var b=a.length,h;for(h=0;h<b;h++)g.call(d,a[h],h,a)},map:function(a,g,d){for(var b=[],h=0;h<a.length;h++)b.push(g.call(d,\na[h],h,a));return b},reduce:function(a,g,d,b){for(var h=0;h<a.length;h++)d=g.call(b,d,a[h],h,a);return d}}};CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf;CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray}(),CKEDITOR.dtd=function(){var a=CKEDITOR.tools.extend,f=function(a,g){for(var d=CKEDITOR.tools.clone(a),b=1;b<arguments.length;b++){g=arguments[b];for(var h in g)delete d[h]}return d},b={},c={},e={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,\nform:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},l={command:1,link:1,meta:1,noscript:1,script:1,style:1},k={},d={\"#\":1},h={center:1,dir:1,noframes:1};a(b,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,\nsmall:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,\"var\":1,video:1,wbr:1},d,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1});a(c,e,b,h);f={a:f(b,{a:1,button:1}),abbr:b,address:c,area:k,article:c,aside:c,audio:a({source:1,track:1},c),b:b,base:k,bdi:b,bdo:b,blockquote:c,body:c,br:k,button:f(b,{a:1,button:1}),canvas:b,caption:c,cite:b,code:b,col:k,colgroup:{col:1},command:k,datalist:a({option:1},b),dd:c,del:b,details:a({summary:1},c),dfn:b,div:c,dl:{dt:1,dd:1},dt:c,\nem:b,embed:k,fieldset:a({legend:1},c),figcaption:c,figure:a({figcaption:1},c),footer:c,form:c,h1:b,h2:b,h3:b,h4:b,h5:b,h6:b,head:a({title:1,base:1},l),header:c,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:k,html:a({head:1,body:1},c,l),i:b,iframe:d,img:k,input:k,ins:b,kbd:b,keygen:k,label:b,legend:b,li:c,link:k,main:c,map:c,mark:b,menu:a({li:1},c),meta:k,meter:f(b,{meter:1}),nav:c,noscript:a({link:1,meta:1,style:1},b),object:a({param:1},b),ol:{li:1},optgroup:{option:1},option:d,output:b,p:b,param:k,pre:b,\nprogress:f(b,{progress:1}),q:b,rp:b,rt:b,ruby:a({rp:1,rt:1},b),s:b,samp:b,script:d,section:c,select:{optgroup:1,option:1},small:b,source:k,span:b,strong:b,style:d,sub:b,summary:a({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},b),sup:b,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:c,textarea:d,tfoot:{tr:1},th:c,thead:{tr:1},time:f(b,{time:1}),title:d,tr:{th:1,td:1},track:k,u:b,ul:{li:1},\"var\":b,video:a({source:1,track:1},c),wbr:k,acronym:b,applet:a({param:1},c),basefont:k,big:b,center:c,\ndialog:k,dir:{li:1},font:b,isindex:k,noframes:c,strike:b,tt:b};a(f,{$block:a({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},e,h),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,\nh3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:b,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:a({body:1,head:1,html:1},f.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,\nimg:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,\"var\":1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,\nobject:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}});return f}(),CKEDITOR.dom.event=function(a){this.$=a},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var a=this.getKey();if(this.$.ctrlKey||this.$.metaKey)a+=CKEDITOR.CTRL;this.$.shiftKey&&(a+=CKEDITOR.SHIFT);this.$.altKey&&(a+=CKEDITOR.ALT);return a},preventDefault:function(a){var f=\nthis.$;f.preventDefault?f.preventDefault():f.returnValue=!1;a&&this.stopPropagation()},stopPropagation:function(){var a=this.$;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},getTarget:function(){var a=this.$.target||this.$.srcElement;return a?new CKEDITOR.dom.node(a):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var a=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(a.documentElement.scrollLeft||a.body.scrollLeft),y:this.$.pageY||\nthis.$.clientY+(a.documentElement.scrollTop||a.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(a){a&&(this.$=a)},CKEDITOR.dom.domObject.prototype=function(){var a=function(a,b){return function(c){\"undefined\"!=typeof CKEDITOR&&a.fire(b,new CKEDITOR.dom.event(c))}};return{getPrivate:function(){var a;(a=this.getCustomData(\"_\"))||this.setCustomData(\"_\",\na={});return a},on:function(f){var b=this.getCustomData(\"_cke_nativeListeners\");b||(b={},this.setCustomData(\"_cke_nativeListeners\",b));b[f]||(b=b[f]=a(this,f),this.$.addEventListener?this.$.addEventListener(f,b,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent(\"on\"+f,b));return CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(a){CKEDITOR.event.prototype.removeListener.apply(this,arguments);if(!this.hasListeners(a)){var b=this.getCustomData(\"_cke_nativeListeners\"),\nc=b&&b[a];c&&(this.$.removeEventListener?this.$.removeEventListener(a,c,!1):this.$.detachEvent&&this.$.detachEvent(\"on\"+a,c),delete b[a])}},removeAllListeners:function(){var a=this.getCustomData(\"_cke_nativeListeners\"),b;for(b in a){var c=a[b];this.$.detachEvent?this.$.detachEvent(\"on\"+b,c):this.$.removeEventListener&&this.$.removeEventListener(b,c,!1);delete a[b]}CKEDITOR.event.prototype.removeAllListeners.call(this)}}}(),function(a){var f={};CKEDITOR.on(\"reset\",function(){f={}});a.equals=function(a){try{return a&&\na.$===this.$}catch(c){return!1}};a.setCustomData=function(a,c){var e=this.getUniqueId();(f[e]||(f[e]={}))[a]=c;return this};a.getCustomData=function(a){var c=this.$[\"data-cke-expando\"];return(c=c&&f[c])&&a in c?c[a]:null};a.removeCustomData=function(a){var c=this.$[\"data-cke-expando\"],c=c&&f[c],e,l;c&&(e=c[a],l=a in c,delete c[a]);return l?e:null};a.clearCustomData=function(){this.removeAllListeners();var a=this.$[\"data-cke-expando\"];a&&delete f[a]};a.getUniqueId=function(){return this.$[\"data-cke-expando\"]||\n(this.$[\"data-cke-expando\"]=CKEDITOR.tools.getNextNumber())};CKEDITOR.event.implementOn(a)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(a){return a?new CKEDITOR.dom[a.nodeType==CKEDITOR.NODE_DOCUMENT?\"document\":a.nodeType==CKEDITOR.NODE_ELEMENT?\"element\":a.nodeType==CKEDITOR.NODE_TEXT?\"text\":a.nodeType==CKEDITOR.NODE_COMMENT?\"comment\":a.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?\"documentFragment\":\"domObject\"](a):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=\n1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(a,f){a.append(this,f);return a},clone:function(a,f){function b(c){c[\"data-cke-expando\"]&&(c[\"data-cke-expando\"]=!1);if(c.nodeType==CKEDITOR.NODE_ELEMENT||\nc.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)if(f||c.nodeType!=CKEDITOR.NODE_ELEMENT||c.removeAttribute(\"id\",!1),a){c=c.childNodes;for(var e=0;e<c.length;e++)b(c[e])}}function c(b){if(b.type==CKEDITOR.NODE_ELEMENT||b.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(b.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var e=b.getName();\":\"==e[0]&&b.renameNode(e.substring(1))}if(a)for(e=0;e<b.getChildCount();e++)c(b.getChild(e))}}var e=this.$.cloneNode(a);b(e);e=new CKEDITOR.dom.node(e);CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\n(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&c(e);return e},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(a){a.$.parentNode.insertBefore(this.$,a.$.nextSibling);return a},insertBefore:function(a){a.$.parentNode.insertBefore(this.$,a.$);return a},insertBeforeMe:function(a){this.$.parentNode.insertBefore(a.$,this.$);return a},getAddress:function(a){for(var f=[],b=this.getDocument().$.documentElement,\nc=this.$;c&&c!=b;){var e=c.parentNode;e&&f.unshift(this.getIndex.call({$:c},a));c=e}return f},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(a){function f(a,d){var h=d?a.nextSibling:a.previousSibling;return h&&h.nodeType==CKEDITOR.NODE_TEXT?b(h)?f(h,d):h:null}function b(a){return!a.nodeValue||a.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var c=this.$,e=-1,l;if(!this.$.parentNode||a&&c.nodeType==CKEDITOR.NODE_TEXT&&\nb(c)&&!f(c)&&!f(c,!0))return-1;do a&&c!=this.$&&c.nodeType==CKEDITOR.NODE_TEXT&&(l||b(c))||(e++,l=c.nodeType==CKEDITOR.NODE_TEXT);while(c=c.previousSibling);return e},getNextSourceNode:function(a,f,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getFirst&&this.getFirst();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getNext()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getNext()}return!a||b&&!1===b(a)?null:\nf&&f!=a.type?a.getNextSourceNode(!1,f,b):a},getPreviousSourceNode:function(a,f,b){if(b&&!b.call){var c=b;b=function(a){return!a.equals(c)}}a=!a&&this.getLast&&this.getLast();var e;if(!a){if(this.type==CKEDITOR.NODE_ELEMENT&&b&&!1===b(this,!0))return null;a=this.getPrevious()}for(;!a&&(e=(e||this).getParent());){if(b&&!1===b(e,!0))return null;a=e.getPrevious()}return!a||b&&!1===b(a)?null:f&&a.type!=f?a.getPreviousSourceNode(!1,f,b):a},getPrevious:function(a){var f=this.$,b;do b=(f=f.previousSibling)&&\n10!=f.nodeType&&new CKEDITOR.dom.node(f);while(b&&a&&!a(b));return b},getNext:function(a){var f=this.$,b;do b=(f=f.nextSibling)&&new CKEDITOR.dom.node(f);while(b&&a&&!a(b));return b},getParent:function(a){var f=this.$.parentNode;return f&&(f.nodeType==CKEDITOR.NODE_ELEMENT||a&&f.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(f):null},getParents:function(a){var f=this,b=[];do b[a?\"push\":\"unshift\"](f);while(f=f.getParent());return b},getCommonAncestor:function(a){if(a.equals(this))return this;\nif(a.contains&&a.contains(this))return a;var f=this.contains?this:this.getParent();do if(f.contains(a))return f;while(f=f.getParent());return null},getPosition:function(a){var f=this.$,b=a.$;if(f.compareDocumentPosition)return f.compareDocumentPosition(b);if(f==b)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&a.type==CKEDITOR.NODE_ELEMENT){if(f.contains){if(f.contains(b))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(b.contains(f))return CKEDITOR.POSITION_IS_CONTAINED+\nCKEDITOR.POSITION_FOLLOWING}if(\"sourceIndex\"in f)return 0>f.sourceIndex||0>b.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:f.sourceIndex<b.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}f=this.getAddress();a=a.getAddress();for(var b=Math.min(f.length,a.length),c=0;c<b;c++)if(f[c]!=a[c])return f[c]<a[c]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return f.length<a.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},\ngetAscendant:function(a,f){var b=this.$,c,e;f||(b=b.parentNode);\"function\"==typeof a?(e=!0,c=a):(e=!1,c=function(b){b=\"string\"==typeof b.nodeName?b.nodeName.toLowerCase():\"\";return\"string\"==typeof a?b==a:b in a});for(;b;){if(c(e?new CKEDITOR.dom.node(b):b))return new CKEDITOR.dom.node(b);try{b=b.parentNode}catch(l){b=null}}return null},hasAscendant:function(a,f){var b=this.$;f||(b=b.parentNode);for(;b;){if(b.nodeName&&b.nodeName.toLowerCase()==a)return!0;b=b.parentNode}return!1},move:function(a,f){a.append(this.remove(),\nf)},remove:function(a){var f=this.$,b=f.parentNode;if(b){if(a)for(;a=f.firstChild;)b.insertBefore(f.removeChild(a),f);b.removeChild(f)}return this},replace:function(a){this.insertBefore(a);a.remove()},trim:function(){this.ltrim();this.rtrim()},ltrim:function(){for(var a;this.getFirst&&(a=this.getFirst());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.ltrim(a.getText()),b=a.getLength();if(f)f.length<b&&(a.split(b-f.length),this.$.removeChild(this.$.firstChild));else{a.remove();continue}}break}},\nrtrim:function(){for(var a;this.getLast&&(a=this.getLast());){if(a.type==CKEDITOR.NODE_TEXT){var f=CKEDITOR.tools.rtrim(a.getText()),b=a.getLength();if(f)f.length<b&&(a.split(f.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild));else{a.remove();continue}}break}CKEDITOR.env.needsBrFiller&&(a=this.$.lastChild)&&1==a.type&&\"br\"==a.nodeName.toLowerCase()&&a.parentNode.removeChild(a)},isReadOnly:function(a){var f=this;this.type!=CKEDITOR.NODE_ELEMENT&&(f=this.getParent());CKEDITOR.env.edge&&\nf&&f.is(\"textarea\",\"input\")&&(a=!0);if(!a&&f&&\"undefined\"!=typeof f.$.isContentEditable)return!(f.$.isContentEditable||f.data(\"cke-editable\"));for(;f;){if(f.data(\"cke-editable\"))return!1;if(f.hasAttribute(\"contenteditable\"))return\"false\"==f.getAttribute(\"contenteditable\");f=f.getParent()}return!0}}),CKEDITOR.dom.window=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},\ngetViewPaneSize:function(){var a=this.$.document,f=\"CSS1Compat\"==a.compatMode;return{width:(f?a.documentElement.clientWidth:a.body.clientWidth)||0,height:(f?a.documentElement.clientHeight:a.body.clientHeight)||0}},getScrollPosition:function(){var a=this.$;if(\"pageXOffset\"in a)return{x:a.pageXOffset||0,y:a.pageYOffset||0};a=a.document;return{x:a.documentElement.scrollLeft||a.body.scrollLeft||0,y:a.documentElement.scrollTop||a.body.scrollTop||0}},getFrame:function(){var a=this.$.frameElement;return a?\nnew CKEDITOR.dom.element.get(a):null}}),CKEDITOR.dom.document=function(a){CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(a){if(this.$.createStyleSheet)this.$.createStyleSheet(a);else{var f=new CKEDITOR.dom.element(\"link\");f.setAttributes({rel:\"stylesheet\",type:\"text/css\",href:a});this.getHead().append(f)}},appendStyleText:function(a){if(this.$.createStyleSheet){var f=\nthis.$.createStyleSheet(\"\");f.cssText=a}else{var b=new CKEDITOR.dom.element(\"style\",this);b.append(new CKEDITOR.dom.text(a,this));this.getHead().append(b)}return f||b.$.sheet},createElement:function(a,f){var b=new CKEDITOR.dom.element(a,this);f&&(f.attributes&&b.setAttributes(f.attributes),f.styles&&b.setStyles(f.styles));return b},createText:function(a){return new CKEDITOR.dom.text(a,this)},focus:function(){this.getWindow().focus()},getActive:function(){var a;try{a=this.$.activeElement}catch(f){return null}return new CKEDITOR.dom.element(a)},\ngetById:function(a){return(a=this.$.getElementById(a))?new CKEDITOR.dom.element(a):null},getByAddress:function(a,f){for(var b=this.$.documentElement,c=0;b&&c<a.length;c++){var e=a[c];if(f)for(var l=-1,k=0;k<b.childNodes.length;k++){var d=b.childNodes[k];if(!0!==f||3!=d.nodeType||!d.previousSibling||3!=d.previousSibling.nodeType)if(l++,l==e){b=d;break}}else b=b.childNodes[e]}return b?new CKEDITOR.dom.node(b):null},getElementsByTag:function(a,f){CKEDITOR.env.ie&&8>=document.documentMode||!f||(a=f+\":\"+\na);return new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(a))},getHead:function(){var a=this.$.getElementsByTagName(\"head\")[0];return a=a?new CKEDITOR.dom.element(a):this.getDocumentElement().append(new CKEDITOR.dom.element(\"head\"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(a){this.$.open(\"text/html\",\n\"replace\");CKEDITOR.env.ie&&(a=a.replace(/(?:^\\s*<!DOCTYPE[^>]*?>)|^/i,'$\\x26\\n\\x3cscript data-cke-temp\\x3d\"1\"\\x3e('+CKEDITOR.tools.fixDomain+\")();\\x3c/script\\x3e\"));this.$.write(a);this.$.close()},find:function(a){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(a))},findOne:function(a){return(a=this.$.querySelector(a))?new CKEDITOR.dom.element(a):null},_getHtml5ShivFrag:function(){var a=this.getCustomData(\"html5ShivFrag\");a||(a=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(a,\n!0),this.setCustomData(\"html5ShivFrag\",a));return a}}),CKEDITOR.dom.nodeList=function(a){this.$=a},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(a){return 0>a||a>=this.$.length?null:(a=this.$[a])?new CKEDITOR.dom.node(a):null}},CKEDITOR.dom.element=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createElement(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.element.get=function(a){return(a=\"string\"==typeof a?document.getElementById(a)||document.getElementsByName(a)[0]:\na)&&(a.$?a:new CKEDITOR.dom.element(a))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(a,f){var b=new CKEDITOR.dom.element(\"div\",f);b.setHtml(a);return b.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(a,f,b,c){var e=f.getCustomData(\"list_marker_id\")||f.setCustomData(\"list_marker_id\",CKEDITOR.tools.getNextNumber()).getCustomData(\"list_marker_id\"),l=f.getCustomData(\"list_marker_names\")||f.setCustomData(\"list_marker_names\",{}).getCustomData(\"list_marker_names\");\na[e]=f;l[b]=1;return f.setCustomData(b,c)},CKEDITOR.dom.element.clearAllMarkers=function(a){for(var f in a)CKEDITOR.dom.element.clearMarkers(a,a[f],1)},CKEDITOR.dom.element.clearMarkers=function(a,f,b){var c=f.getCustomData(\"list_marker_names\"),e=f.getCustomData(\"list_marker_id\"),l;for(l in c)f.removeCustomData(l);f.removeCustomData(\"list_marker_names\");b&&(f.removeCustomData(\"list_marker_id\"),delete a[e])},function(){function a(a,b){return-1<(\" \"+a+\" \").replace(l,\" \").indexOf(\" \"+b+\" \")}function f(a){var b=\n!0;a.$.id||(a.$.id=\"cke_tmp_\"+CKEDITOR.tools.getNextNumber(),b=!1);return function(){b||a.removeAttribute(\"id\")}}function b(a,b){var c=CKEDITOR.tools.escapeCss(a.$.id);return\"#\"+c+\" \"+b.split(/,\\s*/).join(\", #\"+c+\" \")}function c(a){for(var b=0,c=0,g=k[a].length;c<g;c++)b+=parseFloat(this.getComputedStyle(k[a][c])||0,10)||0;return b}var e=document.createElement(\"_\").classList,e=\"undefined\"!==typeof e&&null!==String(e.add).match(/\\[Native code\\]/gi),l=/[\\n\\t\\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,\n{type:CKEDITOR.NODE_ELEMENT,addClass:e?function(a){this.$.classList.add(a);return this}:function(d){var b=this.$.className;b&&(a(b,d)||(b+=\" \"+d));this.$.className=b||d;return this},removeClass:e?function(a){var b=this.$;b.classList.remove(a);b.className||b.removeAttribute(\"class\");return this}:function(d){var b=this.getAttribute(\"class\");b&&a(b,d)&&((b=b.replace(new RegExp(\"(?:^|\\\\s+)\"+d+\"(?\\x3d\\\\s|$)\"),\"\").replace(/^\\s+/,\"\"))?this.setAttribute(\"class\",b):this.removeAttribute(\"class\"));return this},\nhasClass:function(d){return a(this.$.className,d)},append:function(a,b){\"string\"==typeof a&&(a=this.getDocument().createElement(a));b?this.$.insertBefore(a.$,this.$.firstChild):this.$.appendChild(a.$);return a},appendHtml:function(a){if(this.$.childNodes.length){var b=new CKEDITOR.dom.element(\"div\",this.getDocument());b.setHtml(a);b.moveChildren(this)}else this.setHtml(a)},appendText:function(a){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=a:this.append(new CKEDITOR.dom.text(a))},\nappendBogus:function(a){if(a||CKEDITOR.env.needsBrFiller){for(a=this.getLast();a&&a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(a.getText());)a=a.getPrevious();a&&a.is&&a.is(\"br\")||(a=this.getDocument().createElement(\"br\"),CKEDITOR.env.gecko&&a.setAttribute(\"type\",\"_moz\"),this.append(a))}},breakParent:function(a,b){var c=new CKEDITOR.dom.range(this.getDocument());c.setStartAfter(this);c.setEndAfter(a);var g=c.extractContents(!1,b||!1),e;c.insertNode(this.remove());if(CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(c=\nnew CKEDITOR.dom.element(\"div\");e=g.getFirst();)e.$.style.backgroundColor&&(e.$.style.backgroundColor=e.$.style.backgroundColor),c.append(e);c.insertAfter(this);c.remove(!0)}else g.insertAfterNode(this)},contains:document.compareDocumentPosition?function(a){return!!(this.$.compareDocumentPosition(a.$)&16)}:function(a){var b=this.$;return a.type!=CKEDITOR.NODE_ELEMENT?b.contains(a.getParent().$):b!=a.$&&b.contains(a.$)},focus:function(){function a(){try{this.$.focus()}catch(b){}}return function(b){b?\nCKEDITOR.tools.setTimeout(a,100,this):a.call(this)}}(),getHtml:function(){var a=this.$.innerHTML;return CKEDITOR.env.ie?a.replace(/<\\?[^>]*>/g,\"\"):a},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\\?[^>]*>/,\"\");var a=this.$.ownerDocument.createElement(\"div\");a.appendChild(this.$.cloneNode(!0));return a.innerHTML},getClientRect:function(){var a=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());!a.width&&(a.width=a.right-a.left);!a.height&&(a.height=a.bottom-a.top);\nreturn a},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(a){try{var b=this.$;if(this.getParent())return b.innerHTML=a;var c=this.getDocument()._getHtml5ShivFrag();c.appendChild(b);b.innerHTML=a;c.removeChild(b);return a}catch(g){this.$.innerHTML=\"\";b=new CKEDITOR.dom.element(\"body\",this.getDocument());b.$.innerHTML=a;for(b=b.getChildren();b.count();)this.append(b.getItem(0));return a}}:function(a){return this.$.innerHTML=a},setText:function(){var a=document.createElement(\"p\");a.innerHTML=\n\"x\";a=a.textContent;return function(b){this.$[a?\"textContent\":\"innerText\"]=b}}(),getAttribute:function(){var a=function(a){return this.$.getAttribute(a,2)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){switch(a){case \"class\":a=\"className\";break;case \"http-equiv\":a=\"httpEquiv\";break;case \"name\":return this.$.name;case \"tabindex\":return a=this.$.getAttribute(a,2),0!==a&&0===this.$.tabIndex&&(a=null),a;case \"checked\":return a=this.$.attributes.getNamedItem(a),(a.specified?\na.nodeValue:this.$.checked)?\"checked\":null;case \"hspace\":case \"value\":return this.$[a];case \"style\":return this.$.style.cssText;case \"contenteditable\":case \"contentEditable\":return this.$.attributes.getNamedItem(\"contentEditable\").specified?this.$.getAttribute(\"contentEditable\"):null}return this.$.getAttribute(a,2)}:a}(),getAttributes:function(a){var b={},c=this.$.attributes,g;a=CKEDITOR.tools.isArray(a)?a:[];for(g=0;g<c.length;g++)-1===CKEDITOR.tools.indexOf(a,c[g].name)&&(b[c[g].name]=c[g].value);\nreturn b},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(a){var b=this.getWindow().$.getComputedStyle(this.$,null);return b?b.getPropertyValue(a):\"\"}:function(a){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(a)]},getDtd:function(){var a=CKEDITOR.dtd[this.getName()];this.getDtd=function(){return a};return a},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,\ngetTabIndex:function(){var a=this.$.tabIndex;return 0!==a||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute(\"tabindex\"),10)?a:-1},getText:function(){return this.$.textContent||this.$.innerText||\"\"},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var a=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var b=this.$.scopeName;\"HTML\"!=\nb&&(a=b.toLowerCase()+\":\"+a)}this.getName=function(){return a};return this.getName()},getValue:function(){return this.$.value},getFirst:function(a){var b=this.$.firstChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getNext(a));return b},getLast:function(a){var b=this.$.lastChild;(b=b&&new CKEDITOR.dom.node(b))&&a&&!a(b)&&(b=b.getPrevious(a));return b},getStyle:function(a){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]},is:function(){var a=this.getName();if(\"object\"==typeof arguments[0])return!!arguments[0][a];\nfor(var b=0;b<arguments.length;b++)if(arguments[b]==a)return!0;return!1},isEditable:function(a){var b=this.getName();return this.isReadOnly()||\"none\"==this.getComputedStyle(\"display\")||\"hidden\"==this.getComputedStyle(\"visibility\")||CKEDITOR.dtd.$nonEditable[b]||CKEDITOR.dtd.$empty[b]||this.is(\"a\")&&(this.data(\"cke-saved-name\")||this.hasAttribute(\"name\"))&&!this.getChildCount()?!1:!1!==a?(a=CKEDITOR.dtd[b]||CKEDITOR.dtd.span,!(!a||!a[\"#\"])):!0},isIdentical:function(a){var b=this.clone(0,1);a=a.clone(0,\n1);b.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);a.removeAttributes([\"_moz_dirty\",\"data-cke-expando\",\"data-cke-saved-href\",\"data-cke-saved-name\"]);if(b.$.isEqualNode)return b.$.style.cssText=CKEDITOR.tools.normalizeCssText(b.$.style.cssText),a.$.style.cssText=CKEDITOR.tools.normalizeCssText(a.$.style.cssText),b.$.isEqualNode(a.$);b=b.getOuterHtml();a=a.getOuterHtml();if(CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is(\"a\")){var c=this.getParent();\nc.type==CKEDITOR.NODE_ELEMENT&&(c=c.clone(),c.setHtml(b),b=c.getHtml(),c.setHtml(a),a=c.getHtml())}return b==a},isVisible:function(){var a=(this.$.offsetHeight||this.$.offsetWidth)&&\"hidden\"!=this.getComputedStyle(\"visibility\"),b,c;a&&CKEDITOR.env.webkit&&(b=this.getWindow(),!b.equals(CKEDITOR.document.getWindow())&&(c=b.$.frameElement)&&(a=(new CKEDITOR.dom.element(c)).isVisible()));return!!a},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var a=this.getChildren(),\nb=0,c=a.count();b<c;b++){var g=a.getItem(b);if(g.type!=CKEDITOR.NODE_ELEMENT||!g.data(\"cke-bookmark\"))if(g.type==CKEDITOR.NODE_ELEMENT&&!g.isEmptyInlineRemoveable()||g.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(g.getText()))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var a=this.$.attributes,b=0;b<a.length;b++){var c=a[b];switch(c.nodeName){case \"class\":if(this.getAttribute(\"class\"))return!0;case \"data-cke-expando\":continue;default:if(c.specified)return!0}}return!1}:\nfunction(){var a=this.$.attributes,b=a.length,c={\"data-cke-expando\":1,_moz_dirty:1};return 0<b&&(2<b||!c[a[0].nodeName]||2==b&&!c[a[1].nodeName])},hasAttribute:function(){function a(b){var d=this.$.attributes.getNamedItem(b);if(\"input\"==this.getName())switch(b){case \"class\":return 0<this.$.className.length;case \"checked\":return!!this.$.checked;case \"value\":return b=this.getAttribute(\"type\"),\"checkbox\"==b||\"radio\"==b?\"on\"!=this.$.value:!!this.$.value}return d?d.specified:!1}return CKEDITOR.env.ie?\n8>CKEDITOR.env.version?function(b){return\"name\"==b?!!this.$.name:a.call(this,b)}:a:function(a){return!!this.$.attributes.getNamedItem(a)}}(),hide:function(){this.setStyle(\"display\",\"none\")},moveChildren:function(a,b){var c=this.$;a=a.$;if(c!=a){var g;if(b)for(;g=c.lastChild;)a.insertBefore(c.removeChild(g),a.firstChild);else for(;g=c.firstChild;)a.appendChild(c.removeChild(g))}},mergeSiblings:function(){function a(b,d,g){if(d&&d.type==CKEDITOR.NODE_ELEMENT){for(var c=[];d.data(\"cke-bookmark\")||d.isEmptyInlineRemoveable();)if(c.push(d),\nd=g?d.getNext():d.getPrevious(),!d||d.type!=CKEDITOR.NODE_ELEMENT)return;if(b.isIdentical(d)){for(var e=g?b.getLast():b.getFirst();c.length;)c.shift().move(b,!g);d.moveChildren(b,!g);d.remove();e&&e.type==CKEDITOR.NODE_ELEMENT&&e.mergeSiblings()}}}return function(b){if(!1===b||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is(\"a\"))a(this,this.getNext(),!0),a(this,this.getPrevious())}}(),show:function(){this.setStyles({display:\"\",visibility:\"\"})},setAttribute:function(){var a=function(a,b){this.$.setAttribute(a,\nb);return this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(b,c){\"class\"==b?this.$.className=c:\"style\"==b?this.$.style.cssText=c:\"tabindex\"==b?this.$.tabIndex=c:\"checked\"==b?this.$.checked=c:\"contenteditable\"==b?a.call(this,\"contentEditable\",c):a.apply(this,arguments);return this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(b,c){if(\"src\"==b&&c.match(/^http:\\/\\//))try{a.apply(this,arguments)}catch(g){}else a.apply(this,arguments);return this}:a}(),setAttributes:function(a){for(var b in a)this.setAttribute(b,\na[b]);return this},setValue:function(a){this.$.value=a;return this},removeAttribute:function(){var a=function(a){this.$.removeAttribute(a)};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(a){\"class\"==a?a=\"className\":\"tabindex\"==a?a=\"tabIndex\":\"contenteditable\"==a&&(a=\"contentEditable\");this.$.removeAttribute(a)}:a}(),removeAttributes:function(a){if(CKEDITOR.tools.isArray(a))for(var b=0;b<a.length;b++)this.removeAttribute(a[b]);else for(b in a=a||this.getAttributes(),\na)a.hasOwnProperty(b)&&this.removeAttribute(b)},removeStyle:function(a){var b=this.$.style;if(b.removeProperty||\"border\"!=a&&\"margin\"!=a&&\"padding\"!=a)b.removeProperty?b.removeProperty(a):b.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(a)),this.$.style.cssText||this.removeAttribute(\"style\");else{var c=[\"top\",\"left\",\"right\",\"bottom\"],g;\"border\"==a&&(g=[\"color\",\"style\",\"width\"]);for(var b=[],e=0;e<c.length;e++)if(g)for(var f=0;f<g.length;f++)b.push([a,c[e],g[f]].join(\"-\"));else b.push([a,c[e]].join(\"-\"));\nfor(a=0;a<b.length;a++)this.removeStyle(b[a])}},setStyle:function(a,b){this.$.style[CKEDITOR.tools.cssStyleToDomStyle(a)]=b;return this},setStyles:function(a){for(var b in a)this.setStyle(b,a[b]);return this},setOpacity:function(a){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(a=Math.round(100*a),this.setStyle(\"filter\",100<=a?\"\":\"progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d\"+a+\")\")):this.setStyle(\"opacity\",a)},unselectable:function(){this.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"none\"));\nif(CKEDITOR.env.ie){this.setAttribute(\"unselectable\",\"on\");for(var a,b=this.getElementsByTag(\"*\"),c=0,g=b.count();c<g;c++)a=b.getItem(c),a.setAttribute(\"unselectable\",\"on\")}},getPositionedAncestor:function(){for(var a=this;\"html\"!=a.getName();){if(\"static\"!=a.getComputedStyle(\"position\"))return a;a=a.getParent()}return null},getDocumentPosition:function(a){var b=0,c=0,g=this.getDocument(),e=g.getBody(),f=\"BackCompat\"==g.$.compatMode;if(document.documentElement.getBoundingClientRect&&(CKEDITOR.env.ie?\n8!==CKEDITOR.env.version:1)){var l=this.$.getBoundingClientRect(),k=g.$.documentElement,v=k.clientTop||e.$.clientTop||0,u=k.clientLeft||e.$.clientLeft||0,t=!0;CKEDITOR.env.ie&&(t=g.getDocumentElement().contains(this),g=g.getBody().contains(this),t=f&&g||!f&&t);t&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(b=e.$.scrollLeft||k.scrollLeft,c=e.$.scrollTop||k.scrollTop):(c=f?e.$:k,b=c.scrollLeft,c=c.scrollTop),b=l.left+b-u,c=l.top+c-v)}else for(v=this,u=null;v&&\"body\"!=v.getName()&&\n\"html\"!=v.getName();){b+=v.$.offsetLeft-v.$.scrollLeft;c+=v.$.offsetTop-v.$.scrollTop;v.equals(this)||(b+=v.$.clientLeft||0,c+=v.$.clientTop||0);for(;u&&!u.equals(v);)b-=u.$.scrollLeft,c-=u.$.scrollTop,u=u.getParent();u=v;v=(l=v.$.offsetParent)?new CKEDITOR.dom.element(l):null}a&&(l=this.getWindow(),v=a.getWindow(),!l.equals(v)&&l.$.frameElement&&(a=(new CKEDITOR.dom.element(l.$.frameElement)).getDocumentPosition(a),b+=a.x,c+=a.y));document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||\nf||(b+=this.$.clientLeft?1:0,c+=this.$.clientTop?1:0);return{x:b,y:c}},scrollIntoView:function(a){var b=this.getParent();if(b){do if((b.$.clientWidth&&b.$.clientWidth<b.$.scrollWidth||b.$.clientHeight&&b.$.clientHeight<b.$.scrollHeight)&&!b.is(\"body\")&&this.scrollIntoParent(b,a,1),b.is(\"html\")){var c=b.getWindow();try{var g=c.$.frameElement;g&&(b=new CKEDITOR.dom.element(g))}catch(e){}}while(b=b.getParent())}},scrollIntoParent:function(a,b,c){var g,e,f,l;function k(b,g){/body|html/.test(a.getName())?\na.getWindow().$.scrollBy(b,g):(a.$.scrollLeft+=b,a.$.scrollTop+=g)}function v(a,b){var g={x:0,y:0};if(!a.is(t?\"body\":\"html\")){var c=a.$.getBoundingClientRect();g.x=c.left;g.y=c.top}c=a.getWindow();c.equals(b)||(c=v(CKEDITOR.dom.element.get(c.$.frameElement),b),g.x+=c.x,g.y+=c.y);return g}function u(a,b){return parseInt(a.getComputedStyle(\"margin-\"+b)||0,10)||0}!a&&(a=this.getWindow());f=a.getDocument();var t=\"BackCompat\"==f.$.compatMode;a instanceof CKEDITOR.dom.window&&(a=t?f.getBody():f.getDocumentElement());\nCKEDITOR.env.webkit&&(f=this.getEditor(!1))&&(f._.previousScrollTop=null);f=a.getWindow();e=v(this,f);var y=v(a,f),A=this.$.offsetHeight;g=this.$.offsetWidth;var q=a.$.clientHeight,w=a.$.clientWidth;f=e.x-u(this,\"left\")-y.x||0;l=e.y-u(this,\"top\")-y.y||0;g=e.x+g+u(this,\"right\")-(y.x+w)||0;e=e.y+A+u(this,\"bottom\")-(y.y+q)||0;(0>l||0<e)&&k(0,!0===b?l:!1===b?e:0>l?l:e);c&&(0>f||0<g)&&k(0>f?f:g,0)},setState:function(a,b,c){b=b||\"cke\";switch(a){case CKEDITOR.TRISTATE_ON:this.addClass(b+\"_on\");this.removeClass(b+\n\"_off\");this.removeClass(b+\"_disabled\");c&&this.setAttribute(\"aria-pressed\",!0);c&&this.removeAttribute(\"aria-disabled\");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(b+\"_disabled\");this.removeClass(b+\"_off\");this.removeClass(b+\"_on\");c&&this.setAttribute(\"aria-disabled\",!0);c&&this.removeAttribute(\"aria-pressed\");break;default:this.addClass(b+\"_off\"),this.removeClass(b+\"_on\"),this.removeClass(b+\"_disabled\"),c&&this.removeAttribute(\"aria-pressed\"),c&&this.removeAttribute(\"aria-disabled\")}},\ngetFrameDocument:function(){var a=this.$;try{a.contentWindow.document}catch(b){a.src=a.src}return a&&new CKEDITOR.dom.document(a.contentWindow.document)},copyAttributes:function(a,b){var c=this.$.attributes;b=b||{};for(var g=0;g<c.length;g++){var e=c[g],f=e.nodeName.toLowerCase(),l;if(!(f in b))if(\"checked\"==f&&(l=this.getAttribute(f)))a.setAttribute(f,l);else if(!CKEDITOR.env.ie||this.hasAttribute(f))l=this.getAttribute(f),null===l&&(l=e.nodeValue),a.setAttribute(f,l)}\"\"!==this.$.style.cssText&&\n(a.$.style.cssText=this.$.style.cssText)},renameNode:function(a){if(this.getName()!=a){var b=this.getDocument();a=new CKEDITOR.dom.element(a,b);this.copyAttributes(a);this.moveChildren(a);this.getParent(!0)&&this.$.parentNode.replaceChild(a.$,this.$);a.$[\"data-cke-expando\"]=this.$[\"data-cke-expando\"];this.$=a.$;delete this.getName}},getChild:function(){function a(b,c){var g=b.childNodes;if(0<=c&&c<g.length)return g[c]}return function(b){var c=this.$;if(b.slice)for(b=b.slice();0<b.length&&c;)c=a(c,\nb.shift());else c=a(c,b);return c?new CKEDITOR.dom.node(c):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT&&b.hasClass(\"cke_enable_context_menu\")}this.on(\"contextmenu\",function(b){b.data.getTarget().getAscendant(a,!0)||b.data.preventDefault()})},getDirection:function(a){return a?this.getComputedStyle(\"direction\")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||\n\"ltr\":this.getStyle(\"direction\")||this.getAttribute(\"dir\")},data:function(a,b){a=\"data-\"+a;if(void 0===b)return this.getAttribute(a);!1===b?this.removeAttribute(a):this.setAttribute(a,b);return null},getEditor:function(a){var b=CKEDITOR.instances,c,g,e;a=a||void 0===a;for(c in b)if(g=b[c],g.element.equals(this)&&g.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!a&&(e=g.editable())&&(e.equals(this)||e.contains(this)))return g;return null},find:function(a){var c=f(this);a=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(b(this,\na)));c();return a},findOne:function(a){var c=f(this);a=this.$.querySelector(b(this,a));c();return a?new CKEDITOR.dom.element(a):null},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var g=a(this);if(!1!==g){c=this.getChildren();for(var e=0;e<c.count();e++)g=c.getItem(e),g.type==CKEDITOR.NODE_ELEMENT?g.forEach(a,b):b&&g.type!=b||a(g)}}});var k={width:[\"border-left-width\",\"border-right-width\",\"padding-left\",\"padding-right\"],height:[\"border-top-width\",\"border-bottom-width\",\"padding-top\",\"padding-bottom\"]};\nCKEDITOR.dom.element.prototype.setSize=function(a,b,e){\"number\"==typeof b&&(!e||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(b-=c.call(this,a)),this.setStyle(a,b+\"px\"))};CKEDITOR.dom.element.prototype.getSize=function(a,b){var e=Math.max(this.$[\"offset\"+CKEDITOR.tools.capitalize(a)],this.$[\"client\"+CKEDITOR.tools.capitalize(a)])||0;b&&(e-=c.call(this,a));return e}}(),CKEDITOR.dom.documentFragment=function(a){a=a||CKEDITOR.document;this.$=a.type==CKEDITOR.NODE_DOCUMENT?a.$.createDocumentFragment():a},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,\nCKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(a){a=a.$;a.parentNode.insertBefore(this.$,a.nextSibling)},getHtml:function(){var a=new CKEDITOR.dom.element(\"div\");this.clone(1,1).appendTo(a);return a.getHtml().replace(/\\s*data-cke-expando=\".*?\"/g,\"\")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,\ngetChildCount:1,getChild:1,getChildren:1}),function(){function a(a,b){var g=this.range;if(this._.end)return null;if(!this._.start){this._.start=1;if(g.collapsed)return this.end(),null;g.optimize()}var c,d=g.startContainer;c=g.endContainer;var e=g.startOffset,f=g.endOffset,h,q=this.guard,m=this.type,n=a?\"getPreviousSourceNode\":\"getNextSourceNode\";if(!a&&!this._.guardLTR){var l=c.type==CKEDITOR.NODE_ELEMENT?c:c.getParent(),k=c.type==CKEDITOR.NODE_ELEMENT?c.getChild(f):c.getNext();this._.guardLTR=function(a,\nb){return(!b||!l.equals(a))&&(!k||!a.equals(k))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}if(a&&!this._.guardRTL){var E=d.type==CKEDITOR.NODE_ELEMENT?d:d.getParent(),G=d.type==CKEDITOR.NODE_ELEMENT?e?d.getChild(e-1):null:d.getPrevious();this._.guardRTL=function(a,b){return(!b||!E.equals(a))&&(!G||!a.equals(G))&&(a.type!=CKEDITOR.NODE_ELEMENT||!b||!a.equals(g.root))}}var F=a?this._.guardRTL:this._.guardLTR;h=q?function(a,b){return!1===F(a,b)?!1:q(a,b)}:F;this.current?c=this.current[n](!1,\nm,h):(a?c.type==CKEDITOR.NODE_ELEMENT&&(c=0<f?c.getChild(f-1):!1===h(c,!0)?null:c.getPreviousSourceNode(!0,m,h)):(c=d,c.type==CKEDITOR.NODE_ELEMENT&&((c=c.getChild(e))||(c=!1===h(d,!0)?null:d.getNextSourceNode(!0,m,h)))),c&&!1===h(c)&&(c=null));for(;c&&!this._.end;){this.current=c;if(!this.evaluator||!1!==this.evaluator(c)){if(!b)return c}else if(b&&this.evaluator)return!1;c=c[n](!1,m,h)}this.end();return this.current=null}function f(b){for(var g,c=null;g=a.call(this,b);)c=g;return c}CKEDITOR.dom.walker=\nCKEDITOR.tools.createClass({$:function(a){this.range=a;this._={}},proto:{end:function(){this._.end=1},next:function(){return a.call(this)},previous:function(){return a.call(this,1)},checkForward:function(){return!1!==a.call(this,0,1)},checkBackward:function(){return!1!==a.call(this,1,1)},lastForward:function(){return f.call(this)},lastBackward:function(){return f.call(this,1)},reset:function(){delete this.current;this._={}}}});var b={block:1,\"list-item\":1,table:1,\"table-row-group\":1,\"table-header-group\":1,\n\"table-footer-group\":1,\"table-row\":1,\"table-column-group\":1,\"table-column\":1,\"table-cell\":1,\"table-caption\":1},c={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(a){return\"none\"!=this.getComputedStyle(\"float\")||this.getComputedStyle(\"position\")in c||!b[this.getComputedStyle(\"display\")]?!!(this.is(CKEDITOR.dtd.$block)||a&&this.is(a)):!0};CKEDITOR.dom.walker.blockBoundary=function(a){return function(b){return!(b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary(a))}};CKEDITOR.dom.walker.listItemBoundary=\nfunction(){return this.blockBoundary({br:1})};CKEDITOR.dom.walker.bookmark=function(a,b){function g(a){return a&&a.getName&&\"span\"==a.getName()&&a.data(\"cke-bookmark\")}return function(c){var d,e;d=c&&c.type!=CKEDITOR.NODE_ELEMENT&&(e=c.getParent())&&g(e);d=a?d:d||g(c);return!!(b^d)}};CKEDITOR.dom.walker.whitespaces=function(a){return function(b){var g;b&&b.type==CKEDITOR.NODE_TEXT&&(g=!CKEDITOR.tools.trim(b.getText())||CKEDITOR.env.webkit&&b.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE);\nreturn!!(a^g)}};CKEDITOR.dom.walker.invisible=function(a){var b=CKEDITOR.dom.walker.whitespaces(),g=CKEDITOR.env.webkit?1:0;return function(c){b(c)?c=1:(c.type==CKEDITOR.NODE_TEXT&&(c=c.getParent()),c=c.$.offsetWidth<=g);return!!(a^c)}};CKEDITOR.dom.walker.nodeType=function(a,b){return function(g){return!!(b^g.type==a)}};CKEDITOR.dom.walker.bogus=function(a){function b(a){return!l(a)&&!k(a)}return function(g){var c=CKEDITOR.env.needsBrFiller?g.is&&g.is(\"br\"):g.getText&&e.test(g.getText());c&&(c=g.getParent(),\ng=g.getNext(b),c=c.isBlockBoundary()&&(!g||g.type==CKEDITOR.NODE_ELEMENT&&g.isBlockBoundary()));return!!(a^c)}};CKEDITOR.dom.walker.temp=function(a){return function(b){b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());b=b&&b.hasAttribute(\"data-cke-temp\");return!!(a^b)}};var e=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,l=CKEDITOR.dom.walker.whitespaces(),k=CKEDITOR.dom.walker.bookmark(),d=CKEDITOR.dom.walker.temp(),h=function(a){return k(a)||l(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$inline)&&!a.is(CKEDITOR.dtd.$empty)};\nCKEDITOR.dom.walker.ignored=function(a){return function(b){b=l(b)||k(b)||d(b);return!!(a^b)}};var m=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(a){return function(b){for(var g=0,c=b.getChildCount();g<c;++g)if(!m(b.getChild(g)))return!!a;return!a}};var g=CKEDITOR.dom.walker.empty(),n=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(a){var b={},g;for(g in a)CKEDITOR.dtd[g][\"#\"]&&(b[g]=1);return b}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=\nfunction(a){return function(b){b=m(b)?!1:b.type==CKEDITOR.NODE_TEXT||b.type==CKEDITOR.NODE_ELEMENT&&(b.is(CKEDITOR.dtd.$inline)||b.is(\"hr\")||\"false\"==b.getAttribute(\"contenteditable\")||!CKEDITOR.env.needsBrFiller&&b.is(n)&&g(b))?!0:!1;return!!(a^b)}};CKEDITOR.dom.element.prototype.getBogus=function(){var a=this;do a=a.getPreviousSourceNode();while(h(a));return a&&(CKEDITOR.env.needsBrFiller?a.is&&a.is(\"br\"):a.getText&&e.test(a.getText()))?a:!1}}(),CKEDITOR.dom.range=function(a){this.endOffset=this.endContainer=\nthis.startOffset=this.startContainer=null;this.collapsed=!0;var f=a instanceof CKEDITOR.dom.document;this.document=f?a:a.getDocument();this.root=f?a.getBody():a},function(){function a(a){a.collapsed=a.startContainer&&a.endContainer&&a.startContainer.equals(a.endContainer)&&a.startOffset==a.endOffset}function f(a,b,c,d,e){function f(a,b,g,c){var d=g?a.getPrevious():a.getNext();if(c&&l)return d;q||c?b.append(a.clone(!0,e),g):(a.remove(),k&&b.append(a));return d}function h(){var a,b,g,c=Math.min(L.length,\nD.length);for(a=0;a<c;a++)if(b=L[a],g=D[a],!b.equals(g))return a;return a-1}function m(){var b=T-1,c=F&&J&&!w.equals(B);b<I-1||b<O-1||c?(c?a.moveToPosition(B,CKEDITOR.POSITION_BEFORE_START):O==b+1&&G?a.moveToPosition(D[b],CKEDITOR.POSITION_BEFORE_END):a.moveToPosition(D[b+1],CKEDITOR.POSITION_BEFORE_START),d&&(b=L[b+1])&&b.type==CKEDITOR.NODE_ELEMENT&&(c=CKEDITOR.dom.element.createFromHtml('\\x3cspan data-cke-bookmark\\x3d\"1\" style\\x3d\"display:none\"\\x3e\\x26nbsp;\\x3c/span\\x3e',a.document),c.insertAfter(b),\nb.mergeSiblings(!1),a.moveToBookmark({startNode:c}))):a.collapse(!0)}a.optimizeBookmark();var l=0===b,k=1==b,q=2==b;b=q||k;var w=a.startContainer,B=a.endContainer,z=a.startOffset,C=a.endOffset,E,G,F,J,H,M;if(q&&B.type==CKEDITOR.NODE_TEXT&&w.equals(B))w=a.document.createText(w.substring(z,C)),c.append(w);else{B.type==CKEDITOR.NODE_TEXT?q?M=!0:B=B.split(C):0<B.getChildCount()?C>=B.getChildCount()?(B=B.getChild(C-1),G=!0):B=B.getChild(C):J=G=!0;w.type==CKEDITOR.NODE_TEXT?q?H=!0:w.split(z):0<w.getChildCount()?\n0===z?(w=w.getChild(z),E=!0):w=w.getChild(z-1):F=E=!0;for(var L=w.getParents(),D=B.getParents(),T=h(),I=L.length-1,O=D.length-1,K=c,U,V,ca,fa=-1,P=T;P<=I;P++){V=L[P];ca=V.getNext();for(P!=I||V.equals(D[P])&&I<O?b&&(U=K.append(V.clone(0,e))):E?f(V,K,!1,F):H&&K.append(a.document.createText(V.substring(z)));ca;){if(ca.equals(D[P])){fa=P;break}ca=f(ca,K)}K=U}K=c;for(P=T;P<=O;P++)if(c=D[P],ca=c.getPrevious(),c.equals(L[P]))b&&(K=K.getChild(0));else{P!=O||c.equals(L[P])&&O<I?b&&(U=K.append(c.clone(0,e))):\nG?f(c,K,!1,J):M&&K.append(a.document.createText(c.substring(0,C)));if(P>fa)for(;ca;)ca=f(ca,K,!0);K=U}q||m()}}function b(){var a=!1,b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!0),d=CKEDITOR.dom.walker.bogus();return function(e){return c(e)||b(e)?!0:d(e)&&!a?a=!0:e.type==CKEDITOR.NODE_TEXT&&(e.hasAscendant(\"pre\")||CKEDITOR.tools.trim(e.getText()).length)||e.type==CKEDITOR.NODE_ELEMENT&&!e.is(l)?!1:!0}}function c(a){var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(1);\nreturn function(d){return c(d)||b(d)?!0:!a&&k(d)||d.type==CKEDITOR.NODE_ELEMENT&&d.is(CKEDITOR.dtd.$removeEmpty)}}function e(a){return function(){var b;return this[a?\"getPreviousNode\":\"getNextNode\"](function(a){!b&&m(a)&&(b=a);return h(a)&&!(k(a)&&a.equals(b))})}}var l={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,\"var\":1},k=CKEDITOR.dom.walker.bogus(),d=/^[\\t\\r\\n ]*(?:&nbsp;|\\xa0)$/,\nh=CKEDITOR.dom.walker.editable(),m=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var a=new CKEDITOR.dom.range(this.root);a._setStartContainer(this.startContainer);a.startOffset=this.startOffset;a._setEndContainer(this.endContainer);a.endOffset=this.endOffset;a.collapsed=this.collapsed;return a},collapse:function(a){a?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset);\nthis.collapsed=!0},cloneContents:function(a){var b=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,2,b,!1,\"undefined\"==typeof a?!0:a);return b},deleteContents:function(a){this.collapsed||f(this,0,null,a)},extractContents:function(a,b){var c=new CKEDITOR.dom.documentFragment(this.document);this.collapsed||f(this,1,c,a,\"undefined\"==typeof b?!0:b);return c},createBookmark:function(a){var b,c,d,e,f=this.collapsed;b=this.document.createElement(\"span\");b.data(\"cke-bookmark\",1);b.setStyle(\"display\",\n\"none\");b.setHtml(\"\\x26nbsp;\");a&&(d=\"cke_bm_\"+CKEDITOR.tools.getNextNumber(),b.setAttribute(\"id\",d+(f?\"C\":\"S\")));f||(c=b.clone(),c.setHtml(\"\\x26nbsp;\"),a&&c.setAttribute(\"id\",d+\"E\"),e=this.clone(),e.collapse(),e.insertNode(c));e=this.clone();e.collapse(!0);e.insertNode(b);c?(this.setStartAfter(b),this.setEndBefore(c)):this.moveToPosition(b,CKEDITOR.POSITION_AFTER_END);return{startNode:a?d+(f?\"C\":\"S\"):b,endNode:a?d+\"E\":c,serializable:a,collapsed:f}},createBookmark2:function(){function a(b){var g=\nb.container,d=b.offset,e;e=g;var f=d;e=e.type!=CKEDITOR.NODE_ELEMENT||0===f||f==e.getChildCount()?0:e.getChild(f-1).type==CKEDITOR.NODE_TEXT&&e.getChild(f).type==CKEDITOR.NODE_TEXT;e&&(g=g.getChild(d-1),d=g.getLength());if(g.type==CKEDITOR.NODE_ELEMENT&&0<d){a:{for(e=g;d--;)if(f=e.getChild(d).getIndex(!0),0<=f){d=f;break a}d=-1}d+=1}if(g.type==CKEDITOR.NODE_TEXT){e=g;for(f=0;(e=e.getPrevious())&&e.type==CKEDITOR.NODE_TEXT;)f+=e.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,\"\").length;\ne=f;g.getText()?d+=e:(f=g.getPrevious(c),e?(d=e,g=f?f.getNext():g.getParent().getFirst()):(g=g.getParent(),d=f?f.getIndex(!0)+1:0))}b.container=g;b.offset=d}function b(a,g){var c=g.getCustomData(\"cke-fillingChar\");if(c){var d=a.container;c.equals(d)&&(a.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=a.offset&&(a.offset=d.getIndex(),a.container=d.getParent()))}}var c=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(c){var d=this.collapsed,e={container:this.startContainer,\noffset:this.startOffset},f={container:this.endContainer,offset:this.endOffset};c&&(a(e),b(e,this.root),d||(a(f),b(f,this.root)));return{start:e.container.getAddress(c),end:d?null:f.container.getAddress(c),startOffset:e.offset,endOffset:f.offset,normalized:c,collapsed:d,is2:!0}}}(),moveToBookmark:function(a){if(a.is2){var b=this.document.getByAddress(a.start,a.normalized),c=a.startOffset,d=a.end&&this.document.getByAddress(a.end,a.normalized);a=a.endOffset;this.setStart(b,c);d?this.setEnd(d,a):this.collapse(!0)}else b=\n(c=a.serializable)?this.document.getById(a.startNode):a.startNode,a=c?this.document.getById(a.endNode):a.endNode,this.setStartBefore(b),b.remove(),a?(this.setEndBefore(a),a.remove()):this.collapse(!0)},getBoundaryNodes:function(){var a=this.startContainer,b=this.endContainer,c=this.startOffset,d=this.endOffset,e;if(a.type==CKEDITOR.NODE_ELEMENT)if(e=a.getChildCount(),e>c)a=a.getChild(c);else if(1>e)a=a.getPreviousSourceNode();else{for(a=a.$;a.lastChild;)a=a.lastChild;a=new CKEDITOR.dom.node(a);a=\na.getNextSourceNode()||a}if(b.type==CKEDITOR.NODE_ELEMENT)if(e=b.getChildCount(),e>d)b=b.getChild(d).getPreviousSourceNode(!0);else if(1>e)b=b.getPreviousSourceNode();else{for(b=b.$;b.lastChild;)b=b.lastChild;b=new CKEDITOR.dom.node(b)}a.getPosition(b)&CKEDITOR.POSITION_FOLLOWING&&(a=b);return{startNode:a,endNode:b}},getCommonAncestor:function(a,b){var c=this.startContainer,d=this.endContainer,c=c.equals(d)?a&&c.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?c.getChild(this.startOffset):\nc:c.getCommonAncestor(d);return b&&!c.is?c.getParent():c},optimize:function(){var a=this.startContainer,b=this.startOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setStartAfter(a):this.setStartBefore(a));a=this.endContainer;b=this.endOffset;a.type!=CKEDITOR.NODE_ELEMENT&&(b?b>=a.getLength()&&this.setEndAfter(a):this.setEndBefore(a))},optimizeBookmark:function(){var a=this.startContainer,b=this.endContainer;a.is&&a.is(\"span\")&&a.data(\"cke-bookmark\")&&this.setStartAt(a,CKEDITOR.POSITION_BEFORE_START);\nb&&b.is&&b.is(\"span\")&&b.data(\"cke-bookmark\")&&this.setEndAt(b,CKEDITOR.POSITION_AFTER_END)},trim:function(a,b){var c=this.startContainer,d=this.startOffset,e=this.collapsed;if((!a||e)&&c&&c.type==CKEDITOR.NODE_TEXT){if(d)if(d>=c.getLength())d=c.getIndex()+1,c=c.getParent();else{var f=c.split(d),d=c.getIndex()+1,c=c.getParent();this.startContainer.equals(this.endContainer)?this.setEnd(f,this.endOffset-this.startOffset):c.equals(this.endContainer)&&(this.endOffset+=1)}else d=c.getIndex(),c=c.getParent();\nthis.setStart(c,d);if(e){this.collapse(!0);return}}c=this.endContainer;d=this.endOffset;b||e||!c||c.type!=CKEDITOR.NODE_TEXT||(d?(d>=c.getLength()||c.split(d),d=c.getIndex()+1):d=c.getIndex(),c=c.getParent(),this.setEnd(c,d))},enlarge:function(a,b){function c(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute(\"contenteditable\")?null:a}var d=new RegExp(/[^\\s\\ufeff]/);switch(a){case CKEDITOR.ENLARGE_INLINE:var e=1;case CKEDITOR.ENLARGE_ELEMENT:var f=function(a,b){var c=new CKEDITOR.dom.range(m);\nc.setStart(a,b);c.setEndAt(m,CKEDITOR.POSITION_BEFORE_END);var c=new CKEDITOR.dom.walker(c),g;for(c.guard=function(a){return!(a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())};g=c.next();){if(g.type!=CKEDITOR.NODE_TEXT)return!1;E=g!=a?g.getText():g.substring(b);if(d.test(E))return!1}return!0};if(this.collapsed)break;var h=this.getCommonAncestor(),m=this.root,l,k,q,w,B,z=!1,C,E;C=this.startContainer;var G=this.startOffset;C.type==CKEDITOR.NODE_TEXT?(G&&(C=!CKEDITOR.tools.trim(C.substring(0,G)).length&&\nC,z=!!C),C&&((w=C.getPrevious())||(q=C.getParent()))):(G&&(w=C.getChild(G-1)||C.getLast()),w||(q=C));for(q=c(q);q||w;){if(q&&!w){!B&&q.equals(h)&&(B=!0);if(e?q.isBlockBoundary():!m.contains(q))break;z&&\"inline\"==q.getComputedStyle(\"display\")||(z=!1,B?l=q:this.setStartBefore(q));w=q.getPrevious()}for(;w;)if(C=!1,w.type==CKEDITOR.NODE_COMMENT)w=w.getPrevious();else{if(w.type==CKEDITOR.NODE_TEXT)E=w.getText(),d.test(E)&&(w=null),C=/[\\s\\ufeff]$/.test(E);else if((w.$.offsetWidth>(CKEDITOR.env.webkit?1:\n0)||b&&w.is(\"br\"))&&!w.data(\"cke-bookmark\"))if(z&&CKEDITOR.dtd.$removeEmpty[w.getName()]){E=w.getText();if(d.test(E))w=null;else for(var G=w.$.getElementsByTagName(\"*\"),F=0,J;J=G[F++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){w=null;break}w&&(C=!!E.length)}else w=null;C&&(z?B?l=q:q&&this.setStartBefore(q):z=!0);if(w){C=w.getPrevious();if(!q&&!C){q=w;w=null;break}w=C}else q=null}q&&(q=c(q.getParent()))}C=this.endContainer;G=this.endOffset;q=w=null;B=z=!1;C.type==CKEDITOR.NODE_TEXT?\nCKEDITOR.tools.trim(C.substring(G)).length?z=!0:(z=!C.getLength(),G==C.getLength()?(w=C.getNext())||(q=C.getParent()):f(C,G)&&(q=C.getParent())):(w=C.getChild(G))||(q=C);for(;q||w;){if(q&&!w){!B&&q.equals(h)&&(B=!0);if(e?q.isBlockBoundary():!m.contains(q))break;z&&\"inline\"==q.getComputedStyle(\"display\")||(z=!1,B?k=q:q&&this.setEndAfter(q));w=q.getNext()}for(;w;){C=!1;if(w.type==CKEDITOR.NODE_TEXT)E=w.getText(),f(w,0)||(w=null),C=/^[\\s\\ufeff]/.test(E);else if(w.type==CKEDITOR.NODE_ELEMENT){if((0<w.$.offsetWidth||\nb&&w.is(\"br\"))&&!w.data(\"cke-bookmark\"))if(z&&CKEDITOR.dtd.$removeEmpty[w.getName()]){E=w.getText();if(d.test(E))w=null;else for(G=w.$.getElementsByTagName(\"*\"),F=0;J=G[F++];)if(!CKEDITOR.dtd.$removeEmpty[J.nodeName.toLowerCase()]){w=null;break}w&&(C=!!E.length)}else w=null}else C=1;C&&z&&(B?k=q:this.setEndAfter(q));if(w){C=w.getNext();if(!q&&!C){q=w;w=null;break}w=C}else q=null}q&&(q=c(q.getParent()))}l&&k&&(h=l.contains(k)?k:l,this.setStartBefore(h),this.setEndAfter(h));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:q=\nnew CKEDITOR.dom.range(this.root);m=this.root;q.setStartAt(m,CKEDITOR.POSITION_AFTER_START);q.setEnd(this.startContainer,this.startOffset);q=new CKEDITOR.dom.walker(q);var H,M,L=CKEDITOR.dom.walker.blockBoundary(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),D=null,T=function(a){if(a.type==CKEDITOR.NODE_ELEMENT&&\"false\"==a.getAttribute(\"contenteditable\"))if(D){if(D.equals(a)){D=null;return}}else D=a;else if(D)return;var b=L(a);b||(H=a);return b},e=function(a){var b=T(a);!b&&a.is&&a.is(\"br\")&&\n(M=a);return b};q.guard=T;q=q.lastBackward();H=H||m;this.setStartAt(H,!H.is(\"br\")&&(!q&&this.checkStartOfBlock()||q&&H.contains(q))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END);if(a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){q=this.clone();q=new CKEDITOR.dom.walker(q);var I=CKEDITOR.dom.walker.whitespaces(),O=CKEDITOR.dom.walker.bookmark();q.evaluator=function(a){return!I(a)&&!O(a)};if((q=q.previous())&&q.type==CKEDITOR.NODE_ELEMENT&&q.is(\"br\"))break}q=this.clone();q.collapse();q.setEndAt(m,\nCKEDITOR.POSITION_BEFORE_END);q=new CKEDITOR.dom.walker(q);q.guard=a==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?e:T;H=D=M=null;q=q.lastForward();H=H||m;this.setEndAt(H,!q&&this.checkEndOfBlock()||q&&H.contains(q)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START);M&&this.setEndAfter(M)}},shrink:function(a,b,c){var d=\"boolean\"===typeof c?c:c&&\"boolean\"===typeof c.shrinkOnBlockBoundary?c.shrinkOnBlockBoundary:!0,e=c&&c.skipBogus;if(!this.collapsed){a=a||CKEDITOR.SHRINK_TEXT;var f=this.clone(),h=\nthis.startContainer,m=this.endContainer,l=this.startOffset,k=this.endOffset,q=c=1;h&&h.type==CKEDITOR.NODE_TEXT&&(l?l>=h.getLength()?f.setStartAfter(h):(f.setStartBefore(h),c=0):f.setStartBefore(h));m&&m.type==CKEDITOR.NODE_TEXT&&(k?k>=m.getLength()?f.setEndAfter(m):(f.setEndAfter(m),q=0):f.setEndBefore(m));var f=new CKEDITOR.dom.walker(f),w=CKEDITOR.dom.walker.bookmark(),B=CKEDITOR.dom.walker.bogus();f.evaluator=function(b){return b.type==(a==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)};\nvar z;f.guard=function(b,c){if(e&&B(b)||w(b))return!0;if(a==CKEDITOR.SHRINK_ELEMENT&&b.type==CKEDITOR.NODE_TEXT||c&&b.equals(z)||!1===d&&b.type==CKEDITOR.NODE_ELEMENT&&b.isBlockBoundary()||b.type==CKEDITOR.NODE_ELEMENT&&b.hasAttribute(\"contenteditable\"))return!1;c||b.type!=CKEDITOR.NODE_ELEMENT||(z=b);return!0};c&&(h=f[a==CKEDITOR.SHRINK_ELEMENT?\"lastForward\":\"next\"]())&&this.setStartAt(h,b?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START);q&&(f.reset(),(f=f[a==CKEDITOR.SHRINK_ELEMENT?\n\"lastBackward\":\"previous\"]())&&this.setEndAt(f,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END));return!(!c&&!q)}},insertNode:function(a){this.optimizeBookmark();this.trim(!1,!0);var b=this.startContainer,c=b.getChild(this.startOffset);c?a.insertBefore(c):b.append(a);a.getParent()&&a.getParent().equals(this.endContainer)&&this.endOffset++;this.setStartBefore(a)},moveToPosition:function(a,b){this.setStartAt(a,b);this.collapse(!0)},moveToRange:function(a){this.setStart(a.startContainer,a.startOffset);\nthis.setEnd(a.endContainer,a.endOffset)},selectNodeContents:function(a){this.setStart(a,0);this.setEnd(a,a.type==CKEDITOR.NODE_TEXT?a.getLength():a.getChildCount())},setStart:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex(),b=b.getParent());this._setStartContainer(b);this.startOffset=c;this.endContainer||(this._setEndContainer(b),this.endOffset=c);a(this)},setEnd:function(b,c){b.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[b.getName()]&&(c=b.getIndex()+\n1,b=b.getParent());this._setEndContainer(b);this.endOffset=c;this.startContainer||(this._setStartContainer(b),this.startOffset=c);a(this)},setStartAfter:function(a){this.setStart(a.getParent(),a.getIndex()+1)},setStartBefore:function(a){this.setStart(a.getParent(),a.getIndex())},setEndAfter:function(a){this.setEnd(a.getParent(),a.getIndex()+1)},setEndBefore:function(a){this.setEnd(a.getParent(),a.getIndex())},setStartAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setStart(b,0);\nbreak;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setStart(b,b.getLength()):this.setStart(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(b);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(b)}a(this)},setEndAt:function(b,c){switch(c){case CKEDITOR.POSITION_AFTER_START:this.setEnd(b,0);break;case CKEDITOR.POSITION_BEFORE_END:b.type==CKEDITOR.NODE_TEXT?this.setEnd(b,b.getLength()):this.setEnd(b,b.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(b);\nbreak;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(b)}a(this)},fixBlock:function(a,b){var c=this.createBookmark(),d=this.document.createElement(b);this.collapse(a);this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS);this.extractContents().appendTo(d);d.trim();this.insertNode(d);var e=d.getBogus();e&&e.remove();d.appendBogus();this.moveToBookmark(c);return d},splitBlock:function(a,b){var c=new CKEDITOR.dom.elementPath(this.startContainer,this.root),d=new CKEDITOR.dom.elementPath(this.endContainer,this.root),\ne=c.block,f=d.block,h=null;if(!c.blockLimit.equals(d.blockLimit))return null;\"br\"!=a&&(e||(e=this.fixBlock(!0,a),f=(new CKEDITOR.dom.elementPath(this.endContainer,this.root)).block),f||(f=this.fixBlock(!1,a)));c=e&&this.checkStartOfBlock();d=f&&this.checkEndOfBlock();this.deleteContents();e&&e.equals(f)&&(d?(h=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(f,CKEDITOR.POSITION_AFTER_END),f=null):c?(h=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(e,\nCKEDITOR.POSITION_BEFORE_START),e=null):(f=this.splitElement(e,b||!1),e.is(\"ul\",\"ol\")||e.appendBogus()));return{previousBlock:e,nextBlock:f,wasStartOfBlock:c,wasEndOfBlock:d,elementPath:h}},splitElement:function(a,b){if(!this.collapsed)return null;this.setEndAt(a,CKEDITOR.POSITION_BEFORE_END);var c=this.extractContents(!1,b||!1),d=a.clone(!1,b||!1);c.appendTo(d);d.insertAfter(a);this.moveToPosition(a,CKEDITOR.POSITION_AFTER_END);return d},removeEmptyBlocksAtEnd:function(){function a(g){return function(a){return b(a)||\nc(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isEmptyInlineRemoveable()||g.is(\"table\")&&a.is(\"caption\")?!1:!0}}var b=CKEDITOR.dom.walker.whitespaces(),c=CKEDITOR.dom.walker.bookmark(!1);return function(b){for(var c=this.createBookmark(),d=this[b?\"endPath\":\"startPath\"](),e=d.block||d.blockLimit,f;e&&!e.equals(d.root)&&!e.getFirst(a(e));)f=e.getParent(),this[b?\"setEndAt\":\"setStartAt\"](e,CKEDITOR.POSITION_AFTER_END),e.remove(1),e=f;this.moveToBookmark(c)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,\nthis.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(a,b){var d=b==CKEDITOR.START,e=this.clone();e.collapse(d);e[d?\"setStartAt\":\"setEndAt\"](a,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);e.evaluator=c(d);return e[d?\"checkBackward\":\"checkForward\"]()},checkStartOfBlock:function(){var a=this.startContainer,c=this.startOffset;CKEDITOR.env.ie&&c&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.ltrim(a.substring(0,\nc)),d.test(a)&&this.trim(0,1));this.trim();a=new CKEDITOR.dom.elementPath(this.startContainer,this.root);c=this.clone();c.collapse(!0);c.setStartAt(a.block||a.blockLimit,CKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkBackward()},checkEndOfBlock:function(){var a=this.endContainer,c=this.endOffset;CKEDITOR.env.ie&&a.type==CKEDITOR.NODE_TEXT&&(a=CKEDITOR.tools.rtrim(a.substring(c)),d.test(a)&&this.trim(1,0));this.trim();a=new CKEDITOR.dom.elementPath(this.endContainer,\nthis.root);c=this.clone();c.collapse(!1);c.setEndAt(a.block||a.blockLimit,CKEDITOR.POSITION_BEFORE_END);a=new CKEDITOR.dom.walker(c);a.evaluator=b();return a.checkForward()},getPreviousNode:function(a,b,c){var d=this.clone();d.collapse(1);d.setStartAt(c||this.root,CKEDITOR.POSITION_AFTER_START);c=new CKEDITOR.dom.walker(d);c.evaluator=a;c.guard=b;return c.previous()},getNextNode:function(a,b,c){var d=this.clone();d.collapse();d.setEndAt(c||this.root,CKEDITOR.POSITION_BEFORE_END);c=new CKEDITOR.dom.walker(d);\nc.evaluator=a;c.guard=b;return c.next()},checkReadOnly:function(){function a(b,c){for(;b;){if(b.type==CKEDITOR.NODE_ELEMENT){if(\"false\"==b.getAttribute(\"contentEditable\")&&!b.data(\"cke-editable\"))return 0;if(b.is(\"html\")||\"true\"==b.getAttribute(\"contentEditable\")&&(b.contains(c)||b.equals(c)))break}b=b.getParent()}return 1}return function(){var b=this.startContainer,c=this.endContainer;return!(a(b,c)&&a(c,b))}}(),moveToElementEditablePosition:function(a,b){if(a.type==CKEDITOR.NODE_ELEMENT&&!a.isEditable(!1))return this.moveToPosition(a,\nb?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var c=0;a;){if(a.type==CKEDITOR.NODE_TEXT){b&&this.endContainer&&this.checkEndOfBlock()&&d.test(a.getText())?this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(a,b?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START);c=1;break}if(a.type==CKEDITOR.NODE_ELEMENT)if(a.isEditable())this.moveToPosition(a,b?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),c=1;else if(b&&a.is(\"br\")&&this.endContainer&&\nthis.checkEndOfBlock())this.moveToPosition(a,CKEDITOR.POSITION_BEFORE_START);else if(\"false\"==a.getAttribute(\"contenteditable\")&&a.is(CKEDITOR.dtd.$block))return this.setStartBefore(a),this.setEndAfter(a),!0;var e=a,f=c,h=void 0;e.type==CKEDITOR.NODE_ELEMENT&&e.isEditable(!1)&&(h=e[b?\"getLast\":\"getFirst\"](m));f||h||(h=e[b?\"getPrevious\":\"getNext\"](m));a=h}return!!c},moveToClosestEditablePosition:function(a,b){var c,d=0,e,f,h=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];a?(c=new CKEDITOR.dom.range(this.root),\nc.moveToPosition(a,h[b?0:1])):c=this.clone();if(a&&!a.is(CKEDITOR.dtd.$block))d=1;else if(e=c[b?\"getNextEditableNode\":\"getPreviousEditableNode\"]())d=1,(f=e.type==CKEDITOR.NODE_ELEMENT)&&e.is(CKEDITOR.dtd.$block)&&\"false\"==e.getAttribute(\"contenteditable\")?(c.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),c.setEndAt(e,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&f&&e.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(c.setEnd(e,0),c.collapse()):c.moveToPosition(e,h[b?1:0]);d&&this.moveToRange(c);\nreturn!!d},moveToElementEditStart:function(a){return this.moveToElementEditablePosition(a)},moveToElementEditEnd:function(a){return this.moveToElementEditablePosition(a,!0)},getEnclosedNode:function(){var a=this.clone();a.optimize();if(a.startContainer.type!=CKEDITOR.NODE_ELEMENT||a.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var a=new CKEDITOR.dom.walker(a),b=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.whitespaces(!0);a.evaluator=function(a){return c(a)&&b(a)};var d=a.next();\na.reset();return d&&d.equals(a.previous())?d:null},getTouchedStartNode:function(){var a=this.startContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.startOffset)||a},getTouchedEndNode:function(){var a=this.endContainer;return this.collapsed||a.type!=CKEDITOR.NODE_ELEMENT?a:a.getChild(this.endOffset-1)||a},getNextEditableNode:e(),getPreviousEditableNode:e(1),_getTableElement:function(a){a=a||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var b=this.startContainer,c=\nthis.endContainer,d=b.getAscendant(\"table\",!0),e=c.getAscendant(\"table\",!0);return CKEDITOR.env.safari&&d&&c.equals(this.root)?b.getAscendant(a,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(a,!0):d&&e&&(d.equals(e)||d.contains(e)||e.contains(d))?b.getAscendant(a,!0):null},scrollIntoView:function(){var a=new CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",this.document),b,c,d,e=this.clone();e.optimize();(d=e.startContainer.type==CKEDITOR.NODE_TEXT)?(c=e.startContainer.getText(),\nb=e.startContainer.split(e.startOffset),a.insertAfter(e.startContainer)):e.insertNode(a);a.scrollIntoView();d&&(e.startContainer.setText(c),b.remove());a.remove()},_setStartContainer:function(a){this.startContainer=a},_setEndContainer:function(a){this.endContainer=a},_find:function(a,b){var c=this.getCommonAncestor(),d=this.getBoundaryNodes(),e=[],f,h,m,l;if(c&&c.find)for(h=c.find(a),f=0;f<h.count();f++)if(c=h.getItem(f),b||!c.isReadOnly())m=c.getPosition(d.startNode)&CKEDITOR.POSITION_FOLLOWING||\nd.startNode.equals(c),l=c.getPosition(d.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||d.endNode.equals(c),m&&l&&e.push(c);return e}};CKEDITOR.dom.range.mergeRanges=function(a){return CKEDITOR.tools.array.reduce(a,function(a,b){var c=a[a.length-1],d=!1;b=b.clone();b.enlarge(CKEDITOR.ENLARGE_ELEMENT);if(c){var e=new CKEDITOR.dom.range(b.root),d=new CKEDITOR.dom.walker(e),g=CKEDITOR.dom.walker.whitespaces();e.setStart(c.endContainer,c.endOffset);e.setEnd(b.startContainer,b.startOffset);\nfor(e=d.next();g(e)||b.endContainer.equals(e);)e=d.next();d=!e}d?c.setEnd(b.endContainer,b.endOffset):a.push(b);return a},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,\"use strict\",function(){function a(a){1>\narguments.length||(this.range=a,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function f(a){var b=[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function b(a,c,d,e){a:{null==e&&(e=f(d));for(var h;h=e.shift();)if(h.getDtd().p){e={element:h,remaining:e};break a}e=null}if(!e)return 0;if((h=CKEDITOR.filter.instances[e.element.data(\"cke-filter\")])&&!h.check(c))return b(a,c,d,e.remaining);\nc=new CKEDITOR.dom.range(e.element);c.selectNodeContents(e.element);c=c.createIterator();c.enlargeBr=a.enlargeBr;c.enforceRealBlocks=a.enforceRealBlocks;c.activeFilter=c.filter=h;a._.nestedEditable={element:e.element,container:d,remaining:e.remaining,iterator:c};return 1}function c(a,b,c){if(!b)return!1;a=a.clone();a.collapse(!c);return a.checkBoundaryOfElement(b,c?CKEDITOR.START:CKEDITOR.END)}var e=/^[\\r\\n\\t ]+$/,l=CKEDITOR.dom.walker.bookmark(!1,!0),k=CKEDITOR.dom.walker.whitespaces(!0),d=function(a){return l(a)&&\nk(a)},h={dd:1,dt:1,li:1};a.prototype={getNextParagraph:function(a){var g,f,k,r,x;a=a||\"p\";if(this._.nestedEditable){if(g=this._.nestedEditable.iterator.getNextParagraph(a))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,g;this.activeFilter=this.filter;if(b(this,a,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(a);this._.nestedEditable=null}if(!this.range.root.getDtd()[a])return null;\nif(!this._.started){var v=this.range.clone();f=v.startPath();var u=v.endPath(),t=!v.collapsed&&c(v,f.block),y=!v.collapsed&&c(v,u.block,1);v.shrink(CKEDITOR.SHRINK_ELEMENT,!0);t&&v.setStartAt(f.block,CKEDITOR.POSITION_BEFORE_END);y&&v.setEndAt(u.block,CKEDITOR.POSITION_AFTER_START);f=v.endContainer.hasAscendant(\"pre\",!0)||v.startContainer.hasAscendant(\"pre\",!0);v.enlarge(this.forceBrBreak&&!f||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS);v.collapsed||(f=new CKEDITOR.dom.walker(v.clone()),\nu=CKEDITOR.dom.walker.bookmark(!0,!0),f.evaluator=u,this._.nextNode=f.next(),f=new CKEDITOR.dom.walker(v.clone()),f.evaluator=u,f=f.previous(),this._.lastNode=f.getNextSourceNode(!0,null,v.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&(u=this.range.clone(),u.moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),u.checkEndOfBlock()&&(u=new CKEDITOR.dom.elementPath(u.endContainer,\nu.root),this._.lastNode=(u.block||u.blockLimit).getNextSourceNode(!0))),this._.lastNode&&v.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=v.document.createText(\"\"),this._.lastNode.insertAfter(f)),v=null);this._.started=1;f=v}u=this._.nextNode;v=this._.lastNode;for(this._.nextNode=null;u;){var t=0,y=u.hasAscendant(\"pre\"),A=u.type!=CKEDITOR.NODE_ELEMENT,q=0;if(A)u.type==CKEDITOR.NODE_TEXT&&e.test(u.getText())&&(A=0);else{var w=u.getName();if(CKEDITOR.dtd.$block[w]&&\"false\"==u.getAttribute(\"contenteditable\")){g=\nu;b(this,a,g);break}else if(u.isBlockBoundary(this.forceBrBreak&&!y&&{br:1})){if(\"br\"==w)A=1;else if(!f&&!u.getChildCount()&&\"hr\"!=w){g=u;k=u.equals(v);break}f&&(f.setEndAt(u,CKEDITOR.POSITION_BEFORE_START),\"br\"!=w&&(this._.nextNode=u));t=1}else{if(u.getFirst()){f||(f=this.range.clone(),f.setStartAt(u,CKEDITOR.POSITION_BEFORE_START));u=u.getFirst();continue}A=1}}A&&!f&&(f=this.range.clone(),f.setStartAt(u,CKEDITOR.POSITION_BEFORE_START));k=(!t||A)&&u.equals(v);if(f&&!t)for(;!u.getNext(d)&&!k;){w=\nu.getParent();if(w.isBlockBoundary(this.forceBrBreak&&!y&&{br:1})){t=1;A=0;k||w.equals(v);f.setEndAt(w,CKEDITOR.POSITION_BEFORE_END);break}u=w;A=1;k=u.equals(v);q=1}A&&f.setEndAt(u,CKEDITOR.POSITION_AFTER_END);u=this._getNextSourceNode(u,q,v);if((k=!u)||t&&f)break}if(!g){if(!f)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;g=new CKEDITOR.dom.elementPath(f.startContainer,f.root);u=g.blockLimit;t={div:1,th:1,td:1};g=g.block;!g&&u&&!this.enforceRealBlocks&&t[u.getName()]&&\nf.checkStartOfBlock()&&f.checkEndOfBlock()&&!u.equals(f.root)?g=u:!g||this.enforceRealBlocks&&g.is(h)?(g=this.range.document.createElement(a),f.extractContents().appendTo(g),g.trim(),f.insertNode(g),r=x=!0):\"li\"!=g.getName()?f.checkStartOfBlock()&&f.checkEndOfBlock()||(g=g.clone(!1),f.extractContents().appendTo(g),g.trim(),x=f.splitBlock(),r=!x.wasStartOfBlock,x=!x.wasEndOfBlock,f.insertNode(g)):k||(this._.nextNode=g.equals(v)?null:this._getNextSourceNode(f.getBoundaryNodes().endNode,1,v))}r&&(r=\ng.getPrevious())&&r.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==r.getName()?r.remove():r.getLast()&&\"br\"==r.getLast().$.nodeName.toLowerCase()&&r.getLast().remove());x&&(r=g.getLast())&&r.type==CKEDITOR.NODE_ELEMENT&&\"br\"==r.getName()&&(!CKEDITOR.env.needsBrFiller||r.getPrevious(l)||r.getNext(l))&&r.remove();this._.nextNode||(this._.nextNode=k||g.equals(v)||!v?null:this._getNextSourceNode(g,1,v));return g},_getNextSourceNode:function(a,b,c){function d(a){return!(a.equals(c)||a.equals(e))}var e=this.range.root;\nfor(a=a.getNextSourceNode(b,null,d);!l(a);)a=a.getNextSourceNode(b,null,d);return a}};CKEDITOR.dom.range.prototype.createIterator=function(){return new a(this)}}(),CKEDITOR.command=function(a,f){this.uiItems=[];this.exec=function(b){if(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())return!1;this.editorFocus&&a.focus();return!1===this.fire(\"exec\")?!0:!1!==f.exec.call(this,a,b)};this.refresh=function(a,b){if(!this.readOnly&&a.readOnly)return!0;if(this.context&&!b.isContextFor(this.context)||\n!this.checkAllowed(!0))return this.disable(),!0;this.startDisabled||this.enable();this.modes&&!this.modes[a.mode]&&this.disable();return!1===this.fire(\"refresh\",{editor:a,path:b})?!0:f.refresh&&!1!==f.refresh.apply(this,arguments)};var b;this.checkAllowed=function(c){return c||\"boolean\"!=typeof b?b=a.activeFilter.checkFeature(this):b};CKEDITOR.tools.extend(this,f,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!f.context,state:CKEDITOR.TRISTATE_DISABLED});CKEDITOR.event.call(this)},CKEDITOR.command.prototype=\n{enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&\"undefined\"!=typeof this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(a){if(this.state==a||a!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed())return!1;this.previousState=this.state;this.state=a;this.fire(\"state\");return!0},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):\nthis.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:\"config.js\",autoUpdateElement:!0,language:\"\",defaultLanguage:\"en\",contentsLangDirection:\"\",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:\"\\x3c!DOCTYPE html\\x3e\",bodyId:\"\",bodyClass:\"\",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl(\"contents.css\"),\nextraPlugins:\"\",removePlugins:\"\",protectedSource:[],tabIndex:0,width:\"\",baseFloatZIndex:1E4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function a(a,b,c,d,e){var g,f;a=[];for(g in b){f=b[g];f=\"boolean\"==typeof f?{}:\"function\"==typeof f?{match:f}:F(f);\"$\"!=g.charAt(0)&&(f.elements=g);c&&(f.featureName=c.toLowerCase());var h=f;h.elements=k(h.elements,/\\s+/)||null;h.propertiesOnly=h.propertiesOnly||!0===h.elements;var q=/\\s*,\\s*/,m=void 0;for(m in M){h[m]=k(h[m],\nq)||null;var l=h,u=L[m],w=k(h[L[m]],q),D=h[m],n=[],E=!0,I=void 0;w?E=!1:w={};for(I in D)\"!\"==I.charAt(0)&&(I=I.slice(1),n.push(I),w[I]=!0,E=!1);for(;I=n.pop();)D[I]=D[\"!\"+I],delete D[\"!\"+I];l[u]=(E?!1:w)||null}h.match=h.match||null;d.push(f);a.push(f)}b=e.elements;e=e.generic;var B;c=0;for(d=a.length;c<d;++c){g=F(a[c]);f=!0===g.classes||!0===g.styles||!0===g.attributes;h=g;m=u=q=void 0;for(q in M)h[q]=t(h[q]);l=!0;for(m in L){q=L[m];u=h[q];w=[];D=void 0;for(D in u)-1<D.indexOf(\"*\")?w.push(new RegExp(\"^\"+\nD.replace(/\\*/g,\".*\")+\"$\")):w.push(D);u=w;u.length&&(h[q]=u,l=!1)}h.nothingRequired=l;h.noProperties=!(h.attributes||h.classes||h.styles);if(!0===g.elements||null===g.elements)e[f?\"unshift\":\"push\"](g);else for(B in h=g.elements,delete g.elements,h)if(b[B])b[B][f?\"unshift\":\"push\"](g);else b[B]=[g]}}function f(a,c,e,g){if(!a.match||a.match(c))if(g||d(a,c))if(a.propertiesOnly||(e.valid=!0),e.allAttributes||(e.allAttributes=b(a.attributes,c.attributes,e.validAttributes)),e.allStyles||(e.allStyles=b(a.styles,\nc.styles,e.validStyles)),!e.allClasses){a=a.classes;c=c.classes;g=e.validClasses;if(a)if(!0===a)a=!0;else{for(var f=0,h=c.length,q;f<h;++f)q=c[f],g[q]||(g[q]=a(q));a=!1}else a=!1;e.allClasses=a}}function b(a,b,c){if(!a)return!1;if(!0===a)return!0;for(var d in b)c[d]||(c[d]=a(d));return!1}function c(a,b,c){if(!a.match||a.match(b)){if(a.noProperties)return!1;c.hadInvalidAttribute=e(a.attributes,b.attributes)||c.hadInvalidAttribute;c.hadInvalidStyle=e(a.styles,b.styles)||c.hadInvalidStyle;a=a.classes;\nb=b.classes;if(a){for(var d=!1,g=!0===a,f=b.length;f--;)if(g||a(b[f]))b.splice(f,1),d=!0;a=d}else a=!1;c.hadInvalidClass=a||c.hadInvalidClass}}function e(a,b){if(!a)return!1;var c=!1,d=!0===a,e;for(e in b)if(d||a(e))delete b[e],c=!0;return c}function l(a,b,c){if(a.disabled||a.customConfig&&!c||!b)return!1;a._.cachedChecks={};return!0}function k(a,b){if(!a)return!1;if(!0===a)return a;if(\"string\"==typeof a)return a=J(a),\"*\"==a?!0:CKEDITOR.tools.convertArrayToObject(a.split(b));if(CKEDITOR.tools.isArray(a))return a.length?\nCKEDITOR.tools.convertArrayToObject(a):!1;var c={},d=0,e;for(e in a)c[e]=a[e],d++;return d?c:!1}function d(a,b){if(a.nothingRequired)return!0;var c,d,e,g;if(e=a.requiredClasses)for(g=b.classes,c=0;c<e.length;++c)if(d=e[c],\"string\"==typeof d){if(-1==CKEDITOR.tools.indexOf(g,d))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(g,d))return!1;return h(b.styles,a.requiredStyles)&&h(b.attributes,a.requiredAttributes)}function h(a,b){if(!b)return!0;for(var c=0,d;c<b.length;++c)if(d=b[c],\"string\"==\ntypeof d){if(!(d in a))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(a,d))return!1;return!0}function m(a){if(!a)return{};a=a.split(/\\s*,\\s*/).sort();for(var b={};a.length;)b[a.shift()]=\"cke-test\";return b}function g(a){var b,c,d,e,g={},f=1;for(a=J(a);b=a.match(D);)(c=b[2])?(d=n(c,\"styles\"),e=n(c,\"attrs\"),c=n(c,\"classes\")):d=e=c=null,g[\"$\"+f++]={elements:b[1],classes:c,styles:d,attributes:e},a=a.slice(b[0].length);return g}function n(a,b){var c=a.match(T[b]);return c?J(c[1]):null}\nfunction p(a){var b=a.styleBackup=a.attributes.style,c=a.classBackup=a.attributes[\"class\"];a.styles||(a.styles=CKEDITOR.tools.parseCssText(b||\"\",1));a.classes||(a.classes=c?c.split(/\\s+/):[])}function r(a,b,d,e){var g=0,h;e.toHtml&&(b.name=b.name.replace(I,\"$1\"));if(e.doCallbacks&&a.elementCallbacks){a:{h=a.elementCallbacks;for(var q=0,m=h.length,l;q<m;++q)if(l=h[q](b)){h=l;break a}h=void 0}if(h)return h}if(e.doTransform&&(h=a._.transformations[b.name])){p(b);for(q=0;q<h.length;++q)w(a,b,h[q]);v(b)}if(e.doFilter){a:{q=\nb.name;m=a._;a=m.allowedRules.elements[q];h=m.allowedRules.generic;q=m.disallowedRules.elements[q];m=m.disallowedRules.generic;l=e.skipRequired;var k={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1},t,D;if(a||h){p(b);if(q)for(t=0,D=q.length;t<D;++t)if(!1===c(q[t],b,k)){a=null;break a}if(m)for(t=0,D=m.length;t<D;++t)c(m[t],b,k);if(a)for(t=0,D=a.length;t<D;++t)f(a[t],b,k,l);if(h)for(t=\n0,D=h.length;t<D;++t)f(h[t],b,k,l);a=k}else a=null}if(!a||!a.valid)return d.push(b),1;D=a.validAttributes;var L=a.validStyles;h=a.validClasses;var q=b.attributes,n=b.styles,m=b.classes;l=b.classBackup;var E=b.styleBackup,B,y,z=[],k=[],F=/^data-cke-/;t=!1;delete q.style;delete q[\"class\"];delete b.classBackup;delete b.styleBackup;if(!a.allAttributes)for(B in q)D[B]||(F.test(B)?B==(y=B.replace(/^data-cke-saved-/,\"\"))||D[y]||(delete q[B],t=!0):(delete q[B],t=!0));if(!a.allStyles||a.hadInvalidStyle){for(B in n)a.allStyles||\nL[B]?z.push(B+\":\"+n[B]):t=!0;z.length&&(q.style=z.sort().join(\"; \"))}else E&&(q.style=E);if(!a.allClasses||a.hadInvalidClass){for(B=0;B<m.length;++B)(a.allClasses||h[m[B]])&&k.push(m[B]);k.length&&(q[\"class\"]=k.sort().join(\" \"));l&&k.length<l.split(/\\s+/).length&&(t=!0)}else l&&(q[\"class\"]=l);t&&(g=1);if(!e.skipFinalValidation&&!u(b))return d.push(b),1}e.toHtml&&(b.name=b.name.replace(O,\"cke:$1\"));return g}function x(a){var b=[],c;for(c in a)-1<c.indexOf(\"*\")&&b.push(c.replace(/\\*/g,\".*\"));return b.length?\nnew RegExp(\"^(?:\"+b.join(\"|\")+\")$\"):null}function v(a){var b=a.attributes,c;delete b.style;delete b[\"class\"];if(c=CKEDITOR.tools.writeCssText(a.styles,!0))b.style=c;a.classes.length&&(b[\"class\"]=a.classes.sort().join(\" \"))}function u(a){switch(a.name){case \"a\":if(!(a.children.length||a.attributes.name||a.attributes.id))return!1;break;case \"img\":if(!a.attributes.src)return!1}return!0}function t(a){if(!a)return!1;if(!0===a)return!0;var b=x(a);return function(c){return c in a||b&&c.match(b)}}function y(){return new CKEDITOR.htmlParser.element(\"br\")}\nfunction A(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"br\"==a.name||G.$block[a.name])}function q(a,b,c){var d=a.name;if(G.$empty[d]||!a.children.length)\"hr\"==d&&\"br\"==b?a.replaceWith(y()):(a.parent&&c.push({check:\"it\",el:a.parent}),a.remove());else if(G.$block[d]||\"tr\"==d)if(\"br\"==b)a.previous&&!A(a.previous)&&(b=y(),b.insertBefore(a)),a.next&&!A(a.next)&&(b=y(),b.insertAfter(a)),a.replaceWithChildren();else{var d=a.children,e;b:{e=G[b];for(var g=0,f=d.length,h;g<f;++g)if(h=d[g],h.type==CKEDITOR.NODE_ELEMENT&&\n!e[h.name]){e=!1;break b}e=!0}if(e)a.name=b,a.attributes={},c.push({check:\"parent-down\",el:a});else{e=a.parent;for(var g=e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||\"body\"==e.name,q,m,f=d.length;0<f;)h=d[--f],g&&(h.type==CKEDITOR.NODE_TEXT||h.type==CKEDITOR.NODE_ELEMENT&&G.$inline[h.name])?(q||(q=new CKEDITOR.htmlParser.element(b),q.insertAfter(a),c.push({check:\"parent-down\",el:q})),q.add(h,0)):(q=null,m=G[e.name]||G.span,h.insertAfter(a),e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||h.type!=CKEDITOR.NODE_ELEMENT||\nm[h.name]||c.push({check:\"el-up\",el:h}));a.remove()}}else d in{style:1,script:1}?a.remove():(a.parent&&c.push({check:\"it\",el:a.parent}),a.replaceWithChildren())}function w(a,b,c){var d,e;for(d=0;d<c.length;++d)if(e=c[d],!(e.check&&!a.check(e.check,!1)||e.left&&!e.left(b))){e.right(b,K);break}}function B(a,b){var c=b.getDefinition(),d=c.attributes,e=c.styles,g,f,h,q;if(a.name!=c.element)return!1;for(g in d)if(\"class\"==g)for(c=d[g].split(/\\s+/),h=a.classes.join(\"|\");q=c.pop();){if(-1==h.indexOf(q))return!1}else if(a.attributes[g]!=\nd[g])return!1;for(f in e)if(a.styles[f]!=e[f])return!1;return!0}function z(a,b){var c,d;\"string\"==typeof a?c=a:a instanceof CKEDITOR.style?d=a:(c=a[0],d=a[1]);return[{element:c,left:d,right:function(a,c){c.transform(a,b)}}]}function C(a){return function(b){return B(b,a)}}function E(a){return function(b,c){c[a](b)}}var G=CKEDITOR.dtd,F=CKEDITOR.tools.copy,J=CKEDITOR.tools.trim,H=[\"\",\"p\",\"br\",\"div\"];CKEDITOR.FILTER_SKIP_TREE=2;CKEDITOR.filter=function(a){this.allowedContent=[];this.disallowedContent=\n[];this.elementCallbacks=null;this.disabled=!1;this.editor=null;this.id=CKEDITOR.tools.getNextNumber();this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{}};CKEDITOR.filter.instances[this.id]=this;if(a instanceof CKEDITOR.editor){a=this.editor=a;this.customConfig=!0;var b=a.config.allowedContent;!0===b?this.disabled=!0:(b||(this.customConfig=!1),this.allow(b,\"config\",1),this.allow(a.config.extraAllowedContent,\"extra\",1),this.allow(H[a.enterMode]+\n\" \"+H[a.shiftEnterMode],\"default\",1),this.disallow(a.config.disallowedContent))}else this.customConfig=!1,this.allow(a,\"default\",1)};CKEDITOR.filter.instances={};CKEDITOR.filter.prototype={allow:function(b,c,d){if(!l(this,b,d))return!1;var e,f;if(\"string\"==typeof b)b=g(b);else if(b instanceof CKEDITOR.style){if(b.toAllowedContentRules)return this.allow(b.toAllowedContentRules(this.editor),c,d);e=b.getDefinition();b={};d=e.attributes;b[e.element]=e={styles:e.styles,requiredStyles:e.styles&&CKEDITOR.tools.objectKeys(e.styles)};\nd&&(d=F(d),e.classes=d[\"class\"]?d[\"class\"].split(/\\s+/):null,e.requiredClasses=e.classes,delete d[\"class\"],e.attributes=d,e.requiredAttributes=d&&CKEDITOR.tools.objectKeys(d))}else if(CKEDITOR.tools.isArray(b)){for(e=0;e<b.length;++e)f=this.allow(b[e],c,d);return f}a(this,b,c,this.allowedContent,this._.allowedRules);return!0},applyTo:function(a,b,c,d){if(this.disabled)return!1;var e=this,g=[],f=this.editor&&this.editor.config.protectedSource,h,m=!1,l={doFilter:!c,doTransform:!0,doCallbacks:!0,toHtml:b};\na.forEach(function(a){if(a.type==CKEDITOR.NODE_ELEMENT){if(\"off\"==a.attributes[\"data-cke-filter\"])return!1;if(!b||\"span\"!=a.name||!~CKEDITOR.tools.objectKeys(a.attributes).join(\"|\").indexOf(\"data-cke-\"))if(h=r(e,a,g,l),h&1)m=!0;else if(h&2)return!1}else if(a.type==CKEDITOR.NODE_COMMENT&&a.value.match(/^\\{cke_protected\\}(?!\\{C\\})/)){var c;a:{var d=decodeURIComponent(a.value.replace(/^\\{cke_protected\\}/,\"\"));c=[];var q,k,u;if(f)for(k=0;k<f.length;++k)if((u=d.match(f[k]))&&u[0].length==d.length){c=!0;\nbreak a}d=CKEDITOR.htmlParser.fragment.fromHtml(d);1==d.children.length&&(q=d.children[0]).type==CKEDITOR.NODE_ELEMENT&&r(e,q,c,l);c=!c.length}c||g.push(a)}},null,!0);g.length&&(m=!0);var k;a=[];d=H[d||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];for(var w;c=g.pop();)c.type==CKEDITOR.NODE_ELEMENT?q(c,d,a):c.remove();for(;k=a.pop();)if(c=k.el,c.parent)switch(w=G[c.parent.name]||G.span,k.check){case \"it\":G.$removeEmpty[c.name]&&!c.children.length?q(c,d,a):u(c)||q(c,d,a);break;case \"el-up\":c.parent.type==\nCKEDITOR.NODE_DOCUMENT_FRAGMENT||w[c.name]||q(c,d,a);break;case \"parent-down\":c.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||w[c.name]||q(c.parent,d,a)}return m},checkFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));return!a.requiredContent||this.check(a.requiredContent)},disable:function(){this.disabled=!0},disallow:function(b){if(!l(this,b,!0))return!1;\"string\"==typeof b&&(b=g(b));a(this,b,null,this.disallowedContent,this._.disallowedRules);return!0},\naddContentForms:function(a){if(!this.disabled&&a){var b,c,d=[],e;for(b=0;b<a.length&&!e;++b)c=a[b],(\"string\"==typeof c||c instanceof CKEDITOR.style)&&this.check(c)&&(e=c);if(e){for(b=0;b<a.length;++b)d.push(z(a[b],e));this.addTransformations(d)}}},addElementCallback:function(a){this.elementCallbacks||(this.elementCallbacks=[]);this.elementCallbacks.push(a)},addFeature:function(a){if(this.disabled||!a)return!0;a.toFeature&&(a=a.toFeature(this.editor));this.allow(a.allowedContent,a.name);this.addTransformations(a.contentTransformations);\nthis.addContentForms(a.contentForms);return a.requiredContent&&(this.customConfig||this.disallowedContent.length)?this.check(a.requiredContent):!0},addTransformations:function(a){var b,c;if(!this.disabled&&a){var d=this._.transformations,e;for(e=0;e<a.length;++e){b=a[e];var g=void 0,f=void 0,h=void 0,q=void 0,m=void 0,l=void 0;c=[];for(f=0;f<b.length;++f)h=b[f],\"string\"==typeof h?(h=h.split(/\\s*:\\s*/),q=h[0],m=null,l=h[1]):(q=h.check,m=h.left,l=h.right),g||(g=h,g=g.element?g.element:q?q.match(/^([a-z0-9]+)/i)[0]:\ng.left.getDefinition().element),m instanceof CKEDITOR.style&&(m=C(m)),c.push({check:q==g?null:q,left:m,right:\"string\"==typeof l?E(l):l});b=g;d[b]||(d[b]=[]);d[b].push(c)}}},check:function(a,b,c){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(a)){for(var d=a.length;d--;)if(this.check(a[d],b,c))return!0;return!1}var e,f;if(\"string\"==typeof a){f=a+\"\\x3c\"+(!1===b?\"0\":\"1\")+(c?\"1\":\"0\")+\"\\x3e\";if(f in this._.cachedChecks)return this._.cachedChecks[f];d=g(a).$1;e=d.styles;var h=d.classes;d.name=d.elements;\nd.classes=h=h?h.split(/\\s*,\\s*/):[];d.styles=m(e);d.attributes=m(d.attributes);d.children=[];h.length&&(d.attributes[\"class\"]=h.join(\" \"));e&&(d.attributes.style=CKEDITOR.tools.writeCssText(d.styles));e=d}else d=a.getDefinition(),e=d.styles,h=d.attributes||{},e&&!CKEDITOR.tools.isEmpty(e)?(e=F(e),h.style=CKEDITOR.tools.writeCssText(e,!0)):e={},e={name:d.element,attributes:h,classes:h[\"class\"]?h[\"class\"].split(/\\s+/):[],styles:e,children:[]};var h=CKEDITOR.tools.clone(e),q=[],l;if(!1!==b&&(l=this._.transformations[e.name])){for(d=\n0;d<l.length;++d)w(this,e,l[d]);v(e)}r(this,h,q,{doFilter:!0,doTransform:!1!==b,skipRequired:!c,skipFinalValidation:!c});b=0<q.length?!1:CKEDITOR.tools.objectCompare(e.attributes,h.attributes,!0)?!0:!1;\"string\"==typeof a&&(this._.cachedChecks[f]=b);return b},getAllowedEnterMode:function(){var a=[\"p\",\"div\",\"br\"],b={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(c,d){var e=a.slice(),g;if(this.check(H[c]))return c;for(d||(e=e.reverse());g=e.pop();)if(this.check(g))return b[g];\nreturn CKEDITOR.ENTER_BR}}(),destroy:function(){delete CKEDITOR.filter.instances[this.id];delete this._;delete this.allowedContent;delete this.disallowedContent}};var M={styles:1,attributes:1,classes:1},L={styles:\"requiredStyles\",attributes:\"requiredAttributes\",classes:\"requiredClasses\"},D=/^([a-z0-9\\-*\\s]+)((?:\\s*\\{[!\\w\\-,\\s\\*]+\\}\\s*|\\s*\\[[!\\w\\-,\\s\\*]+\\]\\s*|\\s*\\([!\\w\\-,\\s\\*]+\\)\\s*){0,3})(?:;\\s*|$)/i,T={styles:/{([^}]+)}/,attrs:/\\[([^\\]]+)\\]/,classes:/\\(([^\\)]+)\\)/},I=/^cke:(object|embed|param)$/,\nO=/^(object|embed|param)$/,K;K=CKEDITOR.filter.transformationsTools={sizeToStyle:function(a){this.lengthToStyle(a,\"width\");this.lengthToStyle(a,\"height\")},sizeToAttribute:function(a){this.lengthToAttribute(a,\"width\");this.lengthToAttribute(a,\"height\")},lengthToStyle:function(a,b,c){c=c||b;if(!(c in a.styles)){var d=a.attributes[b];d&&(/^\\d+$/.test(d)&&(d+=\"px\"),a.styles[c]=d)}delete a.attributes[b]},lengthToAttribute:function(a,b,c){c=c||b;if(!(c in a.attributes)){var d=a.styles[b],e=d&&d.match(/^(\\d+)(?:\\.\\d*)?px$/);\ne?a.attributes[c]=e[1]:\"cke-test\"==d&&(a.attributes[c]=\"cke-test\")}delete a.styles[b]},alignmentToStyle:function(a){if(!(\"float\"in a.styles)){var b=a.attributes.align;if(\"left\"==b||\"right\"==b)a.styles[\"float\"]=b}delete a.attributes.align},alignmentToAttribute:function(a){if(!(\"align\"in a.attributes)){var b=a.styles[\"float\"];if(\"left\"==b||\"right\"==b)a.attributes.align=b}delete a.styles[\"float\"]},splitBorderShorthand:function(a){function b(d){a.styles[\"border-top-width\"]=c[d[0]];a.styles[\"border-right-width\"]=\nc[d[1]];a.styles[\"border-bottom-width\"]=c[d[2]];a.styles[\"border-left-width\"]=c[d[3]]}if(a.styles.border){var c=a.styles.border.match(/([\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:a.styles[\"border-width\"]=c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}a.styles[\"border-style\"]=a.styles[\"border-style\"]||(a.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/)||[])[0];a.styles[\"border-style\"]||delete a.styles[\"border-style\"];\ndelete a.styles.border}},listTypeToStyle:function(a){if(a.attributes.type)switch(a.attributes.type){case \"a\":a.styles[\"list-style-type\"]=\"lower-alpha\";break;case \"A\":a.styles[\"list-style-type\"]=\"upper-alpha\";break;case \"i\":a.styles[\"list-style-type\"]=\"lower-roman\";break;case \"I\":a.styles[\"list-style-type\"]=\"upper-roman\";break;case \"1\":a.styles[\"list-style-type\"]=\"decimal\";break;default:a.styles[\"list-style-type\"]=a.attributes.type}},splitMarginShorthand:function(a){function b(d){a.styles[\"margin-top\"]=\nc[d[0]];a.styles[\"margin-right\"]=c[d[1]];a.styles[\"margin-bottom\"]=c[d[2]];a.styles[\"margin-left\"]=c[d[3]]}if(a.styles.margin){var c=a.styles.margin.match(/(\\-?[\\.\\d]+\\w+)/g)||[\"0px\"];switch(c.length){case 1:a.styles.margin=c[0];break;case 2:b([0,1,0,1]);break;case 3:b([0,1,2,1]);break;case 4:b([0,1,2,3])}delete a.styles.margin}},matchesStyle:B,transform:function(a,b){if(\"string\"==typeof b)a.name=b;else{var c=b.getDefinition(),d=c.styles,e=c.attributes,g,f,h,q;a.name=c.element;for(g in e)if(\"class\"==\ng)for(c=a.classes.join(\"|\"),h=e[g].split(/\\s+/);q=h.pop();)-1==c.indexOf(q)&&a.classes.push(q);else a.attributes[g]=e[g];for(f in d)a.styles[f]=d[f]}}}}(),function(){CKEDITOR.focusManager=function(a){if(a.focusManager)return a.focusManager;this.hasFocus=!1;this.currentActive=null;this._={editor:a};return this};CKEDITOR.focusManager._={blurDelay:200};CKEDITOR.focusManager.prototype={focus:function(a){this._.timer&&clearTimeout(this._.timer);a&&(this.currentActive=a);this.hasFocus||this._.locked||((a=\nCKEDITOR.currentInstance)&&a.focusManager.blur(1),this.hasFocus=!0,(a=this._.editor.container)&&a.addClass(\"cke_focus\"),this._.editor.fire(\"focus\"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(a){function f(){var a=this._.editor;this.hasFocus&&(this.hasFocus=!1,CKEDITOR.env.chrome&&a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&a.window.$.getSelection().removeAllRanges(),(a=this._.editor.container)&&a.removeClass(\"cke_focus\"),this._.editor.fire(\"blur\"))}if(!this._.locked){this._.timer&&\nclearTimeout(this._.timer);var b=CKEDITOR.focusManager._.blurDelay;a||!b?f.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer;f.call(this)},b,this)}},add:function(a,f){var b=a.getCustomData(\"focusmanager\");if(!b||b!=this){b&&b.remove(a);var b=\"focus\",c=\"blur\";f&&(CKEDITOR.env.ie?(b=\"focusin\",c=\"focusout\"):CKEDITOR.event.useCapture=1);var e={blur:function(){a.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(a)}};a.on(b,e.focus,this);a.on(c,e.blur,this);\nf&&(CKEDITOR.event.useCapture=0);a.setCustomData(\"focusmanager\",this);a.setCustomData(\"focusmanager_handlers\",e)}},remove:function(a){a.removeCustomData(\"focusmanager\");var f=a.removeCustomData(\"focusmanager_handlers\");a.removeListener(\"blur\",f.blur);a.removeListener(\"focus\",f.focus)}}}(),CKEDITOR.keystrokeHandler=function(a){if(a.keystrokeHandler)return a.keystrokeHandler;this.keystrokes={};this.blockedKeystrokes={};this._={editor:a};return this},function(){var a,f=function(b){b=b.data;var e=b.getKeystroke(),\nf=this.keystrokes[e],k=this._.editor;a=!1===k.fire(\"key\",{keyCode:e,domEvent:b});a||(f&&(a=!1!==k.execCommand(f,{from:\"keystrokeHandler\"})),a||(a=!!this.blockedKeystrokes[e]));a&&b.preventDefault(!0);return!a},b=function(b){a&&(a=!1,b.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(a){a.on(\"keydown\",f,this);if(CKEDITOR.env.gecko&&CKEDITOR.env.mac)a.on(\"keypress\",b,this)}}}(),function(){CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,\n\"de-ch\":1,el:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,\"fr-ca\":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,\"pt-br\":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,\"sr-latn\":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,\"zh-cn\":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(a,f,b){a&&CKEDITOR.lang.languages[a]||(a=this.detect(f,a));var c=this;f=function(){c[a].dir=c.rtl[a]?\"rtl\":\"ltr\";b(a,c[a])};\nthis[a]?f():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(\"lang/\"+a+\".js\"),f,this)},detect:function(a,f){var b=this.languages;f=f||navigator.userLanguage||navigator.language||a;var c=f.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),e=c[1],c=c[2];b[e+\"-\"+c]?e=e+\"-\"+c:b[e]||(e=null);CKEDITOR.lang.detect=e?function(){return e}:function(a){return a};return e||a}}}(),CKEDITOR.scriptLoader=function(){var a={},f={};return{load:function(b,c,e,l){var k=\"string\"==typeof b;k&&(b=[b]);e||(e=CKEDITOR);var d=b.length,\nh=[],m=[],g=function(a){c&&(k?c.call(e,a):c.call(e,h,m))};if(0===d)g(!0);else{var n=function(a,b){(b?h:m).push(a);0>=--d&&(l&&CKEDITOR.document.getDocumentElement().removeStyle(\"cursor\"),g(b))},p=function(b,c){a[b]=1;var d=f[b];delete f[b];for(var e=0;e<d.length;e++)d[e](b,c)},r=function(b){if(a[b])n(b,!0);else{var d=f[b]||(f[b]=[]);d.push(n);if(!(1<d.length)){var e=new CKEDITOR.dom.element(\"script\");e.setAttributes({type:\"text/javascript\",src:b});c&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?\ne.$.onreadystatechange=function(){if(\"loaded\"==e.$.readyState||\"complete\"==e.$.readyState)e.$.onreadystatechange=null,p(b,!0)}:(e.$.onload=function(){setTimeout(function(){p(b,!0)},0)},e.$.onerror=function(){p(b,!1)}));e.appendTo(CKEDITOR.document.getHead())}}};l&&CKEDITOR.document.getDocumentElement().setStyle(\"cursor\",\"wait\");for(var x=0;x<d;x++)r(b[x])}},queue:function(){function a(){var b;(b=c[0])&&this.load(b.scriptUrl,b.callback,CKEDITOR,0)}var c=[];return function(e,f){var k=this;c.push({scriptUrl:e,\ncallback:function(){f&&f.apply(this,arguments);c.shift();a.call(k)}});1==c.length&&a.call(this)}}()}}(),CKEDITOR.resourceManager=function(a,f){this.basePath=a;this.fileName=f;this.registered={};this.loaded={};this.externals={};this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(a,f){if(this.registered[a])throw Error('[CKEDITOR.resourceManager.add] The resource name \"'+a+'\" is already registered.');var b=this.registered[a]=f||{};b.name=a;b.path=this.getPath(a);CKEDITOR.fire(a+\nCKEDITOR.tools.capitalize(this.fileName)+\"Ready\",b);return this.get(a)},get:function(a){return this.registered[a]||null},getPath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(f&&f.dir||this.basePath+a+\"/\")},getFilePath:function(a){var f=this.externals[a];return CKEDITOR.getUrl(this.getPath(a)+(f?f.file:this.fileName+\".js\"))},addExternal:function(a,f,b){a=a.split(\",\");for(var c=0;c<a.length;c++){var e=a[c];b||(f=f.replace(/[^\\/]+$/,function(a){b=a;return\"\"}));this.externals[e]={dir:f,\nfile:b||this.fileName+\".js\"}}},load:function(a,f,b){CKEDITOR.tools.isArray(a)||(a=a?[a]:[]);for(var c=this.loaded,e=this.registered,l=[],k={},d={},h=0;h<a.length;h++){var m=a[h];if(m)if(c[m]||e[m])d[m]=this.get(m);else{var g=this.getFilePath(m);l.push(g);g in k||(k[g]=[]);k[g].push(m)}}CKEDITOR.scriptLoader.load(l,function(a,e){if(e.length)throw Error('[CKEDITOR.resourceManager.load] Resource name \"'+k[e[0]].join(\",\")+'\" was not found at \"'+e[0]+'\".');for(var g=0;g<a.length;g++)for(var h=k[a[g]],\nm=0;m<h.length;m++){var l=h[m];d[l]=this.get(l);c[l]=1}f.call(b,d)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager(\"plugins/\",\"plugin\"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(a){var f={};return function(b,c,e){var l={},k=function(b){a.call(this,b,function(a){CKEDITOR.tools.extend(l,a);var b=[],d;for(d in a){var n=a[d],p=n&&n.requires;if(!f[d]){if(n.icons)for(var r=n.icons.split(\",\"),x=r.length;x--;)CKEDITOR.skin.addIcon(r[x],n.path+\"icons/\"+(CKEDITOR.env.hidpi&&\nn.hidpi?\"hidpi/\":\"\")+r[x]+\".png\");f[d]=1}if(p)for(p.split&&(p=p.split(\",\")),n=0;n<p.length;n++)l[p[n]]||b.push(p[n])}if(b.length)k.call(this,b);else{for(d in l)n=l[d],n.onLoad&&!n.onLoad._called&&(!1===n.onLoad()&&delete l[d],n.onLoad._called=1);c&&c.call(e||window,l)}},this)};k.call(this,b)}}),CKEDITOR.plugins.setLang=function(a,f,b){var c=this.get(a);a=c.langEntries||(c.langEntries={});c=c.lang||(c.lang=[]);c.split&&(c=c.split(\",\"));-1==CKEDITOR.tools.indexOf(c,f)&&c.push(f);a[f]=b},CKEDITOR.ui=\nfunction(a){if(a.ui)return a.ui;this.items={};this.instances={};this.editor=a;this._={handlers:{}};return this},CKEDITOR.ui.prototype={add:function(a,f,b){b.name=a.toLowerCase();var c=this.items[a]={type:f,command:b.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(c,b)},get:function(a){return this.instances[a]},create:function(a){var f=this.items[a],b=f&&this._.handlers[f.type],c=f&&f.command&&this.editor.getCommand(f.command),b=b&&b.create.apply(this,f.args);this.instances[a]=\nb;c&&c.uiItems.push(b);b&&!b.type&&(b.type=f.type);return b},addHandler:function(a,f){this._.handlers[a]=f},space:function(a){return CKEDITOR.document.getById(this.spaceId(a))},spaceId:function(a){return this.editor.id+\"_\"+a}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function a(a,e,g){CKEDITOR.event.call(this);a=a&&CKEDITOR.tools.clone(a);if(void 0!==e){if(!(e instanceof CKEDITOR.dom.element))throw Error(\"Expect element of type CKEDITOR.dom.element.\");if(!g)throw Error(\"One of the element modes must be specified.\");\nif(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&g==CKEDITOR.ELEMENT_MODE_INLINE)throw Error(\"Inline element mode is not supported on IE quirks.\");if(!b(e,g))throw Error('The specified element mode is not supported on element: \"'+e.getName()+'\".');this.element=e;this.elementMode=g;this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(e.getId()||e.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={};this.commands={};this.templates={};this.name=this.name||f();this.id=CKEDITOR.tools.getNextId();\nthis.status=\"unloaded\";this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config);this.ui=new CKEDITOR.ui(this);this.focusManager=new CKEDITOR.focusManager(this);this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this);this.on(\"readOnly\",c);this.on(\"selectionChange\",function(a){l(this,a.data.path)});this.on(\"activeFilterChange\",function(){l(this,this.elementPath(),!0)});this.on(\"mode\",c);this.on(\"instanceReady\",function(){this.config.startupFocus&&this.focus()});CKEDITOR.fire(\"instanceCreated\",null,\nthis);CKEDITOR.add(this);CKEDITOR.tools.setTimeout(function(){\"destroyed\"!==this.status?d(this,a):CKEDITOR.warn(\"editor-incorrect-destroy\")},0,this)}function f(){do var a=\"editor\"+ ++x;while(CKEDITOR.instances[a]);return a}function b(a,b){return b==CKEDITOR.ELEMENT_MODE_INLINE?a.is(CKEDITOR.dtd.$editable)||a.is(\"textarea\"):b==CKEDITOR.ELEMENT_MODE_REPLACE?!a.is(CKEDITOR.dtd.$nonBodyContent):1}function c(){var a=this.commands,b;for(b in a)e(this,a[b])}function e(a,b){b[b.startDisabled?\"disable\":a.readOnly&&\n!b.readOnly?\"disable\":b.modes[a.mode]?\"enable\":\"disable\"]()}function l(a,b,c){if(b){var d,e,g=a.commands;for(e in g)d=g[e],(c||d.contextSensitive)&&d.refresh(a,b)}}function k(a){var b=a.config.customConfig;if(!b)return!1;var b=CKEDITOR.getUrl(b),c=v[b]||(v[b]={});c.fn?(c.fn.call(a,a.config),CKEDITOR.getUrl(a.config.customConfig)!=b&&k(a)||a.fireOnce(\"customConfigLoaded\")):CKEDITOR.scriptLoader.queue(b,function(){c.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){};k(a)});return!0}function d(a,\nb){a.on(\"customConfigLoaded\",function(){if(b){if(b.on)for(var c in b.on)a.on(c,b.on[c]);CKEDITOR.tools.extend(a.config,b,!0);delete a.config.on}c=a.config;a.readOnly=c.readOnly?!0:a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.is(\"textarea\")?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):a.element.isReadOnly():a.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.element.hasAttribute(\"disabled\")||a.element.hasAttribute(\"readonly\"):!1;a.blockless=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\n!(a.element.is(\"textarea\")||CKEDITOR.dtd[a.element.getName()].p):!1;a.tabIndex=c.tabIndex||a.element&&a.element.getAttribute(\"tabindex\")||0;a.activeEnterMode=a.enterMode=a.blockless?CKEDITOR.ENTER_BR:c.enterMode;a.activeShiftEnterMode=a.shiftEnterMode=a.blockless?CKEDITOR.ENTER_BR:c.shiftEnterMode;c.skin&&(CKEDITOR.skinName=c.skin);a.fireOnce(\"configLoaded\");a.dataProcessor=new CKEDITOR.htmlDataProcessor(a);a.filter=a.activeFilter=new CKEDITOR.filter(a);h(a)});b&&null!=b.customConfig&&(a.config.customConfig=\nb.customConfig);k(a)||a.fireOnce(\"customConfigLoaded\")}function h(a){CKEDITOR.skin.loadPart(\"editor\",function(){m(a)})}function m(a){CKEDITOR.lang.load(a.config.language,a.config.defaultLanguage,function(b,c){var d=a.config.title;a.langCode=b;a.lang=CKEDITOR.tools.prototypedCopy(c);a.title=\"string\"==typeof d||!1===d?d:[a.lang.editor,a.name].join(\", \");a.config.contentsLangDirection||(a.config.contentsLangDirection=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.element.getDirection(1):a.lang.dir);a.fire(\"langLoaded\");\ng(a)})}function g(a){a.getStylesSet(function(b){a.once(\"loaded\",function(){a.fire(\"stylesSet\",{styles:b})},null,null,1);n(a)})}function n(a){var b=a.config,c=b.plugins,d=b.extraPlugins,e=b.removePlugins;if(d)var g=new RegExp(\"(?:^|,)(?:\"+d.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(g,\"\"),c=c+(\",\"+d);if(e)var f=new RegExp(\"(?:^|,)(?:\"+e.replace(/\\s*,\\s*/g,\"|\")+\")(?\\x3d,|$)\",\"g\"),c=c.replace(f,\"\");CKEDITOR.env.air&&(c+=\",adobeair\");CKEDITOR.plugins.load(c.split(\",\"),function(c){var d=[],\ne=[],g=[];a.plugins=c;for(var h in c){var q=c[h],m=q.lang,l=null,k=q.requires,w;CKEDITOR.tools.isArray(k)&&(k=k.join(\",\"));if(k&&(w=k.match(f)))for(;k=w.pop();)CKEDITOR.error(\"editor-plugin-required\",{plugin:k.replace(\",\",\"\"),requiredBy:h});m&&!a.lang[h]&&(m.split&&(m=m.split(\",\")),0<=CKEDITOR.tools.indexOf(m,a.langCode)?l=a.langCode:(l=a.langCode.replace(/-.*/,\"\"),l=l!=a.langCode&&0<=CKEDITOR.tools.indexOf(m,l)?l:0<=CKEDITOR.tools.indexOf(m,\"en\")?\"en\":m[0]),q.langEntries&&q.langEntries[l]?(a.lang[h]=\nq.langEntries[l],l=null):g.push(CKEDITOR.getUrl(q.path+\"lang/\"+l+\".js\")));e.push(l);d.push(q)}CKEDITOR.scriptLoader.load(g,function(){for(var c=[\"beforeInit\",\"init\",\"afterInit\"],g=0;g<c.length;g++)for(var f=0;f<d.length;f++){var h=d[f];0===g&&e[f]&&h.lang&&h.langEntries&&(a.lang[h.name]=h.langEntries[e[f]]);if(h[c[g]])h[c[g]](a)}a.fireOnce(\"pluginsLoaded\");b.keystrokes&&a.setKeystroke(a.config.keystrokes);for(f=0;f<a.config.blockedKeystrokes.length;f++)a.keystrokeHandler.blockedKeystrokes[a.config.blockedKeystrokes[f]]=\n1;a.status=\"loaded\";a.fireOnce(\"loaded\");CKEDITOR.fire(\"instanceLoaded\",null,a)})})}function p(){var a=this.element;if(a&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var b=this.getData();this.config.htmlEncodeOutput&&(b=CKEDITOR.tools.htmlEncode(b));a.is(\"textarea\")?a.setValue(b):a.setHtml(b);return!0}return!1}function r(a,b){function c(a){var b=a.startContainer,d=a.endContainer;return b.is&&(b.is(\"tr\")||b.is(\"td\")&&b.equals(d)&&a.endOffset===b.getChildCount())?!0:!1}function d(a){var b=a.startContainer;\nreturn b.is(\"tr\")?a.cloneContents():b.clone(!0)}for(var e=new CKEDITOR.dom.documentFragment,g,f,h,m=0;m<a.length;m++){var l=a[m],k=l.startContainer.getAscendant(\"tr\",!0);c(l)?(g||(g=k.getAscendant(\"table\").clone(),g.append(k.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),e.append(g),g=g.findOne(\"thead, tbody, tfoot\")),f&&f.equals(k)||(f=k,h=k.clone(),g.append(h)),h.append(d(l))):e.append(l.cloneContents())}return g?e:b.getHtmlFromRange(a[0])}a.prototype=CKEDITOR.editor.prototype;CKEDITOR.editor=\na;var x=0,v={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(a,b){b.name=a.toLowerCase();var c=new CKEDITOR.command(this,b);this.mode&&e(this,c);return this.commands[a]=c},_attachToForm:function(){function a(b){c.updateElement();c._.required&&!d.getValue()&&!1===c.fire(\"required\")&&b.data.preventDefault()}function b(a){return!!(a&&a.call&&a.apply)}var c=this,d=c.element,e=new CKEDITOR.dom.element(d.$.form);d.is(\"textarea\")&&e&&(e.on(\"submit\",a),b(e.$.submit)&&(e.$.submit=CKEDITOR.tools.override(e.$.submit,\nfunction(b){return function(){a();b.apply?b.apply(this):b()}})),c.on(\"destroy\",function(){e.removeListener(\"submit\",a)}))},destroy:function(a){this.fire(\"beforeDestroy\");!a&&p.call(this);this.editable(null);this.filter&&(this.filter.destroy(),delete this.filter);delete this.activeFilter;this.status=\"destroyed\";this.fire(\"destroy\");this.removeAllListeners();CKEDITOR.remove(this);CKEDITOR.fire(\"instanceDestroyed\",null,this)},elementPath:function(a){if(!a){a=this.getSelection();if(!a)return null;a=a.getStartElement()}return a?\nnew CKEDITOR.dom.elementPath(a,this.editable()):null},createRange:function(){var a=this.editable();return a?new CKEDITOR.dom.range(a):null},execCommand:function(a,b){var c=this.getCommand(a),d={name:a,commandData:b||{},command:c};return c&&c.state!=CKEDITOR.TRISTATE_DISABLED&&!1!==this.fire(\"beforeCommandExec\",d)&&(d.returnValue=c.exec(d.commandData),!c.async&&!1!==this.fire(\"afterCommandExec\",d))?d.returnValue:!1},getCommand:function(a){return this.commands[a]},getData:function(a){!a&&this.fire(\"beforeGetData\");\nvar b=this._.data;\"string\"!=typeof b&&(b=(b=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?b.is(\"textarea\")?b.getValue():b.getHtml():\"\");b={dataValue:b};!a&&this.fire(\"getData\",b);return b.dataValue},getSnapshot:function(){var a=this.fire(\"getSnapshot\");\"string\"!=typeof a&&(a=(a=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?a.is(\"textarea\")?a.getValue():a.getHtml():\"\");return a},loadSnapshot:function(a){this.fire(\"loadSnapshot\",a)},setData:function(a,b,c){var d=!0,\ne=b;b&&\"object\"==typeof b&&(c=b.internal,e=b.callback,d=!b.noSnapshot);!c&&d&&this.fire(\"saveSnapshot\");if(e||!c)this.once(\"dataReady\",function(a){!c&&d&&this.fire(\"saveSnapshot\");e&&e.call(a.editor)});a={dataValue:a};!c&&this.fire(\"setData\",a);this._.data=a.dataValue;!c&&this.fire(\"afterSetData\",a)},setReadOnly:function(a){a=null==a||a;this.readOnly!=a&&(this.readOnly=a,this.keystrokeHandler.blockedKeystrokes[8]=+a,this.editable().setReadOnly(a),this.fire(\"readOnly\"))},insertHtml:function(a,b,c){this.fire(\"insertHtml\",\n{dataValue:a,mode:b,range:c})},insertText:function(a){this.fire(\"insertText\",a)},insertElement:function(a){this.fire(\"insertElement\",a)},getSelectedHtml:function(a){var b=this.editable(),c=this.getSelection(),c=c&&c.getRanges();if(!b||!c||0===c.length)return null;b=r(c,b);return a?b.getHtml():b},extractSelectedHtml:function(a,b){var c=this.editable(),d=this.getSelection().getRanges(),e=new CKEDITOR.dom.documentFragment,g;if(!c||0===d.length)return null;for(g=0;g<d.length;g++)e.append(c.extractHtmlFromRange(d[g],\nb));b||this.getSelection().selectRanges([d[0]]);return a?e.getHtml():e},focus:function(){this.fire(\"beforeFocus\")},checkDirty:function(){return\"ready\"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return p.call(this)},setKeystroke:function(){for(var a=this.keystrokeHandler.keystrokes,b=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],c,d,e=b.length;e--;)c=b[e],d=0,CKEDITOR.tools.isArray(c)&&\n(d=c[1],c=c[0]),d?a[c]=d:delete a[c]},getCommandKeystroke:function(a){if(a=\"string\"===typeof a?this.getCommand(a):a){var b=a&&a.name,c=this.keystrokeHandler.keystrokes,d;if(a.fakeKeystroke)return a.fakeKeystroke;for(d in c)if(c.hasOwnProperty(d)&&c[d]==b)return d}return null},addFeature:function(a){return this.filter.addFeature(a)},setActiveFilter:function(a){a||(a=this.filter);this.activeFilter!==a&&(this.activeFilter=a,this.fire(\"activeFilterChange\"),a===this.filter?this.setActiveEnterMode(null,\nnull):this.setActiveEnterMode(a.getAllowedEnterMode(this.enterMode),a.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(a,b){a=a?this.blockless?CKEDITOR.ENTER_BR:a:this.enterMode;b=b?this.blockless?CKEDITOR.ENTER_BR:b:this.shiftEnterMode;if(this.activeEnterMode!=a||this.activeShiftEnterMode!=b)this.activeEnterMode=a,this.activeShiftEnterMode=b,this.fire(\"activeEnterModeChange\")},showNotification:function(a){alert(a)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=\n1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)--\\x3e)|(?:([^\\/\\s>]+)((?:\\s+[\\w\\-:.]+(?:\\s*=\\s*?(?:(?:\"[^\"]*\")|(?:'[^']*')|[^\\s\"'\\/>]+))?)*)[\\S\\s]*?(\\/?)>))/g}},function(){var a=/([\\w\\-:.]+)(?:(?:\\s*=\\s*(?:(?:\"([^\"]*)\")|(?:'([^']*)')|([^\\s>]+)))|(?=\\s|$))/g,f={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};\nCKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(b){for(var c,e,l=0,k;c=this._.htmlPartsRegex.exec(b);){e=c.index;if(e>l)if(l=b.substring(l,e),k)k.push(l);else this.onText(l);l=this._.htmlPartsRegex.lastIndex;if(e=c[1])if(e=e.toLowerCase(),k&&CKEDITOR.dtd.$cdata[e]&&(this.onCDATA(k.join(\"\")),k=null),!k){this.onTagClose(e);continue}if(k)k.push(c[0]);else if(e=c[3]){if(e=e.toLowerCase(),!/=\"/.test(e)){var d=\n{},h,m=c[4];c=!!c[5];if(m)for(;h=a.exec(m);){var g=h[1].toLowerCase();h=h[2]||h[3]||h[4]||\"\";d[g]=!h&&f[g]?g:CKEDITOR.tools.htmlDecodeAttr(h)}this.onTagOpen(e,d,c);!k&&CKEDITOR.dtd.$cdata[e]&&(k=[])}}else if(e=c[2])this.onComment(e)}if(b.length>l)this.onText(b.substring(l,b.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(a){this._.output.push(\"\\x3c\",a)},openTagClose:function(a,f){f?this._.output.push(\" /\\x3e\"):this._.output.push(\"\\x3e\")},\nattribute:function(a,f){\"string\"==typeof f&&(f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(\" \",a,'\\x3d\"',f,'\"')},closeTag:function(a){this._.output.push(\"\\x3c/\",a,\"\\x3e\")},text:function(a){this._.output.push(a)},comment:function(a){this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},write:function(a){this._.output.push(a)},reset:function(){this._.output=[];this._.indent=!1},getHtml:function(a){var f=this._.output.join(\"\");a&&this.reset();return f}}}),\"use strict\",function(){CKEDITOR.htmlParser.node=\nfunction(){};CKEDITOR.htmlParser.node.prototype={remove:function(){var a=this.parent.children,f=CKEDITOR.tools.indexOf(a,this),b=this.previous,c=this.next;b&&(b.next=c);c&&(c.previous=b);a.splice(f,1);this.parent=null},replaceWith:function(a){var f=this.parent.children,b=CKEDITOR.tools.indexOf(f,this),c=a.previous=this.previous,e=a.next=this.next;c&&(c.next=a);e&&(e.previous=a);f[b]=a;a.parent=this.parent;this.parent=null},insertAfter:function(a){var f=a.parent.children,b=CKEDITOR.tools.indexOf(f,\na),c=a.next;f.splice(b+1,0,this);this.next=a.next;this.previous=a;a.next=this;c&&(c.previous=this);this.parent=a.parent},insertBefore:function(a){var f=a.parent.children,b=CKEDITOR.tools.indexOf(f,a);f.splice(b,0,this);this.next=a;(this.previous=a.previous)&&(a.previous.next=this);a.previous=this;this.parent=a.parent},getAscendant:function(a){var f=\"function\"==typeof a?a:\"string\"==typeof a?function(b){return b.name==a}:function(b){return b.name in a},b=this.parent;for(;b&&b.type==CKEDITOR.NODE_ELEMENT;){if(f(b))return b;\nb=b.parent}return null},wrapWith:function(a){this.replaceWith(a);a.add(this);return a},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(a){return a||{}}}}(),\"use strict\",CKEDITOR.htmlParser.comment=function(a){this.value=a;this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(a,f){var b=this.value;if(!(b=a.onComment(f,b,this)))return this.remove(),\n!1;if(\"string\"!=typeof b)return this.replaceWith(b),!1;this.value=b;return!0},writeHtml:function(a,f){f&&this.filter(f);a.comment(this.value)}}),\"use strict\",function(){CKEDITOR.htmlParser.text=function(a){this.value=a;this._={isBlockLike:!1}};CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(a,f){if(!(this.value=a.onText(f,this.value,this)))return this.remove(),!1},writeHtml:function(a,f){f&&this.filter(f);a.text(this.value)}})}(),\n\"use strict\",function(){CKEDITOR.htmlParser.cdata=function(a){this.value=a};CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(a){a.write(this.value)}})}(),\"use strict\",CKEDITOR.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function a(a){return a.attributes[\"data-cke-survive\"]?!1:\"a\"==a.name&&a.attributes.href||CKEDITOR.dtd.$removeEmpty[a.name]}\nvar f=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),b={ol:1,ul:1},c=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),e={ul:\"li\",ol:\"li\",dl:\"dd\",table:\"tbody\",tbody:\"tr\",thead:\"tr\",tfoot:\"tr\",tr:\"td\"};CKEDITOR.htmlParser.fragment.fromHtml=function(l,k,d){function h(a){var b;if(0<u.length)for(var c=0;c<u.length;c++){var d=u[c],e=d.name,g=CKEDITOR.dtd[e],f=y.name&&CKEDITOR.dtd[y.name];\nf&&!f[e]||a&&g&&!g[a]&&CKEDITOR.dtd[a]?e==y.name&&(n(y,y.parent,1),c--):(b||(m(),b=1),d=d.clone(),d.parent=y,y=d,u.splice(c,1),c--)}}function m(){for(;t.length;)n(t.shift(),y)}function g(a){if(a._.isBlockLike&&\"pre\"!=a.name&&\"textarea\"!=a.name){var b=a.children.length,c=a.children[b-1],d;c&&c.type==CKEDITOR.NODE_TEXT&&((d=CKEDITOR.tools.rtrim(c.value))?c.value=d:a.children.length=b-1)}}function n(b,c,e){c=c||y||v;var f=y;void 0===b.previous&&(p(c,b)&&(y=c,x.onTagOpen(d,{}),b.returnPoint=c=y),g(b),\na(b)&&!b.children.length||c.add(b),\"pre\"==b.name&&(q=!1),\"textarea\"==b.name&&(A=!1));b.returnPoint?(y=b.returnPoint,delete b.returnPoint):y=e?c:f}function p(a,b){if((a==v||\"body\"==a.name)&&d&&(!a.name||CKEDITOR.dtd[a.name][d])){var c,e;return(c=b.attributes&&(e=b.attributes[\"data-cke-real-element-type\"])?e:b.name)&&c in CKEDITOR.dtd.$inline&&!(c in CKEDITOR.dtd.head)&&!b.isOrphan||b.type==CKEDITOR.NODE_TEXT}}function r(a,b){return a in CKEDITOR.dtd.$listItem||a in CKEDITOR.dtd.$tableContent?a==b||\n\"dt\"==a&&\"dd\"==b||\"dd\"==a&&\"dt\"==b:!1}var x=new CKEDITOR.htmlParser,v=k instanceof CKEDITOR.htmlParser.element?k:\"string\"==typeof k?new CKEDITOR.htmlParser.element(k):new CKEDITOR.htmlParser.fragment,u=[],t=[],y=v,A=\"textarea\"==v.name,q=\"pre\"==v.name;x.onTagOpen=function(d,e,g,l){e=new CKEDITOR.htmlParser.element(d,e);e.isUnknown&&g&&(e.isEmpty=!0);e.isOptionalClose=l;if(a(e))u.push(e);else{if(\"pre\"==d)q=!0;else{if(\"br\"==d&&q){y.add(new CKEDITOR.htmlParser.text(\"\\n\"));return}\"textarea\"==d&&(A=!0)}if(\"br\"==\nd)t.push(e);else{for(;!(l=(g=y.name)?CKEDITOR.dtd[g]||(y._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c,e.isUnknown||y.isUnknown||l[d]);)if(y.isOptionalClose)x.onTagClose(g);else if(d in b&&g in b)g=y.children,(g=g[g.length-1])&&\"li\"==g.name||n(g=new CKEDITOR.htmlParser.element(\"li\"),y),!e.returnPoint&&(e.returnPoint=y),y=g;else if(d in CKEDITOR.dtd.$listItem&&!r(d,g))x.onTagOpen(\"li\"==d?\"ul\":\"dl\",{},0,1);else if(g in f&&!r(d,g))!e.returnPoint&&(e.returnPoint=y),y=y.parent;else if(g in CKEDITOR.dtd.$inline&&\nu.unshift(y),y.parent)n(y,y.parent,1);else{e.isOrphan=1;break}h(d);m();e.parent=y;e.isEmpty?n(e):y=e}}};x.onTagClose=function(a){for(var b=u.length-1;0<=b;b--)if(a==u[b].name){u.splice(b,1);return}for(var c=[],e=[],g=y;g!=v&&g.name!=a;)g._.isBlockLike||e.unshift(g),c.push(g),g=g.returnPoint||g.parent;if(g!=v){for(b=0;b<c.length;b++){var f=c[b];n(f,f.parent)}y=g;g._.isBlockLike&&m();n(g,g.parent);g==y&&(y=y.parent);u=u.concat(e)}\"body\"==a&&(d=!1)};x.onText=function(a){if(!(y._.hasInlineStarted&&!t.length||\nq||A)&&(a=CKEDITOR.tools.ltrim(a),0===a.length))return;var b=y.name,g=b?CKEDITOR.dtd[b]||(y._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):c;if(!A&&!g[\"#\"]&&b in f)x.onTagOpen(e[b]||\"\"),x.onText(a);else{m();h();q||A||(a=a.replace(/[\\t\\r\\n ]{2,}|[\\t\\r\\n]/g,\" \"));a=new CKEDITOR.htmlParser.text(a);if(p(y,a))this.onTagOpen(d,{},0,1);y.add(a)}};x.onCDATA=function(a){y.add(new CKEDITOR.htmlParser.cdata(a))};x.onComment=function(a){m();h();y.add(new CKEDITOR.htmlParser.comment(a))};x.parse(l);for(m();y!=\nv;)n(y,y.parent,1);g(v);return v};CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(a,b){isNaN(b)&&(b=this.children.length);var c=0<b?this.children[b-1]:null;if(c){if(a._.isBlockLike&&c.type==CKEDITOR.NODE_TEXT&&(c.value=CKEDITOR.tools.rtrim(c.value),0===c.value.length)){this.children.pop();this.add(a);return}c.next=a}a.previous=c;a.parent=this;this.children.splice(b,0,a);this._.hasInlineStarted||(this._.hasInlineStarted=a.type==CKEDITOR.NODE_TEXT||a.type==\nCKEDITOR.NODE_ELEMENT&&!a._.isBlockLike)},filter:function(a,b){b=this.getFilterContext(b);a.onRoot(b,this);this.filterChildren(a,!1,b)},filterChildren:function(a,b,c){if(this.childrenFilteredBy!=a.id){c=this.getFilterContext(c);if(b&&!this.parent)a.onRoot(c,this);this.childrenFilteredBy=a.id;for(b=0;b<this.children.length;b++)!1===this.children[b].filter(a,c)&&b--}},writeHtml:function(a,b){b&&this.filter(b);this.writeChildrenHtml(a)},writeChildrenHtml:function(a,b,c){var e=this.getFilterContext();\nif(c&&!this.parent&&b)b.onRoot(e,this);b&&this.filterChildren(b,!1,e);b=0;c=this.children;for(e=c.length;b<e;b++)c[b].writeHtml(a)},forEach:function(a,b,c){if(!(c||b&&this.type!=b))var e=a(this);if(!1!==e){c=this.children;for(var f=0;f<c.length;f++)e=c[f],e.type==CKEDITOR.NODE_ELEMENT?e.forEach(a,b):b&&e.type!=b||a(e)}},getFilterContext:function(a){return a||{}}}}(),\"use strict\",function(){function a(){this.rules=[]}function f(b,c,e,f){var k,d;for(k in c)(d=b[k])||(d=b[k]=new a),d.add(c[k],e,f)}CKEDITOR.htmlParser.filter=\nCKEDITOR.tools.createClass({$:function(b){this.id=CKEDITOR.tools.getNextNumber();this.elementNameRules=new a;this.attributeNameRules=new a;this.elementsRules={};this.attributesRules={};this.textRules=new a;this.commentRules=new a;this.rootRules=new a;b&&this.addRules(b,10)},proto:{addRules:function(a,c){var e;\"number\"==typeof c?e=c:c&&\"priority\"in c&&(e=c.priority);\"number\"!=typeof e&&(e=10);\"object\"!=typeof c&&(c={});a.elementNames&&this.elementNameRules.addMany(a.elementNames,e,c);a.attributeNames&&\nthis.attributeNameRules.addMany(a.attributeNames,e,c);a.elements&&f(this.elementsRules,a.elements,e,c);a.attributes&&f(this.attributesRules,a.attributes,e,c);a.text&&this.textRules.add(a.text,e,c);a.comment&&this.commentRules.add(a.comment,e,c);a.root&&this.rootRules.add(a.root,e,c)},applyTo:function(a){a.filter(this)},onElementName:function(a,c){return this.elementNameRules.execOnName(a,c)},onAttributeName:function(a,c){return this.attributeNameRules.execOnName(a,c)},onText:function(a,c,e){return this.textRules.exec(a,\nc,e)},onComment:function(a,c,e){return this.commentRules.exec(a,c,e)},onRoot:function(a,c){return this.rootRules.exec(a,c)},onElement:function(a,c){for(var e=[this.elementsRules[\"^\"],this.elementsRules[c.name],this.elementsRules.$],f,k=0;3>k;k++)if(f=e[k]){f=f.exec(a,c,this);if(!1===f)return null;if(f&&f!=c)return this.onNode(a,f);if(c.parent&&!c.name)break}return c},onNode:function(a,c){var e=c.type;return e==CKEDITOR.NODE_ELEMENT?this.onElement(a,c):e==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(a,\nc.value)):e==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(a,c.value)):null},onAttribute:function(a,c,e,f){return(e=this.attributesRules[e])?e.exec(a,f,c,this):f}}});CKEDITOR.htmlParser.filterRulesGroup=a;a.prototype={add:function(a,c,e){this.rules.splice(this.findIndex(c),0,{value:a,priority:c,options:e})},addMany:function(a,c,e){for(var f=[this.findIndex(c),0],k=0,d=a.length;k<d;k++)f.push({value:a[k],priority:c,options:e});this.rules.splice.apply(this.rules,f)},findIndex:function(a){for(var c=\nthis.rules,e=c.length-1;0<=e&&a<c[e].priority;)e--;return e+1},exec:function(a,c){var e=c instanceof CKEDITOR.htmlParser.node||c instanceof CKEDITOR.htmlParser.fragment,f=Array.prototype.slice.call(arguments,1),k=this.rules,d=k.length,h,m,g,n;for(n=0;n<d;n++)if(e&&(h=c.type,m=c.name),g=k[n],!(a.nonEditable&&!g.options.applyToAll||a.nestedEditable&&g.options.excludeNestedEditable)){g=g.value.apply(null,f);if(!1===g||e&&g&&(g.name!=m||g.type!=h))return g;null!=g&&(f[0]=c=g)}return c},execOnName:function(a,\nc){for(var e=0,f=this.rules,k=f.length,d;c&&e<k;e++)d=f[e],a.nonEditable&&!d.options.applyToAll||a.nestedEditable&&d.options.excludeNestedEditable||(c=c.replace(d.value[0],d.value[1]));return c}}}(),function(){function a(a,d){function g(a){return a||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text(\"Â \"):new CKEDITOR.htmlParser.element(\"br\",{\"data-cke-bogus\":1})}function f(a,d){return function(e){if(e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var f=[],q=b(e),m,k;if(q)for(h(q,1)&&f.push(q);q;)l(q)&&\n(m=c(q))&&h(m)&&((k=c(m))&&!l(k)?f.push(m):(g(D).insertAfter(m),m.remove())),q=q.previous;for(q=0;q<f.length;q++)f[q].remove();if(f=!a||!1!==(\"function\"==typeof d?d(e):d))D||CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT?D||CKEDITOR.env.needsBrFiller||!(7<document.documentMode||e.name in CKEDITOR.dtd.tr||e.name in CKEDITOR.dtd.$listItem)?(f=b(e),f=!f||\"form\"==e.name&&\"input\"==f.name):f=!1:f=!1;f&&e.add(g(a))}}}function h(a,b){if((!D||CKEDITOR.env.needsBrFiller)&&a.type==CKEDITOR.NODE_ELEMENT&&\n\"br\"==a.name&&!a.attributes[\"data-cke-eol\"])return!0;var c;return a.type==CKEDITOR.NODE_TEXT&&(c=a.value.match(u))&&(c.index&&((new CKEDITOR.htmlParser.text(a.value.substring(0,c.index))).insertBefore(a),a.value=c[0]),!CKEDITOR.env.needsBrFiller&&D&&(!b||a.parent.name in L)||!D&&((c=a.previous)&&\"br\"==c.name||!c||l(c)))?!0:!1}var m={elements:{}},D=\"html\"==d,L=CKEDITOR.tools.extend({},q),w;for(w in L)\"#\"in y[w]||delete L[w];for(w in L)m.elements[w]=f(D,a.config.fillEmptyBlocks);m.root=f(D,!1);m.elements.br=\nfunction(a){return function(b){if(b.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var d=b.attributes;if(\"data-cke-bogus\"in d||\"data-cke-eol\"in d)delete d[\"data-cke-bogus\"];else{for(d=b.next;d&&e(d);)d=d.next;var f=c(b);!d&&l(b.parent)?k(b.parent,g(a)):l(d)&&f&&!l(f)&&g(a).insertBefore(d)}}}}(D);return m}function f(a,b){return a!=CKEDITOR.ENTER_BR&&!1!==b?a==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function b(a){for(a=a.children[a.children.length-1];a&&e(a);)a=a.previous;return a}function c(a){for(a=a.previous;a&&\ne(a);)a=a.previous;return a}function e(a){return a.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(a.value)||a.type==CKEDITOR.NODE_ELEMENT&&a.attributes[\"data-cke-bookmark\"]}function l(a){return a&&(a.type==CKEDITOR.NODE_ELEMENT&&a.name in q||a.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function k(a,b){var c=a.children[a.children.length-1];a.children.push(b);b.parent=a;c&&(c.next=b,b.previous=c)}function d(a){a=a.attributes;\"false\"!=a.contenteditable&&(a[\"data-cke-editable\"]=a.contenteditable?\"true\":1);\na.contenteditable=\"false\"}function h(a){a=a.attributes;switch(a[\"data-cke-editable\"]){case \"true\":a.contenteditable=\"true\";break;case \"1\":delete a.contenteditable}}function m(a){return a.replace(E,function(a,b,c){return\"\\x3c\"+b+c.replace(G,function(a,b){return F.test(b)&&-1==c.indexOf(\"data-cke-saved-\"+b)?\" data-cke-saved-\"+a+\" data-cke-\"+CKEDITOR.rnd+\"-\"+a:a})+\"\\x3e\"})}function g(a,b){return a.replace(b,function(a,b,c){0===a.indexOf(\"\\x3ctextarea\")&&(a=b+r(c).replace(/</g,\"\\x26lt;\").replace(/>/g,\n\"\\x26gt;\")+\"\\x3c/textarea\\x3e\");return\"\\x3ccke:encoded\\x3e\"+encodeURIComponent(a)+\"\\x3c/cke:encoded\\x3e\"})}function n(a){return a.replace(M,function(a,b){return decodeURIComponent(b)})}function p(a){return a.replace(/\\x3c!--(?!{cke_protected})[\\s\\S]+?--\\x3e/g,function(a){return\"\\x3c!--\"+t+\"{C}\"+encodeURIComponent(a).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"})}function r(a){return a.replace(/\\x3c!--\\{cke_protected\\}\\{C\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)})}function x(a,b){var c=b._.dataStore;\nreturn a.replace(/\\x3c!--\\{cke_protected\\}([\\s\\S]+?)--\\x3e/g,function(a,b){return decodeURIComponent(b)}).replace(/\\{cke_protected_(\\d+)\\}/g,function(a,b){return c&&c[b]||\"\"})}function v(a,b){var c=[],d=b.config.protectedSource,e=b._.dataStore||(b._.dataStore={id:1}),g=/<\\!--\\{cke_temp(comment)?\\}(\\d*?)--\\x3e/g,d=[/<script[\\s\\S]*?(<\\/script>|$)/gi,/<noscript[\\s\\S]*?<\\/noscript>/gi,/<meta[\\s\\S]*?\\/?>/gi].concat(d);a=a.replace(/\\x3c!--[\\s\\S]*?--\\x3e/g,function(a){return\"\\x3c!--{cke_tempcomment}\"+(c.push(a)-\n1)+\"--\\x3e\"});for(var f=0;f<d.length;f++)a=a.replace(d[f],function(a){a=a.replace(g,function(a,b,d){return c[d]});return/cke_temp(comment)?/.test(a)?a:\"\\x3c!--{cke_temp}\"+(c.push(a)-1)+\"--\\x3e\"});a=a.replace(g,function(a,b,d){return\"\\x3c!--\"+t+(b?\"{C}\":\"\")+encodeURIComponent(c[d]).replace(/--/g,\"%2D%2D\")+\"--\\x3e\"});a=a.replace(/<\\w+(?:\\s+(?:(?:[^\\s=>]+\\s*=\\s*(?:[^'\"\\s>]+|'[^']*'|\"[^\"]*\"))|[^\\s=\\/>]+))+\\s*\\/?>/g,function(a){return a.replace(/\\x3c!--\\{cke_protected\\}([^>]*)--\\x3e/g,function(a,b){e[e.id]=\ndecodeURIComponent(b);return\"{cke_protected_\"+e.id++ +\"}\"})});return a=a.replace(/<(title|iframe|textarea)([^>]*)>([\\s\\S]*?)<\\/\\1>/g,function(a,c,d,e){return\"\\x3c\"+c+d+\"\\x3e\"+x(r(e),b)+\"\\x3c/\"+c+\"\\x3e\"})}CKEDITOR.htmlDataProcessor=function(b){var c,d,e=this;this.editor=b;this.dataFilter=c=new CKEDITOR.htmlParser.filter;this.htmlFilter=d=new CKEDITOR.htmlParser.filter;this.writer=new CKEDITOR.htmlParser.basicWriter;c.addRules(w);c.addRules(B,{applyToAll:!0});c.addRules(a(b,\"data\"),{applyToAll:!0});\nd.addRules(z);d.addRules(C,{applyToAll:!0});d.addRules(a(b,\"html\"),{applyToAll:!0});b.on(\"toHtml\",function(a){a=a.data;var c=a.dataValue,d,c=v(c,b),c=g(c,H),c=m(c),c=g(c,J),c=c.replace(L,\"$1cke:$2\"),c=c.replace(T,\"\\x3ccke:$1$2\\x3e\\x3c/cke:$1\\x3e\"),c=c.replace(/(<pre\\b[^>]*>)(\\r\\n|\\n)/g,\"$1$2$2\"),c=c.replace(/([^a-z0-9<\\-])(on\\w{3,})(?!>)/gi,\"$1data-cke-\"+CKEDITOR.rnd+\"-$2\");d=a.context||b.editable().getName();var e;CKEDITOR.env.ie&&9>CKEDITOR.env.version&&\"pre\"==d&&(d=\"div\",c=\"\\x3cpre\\x3e\"+c+\"\\x3c/pre\\x3e\",\ne=1);d=b.document.createElement(d);d.setHtml(\"a\"+c);c=d.getHtml().substr(1);c=c.replace(new RegExp(\"data-cke-\"+CKEDITOR.rnd+\"-\",\"ig\"),\"\");e&&(c=c.replace(/^<pre>|<\\/pre>$/gi,\"\"));c=c.replace(D,\"$1$2\");c=n(c);c=r(c);d=!1===a.fixForBody?!1:f(a.enterMode,b.config.autoParagraph);c=CKEDITOR.htmlParser.fragment.fromHtml(c,a.context,d);d&&(e=c,!e.children.length&&CKEDITOR.dtd[e.name][d]&&(d=new CKEDITOR.htmlParser.element(d),e.add(d)));a.dataValue=c},null,null,5);b.on(\"toHtml\",function(a){a.data.filter.applyTo(a.data.dataValue,\n!0,a.data.dontFilter,a.data.enterMode)&&b.fire(\"dataFiltered\")},null,null,6);b.on(\"toHtml\",function(a){a.data.dataValue.filterChildren(e.dataFilter,!0)},null,null,10);b.on(\"toHtml\",function(a){a=a.data;var b=a.dataValue,c=new CKEDITOR.htmlParser.basicWriter;b.writeChildrenHtml(c);b=c.getHtml(!0);a.dataValue=p(b)},null,null,15);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue;a.data.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/^<br *\\/?>/i,\"\"));a.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(c,\na.data.context,f(a.data.enterMode,b.config.autoParagraph))},null,null,5);b.on(\"toDataFormat\",function(a){a.data.dataValue.filterChildren(e.htmlFilter,!0)},null,null,10);b.on(\"toDataFormat\",function(a){a.data.filter.applyTo(a.data.dataValue,!1,!0)},null,null,11);b.on(\"toDataFormat\",function(a){var c=a.data.dataValue,d=e.writer;d.reset();c.writeChildrenHtml(d);c=d.getHtml(!0);c=r(c);c=x(c,b);a.data.dataValue=c},null,null,15)};CKEDITOR.htmlDataProcessor.prototype={toHtml:function(a,b,c,d){var e=this.editor,\ng,f,h,q;b&&\"object\"==typeof b?(g=b.context,c=b.fixForBody,d=b.dontFilter,f=b.filter,h=b.enterMode,q=b.protectedWhitespaces):g=b;g||null===g||(g=e.editable().getName());return e.fire(\"toHtml\",{dataValue:a,context:g,fixForBody:c,dontFilter:d,filter:f||e.filter,enterMode:h||e.enterMode,protectedWhitespaces:q}).dataValue},toDataFormat:function(a,b){var c,d,e;b&&(c=b.context,d=b.filter,e=b.enterMode);c||null===c||(c=this.editor.editable().getName());return this.editor.fire(\"toDataFormat\",{dataValue:a,\nfilter:d||this.editor.filter,context:c,enterMode:e||this.editor.enterMode}).dataValue}};var u=/(?:&nbsp;|\\xa0)$/,t=\"{cke_protected}\",y=CKEDITOR.dtd,A=\"caption colgroup col thead tfoot tbody\".split(\" \"),q=CKEDITOR.tools.extend({},y.$blockLimit,y.$block),w={elements:{input:d,textarea:d}},B={attributeNames:[[/^on/,\"data-cke-pa-on\"],[/^srcdoc/,\"data-cke-pa-srcdoc\"],[/^data-cke-expando$/,\"\"]],elements:{iframe:function(a){if(a.attributes&&a.attributes.src){var b=a.attributes.src.toLowerCase().replace(/[^a-z]/gi,\n\"\");if(0===b.indexOf(\"javascript\")||0===b.indexOf(\"data\"))a.attributes[\"data-cke-pa-src\"]=a.attributes.src,delete a.attributes.src}}}},z={elements:{embed:function(a){var b=a.parent;if(b&&\"object\"==b.name){var c=b.attributes.width,b=b.attributes.height;c&&(a.attributes.width=c);b&&(a.attributes.height=b)}},a:function(a){var b=a.attributes;if(!(a.children.length||b.name||b.id||a.attributes[\"data-cke-saved-name\"]))return!1}}},C={elementNames:[[/^cke:/,\"\"],[/^\\?xml:namespace$/,\"\"]],attributeNames:[[/^data-cke-(saved|pa)-/,\n\"\"],[/^data-cke-.*/,\"\"],[\"hidefocus\",\"\"]],elements:{$:function(a){var b=a.attributes;if(b){if(b[\"data-cke-temp\"])return!1;for(var c=[\"name\",\"href\",\"src\"],d,e=0;e<c.length;e++)d=\"data-cke-saved-\"+c[e],d in b&&delete b[c[e]]}return a},table:function(a){a.children.slice(0).sort(function(a,b){var c,d;a.type==CKEDITOR.NODE_ELEMENT&&b.type==a.type&&(c=CKEDITOR.tools.indexOf(A,a.name),d=CKEDITOR.tools.indexOf(A,b.name));-1<c&&-1<d&&c!=d||(c=a.parent?a.getIndex():-1,d=b.parent?b.getIndex():-1);return c>d?\n1:-1})},param:function(a){a.children=[];a.isEmpty=!0;return a},span:function(a){\"Apple-style-span\"==a.attributes[\"class\"]&&delete a.name},html:function(a){delete a.attributes.contenteditable;delete a.attributes[\"class\"]},body:function(a){delete a.attributes.spellcheck;delete a.attributes.contenteditable},style:function(a){var b=a.children[0];b&&b.value&&(b.value=CKEDITOR.tools.trim(b.value));a.attributes.type||(a.attributes.type=\"text/css\")},title:function(a){var b=a.children[0];!b&&k(a,b=new CKEDITOR.htmlParser.text);\nb.value=a.attributes[\"data-cke-title\"]||\"\"},input:h,textarea:h},attributes:{\"class\":function(a){return CKEDITOR.tools.ltrim(a.replace(/(?:^|\\s+)cke_[^\\s]*/g,\"\"))||!1}}};CKEDITOR.env.ie&&(C.attributes.style=function(a){return a.replace(/(^|;)([^\\:]+)/g,function(a){return a.toLowerCase()})});var E=/<(a|area|img|input|source)\\b([^>]*)>/gi,G=/([\\w-:]+)\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|(?:[^ \"'>]+))/gi,F=/^(href|src|name)$/i,J=/(?:<style(?=[ >])[^>]*>[\\s\\S]*?<\\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,\nH=/(<textarea(?=[ >])[^>]*>)([\\s\\S]*?)(?:<\\/textarea>)/gi,M=/<cke:encoded>([^<]*)<\\/cke:encoded>/gi,L=/(<\\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,D=/(<\\/?)cke:((?:html|body|head|title)[^>]*>)/gi,T=/<cke:(param|embed)([^>]*?)\\/?>(?!\\s*<\\/cke:\\1)/gi}(),\"use strict\",CKEDITOR.htmlParser.element=function(a,f){this.name=a;this.attributes=f||{};this.children=[];var b=a||\"\",c=b.match(/^cke:(.*)/);c&&(b=c[1]);b=!!(CKEDITOR.dtd.$nonBodyContent[b]||CKEDITOR.dtd.$block[b]||CKEDITOR.dtd.$listItem[b]||\nCKEDITOR.dtd.$tableContent[b]||CKEDITOR.dtd.$nonEditable[b]||\"br\"==b);this.isEmpty=!!CKEDITOR.dtd.$empty[a];this.isUnknown=!CKEDITOR.dtd[a];this._={isBlockLike:b,hasInlineStarted:this.isEmpty||!b}},CKEDITOR.htmlParser.cssStyle=function(a){var f={};((a instanceof CKEDITOR.htmlParser.element?a.attributes.style:a)||\"\").replace(/&quot;/g,'\"').replace(/\\s*([^ :;]+)\\s*:\\s*([^;]+)\\s*(?=;|$)/g,function(a,c,e){\"font-family\"==c&&(e=e.replace(/[\"']/g,\"\"));f[c.toLowerCase()]=e});return{rules:f,populate:function(a){var c=\nthis.toString();c&&(a instanceof CKEDITOR.dom.element?a.setAttribute(\"style\",c):a instanceof CKEDITOR.htmlParser.element?a.attributes.style=c:a.style=c)},toString:function(){var a=[],c;for(c in f)f[c]&&a.push(c,\":\",f[c],\";\");return a.join(\"\")}}},function(){function a(a){return function(b){return b.type==CKEDITOR.NODE_ELEMENT&&(\"string\"==typeof a?b.name==a:b.name in a)}}var f=function(a,b){a=a[0];b=b[0];return a<b?-1:a>b?1:0},b=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=\nCKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:b.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(a,b){var f=this,k,d;b=f.getFilterContext(b);if(b.off)return!0;if(!f.parent)a.onRoot(b,f);for(;;){k=f.name;if(!(d=a.onElementName(b,k)))return this.remove(),!1;f.name=d;if(!(f=a.onElement(b,f)))return this.remove(),!1;if(f!==this)return this.replaceWith(f),!1;if(f.name==k)break;if(f.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(f),\n!1;if(!f.name)return this.replaceWithChildren(),!1}k=f.attributes;var h,m;for(h in k){for(d=k[h];;)if(m=a.onAttributeName(b,h))if(m!=h)delete k[h],h=m;else break;else{delete k[h];break}m&&(!1===(d=a.onAttribute(b,f,m,d))?delete k[m]:k[m]=d)}f.isEmpty||this.filterChildren(a,!1,b);return!0},filterChildren:b.filterChildren,writeHtml:function(a,b){b&&this.filter(b);var l=this.name,k=[],d=this.attributes,h,m;a.openTag(l,d);for(h in d)k.push([h,d[h]]);a.sortAttributes&&k.sort(f);h=0;for(m=k.length;h<m;h++)d=\nk[h],a.attribute(d[0],d[1]);a.openTagClose(l,this.isEmpty);this.writeChildrenHtml(a);this.isEmpty||a.closeTag(l)},writeChildrenHtml:b.writeChildrenHtml,replaceWithChildren:function(){for(var a=this.children,b=a.length;b;)a[--b].insertAfter(this);this.remove()},forEach:b.forEach,getFirst:function(b){if(!b)return this.children.length?this.children[0]:null;\"function\"!=typeof b&&(b=a(b));for(var e=0,f=this.children.length;e<f;++e)if(b(this.children[e]))return this.children[e];return null},getHtml:function(){var a=\nnew CKEDITOR.htmlParser.basicWriter;this.writeChildrenHtml(a);return a.getHtml()},setHtml:function(a){a=this.children=CKEDITOR.htmlParser.fragment.fromHtml(a).children;for(var b=0,f=a.length;b<f;++b)a[b].parent=this},getOuterHtml:function(){var a=new CKEDITOR.htmlParser.basicWriter;this.writeHtml(a);return a.getHtml()},split:function(a){for(var b=this.children.splice(a,this.children.length-a),f=this.clone(),k=0;k<b.length;++k)b[k].parent=f;f.children=b;b[0]&&(b[0].previous=null);0<a&&(this.children[a-\n1].next=null);this.parent.add(f,this.getIndex()+1);return f},find:function(a,b){void 0===b&&(b=!1);var f=[],k;for(k=0;k<this.children.length;k++){var d=this.children[k];\"function\"==typeof a&&a(d)?f.push(d):\"string\"==typeof a&&d.name===a&&f.push(d);b&&d.find&&(f=f.concat(d.find(a,b)))}return f},addClass:function(a){if(!this.hasClass(a)){var b=this.attributes[\"class\"]||\"\";this.attributes[\"class\"]=b+(b?\" \":\"\")+a}},removeClass:function(a){var b=this.attributes[\"class\"];b&&((b=CKEDITOR.tools.trim(b.replace(new RegExp(\"(?:\\\\s+|^)\"+\na+\"(?:\\\\s+|$)\"),\" \")))?this.attributes[\"class\"]=b:delete this.attributes[\"class\"])},hasClass:function(a){var b=this.attributes[\"class\"];return b?(new RegExp(\"(?:^|\\\\s)\"+a+\"(?\\x3d\\\\s|$)\")).test(b):!1},getFilterContext:function(a){var b=[];a||(a={off:!1,nonEditable:!1,nestedEditable:!1});a.off||\"off\"!=this.attributes[\"data-cke-processor\"]||b.push(\"off\",!0);a.nonEditable||\"false\"!=this.attributes.contenteditable?a.nonEditable&&!a.nestedEditable&&\"true\"==this.attributes.contenteditable&&b.push(\"nestedEditable\",\n!0):b.push(\"nonEditable\",!0);if(b.length){a=CKEDITOR.tools.copy(a);for(var f=0;f<b.length;f+=2)a[b[f]]=b[f+1]}return a}},!0)}(),function(){var a=/{([^}]+)}/g;CKEDITOR.template=function(a){this.source=String(a)};CKEDITOR.template.prototype.output=function(f,b){var c=this.source.replace(a,function(a,b){return void 0!==f[b]?f[b]:a});return b?b.push(c):c}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(a){CKEDITOR.instances[a.name]=\na;a.on(\"focus\",function(){CKEDITOR.currentInstance!=a&&(CKEDITOR.currentInstance=a,CKEDITOR.fire(\"currentInstance\"))});a.on(\"blur\",function(){CKEDITOR.currentInstance==a&&(CKEDITOR.currentInstance=null,CKEDITOR.fire(\"currentInstance\"))});CKEDITOR.fire(\"instance\",null,a)},CKEDITOR.remove=function(a){delete CKEDITOR.instances[a.name]},function(){var a={};CKEDITOR.addTemplate=function(f,b){var c=a[f];if(c)return c;c={name:f,source:b};CKEDITOR.fire(\"template\",c);return a[f]=new CKEDITOR.template(c.source)};\nCKEDITOR.getTemplate=function(f){return a[f]}}(),function(){var a=[];CKEDITOR.addCss=function(f){a.push(f)};CKEDITOR.getCss=function(){return a.join(\"\\n\")}}(),CKEDITOR.on(\"instanceDestroyed\",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire(\"reset\")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,function(){CKEDITOR.inline=function(a,f){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+\na.getEditor().name+'\" is already attached to the provided element.';var b=new CKEDITOR.editor(f,a,CKEDITOR.ELEMENT_MODE_INLINE),c=a.is(\"textarea\")?a:null;c?(b.setData(c.getValue(),null,!0),a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv contenteditable\\x3d\"'+!!b.readOnly+'\" class\\x3d\"cke_textarea_inline\"\\x3e'+c.getValue()+\"\\x3c/div\\x3e\",CKEDITOR.document),a.insertAfter(c),c.hide(),c.$.form&&b._attachToForm()):b.setData(a.getHtml(),null,!0);b.on(\"loaded\",function(){b.fire(\"uiReady\");b.editable(a);b.container=\na;b.ui.contentsElement=a;b.setData(b.getData(1));b.resetDirty();b.fire(\"contentDom\");b.mode=\"wysiwyg\";b.fire(\"mode\");b.status=\"ready\";b.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,b)},null,null,1E4);b.on(\"destroy\",function(){c&&(b.container.clearCustomData(),b.container.remove(),c.show());b.element.clearCustomData();delete b.element});return b};CKEDITOR.inlineAll=function(){var a,f,b;for(b in CKEDITOR.dtd.$editable)for(var c=CKEDITOR.document.getElementsByTag(b),e=0,l=c.count();e<\nl;e++)a=c.getItem(e),\"true\"==a.getAttribute(\"contenteditable\")&&(f={element:a,config:{}},!1!==CKEDITOR.fire(\"inline\",f)&&CKEDITOR.inline(a,f.config))};CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()})}(),CKEDITOR.replaceClass=\"ckeditor\",function(){function a(a,e,l,k){if(!CKEDITOR.env.isCompatible)return null;a=CKEDITOR.dom.element.get(a);if(a.getEditor())throw'The editor instance \"'+a.getEditor().name+'\" is already attached to the provided element.';var d=new CKEDITOR.editor(e,\na,k);k==CKEDITOR.ELEMENT_MODE_REPLACE&&(a.setStyle(\"visibility\",\"hidden\"),d._.required=a.hasAttribute(\"required\"),a.removeAttribute(\"required\"));l&&d.setData(l,null,!0);d.on(\"loaded\",function(){b(d);k==CKEDITOR.ELEMENT_MODE_REPLACE&&d.config.autoUpdateElement&&a.$.form&&d._attachToForm();d.setMode(d.config.startupMode,function(){d.resetDirty();d.status=\"ready\";d.fireOnce(\"instanceReady\");CKEDITOR.fire(\"instanceReady\",null,d)})});d.on(\"destroy\",f);return d}function f(){var a=this.container,b=this.element;\na&&(a.clearCustomData(),a.remove());b&&(b.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(b.show(),this._.required&&b.setAttribute(\"required\",\"required\")),delete this.element)}function b(a){var b=a.name,f=a.element,k=a.elementMode,d=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,h=a.fire(\"uiSpace\",{space:\"bottom\",html:\"\"}).html,m=new CKEDITOR.template('\\x3c{outerEl} id\\x3d\"cke_{name}\" class\\x3d\"{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+\n'\"  dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"application\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\"\")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\"\")+'\\x3c{outerEl} class\\x3d\"cke_inner cke_reset\" role\\x3d\"presentation\"\\x3e{topHtml}\\x3c{outerEl} id\\x3d\"{contentId}\" class\\x3d\"cke_contents cke_reset\" role\\x3d\"presentation\"\\x3e\\x3c/{outerEl}\\x3e{bottomHtml}\\x3c/{outerEl}\\x3e\\x3c/{outerEl}\\x3e'),b=CKEDITOR.dom.element.createFromHtml(m.output({id:a.id,\nname:b,langDir:a.lang.dir,langCode:a.langCode,voiceLabel:a.title,topHtml:d?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"top\")+'\" class\\x3d\"cke_top cke_reset_all\" role\\x3d\"presentation\" style\\x3d\"height:auto\"\\x3e'+d+\"\\x3c/span\\x3e\":\"\",contentId:a.ui.spaceId(\"contents\"),bottomHtml:h?'\\x3cspan id\\x3d\"'+a.ui.spaceId(\"bottom\")+'\" class\\x3d\"cke_bottom cke_reset_all\" role\\x3d\"presentation\"\\x3e'+h+\"\\x3c/span\\x3e\":\"\",outerEl:CKEDITOR.env.ie?\"span\":\"div\"}));k==CKEDITOR.ELEMENT_MODE_REPLACE?(f.hide(),b.insertAfter(f)):\nf.append(b);a.container=b;a.ui.contentsElement=a.ui.space(\"contents\");d&&a.ui.space(\"top\").unselectable();h&&a.ui.space(\"bottom\").unselectable();f=a.config.width;k=a.config.height;f&&b.setStyle(\"width\",CKEDITOR.tools.cssLength(f));k&&a.ui.space(\"contents\").setStyle(\"height\",CKEDITOR.tools.cssLength(k));b.disableContextMenu();CKEDITOR.env.webkit&&b.on(\"focus\",function(){a.focus()});a.fireOnce(\"uiReady\")}CKEDITOR.replace=function(b,e){return a(b,e,null,CKEDITOR.ELEMENT_MODE_REPLACE)};CKEDITOR.appendTo=\nfunction(b,e,f){return a(b,e,f,CKEDITOR.ELEMENT_MODE_APPENDTO)};CKEDITOR.replaceAll=function(){for(var a=document.getElementsByTagName(\"textarea\"),b=0;b<a.length;b++){var f=null,k=a[b];if(k.name||k.id){if(\"string\"==typeof arguments[0]){if(!(new RegExp(\"(?:^|\\\\s)\"+arguments[0]+\"(?:$|\\\\s)\")).test(k.className))continue}else if(\"function\"==typeof arguments[0]&&(f={},!1===arguments[0](k,f)))continue;this.replace(k,f)}}};CKEDITOR.editor.prototype.addMode=function(a,b){(this._.modes||(this._.modes={}))[a]=\nb};CKEDITOR.editor.prototype.setMode=function(a,b){var f=this,k=this._.modes;if(a!=f.mode&&k&&k[a]){f.fire(\"beforeSetMode\",a);if(f.mode){var d=f.checkDirty(),k=f._.previousModeData,h,m=0;f.fire(\"beforeModeUnload\");f.editable(0);f._.previousMode=f.mode;f._.previousModeData=h=f.getData(1);\"source\"==f.mode&&k==h&&(f.fire(\"lockSnapshot\",{forceUpdate:!0}),m=1);f.ui.space(\"contents\").setHtml(\"\");f.mode=\"\"}else f._.previousModeData=f.getData(1);this._.modes[a](function(){f.mode=a;void 0!==d&&!d&&f.resetDirty();\nm?f.fire(\"unlockSnapshot\"):\"wysiwyg\"==a&&f.fire(\"saveSnapshot\");setTimeout(function(){f.fire(\"mode\");b&&b.call(f)},0)})}};CKEDITOR.editor.prototype.resize=function(a,b,f,k){var d=this.container,h=this.ui.space(\"contents\"),m=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;k=k?this.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}):d;k.setSize(\"width\",a,!0);m&&(m.style.width=\"1%\");var g=(k.$.offsetHeight||0)-(h.$.clientHeight||\n0),d=Math.max(b-(f?0:g),0);b=f?b+g:b;h.setStyle(\"height\",d+\"px\");m&&(m.style.width=\"100%\");this.fire(\"resize\",{outerHeight:b,contentsHeight:d,outerWidth:a||k.getSize(\"width\")})};CKEDITOR.editor.prototype.getResizable=function(a){return a?this.ui.space(\"contents\"):this.container};CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode=\"wysiwyg\",function(){function a(a){var b=a.editor,d=a.data.path,e=d.blockLimit,g=a.data.selection,\nh=g.getRanges()[0],m;if(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)if(g=f(g,d))g.appendBogus(),m=CKEDITOR.env.ie;k(b,d.block,e)&&h.collapsed&&!h.getCommonAncestor().isReadOnly()&&(d=h.clone(),d.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),e=new CKEDITOR.dom.walker(d),e.guard=function(a){return!c(a)||a.type==CKEDITOR.NODE_COMMENT||a.isReadOnly()},!e.checkForward()||d.checkStartOfBlock()&&d.checkEndOfBlock())&&(b=h.fixBlock(!0,b.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\"),CKEDITOR.env.needsBrFiller||\n(b=b.getFirst(c))&&b.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(b.getText()).match(/^(?:&nbsp;|\\xa0)$/)&&b.remove(),m=1,a.cancel());m&&h.select()}function f(a,b){if(a.isFake)return 0;var d=b.block||b.blockLimit,e=d&&d.getLast(c);if(!(!d||!d.isBlockBoundary()||e&&e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary()||d.is(\"pre\")||d.getBogus()))return d}function b(a){var b=a.data.getTarget();b.is(\"input\")&&(b=b.getAttribute(\"type\"),\"submit\"!=b&&\"reset\"!=b||a.data.preventDefault())}function c(a){return g(a)&&\nn(a)}function e(a,b){return function(c){var d=c.data.$.toElement||c.data.$.fromElement||c.data.$.relatedTarget;(d=d&&d.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(d):null)&&(b.equals(d)||b.contains(d))||a.call(this,c)}}function l(a){function b(a){return function(b,e){e&&b.type==CKEDITOR.NODE_ELEMENT&&b.is(g)&&(d=b);if(!(e||!c(b)||a&&r(b)))return!1}}var d,e=a.getRanges()[0];a=a.root;var g={table:1,ul:1,ol:1,dl:1};if(e.startPath().contains(g)){var f=e.clone();f.collapse(1);f.setStartAt(a,\nCKEDITOR.POSITION_AFTER_START);a=new CKEDITOR.dom.walker(f);a.guard=b();a.checkBackward();if(d)return f=e.clone(),f.collapse(),f.setEndAt(d,CKEDITOR.POSITION_AFTER_END),a=new CKEDITOR.dom.walker(f),a.guard=b(!0),d=!1,a.checkForward(),d}return null}function k(a,b,c){return!1!==a.config.autoParagraph&&a.activeEnterMode!=CKEDITOR.ENTER_BR&&(a.editable().equals(c)&&!b||b&&\"true\"==b.getAttribute(\"contenteditable\"))}function d(a){return a.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==a.config.autoParagraph?\na.activeEnterMode==CKEDITOR.ENTER_DIV?\"div\":\"p\":!1}function h(a){var b=a.editor;b.getSelection().scrollIntoView();setTimeout(function(){b.fire(\"saveSnapshot\")},0)}function m(a,b,c){var d=a.getCommonAncestor(b);for(b=a=c?b:a;(a=a.getParent())&&!d.equals(a)&&1==a.getChildCount();)b=a;b.remove()}var g,n,p,r,x,v,u,t,y,A;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(a,b){this.base(b.$||b);this.editor=a;this.status=\"unloaded\";this.hasFocus=!1;this.setup()},proto:{focus:function(){var a;\nif(CKEDITOR.env.webkit&&!this.hasFocus&&(a=this.editor._.previousActive||this.getDocument().getActive(),this.contains(a))){a.focus();return}CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var b=this.$.scrollTop;this.$.focus();this.$.scrollTop=b}else this.$.focus();\nelse this.$.setActive()}catch(c){if(!CKEDITOR.env.ie)throw c;}CKEDITOR.env.safari&&!this.isInline()&&(a=CKEDITOR.document.getActive(),a.equals(this.getWindow().getFrame())||this.getWindow().focus())},on:function(a,b){var c=Array.prototype.slice.call(arguments,0);CKEDITOR.env.ie&&/^focus|blur$/.exec(a)&&(a=\"focus\"==a?\"focusin\":\"focusout\",b=e(b,this),c[0]=a,c[1]=b);return CKEDITOR.dom.element.prototype.on.apply(this,c)},attachListener:function(a){!this._.listeners&&(this._.listeners=[]);var b=Array.prototype.slice.call(arguments,\n1),b=a.on.apply(a,b);this._.listeners.push(b);return b},clearListeners:function(){var a=this._.listeners;try{for(;a.length;)a.pop().removeListener()}catch(b){}},restoreAttrs:function(){var a=this._.attrChanges,b,c;for(c in a)a.hasOwnProperty(c)&&(b=a[c],null!==b?this.setAttribute(c,b):this.removeAttribute(c))},attachClass:function(a){var b=this.getCustomData(\"classes\");this.hasClass(a)||(!b&&(b=[]),b.push(a),this.setCustomData(\"classes\",b),this.addClass(a))},changeAttr:function(a,b){var c=this.getAttribute(a);\nb!==c&&(!this._.attrChanges&&(this._.attrChanges={}),a in this._.attrChanges||(this._.attrChanges[a]=c),this.setAttribute(a,b))},insertText:function(a){this.editor.focus();this.insertHtml(this.transformPlainTextToHtml(a),\"text\")},transformPlainTextToHtml:function(a){var b=this.editor.getSelection().getStartElement().hasAscendant(\"pre\",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(a,b)},insertHtml:function(a,b,c){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");\nc||(c=d.getSelection().getRanges()[0]);v(this,b||\"html\",a,c);c.select();h(this);this.editor.fire(\"afterInsertHtml\",{})},insertHtmlIntoRange:function(a,b,c){v(this,c||\"html\",a,b);this.editor.fire(\"afterInsertHtml\",{intoRange:b})},insertElement:function(a,b){var d=this.editor;d.focus();d.fire(\"saveSnapshot\");var e=d.activeEnterMode,d=d.getSelection(),g=a.getName(),g=CKEDITOR.dtd.$block[g];b||(b=d.getRanges()[0]);this.insertElementIntoRange(a,b)&&(b.moveToPosition(a,CKEDITOR.POSITION_AFTER_END),g&&((g=\na.getNext(function(a){return c(a)&&!r(a)}))&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(CKEDITOR.dtd.$block)?g.getDtd()[\"#\"]?b.moveToElementEditStart(g):b.moveToElementEditEnd(a):g||e==CKEDITOR.ENTER_BR||(g=b.fixBlock(!0,e==CKEDITOR.ENTER_DIV?\"div\":\"p\"),b.moveToElementEditStart(g))));d.selectRanges([b]);h(this)},insertElementIntoSelection:function(a){this.insertElement(a)},insertElementIntoRange:function(a,b){var c=this.editor,d=c.config.enterMode,e=a.getName(),g=CKEDITOR.dtd.$block[e];if(b.checkReadOnly())return!1;\nb.deleteContents(1);b.startContainer.type==CKEDITOR.NODE_ELEMENT&&(b.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?u(b):b.startContainer.is(CKEDITOR.dtd.$list)&&t(b));var f,h;if(g)for(;(f=b.getCommonAncestor(0,1))&&(h=CKEDITOR.dtd[f.getName()])&&(!h||!h[e]);)f.getName()in CKEDITOR.dtd.span?b.splitElement(f):b.checkStartOfBlock()&&b.checkEndOfBlock()?(b.setStartBefore(f),b.collapse(!0),f.remove()):b.splitBlock(d==CKEDITOR.ENTER_DIV?\"div\":\"p\",c.editable());b.insertNode(a);return!0},setData:function(a,\nb){b||(a=this.editor.dataProcessor.toHtml(a));this.setHtml(a);this.fixInitialSelection();\"unloaded\"==this.status&&(this.status=\"ready\");this.editor.fire(\"dataReady\")},getData:function(a){var b=this.getHtml();a||(b=this.editor.dataProcessor.toDataFormat(b));return b},setReadOnly:function(a){this.setAttribute(\"contenteditable\",!a)},detach:function(){this.removeClass(\"cke_editable\");this.status=\"detached\";var a=this.editor;this._.detach();delete a.document;delete a.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},\nfixInitialSelection:function(){function a(){var b=c.getDocument().$,d=b.getSelection(),e;a:if(d.anchorNode&&d.anchorNode==c.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=c.getDocument().getActive())&&e.equals(c)&&!d.anchorNode){e=!0;break a}e=void 0}e&&(e=new CKEDITOR.dom.range(c),e.moveToElementEditStart(c),b=b.createRange(),b.setStart(e.startContainer.$,e.startOffset),b.collapse(!0),d.removeAllRanges(),d.addRange(b))}function b(){var a=c.getDocument().$,d=a.selection,e=c.getDocument().getActive();\"None\"==\nd.type&&e.equals(c)&&(d=new CKEDITOR.dom.range(c),a=a.body.createTextRange(),d.moveToElementEditStart(c),d=d.startContainer,d.type!=CKEDITOR.NODE_ELEMENT&&(d=d.getParent()),a.moveToElementText(d.$),a.collapse(!0),a.select())}var c=this;if(CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks))this.hasFocus&&(this.focus(),b());else if(this.hasFocus)this.focus(),a();else this.once(\"focus\",function(){a()},null,null,-999)},getHtmlFromRange:function(a){if(a.collapsed)return new CKEDITOR.dom.documentFragment(a.document);\na={doc:this.getDocument(),range:a.clone()};y.eol.detect(a,this);y.bogus.exclude(a);y.cell.shrink(a);a.fragment=a.range.cloneContents();y.tree.rebuild(a,this);y.eol.fix(a,this);return new CKEDITOR.dom.documentFragment(a.fragment.$)},extractHtmlFromRange:function(a,b){var c=A,d={range:a,doc:a.document},e=this.getHtmlFromRange(a);if(a.collapsed)return a.optimize(),e;a.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.table.detectPurge(d);d.bookmark=a.createBookmark();delete d.range;var g=this.editor.createRange();\ng.moveToPosition(d.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START);d.targetBookmark=g.createBookmark();c.list.detectMerge(d,this);c.table.detectRanges(d,this);c.block.detectMerge(d,this);d.tableContentsRanges?(c.table.deleteRanges(d),a.moveToBookmark(d.bookmark),d.range=a):(a.moveToBookmark(d.bookmark),d.range=a,a.extractContents(c.detectExtractMerge(d)));a.moveToBookmark(d.targetBookmark);a.optimize();c.fixUneditableRangePosition(a);c.list.merge(d,this);c.table.purge(d,this);c.block.merge(d,this);\nif(b){c=a.startPath();if(d=a.checkStartOfBlock()&&a.checkEndOfBlock()&&c.block&&!a.root.equals(c.block)){a:{var d=c.block.getElementsByTag(\"span\"),g=0,f;if(d)for(;f=d.getItem(g++);)if(!n(f)){d=!0;break a}d=!1}d=!d}d&&(a.moveToPosition(c.block,CKEDITOR.POSITION_BEFORE_START),c.block.remove())}else c.autoParagraph(this.editor,a),p(a.startContainer)&&a.startContainer.appendBogus();a.startContainer.mergeSiblings();return e},setup:function(){var a=this.editor;this.attachListener(a,\"beforeGetData\",function(){var b=\nthis.getData();this.is(\"textarea\")||!1!==a.config.ignoreEmptyParagraph&&(b=b.replace(x,function(a,b){return b}));a.setData(b,null,1)},this);this.attachListener(a,\"getSnapshot\",function(a){a.data=this.getData(1)},this);this.attachListener(a,\"afterSetData\",function(){this.setData(a.getData(1))},this);this.attachListener(a,\"loadSnapshot\",function(a){this.setData(a.data,1)},this);this.attachListener(a,\"beforeFocus\",function(){var b=a.getSelection();(b=b&&b.getNative())&&\"Control\"==b.type||this.focus()},\nthis);this.attachListener(a,\"insertHtml\",function(a){this.insertHtml(a.data.dataValue,a.data.mode,a.data.range)},this);this.attachListener(a,\"insertElement\",function(a){this.insertElement(a.data)},this);this.attachListener(a,\"insertText\",function(a){this.insertText(a.data)},this);this.setReadOnly(a.readOnly);this.attachClass(\"cke_editable\");a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass(\"cke_editable_inline\"):a.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&a.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||\nthis.attachClass(\"cke_editable_themed\");this.attachClass(\"cke_contents_\"+a.config.contentsLangDirection);a.keystrokeHandler.blockedKeystrokes[8]=+a.readOnly;a.keystrokeHandler.attach(this);this.on(\"blur\",function(){this.hasFocus=!1},null,null,-1);this.on(\"focus\",function(){this.hasFocus=!0},null,null,-1);if(CKEDITOR.env.webkit)this.on(\"scroll\",function(){a._.previousScrollTop=a.editable().$.scrollTop},null,null,-1);if(CKEDITOR.env.edge&&14<CKEDITOR.env.version){var d=function(){var b=a.editable();\nnull!=a._.previousScrollTop&&b.getDocument().equals(CKEDITOR.document)&&(b.$.scrollTop=a._.previousScrollTop,a._.previousScrollTop=null,this.removeListener(\"scroll\",d))};this.on(\"scroll\",d)}a.focusManager.add(this);this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,a.once(\"contentDom\",function(){a.focusManager.focus(this)},this));this.isInline()&&this.changeAttr(\"tabindex\",a.tabIndex);if(!this.is(\"textarea\")){a.document=this.getDocument();a.window=this.getWindow();var e=a.document;this.changeAttr(\"spellcheck\",\n!a.config.disableNativeSpellChecker);var f=a.config.contentsLangDirection;this.getDirection(1)!=f&&this.changeAttr(\"dir\",f);var h=CKEDITOR.getCss();if(h){var f=e.getHead(),k=f.getCustomData(\"stylesheet\");k?h!=k.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?k.$.styleSheet.cssText=h:k.setText(h)):(h=e.appendStyleText(h),h=new CKEDITOR.dom.element(h.ownerNode||h.owningElement),f.setCustomData(\"stylesheet\",h),h.data(\"cke-temp\",1))}f=e.getCustomData(\"stylesheet_ref\")||0;e.setCustomData(\"stylesheet_ref\",\nf+1);this.setCustomData(\"cke_includeReadonly\",!a.config.disableReadonlyStyling);this.attachListener(this,\"click\",function(a){a=a.data;var b=(new CKEDITOR.dom.elementPath(a.getTarget(),this)).contains(\"a\");b&&2!=a.$.button&&b.isReadOnly()&&a.preventDefault()});var n={8:1,46:1};this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;var c=b.data.domEvent.getKey(),d;if(c in n){b=a.getSelection();var e,f=b.getRanges()[0],h=f.startPath(),m,k,t,c=8==c;CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(e=\nb.getSelectedElement())||(e=l(b))?(a.fire(\"saveSnapshot\"),f.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START),e.remove(),f.select(),a.fire(\"saveSnapshot\"),d=1):f.collapsed&&((m=h.block)&&(t=m[c?\"getPrevious\":\"getNext\"](g))&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(\"table\")&&f[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()?(a.fire(\"saveSnapshot\"),f[c?\"checkEndOfBlock\":\"checkStartOfBlock\"]()&&m.remove(),f[\"moveToElementEdit\"+(c?\"End\":\"Start\")](t),f.select(),a.fire(\"saveSnapshot\"),d=1):h.blockLimit&&h.blockLimit.is(\"td\")&&\n(k=h.blockLimit.getAscendant(\"table\"))&&f.checkBoundaryOfElement(k,c?CKEDITOR.START:CKEDITOR.END)&&(t=k[c?\"getPrevious\":\"getNext\"](g))?(a.fire(\"saveSnapshot\"),f[\"moveToElementEdit\"+(c?\"End\":\"Start\")](t),f.checkStartOfBlock()&&f.checkEndOfBlock()?t.remove():f.select(),a.fire(\"saveSnapshot\"),d=1):(k=h.contains([\"td\",\"th\",\"caption\"]))&&f.checkBoundaryOfElement(k,c?CKEDITOR.START:CKEDITOR.END)&&(d=1))}return!d});a.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,\"keyup\",\nfunction(b){b.data.getKeystroke()in n&&!this.getFirst(c)&&(this.appendBogus(),b=a.createRange(),b.moveToPosition(this,CKEDITOR.POSITION_AFTER_START),b.select())});this.attachListener(this,\"dblclick\",function(b){if(a.readOnly)return!1;b={element:b.data.getTarget()};a.fire(\"doubleclick\",b)});CKEDITOR.env.ie&&this.attachListener(this,\"click\",b);CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,\"mousedown\",function(b){var c=b.data.getTarget();c.is(\"img\",\"hr\",\"input\",\"textarea\",\"select\")&&\n!c.isReadOnly()&&(a.getSelection().selectElement(c),c.is(\"input\",\"textarea\",\"select\")&&b.data.preventDefault())});CKEDITOR.env.edge&&this.attachListener(this,\"mouseup\",function(b){(b=b.data.getTarget())&&b.is(\"img\")&&a.getSelection().selectElement(b)});CKEDITOR.env.gecko&&this.attachListener(this,\"mouseup\",function(b){if(2==b.data.$.button&&(b=b.data.getTarget(),!b.getOuterHtml().replace(x,\"\"))){var c=a.createRange();c.moveToElementEditStart(b);c.select(!0)}});CKEDITOR.env.webkit&&(this.attachListener(this,\n\"click\",function(a){a.data.getTarget().is(\"input\",\"select\")&&a.data.preventDefault()}),this.attachListener(this,\"mouseup\",function(a){a.data.getTarget().is(\"input\",\"textarea\")&&a.data.preventDefault()}));CKEDITOR.env.webkit&&this.attachListener(a,\"key\",function(b){if(a.readOnly)return!0;b=b.data.domEvent.getKey();if(b in n){var c=8==b,d=a.getSelection().getRanges()[0];b=d.startPath();if(d.collapsed)a:{var e=b.block;if(e&&d[c?\"checkStartOfBlock\":\"checkEndOfBlock\"]()&&d.moveToClosestEditablePosition(e,\n!c)&&d.collapsed){if(d.startContainer.type==CKEDITOR.NODE_ELEMENT){var g=d.startContainer.getChild(d.startOffset-(c?1:0));if(g&&g.type==CKEDITOR.NODE_ELEMENT&&g.is(\"hr\")){a.fire(\"saveSnapshot\");g.remove();b=!0;break a}}d=d.startPath().block;if(!d||d&&d.contains(e))b=void 0;else{a.fire(\"saveSnapshot\");var f;(f=(c?d:e).getBogus())&&f.remove();f=a.getSelection();g=f.createBookmarks();(c?e:d).moveChildren(c?d:e,!1);b.lastElement.mergeSiblings();m(e,d,!c);f.selectBookmarks(g);b=!0}}else b=!1}else c=d,\nf=b.block,d=c.endPath().block,f&&d&&!f.equals(d)?(a.fire(\"saveSnapshot\"),(e=f.getBogus())&&e.remove(),c.enlarge(CKEDITOR.ENLARGE_INLINE),c.deleteContents(),d.getParent()&&(d.moveChildren(f,!1),b.lastElement.mergeSiblings(),m(f,d,!0)),c=a.getSelection().getRanges()[0],c.collapse(1),c.optimize(),\"\"===c.startContainer.getHtml()&&c.startContainer.appendBogus(),c.select(),b=!0):b=!1;if(!b)return;a.getSelection().scrollIntoView();a.fire(\"saveSnapshot\");return!1}},this,null,100)}}},_:{detach:function(){this.editor.setData(this.editor.getData(),\n0,1);this.clearListeners();this.restoreAttrs();var a;if(a=this.removeCustomData(\"classes\"))for(;a.length;)this.removeClass(a.pop());if(!this.is(\"textarea\")){a=this.getDocument();var b=a.getHead();if(b.getCustomData(\"stylesheet\")){var c=a.getCustomData(\"stylesheet_ref\");--c?a.setCustomData(\"stylesheet_ref\",c):(a.removeCustomData(\"stylesheet_ref\"),b.removeCustomData(\"stylesheet\").remove())}}this.editor.fire(\"contentDomUnload\");delete this.editor}}});CKEDITOR.editor.prototype.editable=function(a){var b=\nthis._.editable;if(b&&a)return 0;arguments.length&&(b=this._.editable=a?a instanceof CKEDITOR.editable?a:new CKEDITOR.editable(this,a):(b&&b.detach(),null));return b};CKEDITOR.on(\"instanceLoaded\",function(b){var c=b.editor;c.on(\"insertElement\",function(a){a=a.data;a.type==CKEDITOR.NODE_ELEMENT&&(a.is(\"input\")||a.is(\"textarea\"))&&(\"false\"!=a.getAttribute(\"contentEditable\")&&a.data(\"cke-editable\",a.hasAttribute(\"contenteditable\")?\"true\":\"1\"),a.setAttribute(\"contentEditable\",!1))});c.on(\"selectionChange\",\nfunction(b){if(!c.readOnly){var d=c.getSelection();d&&!d.isLocked&&(d=c.checkDirty(),c.fire(\"lockSnapshot\"),a(b),c.fire(\"unlockSnapshot\"),!d&&c.resetDirty())}})});CKEDITOR.on(\"instanceCreated\",function(a){var b=a.editor;b.on(\"mode\",function(){var a=b.editable();if(a&&a.isInline()){var c=b.title;a.changeAttr(\"role\",\"textbox\");a.changeAttr(\"aria-label\",c);c&&a.changeAttr(\"title\",c);var d=b.fire(\"ariaEditorHelpLabel\",{}).label;if(d&&(c=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?\"top\":\n\"contents\"))){var e=CKEDITOR.tools.getNextId(),d=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_voice_label\"\\x3e'+d+\"\\x3c/span\\x3e\");c.append(d);a.changeAttr(\"aria-describedby\",e)}}})});CKEDITOR.addCss(\".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}\");g=CKEDITOR.dom.walker.whitespaces(!0);n=CKEDITOR.dom.walker.bookmark(!1,!0);p=CKEDITOR.dom.walker.empty();r=CKEDITOR.dom.walker.bogus();x=/(^|<body\\b[^>]*>)\\s*<(p|div|address|h\\d|center|pre)[^>]*>\\s*(?:<br[^>]*>|&nbsp;|\\u00A0|&#160;)?\\s*(:?<\\/\\2>)?\\s*(?=$|<\\/body>)/gi;\nv=function(){function a(b){return b.type==CKEDITOR.NODE_ELEMENT}function b(c,d){var e,g,f,h,m=[],k=d.range.startContainer;e=d.range.startPath();for(var k=l[k.getName()],n=0,t=c.getChildren(),u=t.count(),E=-1,v=-1,y=0,p=e.contains(l.$list);n<u;++n)e=t.getItem(n),a(e)?(f=e.getName(),p&&f in CKEDITOR.dtd.$list?m=m.concat(b(e,d)):(h=!!k[f],\"br\"!=f||!e.data(\"cke-eol\")||n&&n!=u-1||(y=(g=n?m[n-1].node:t.getItem(n+1))&&(!a(g)||!g.is(\"br\")),g=g&&a(g)&&l.$block[g.getName()]),-1!=E||h||(E=n),h||(v=n),m.push({isElement:1,\nisLineBreak:y,isBlock:e.isBlockBoundary(),hasBlockSibling:g,node:e,name:f,allowed:h}),g=y=0)):m.push({isElement:0,node:e,allowed:1});-1<E&&(m[E].firstNotAllowed=1);-1<v&&(m[v].lastNotAllowed=1);return m}function e(b,c){var d=[],g=b.getChildren(),f=g.count(),h,m=0,k=l[c],n=!b.is(l.$inline)||b.is(\"br\");for(n&&d.push(\" \");m<f;m++)h=g.getItem(m),a(h)&&!h.is(k)?d=d.concat(e(h,c)):d.push(h);n&&d.push(\" \");return d}function f(b){return a(b.startContainer)&&b.startContainer.getChild(b.startOffset-1)}function g(b){return b&&\na(b)&&(b.is(l.$removeEmpty)||b.is(\"a\")&&!b.isBlockBoundary())}function h(b,c,d,e){var g=b.clone(),f,m;g.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);(f=(new CKEDITOR.dom.walker(g)).next())&&a(f)&&n[f.getName()]&&(m=f.getPrevious())&&a(m)&&!m.getParent().equals(b.startContainer)&&d.contains(m)&&e.contains(f)&&f.isIdentical(m)&&(f.moveChildren(m),f.remove(),h(b,c,d,e))}function m(b,c){function d(b,c){if(c.isBlock&&c.isElement&&!c.node.is(\"br\")&&a(b)&&b.is(\"br\"))return b.remove(),1}var e=c.endContainer.getChild(c.endOffset),\ng=c.endContainer.getChild(c.endOffset-1);e&&d(e,b[b.length-1]);g&&d(g,b[0])&&(c.setEnd(c.endContainer,c.endOffset-1),c.collapse())}var l=CKEDITOR.dtd,n={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},t={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},u=CKEDITOR.tools.extend({},l.$inline);delete u.br;return function(n,D,v,y){var p=n.editor,x=!1;\"unfiltered_html\"==D&&(D=\"html\",x=!0);if(!y.checkReadOnly()){var A=(new CKEDITOR.dom.elementPath(y.startContainer,y.root)).blockLimit||\ny.root;n={type:D,dontFilter:x,editable:n,editor:p,range:y,blockLimit:A,mergeCandidates:[],zombies:[]};D=n.range;y=n.mergeCandidates;var r,J;\"text\"==n.type&&D.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(r=CKEDITOR.dom.element.createFromHtml(\"\\x3cspan\\x3e\\x26nbsp;\\x3c/span\\x3e\",D.document),D.insertNode(r),D.setStartAfter(r));x=new CKEDITOR.dom.elementPath(D.startContainer);n.endPath=A=new CKEDITOR.dom.elementPath(D.endContainer);if(!D.collapsed){var p=A.block||A.blockLimit,fa=D.getCommonAncestor();p&&!p.equals(fa)&&\n!p.contains(fa)&&D.checkEndOfBlock()&&n.zombies.push(p);D.deleteContents()}for(;(J=f(D))&&a(J)&&J.isBlockBoundary()&&x.contains(J);)D.moveToPosition(J,CKEDITOR.POSITION_BEFORE_END);h(D,n.blockLimit,x,A);r&&(D.setEndBefore(r),D.collapse(),r.remove());r=D.startPath();if(p=r.contains(g,!1,1))D.splitElement(p),n.inlineStylesRoot=p,n.inlineStylesPeak=r.lastElement;r=D.createBookmark();(p=r.startNode.getPrevious(c))&&a(p)&&g(p)&&y.push(p);(p=r.startNode.getNext(c))&&a(p)&&g(p)&&y.push(p);for(p=r.startNode;(p=\np.getParent())&&g(p);)y.push(p);D.moveToBookmark(r);if(r=v){r=n.range;if(\"text\"==n.type&&n.inlineStylesRoot){J=n.inlineStylesPeak;D=J.getDocument().createText(\"{cke-peak}\");for(y=n.inlineStylesRoot.getParent();!J.equals(y);)D=D.appendTo(J.clone()),J=J.getParent();v=D.getOuterHtml().split(\"{cke-peak}\").join(v)}J=n.blockLimit.getName();if(/^\\s+|\\s+$/.test(v)&&\"span\"in CKEDITOR.dtd[J]){var P='\\x3cspan data-cke-marker\\x3d\"1\"\\x3e\\x26nbsp;\\x3c/span\\x3e';v=P+v+P}v=n.editor.dataProcessor.toHtml(v,{context:null,\nfixForBody:!1,protectedWhitespaces:!!P,dontFilter:n.dontFilter,filter:n.editor.activeFilter,enterMode:n.editor.activeEnterMode});J=r.document.createElement(\"body\");J.setHtml(v);P&&(J.getFirst().remove(),J.getLast().remove());if((P=r.startPath().block)&&(1!=P.getChildCount()||!P.getBogus()))a:{var Q;if(1==J.getChildCount()&&a(Q=J.getFirst())&&Q.is(t)&&!Q.hasAttribute(\"contenteditable\")){P=Q.getElementsByTag(\"*\");r=0;for(y=P.count();r<y;r++)if(D=P.getItem(r),!D.is(u))break a;Q.moveChildren(Q.getParent(1));\nQ.remove()}}n.dataWrapper=J;r=v}if(r){Q=n.range;r=Q.document;var N;J=n.blockLimit;y=0;var S,P=[],R,Y;v=p=0;var W,Z;D=Q.startContainer;var x=n.endPath.elements[0],aa,A=x.getPosition(D),fa=!!x.getCommonAncestor(D)&&A!=CKEDITOR.POSITION_IDENTICAL&&!(A&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED);D=b(n.dataWrapper,n);for(m(D,Q);y<D.length;y++){A=D[y];if(N=A.isLineBreak){N=Q;W=J;var X=void 0,ba=void 0;A.hasBlockSibling?N=1:(X=N.startContainer.getAscendant(l.$block,1))&&X.is({div:1,p:1})?\n(ba=X.getPosition(W),ba==CKEDITOR.POSITION_IDENTICAL||ba==CKEDITOR.POSITION_CONTAINS?N=0:(W=N.splitElement(X),N.moveToPosition(W,CKEDITOR.POSITION_AFTER_START),N=1)):N=0}if(N)v=0<y;else{N=Q.startPath();!A.isBlock&&k(n.editor,N.block,N.blockLimit)&&(Y=d(n.editor))&&(Y=r.createElement(Y),Y.appendBogus(),Q.insertNode(Y),CKEDITOR.env.needsBrFiller&&(S=Y.getBogus())&&S.remove(),Q.moveToPosition(Y,CKEDITOR.POSITION_BEFORE_END));if((N=Q.startPath().block)&&!N.equals(R)){if(S=N.getBogus())S.remove(),P.push(N);\nR=N}A.firstNotAllowed&&(p=1);if(p&&A.isElement){N=Q.startContainer;for(W=null;N&&!l[N.getName()][A.name];){if(N.equals(J)){N=null;break}W=N;N=N.getParent()}if(N)W&&(Z=Q.splitElement(W),n.zombies.push(Z),n.zombies.push(W));else{W=J.getName();aa=!y;N=y==D.length-1;W=e(A.node,W);for(var X=[],ba=W.length,da=0,ia=void 0,ja=0,ea=-1;da<ba;da++)ia=W[da],\" \"==ia?(ja||aa&&!da||(X.push(new CKEDITOR.dom.text(\" \")),ea=X.length),ja=1):(X.push(ia),ja=0);N&&ea==X.length&&X.pop();aa=X}}if(aa){for(;N=aa.pop();)Q.insertNode(N);\naa=0}else Q.insertNode(A.node);A.lastNotAllowed&&y<D.length-1&&((Z=fa?x:Z)&&Q.setEndAt(Z,CKEDITOR.POSITION_AFTER_START),p=0);Q.collapse()}}1!=D.length?S=!1:(S=D[0],S=S.isElement&&\"false\"==S.node.getAttribute(\"contenteditable\"));S&&(v=!0,N=D[0].node,Q.setStartAt(N,CKEDITOR.POSITION_BEFORE_START),Q.setEndAt(N,CKEDITOR.POSITION_AFTER_END));n.dontMoveCaret=v;n.bogusNeededBlocks=P}S=n.range;var ga;Z=n.bogusNeededBlocks;for(aa=S.createBookmark();R=n.zombies.pop();)R.getParent()&&(Y=S.clone(),Y.moveToElementEditStart(R),\nY.removeEmptyBlocksAtEnd());if(Z)for(;R=Z.pop();)CKEDITOR.env.needsBrFiller?R.appendBogus():R.append(S.document.createText(\"Â \"));for(;R=n.mergeCandidates.pop();)R.mergeSiblings();S.moveToBookmark(aa);if(!n.dontMoveCaret){for(R=f(S);R&&a(R)&&!R.is(l.$empty);){if(R.isBlockBoundary())S.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END);else{if(g(R)&&R.getHtml().match(/(\\s|&nbsp;)$/g)){ga=null;break}ga=S.clone();ga.moveToPosition(R,CKEDITOR.POSITION_BEFORE_END)}R=R.getLast(c)}ga&&S.moveToRange(ga)}}}}();\nu=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$tableContent)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT};return b}function b(a,c,d){c=a.getDocument().createElement(c);a.append(c,d);return c}function c(a){var b=a.count(),d;for(b;0<b--;)d=a.getItem(b),CKEDITOR.tools.trim(d.getHtml())||(d.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&d.getChildCount()&&d.getFirst().remove())}\nreturn function(d){var e=d.startContainer,g=e.getAscendant(\"table\",1),f=!1;c(g.getElementsByTag(\"td\"));c(g.getElementsByTag(\"th\"));g=d.clone();g.setStart(e,0);g=a(g).lastBackward();g||(g=d.clone(),g.setEndAt(e,CKEDITOR.POSITION_BEFORE_END),g=a(g).lastForward(),f=!0);g||(g=e);g.is(\"table\")?(d.setStartAt(g,CKEDITOR.POSITION_BEFORE_START),d.collapse(!0),g.remove()):(g.is({tbody:1,thead:1,tfoot:1})&&(g=b(g,\"tr\",f)),g.is(\"tr\")&&(g=b(g,g.getParent().is(\"thead\")?\"th\":\"td\",f)),(e=g.getBogus())&&e.remove(),\nd.moveToPosition(g,f?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}();t=function(){function a(b){b=new CKEDITOR.dom.walker(b);b.guard=function(a,b){if(b)return!1;if(a.type==CKEDITOR.NODE_ELEMENT)return a.is(CKEDITOR.dtd.$list)||a.is(CKEDITOR.dtd.$listItem)};b.evaluator=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$listItem)};return b}return function(b){var c=b.startContainer,d=!1,e;e=b.clone();e.setStart(c,0);e=a(e).lastBackward();e||(e=b.clone(),e.setEndAt(c,\nCKEDITOR.POSITION_BEFORE_END),e=a(e).lastForward(),d=!0);e||(e=c);e.is(CKEDITOR.dtd.$list)?(b.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),b.collapse(!0),e.remove()):((c=e.getBogus())&&c.remove(),b.moveToPosition(e,d?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),b.select())}}();y={eol:{detect:function(a,b){var c=a.range,d=c.clone(),e=c.clone(),g=new CKEDITOR.dom.elementPath(c.startContainer,b),f=new CKEDITOR.dom.elementPath(c.endContainer,b);d.collapse(1);e.collapse();g.block&&d.checkBoundaryOfElement(g.block,\nCKEDITOR.END)&&(c.setStartAfter(g.block),a.prependEolBr=1);f.block&&e.checkBoundaryOfElement(f.block,CKEDITOR.START)&&(c.setEndBefore(f.block),a.appendEolBr=1)},fix:function(a,b){var c=b.getDocument(),d;a.appendEolBr&&(d=this.createEolBr(c),a.fragment.append(d));!a.prependEolBr||d&&!d.getPrevious()||a.fragment.append(this.createEolBr(c),1)},createEolBr:function(a){return a.createElement(\"br\",{attributes:{\"data-cke-eol\":1}})}},bogus:{exclude:function(a){var b=a.range.getBoundaryNodes(),c=b.startNode,\nb=b.endNode;!b||!r(b)||c&&c.equals(b)||a.range.setEndBefore(b)}},tree:{rebuild:function(a,b){var c=a.range,d=c.getCommonAncestor(),e=new CKEDITOR.dom.elementPath(d,b),g=new CKEDITOR.dom.elementPath(c.startContainer,b),c=new CKEDITOR.dom.elementPath(c.endContainer,b),f;d.type==CKEDITOR.NODE_TEXT&&(d=d.getParent());if(e.blockLimit.is({tr:1,table:1})){var h=e.contains(\"table\").getParent();f=function(a){return!a.equals(h)}}else if(e.block&&e.block.is(CKEDITOR.dtd.$listItem)&&(g=g.contains(CKEDITOR.dtd.$list),\nc=c.contains(CKEDITOR.dtd.$list),!g.equals(c))){var m=e.contains(CKEDITOR.dtd.$list).getParent();f=function(a){return!a.equals(m)}}f||(f=function(a){return!a.equals(e.block)&&!a.equals(e.blockLimit)});this.rebuildFragment(a,b,d,f)},rebuildFragment:function(a,b,c,d){for(var e;c&&!c.equals(b)&&d(c);)e=c.clone(0,1),a.fragment.appendTo(e),a.fragment=e,c=c.getParent()}},cell:{shrink:function(a){a=a.range;var b=a.startContainer,c=a.endContainer,d=a.startOffset,e=a.endOffset;b.type==CKEDITOR.NODE_ELEMENT&&\nb.equals(c)&&b.is(\"tr\")&&++d==e&&a.shrink(CKEDITOR.SHRINK_TEXT)}}};A=function(){function a(b,c){var d=b.getParent();if(d.is(CKEDITOR.dtd.$inline))b[c?\"insertBefore\":\"insertAfter\"](d)}function b(c,d,e){a(d);a(e,1);for(var g;g=e.getNext();)g.insertAfter(d),d=g;p(c)&&c.remove()}function c(a,b){var d=new CKEDITOR.dom.range(a);d.setStartAfter(b.startNode);d.setEndBefore(b.endNode);return d}return{list:{detectMerge:function(a,b){var d=c(b,a.bookmark),e=d.startPath(),g=d.endPath(),f=e.contains(CKEDITOR.dtd.$list),\nh=g.contains(CKEDITOR.dtd.$list);a.mergeList=f&&h&&f.getParent().equals(h.getParent())&&!f.equals(h);a.mergeListItems=e.block&&g.block&&e.block.is(CKEDITOR.dtd.$listItem)&&g.block.is(CKEDITOR.dtd.$listItem);if(a.mergeList||a.mergeListItems)d=d.clone(),d.setStartBefore(a.bookmark.startNode),d.setEndAfter(a.bookmark.endNode),a.mergeListBookmark=d.createBookmark()},merge:function(a,c){if(a.mergeListBookmark){var d=a.mergeListBookmark.startNode,e=a.mergeListBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,\nc),f=new CKEDITOR.dom.elementPath(e,c);if(a.mergeList){var h=g.contains(CKEDITOR.dtd.$list),m=f.contains(CKEDITOR.dtd.$list);h.equals(m)||(m.moveChildren(h),m.remove())}a.mergeListItems&&(g=g.contains(CKEDITOR.dtd.$listItem),f=f.contains(CKEDITOR.dtd.$listItem),g.equals(f)||b(f,d,e));d.remove();e.remove()}}},block:{detectMerge:function(a,b){if(!a.tableContentsRanges&&!a.mergeListBookmark){var c=new CKEDITOR.dom.range(b);c.setStartBefore(a.bookmark.startNode);c.setEndAfter(a.bookmark.endNode);a.mergeBlockBookmark=\nc.createBookmark()}},merge:function(a,c){if(a.mergeBlockBookmark&&!a.purgeTableBookmark){var d=a.mergeBlockBookmark.startNode,e=a.mergeBlockBookmark.endNode,g=new CKEDITOR.dom.elementPath(d,c),f=new CKEDITOR.dom.elementPath(e,c),g=g.block,f=f.block;g&&f&&!g.equals(f)&&b(f,d,e);d.remove();e.remove()}}},table:function(){function a(c){var e=[],g,f=new CKEDITOR.dom.walker(c),h=c.startPath().contains(d),m=c.endPath().contains(d),k={};f.guard=function(a,f){if(a.type==CKEDITOR.NODE_ELEMENT){var l=\"visited_\"+\n(f?\"out\":\"in\");if(a.getCustomData(l))return;CKEDITOR.dom.element.setMarker(k,a,l,1)}if(f&&h&&a.equals(h))g=c.clone(),g.setEndAt(h,CKEDITOR.POSITION_BEFORE_END),e.push(g);else if(!f&&m&&a.equals(m))g=c.clone(),g.setStartAt(m,CKEDITOR.POSITION_AFTER_START),e.push(g);else{if(l=!f)l=a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&(!h||b(a,h))&&(!m||b(a,m));l&&(g=c.clone(),g.selectNodeContents(a),e.push(g))}};f.lastForward();CKEDITOR.dom.element.clearAllMarkers(k);return e}function b(a,c){var d=CKEDITOR.POSITION_CONTAINS+\nCKEDITOR.POSITION_IS_CONTAINED,e=a.getPosition(c);return e===CKEDITOR.POSITION_IDENTICAL?!1:0===(e&d)}var d={td:1,th:1,caption:1};return{detectPurge:function(a){var b=a.range,c=b.clone();c.enlarge(CKEDITOR.ENLARGE_ELEMENT);var c=new CKEDITOR.dom.walker(c),e=0;c.evaluator=function(a){a.type==CKEDITOR.NODE_ELEMENT&&a.is(d)&&++e};c.checkForward();if(1<e){var c=b.startPath().contains(\"table\"),g=b.endPath().contains(\"table\");c&&g&&b.checkBoundaryOfElement(c,CKEDITOR.START)&&b.checkBoundaryOfElement(g,\nCKEDITOR.END)&&(b=a.range.clone(),b.setStartBefore(c),b.setEndAfter(g),a.purgeTableBookmark=b.createBookmark())}},detectRanges:function(e,g){var f=c(g,e.bookmark),h=f.clone(),m,k,l=f.getCommonAncestor();l.is(CKEDITOR.dtd.$tableContent)&&!l.is(d)&&(l=l.getAscendant(\"table\",!0));k=l;l=new CKEDITOR.dom.elementPath(f.startContainer,k);k=new CKEDITOR.dom.elementPath(f.endContainer,k);l=l.contains(\"table\");k=k.contains(\"table\");if(l||k)l&&k&&b(l,k)?(e.tableSurroundingRange=h,h.setStartAt(l,CKEDITOR.POSITION_AFTER_END),\nh.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),h=f.clone(),h.setEndAt(l,CKEDITOR.POSITION_AFTER_END),m=f.clone(),m.setStartAt(k,CKEDITOR.POSITION_BEFORE_START),m=a(h).concat(a(m))):l?k||(e.tableSurroundingRange=h,h.setStartAt(l,CKEDITOR.POSITION_AFTER_END),f.setEndAt(l,CKEDITOR.POSITION_AFTER_END)):(e.tableSurroundingRange=h,h.setEndAt(k,CKEDITOR.POSITION_BEFORE_START),f.setStartAt(k,CKEDITOR.POSITION_AFTER_START)),e.tableContentsRanges=m?m:a(f)},deleteRanges:function(a){for(var b;b=a.tableContentsRanges.pop();)b.extractContents(),\np(b.startContainer)&&b.startContainer.appendBogus();a.tableSurroundingRange&&a.tableSurroundingRange.extractContents()},purge:function(a){if(a.purgeTableBookmark){var b=a.doc,c=a.range.clone(),b=b.createElement(\"p\");b.insertBefore(a.purgeTableBookmark.startNode);c.moveToBookmark(a.purgeTableBookmark);c.deleteContents();a.range.moveToPosition(b,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(a){return!(a.range.startPath().contains(CKEDITOR.dtd.$listItem)&&a.range.endPath().contains(CKEDITOR.dtd.$listItem))},\nfixUneditableRangePosition:function(a){a.startContainer.getDtd()[\"#\"]||a.moveToClosestEditablePosition(null,!0)},autoParagraph:function(a,b){var c=b.startPath(),e;k(a,c.block,c.blockLimit)&&(e=d(a))&&(e=b.document.createElement(e),e.appendBogus(),b.insertNode(e),b.moveToPosition(e,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function a(a,b){if(0===a.length)return!1;var c,d;if((c=!b&&1===a.length)&&!(c=a[0].collapsed)){var e=a[0];c=e.startContainer.getAscendant({td:1,th:1},!0);var g=e.endContainer.getAscendant({td:1,\nth:1},!0);d=CKEDITOR.tools.trim;c&&c.equals(g)&&!c.findOne(\"td, th, tr, tbody, table\")?(e=e.cloneContents(),c=e.getFirst()?d(e.getFirst().getText())!==d(c.getText()):!0):c=!1}if(c)return!1;for(d=0;d<a.length;d++)if(c=a[d]._getTableElement(),!c)return!1;return!0}function f(a){function b(a){a=a.find(\"td, th\");var c=[],d;for(d=0;d<a.count();d++)c.push(a.getItem(d));return c}var c=[],d,e;for(e=0;e<a.length;e++)d=a[e]._getTableElement(),d.is&&d.is({td:1,th:1})?c.push(d):c=c.concat(b(d));return c}function b(a){a=\nf(a);var b=\"\",c=[],d,e;for(e=0;e<a.length;e++)d&&!d.equals(a[e].getAscendant(\"tr\"))?(b+=c.join(\"\\t\")+\"\\n\",d=a[e].getAscendant(\"tr\"),c=[]):0===e&&(d=a[e].getAscendant(\"tr\")),c.push(a[e].getText());return b+=c.join(\"\\t\")}function c(a){var c=this.root.editor,d=c.getSelection(1);this.reset();A=!0;d.root.once(\"selectionchange\",function(a){a.cancel()},null,null,0);d.selectRanges([a[0]]);d=this._.cache;d.ranges=new CKEDITOR.dom.rangeList(a);d.type=CKEDITOR.SELECTION_TEXT;d.selectedElement=a[0]._getTableElement();\nd.selectedText=b(a);d.nativeSel=null;this.isFake=1;this.rev=u++;c._.fakeSelection=this;A=!1;this.root.fire(\"selectionchange\")}function e(){var b=this._.fakeSelection,c;if(b){c=this.getSelection(1);var d;if(!(d=!c)&&(d=!c.isHidden())){d=b;var e=c.getRanges(),g=d.getRanges(),f=e.length&&e[0]._getTableElement()&&e[0]._getTableElement().getAscendant(\"table\",!0),h=g.length&&g[0]._getTableElement()&&g[0]._getTableElement().getAscendant(\"table\",!0),m=1===e.length&&e[0]._getTableElement()&&e[0]._getTableElement().is(\"table\"),\nk=1===g.length&&g[0]._getTableElement()&&g[0]._getTableElement().is(\"table\"),l=1===e.length&&e[0].collapsed,g=a(e,!!CKEDITOR.env.webkit)&&a(g);f=f&&h?f.equals(h)||h.contains(f):!1;f&&(l||g)?(m&&!k&&d.selectRanges(e),d=!0):d=!1;d=!d}d&&(b.reset(),b=0)}if(!b&&(b=c||this.getSelection(1),!b||b.getType()==CKEDITOR.SELECTION_NONE))return;this.fire(\"selectionCheck\",b);c=this.elementPath();c.compare(this._.selectionPreviousPath)||(d=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(c.blockLimit),\nCKEDITOR.env.webkit&&!d&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=c,this.fire(\"selectionChange\",{selection:b,path:c}))}function l(){w=!0;q||(k.call(this),q=CKEDITOR.tools.setTimeout(k,200,this))}function k(){q=null;w&&(CKEDITOR.tools.setTimeout(e,0,this),w=!1)}function d(a){return B(a)||a.type==CKEDITOR.NODE_ELEMENT&&!a.is(CKEDITOR.dtd.$empty)?!0:!1}function h(a){function b(c,d){return c&&c.type!=CKEDITOR.NODE_TEXT?a.clone()[\"moveToElementEdit\"+(d?\"End\":\"Start\")](c):\n!1}if(!(a.root instanceof CKEDITOR.editable))return!1;var c=a.startContainer,e=a.getPreviousNode(d,null,c),g=a.getNextNode(d,null,c);return b(e)||b(g,1)||!(e||g||c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()&&c.getBogus())?!0:!1}function m(a){g(a,!1);var b=a.getDocument().createText(t);a.setCustomData(\"cke-fillingChar\",b);return b}function g(a,b){var c=a&&a.removeCustomData(\"cke-fillingChar\");if(c){if(!1!==b){var d=a.getDocument().getSelection().getNative(),e=d&&\"None\"!=d.type&&d.getRangeAt(0),\ng=t.length;if(c.getLength()>g&&e&&e.intersectsNode(c.$)){var f=[{node:d.anchorNode,offset:d.anchorOffset},{node:d.focusNode,offset:d.focusOffset}];d.anchorNode==c.$&&d.anchorOffset>g&&(f[0].offset-=g);d.focusNode==c.$&&d.focusOffset>g&&(f[1].offset-=g)}}c.setText(n(c.getText(),1));f&&(c=a.getDocument().$,d=c.getSelection(),c=c.createRange(),c.setStart(f[0].node,f[0].offset),c.collapse(!0),d.removeAllRanges(),d.addRange(c),d.extend(f[1].node,f[1].offset))}}function n(a,b){return b?a.replace(y,function(a,\nb){return b?\"Â \":\"\"}):a.replace(t,\"\")}function p(a,b){var c=CKEDITOR.dom.element.createFromHtml('\\x3cdiv data-cke-hidden-sel\\x3d\"1\" data-cke-temp\\x3d\"1\" style\\x3d\"'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?\"display:none\":\"position:fixed;top:0;left:-1000px\")+'\"\\x3e'+(b||\"\\x26nbsp;\")+\"\\x3c/div\\x3e\",a.document);a.fire(\"lockSnapshot\");a.editable().append(c);var d=a.getSelection(1),e=a.createRange(),g=d.root.on(\"selectionchange\",function(a){a.cancel()},null,null,0);e.setStartAt(c,CKEDITOR.POSITION_AFTER_START);\ne.setEndAt(c,CKEDITOR.POSITION_BEFORE_END);d.selectRanges([e]);g.removeListener();a.fire(\"unlockSnapshot\");a._.hiddenSelectionContainer=c}function r(a){var b={37:1,39:1,8:1,46:1};return function(c){var d=c.data.getKeystroke();if(b[d]){var e=a.getSelection().getRanges(),g=e[0];1==e.length&&g.collapsed&&(d=g[38>d?\"getPreviousEditableNode\":\"getNextEditableNode\"]())&&d.type==CKEDITOR.NODE_ELEMENT&&\"false\"==d.getAttribute(\"contenteditable\")&&(a.getSelection().fake(d),c.data.preventDefault(),c.cancel())}}}\nfunction x(a){for(var b=0;b<a.length;b++){var c=a[b];c.getCommonAncestor().isReadOnly()&&a.splice(b,1);if(!c.collapsed){if(c.startContainer.isReadOnly())for(var d=c.startContainer,e;d&&!((e=d.type==CKEDITOR.NODE_ELEMENT)&&d.is(\"body\")||!d.isReadOnly());)e&&\"false\"==d.getAttribute(\"contentEditable\")&&c.setStartAfter(d),d=d.getParent();d=c.startContainer;e=c.endContainer;var g=c.startOffset,f=c.endOffset,h=c.clone();d&&d.type==CKEDITOR.NODE_TEXT&&(g>=d.getLength()?h.setStartAfter(d):h.setStartBefore(d));\ne&&e.type==CKEDITOR.NODE_TEXT&&(f?h.setEndAfter(e):h.setEndBefore(e));d=new CKEDITOR.dom.walker(h);d.evaluator=function(d){if(d.type==CKEDITOR.NODE_ELEMENT&&d.isReadOnly()){var e=c.clone();c.setEndBefore(d);c.collapsed&&a.splice(b--,1);d.getPosition(h.endContainer)&CKEDITOR.POSITION_CONTAINS||(e.setStartAfter(d),e.collapsed||a.splice(b+1,0,e));return!0}return!1};d.next()}}return a}var v=\"function\"!=typeof window.getSelection,u=1,t=CKEDITOR.tools.repeat(\"â\",7),y=new RegExp(t+\"( )?\",\"g\"),A,q,w,B=CKEDITOR.dom.walker.invisible(1),\nz=function(){function a(b){return function(a){var c=a.editor.createRange();c.moveToClosestEditablePosition(a.selected,b)&&a.editor.getSelection().selectRanges([c]);return!1}}function b(a){return function(b){var c=b.editor,d=c.createRange(),e;(e=d.moveToClosestEditablePosition(b.selected,a))||(e=d.moveToClosestEditablePosition(b.selected,!a));e&&c.getSelection().selectRanges([d]);c.fire(\"saveSnapshot\");b.selected.remove();e||(d.moveToElementEditablePosition(c.editable()),c.getSelection().selectRanges([d]));\nc.fire(\"saveSnapshot\");return!1}}var c=a(),d=a(1);return{37:c,38:c,39:d,40:d,8:b(),46:b(1)}}();CKEDITOR.on(\"instanceCreated\",function(a){function b(){var a=c.getSelection();a&&a.removeAllRanges()}var c=a.editor;c.on(\"contentDom\",function(){function a(){u=new CKEDITOR.dom.selection(c.getSelection());u.lock()}function b(){h.removeListener(\"mouseup\",b);q.removeListener(\"mouseup\",b);var a=CKEDITOR.document.$.selection,c=a.createRange();\"None\"!=a.type&&c.parentElement().ownerDocument==f.$&&c.select()}\nfunction d(a){if(CKEDITOR.env.ie){var b=(a=a.getRanges()[0])?a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&(\"false\"==a.getAttribute(\"contenteditable\")||\"true\"==a.getAttribute(\"contenteditable\"))},!0):null;return a&&\"false\"==b.getAttribute(\"contenteditable\")&&b}}var f=c.document,h=CKEDITOR.document,m=c.editable(),k=f.getBody(),q=f.getDocumentElement(),n=m.isInline(),t,u;CKEDITOR.env.gecko&&m.attachListener(m,\"focus\",function(a){a.removeListener();0!==t&&(a=c.getSelection().getNative())&&\na.isCollapsed&&a.anchorNode==m.$&&(a=c.createRange(),a.moveToElementEditStart(m),a.select())},null,null,-2);m.attachListener(m,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){t&&CKEDITOR.env.webkit&&(t=c._.previousActive&&c._.previousActive.equals(f.getActive()))&&null!=c._.previousScrollTop&&c._.previousScrollTop!=m.$.scrollTop&&(m.$.scrollTop=c._.previousScrollTop);c.unlockSelection(t);t=0},null,null,-1);m.attachListener(m,\"mousedown\",function(){t=0});if(CKEDITOR.env.ie||n)v?m.attachListener(m,\n\"beforedeactivate\",a,null,null,-1):m.attachListener(c,\"selectionCheck\",a,null,null,-1),m.attachListener(m,CKEDITOR.env.webkit?\"DOMFocusOut\":\"blur\",function(){c.lockSelection(u);t=1},null,null,-1),m.attachListener(m,\"mousedown\",function(){t=0});if(CKEDITOR.env.ie&&!n){var y;m.attachListener(m,\"mousedown\",function(a){2==a.data.$.button&&((a=c.document.getSelection())&&a.getType()!=CKEDITOR.SELECTION_NONE||(y=c.window.getScrollPosition()))});m.attachListener(m,\"mouseup\",function(a){2==a.data.$.button&&\ny&&(c.document.$.documentElement.scrollLeft=y.x,c.document.$.documentElement.scrollTop=y.y);y=null});if(\"BackCompat\"!=f.$.compatMode){if(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat){var p,w;q.on(\"mousedown\",function(a){function b(a){a=a.data.$;if(p){var c=k.$.createTextRange();try{c.moveToPoint(a.clientX,a.clientY)}catch(d){}p.setEndPoint(0>w.compareEndPoints(\"StartToStart\",c)?\"EndToEnd\":\"StartToStart\",c);p.select()}}function c(){q.removeListener(\"mousemove\",b);h.removeListener(\"mouseup\",c);q.removeListener(\"mouseup\",\nc);p.select()}a=a.data;if(a.getTarget().is(\"html\")&&a.$.y<q.$.clientHeight&&a.$.x<q.$.clientWidth){p=k.$.createTextRange();try{p.moveToPoint(a.$.clientX,a.$.clientY)}catch(d){}w=p.duplicate();q.on(\"mousemove\",b);h.on(\"mouseup\",c);q.on(\"mouseup\",c)}})}if(7<CKEDITOR.env.version&&11>CKEDITOR.env.version)q.on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&(h.on(\"mouseup\",b),q.on(\"mouseup\",b))})}}m.attachListener(m,\"selectionchange\",e,c);m.attachListener(m,\"keyup\",l,c);m.attachListener(m,\"keydown\",\nfunction(a){var b=this.getSelection(1);d(b)&&(b.selectElement(d(b)),a.data.preventDefault())},c);m.attachListener(m,CKEDITOR.env.webkit?\"DOMFocusIn\":\"focus\",function(){c.forceNextSelectionCheck();c.selectionChange(1)});if(n&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)){var x;m.attachListener(m,\"mousedown\",function(){x=1});m.attachListener(f.getDocumentElement(),\"mouseup\",function(){x&&l.call(c);x=0})}else m.attachListener(CKEDITOR.env.ie?m:f.getDocumentElement(),\"mouseup\",l,c);CKEDITOR.env.webkit&&\nm.attachListener(f,\"keydown\",function(a){switch(a.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:m.hasFocus&&g(m)}},null,null,-1);m.attachListener(m,\"keydown\",r(c),null,null,-1)});c.on(\"setData\",function(){c.unlockSelection();CKEDITOR.env.webkit&&b()});c.on(\"contentDomUnload\",function(){c.unlockSelection()});if(CKEDITOR.env.ie9Compat)c.on(\"beforeDestroy\",b,null,null,9);c.on(\"dataReady\",function(){delete c._.fakeSelection;delete c._.hiddenSelectionContainer;\nc.selectionChange(1)});c.on(\"loadSnapshot\",function(){var a=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),b=c.editable().getLast(a);b&&b.hasAttribute(\"data-cke-hidden-sel\")&&(b.remove(),CKEDITOR.env.gecko&&(a=c.editable().getFirst(a))&&a.is(\"br\")&&a.getAttribute(\"_moz_editor_bogus_node\")&&a.remove())},null,null,100);c.on(\"key\",function(a){if(\"wysiwyg\"==c.mode){var b=c.getSelection();if(b.isFake){var d=z[a.data.keyCode];if(d)return d({editor:c,selected:b.getSelectedElement(),selection:b,keyEvent:a})}}})});\nif(CKEDITOR.env.webkit)CKEDITOR.on(\"instanceReady\",function(a){var b=a.editor;b.on(\"selectionChange\",function(){var a=b.editable(),c=a.getCustomData(\"cke-fillingChar\");c&&(c.getCustomData(\"ready\")?(g(a),a.editor.fire(\"selectionCheck\")):c.setCustomData(\"ready\",1))},null,null,-1);b.on(\"beforeSetMode\",function(){g(b.editable())},null,null,-1);b.on(\"getSnapshot\",function(a){a.data&&(a.data=n(a.data))},b,null,20);b.on(\"toDataFormat\",function(a){a.data.dataValue=n(a.data.dataValue)},null,null,0)});CKEDITOR.editor.prototype.selectionChange=\nfunction(a){(a?e:l).call(this)};CKEDITOR.editor.prototype.getSelection=function(a){return!this._.savedSelection&&!this._.fakeSelection||a?(a=this.editable())&&\"wysiwyg\"==this.mode?new CKEDITOR.dom.selection(a):null:this._.savedSelection||this._.fakeSelection};CKEDITOR.editor.prototype.lockSelection=function(a){a=a||this.getSelection(1);return a.getType()!=CKEDITOR.SELECTION_NONE?(!a.isLocked&&a.lock(),this._.savedSelection=a,!0):!1};CKEDITOR.editor.prototype.unlockSelection=function(a){var b=this._.savedSelection;\nreturn b?(b.unlock(a),delete this._.savedSelection,!0):!1};CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath};CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)};CKEDITOR.dom.range.prototype.select=function(){var a=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);a.selectRanges([this]);return a};CKEDITOR.SELECTION_NONE=1;CKEDITOR.SELECTION_TEXT=2;\nCKEDITOR.SELECTION_ELEMENT=3;CKEDITOR.dom.selection=function(a){if(a instanceof CKEDITOR.dom.selection){var b=a;a=a.root}var c=a instanceof CKEDITOR.dom.element;this.rev=b?b.rev:u++;this.document=a instanceof CKEDITOR.dom.document?a:a.getDocument();this.root=c?a:this.document.getBody();this.isLocked=0;this._={cache:{}};if(b)return CKEDITOR.tools.extend(this._.cache,b._.cache),this.isFake=b.isFake,this.isLocked=b.isLocked,this;a=this.getNative();var d,e;if(a)if(a.getRangeAt)d=(e=a.rangeCount&&a.getRangeAt(0))&&\nnew CKEDITOR.dom.node(e.commonAncestorContainer);else{try{e=a.createRange()}catch(g){}d=e&&CKEDITOR.dom.element.get(e.item&&e.item(0)||e.parentElement())}if(!d||d.type!=CKEDITOR.NODE_ELEMENT&&d.type!=CKEDITOR.NODE_TEXT||!this.root.equals(d)&&!this.root.contains(d))this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText=\"\",this._.cache.ranges=new CKEDITOR.dom.rangeList;return this};var C={img:1,hr:1,li:1,table:1,tr:1,td:1,\nth:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:n,_createFillingCharSequenceNode:m,FILLING_CHAR_SEQUENCE:t});CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=v?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:v?function(){var a=this._.cache;if(a.type)return a.type;\nvar b=CKEDITOR.SELECTION_NONE;try{var c=this.getNative(),d=c.type;\"Text\"==d&&(b=CKEDITOR.SELECTION_TEXT);\"Control\"==d&&(b=CKEDITOR.SELECTION_ELEMENT);c.createRange().parentElement()&&(b=CKEDITOR.SELECTION_TEXT)}catch(e){}return a.type=b}:function(){var a=this._.cache;if(a.type)return a.type;var b=CKEDITOR.SELECTION_TEXT,c=this.getNative();if(!c||!c.rangeCount)b=CKEDITOR.SELECTION_NONE;else if(1==c.rangeCount){var c=c.getRangeAt(0),d=c.startContainer;d==c.endContainer&&1==d.nodeType&&1==c.endOffset-\nc.startOffset&&C[d.childNodes[c.startOffset].nodeName.toLowerCase()]&&(b=CKEDITOR.SELECTION_ELEMENT)}return a.type=b},getRanges:function(){var a=v?function(){function a(b){return(new CKEDITOR.dom.node(b)).getIndex()}var b=function(b,c){b=b.duplicate();b.collapse(c);var d=b.parentElement();if(!d.hasChildNodes())return{container:d,offset:0};for(var e=d.children,g,f,h=b.duplicate(),m=0,k=e.length-1,l=-1,q,n;m<=k;)if(l=Math.floor((m+k)/2),g=e[l],h.moveToElementText(g),q=h.compareEndPoints(\"StartToStart\",\nb),0<q)k=l-1;else if(0>q)m=l+1;else return{container:d,offset:a(g)};if(-1==l||l==e.length-1&&0>q){h.moveToElementText(d);h.setEndPoint(\"StartToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;e=d.childNodes;if(!h)return g=e[e.length-1],g.nodeType!=CKEDITOR.NODE_TEXT?{container:d,offset:e.length}:{container:g,offset:g.nodeValue.length};for(d=e.length;0<h&&0<d;)f=e[--d],f.nodeType==CKEDITOR.NODE_TEXT&&(n=f,h-=f.nodeValue.length);return{container:n,offset:-h}}h.collapse(0<q?!0:!1);h.setEndPoint(0<\nq?\"StartToStart\":\"EndToStart\",b);h=h.text.replace(/(\\r\\n|\\r)/g,\"\\n\").length;if(!h)return{container:d,offset:a(g)+(0<q?0:1)};for(;0<h;)try{f=g[0<q?\"previousSibling\":\"nextSibling\"],f.nodeType==CKEDITOR.NODE_TEXT&&(h-=f.nodeValue.length,n=f),g=f}catch(t){return{container:d,offset:a(g)}}return{container:n,offset:0<q?-h:n.nodeValue.length+h}};return function(){var a=this.getNative(),c=a&&a.createRange(),d=this.getType();if(!a)return[];if(d==CKEDITOR.SELECTION_TEXT)return a=new CKEDITOR.dom.range(this.root),\nd=b(c,!0),a.setStart(new CKEDITOR.dom.node(d.container),d.offset),d=b(c),a.setEnd(new CKEDITOR.dom.node(d.container),d.offset),a.endContainer.getPosition(a.startContainer)&CKEDITOR.POSITION_PRECEDING&&a.endOffset<=a.startContainer.getIndex()&&a.collapse(),[a];if(d==CKEDITOR.SELECTION_ELEMENT){for(var d=[],e=0;e<c.length;e++){for(var g=c.item(e),f=g.parentNode,h=0,a=new CKEDITOR.dom.range(this.root);h<f.childNodes.length&&f.childNodes[h]!=g;h++);a.setStart(new CKEDITOR.dom.node(f),h);a.setEnd(new CKEDITOR.dom.node(f),\nh+1);d.push(a)}return d}return[]}}():function(){var a=[],b,c=this.getNative();if(!c)return a;for(var d=0;d<c.rangeCount;d++){var e=c.getRangeAt(d);b=new CKEDITOR.dom.range(this.root);b.setStart(new CKEDITOR.dom.node(e.startContainer),e.startOffset);b.setEnd(new CKEDITOR.dom.node(e.endContainer),e.endOffset);a.push(b)}return a};return function(b){var c=this._.cache,d=c.ranges;d||(c.ranges=d=new CKEDITOR.dom.rangeList(a.call(this)));return b?x(new CKEDITOR.dom.rangeList(d.slice())):d}}(),getStartElement:function(){var a=\nthis._.cache;if(void 0!==a.startElement)return a.startElement;var b;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var c=this.getRanges()[0];if(c){if(c.collapsed)b=c.startContainer,b.type!=CKEDITOR.NODE_ELEMENT&&(b=b.getParent());else{for(c.optimize();b=c.startContainer,c.startOffset==(b.getChildCount?b.getChildCount():b.getLength())&&!b.isBlockBoundary();)c.setStartAfter(b);b=c.startContainer;if(b.type!=CKEDITOR.NODE_ELEMENT)return b.getParent();\nif((b=b.getChild(c.startOffset))&&b.type==CKEDITOR.NODE_ELEMENT)for(c=b.getFirst();c&&c.type==CKEDITOR.NODE_ELEMENT;)b=c,c=c.getFirst();else b=c.startContainer}b=b.$}}return a.startElement=b?new CKEDITOR.dom.element(b):null},getSelectedElement:function(){var a=this._.cache;if(void 0!==a.selectedElement)return a.selectedElement;var b=this,c=CKEDITOR.tools.tryThese(function(){return b.getNative().createRange().item(0)},function(){for(var a=b.getRanges()[0].clone(),c,d,e=2;e&&!((c=a.getEnclosedNode())&&\nc.type==CKEDITOR.NODE_ELEMENT&&C[c.getName()]&&(d=c));e--)a.shrink(CKEDITOR.SHRINK_ELEMENT);return d&&d.$});return a.selectedElement=c?new CKEDITOR.dom.element(c):null},getSelectedText:function(){var a=this._.cache;if(void 0!==a.selectedText)return a.selectedText;var b=this.getNative(),b=v?\"Control\"==b.type?\"\":b.createRange().text:b.toString();return a.selectedText=b},lock:function(){this.getRanges();this.getStartElement();this.getSelectedElement();this.getSelectedText();this._.cache.nativeSel=null;\nthis.isLocked=1},unlock:function(b){if(this.isLocked){if(b)var d=this.getSelectedElement(),e=this.getRanges(),g=this.isFake;this.isLocked=0;this.reset();b&&(b=d||e[0]&&e[0].getCommonAncestor())&&b.getAscendant(\"body\",1)&&(a(e)?c.call(this,e):g?this.fake(d):d?this.selectElement(d):this.selectRanges(e))}},reset:function(){this._.cache={};this.isFake=0;var a=this.root.editor;if(a&&a._.fakeSelection)if(this.rev==a._.fakeSelection.rev){delete a._.fakeSelection;var b=a._.hiddenSelectionContainer;if(b){var c=\na.checkDirty();a.fire(\"lockSnapshot\");b.remove();a.fire(\"unlockSnapshot\");!c&&a.resetDirty()}delete a._.hiddenSelectionContainer}else CKEDITOR.warn(\"selection-fake-reset\");this.rev=u++},selectElement:function(a){var b=new CKEDITOR.dom.range(this.root);b.setStartBefore(a);b.setEndAfter(a);this.selectRanges([b])},selectRanges:function(b){var d=this.root.editor,e=d&&d._.hiddenSelectionContainer;this.reset();if(e)for(var e=this.root,f,k=0;k<b.length;++k)f=b[k],f.endContainer.equals(e)&&(f.endOffset=Math.min(f.endOffset,\ne.getChildCount()));if(b.length)if(this.isLocked){var l=CKEDITOR.document.getActive();this.unlock();this.selectRanges(b);this.lock();l&&!l.equals(this.root)&&l.focus()}else{var q;a:{var n,t;if(1==b.length&&!(t=b[0]).collapsed&&(q=t.getEnclosedNode())&&q.type==CKEDITOR.NODE_ELEMENT&&(t=t.clone(),t.shrink(CKEDITOR.SHRINK_ELEMENT,!0),(n=t.getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT&&(q=n),\"false\"==q.getAttribute(\"contenteditable\")))break a;q=void 0}if(q)this.fake(q);else if(d&&d.plugins.tableselection&&\nCKEDITOR.plugins.tableselection.isSupportedEnvironment&&a(b)&&!A)c.call(this,b);else{if(v){n=CKEDITOR.dom.walker.whitespaces(!0);q=/\\ufeff|\\u00a0/;t={table:1,tbody:1,tr:1};1<b.length&&(d=b[b.length-1],b[0].setEnd(d.endContainer,d.endOffset));d=b[0];b=d.collapsed;var u,y,p;if((e=d.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in C&&(!e.is(\"a\")||!e.getText()))try{p=e.$.createControlRange();p.addElement(e.$);p.select();return}catch(w){}if(d.startContainer.type==CKEDITOR.NODE_ELEMENT&&\nd.startContainer.getName()in t||d.endContainer.type==CKEDITOR.NODE_ELEMENT&&d.endContainer.getName()in t)d.shrink(CKEDITOR.NODE_ELEMENT,!0),b=d.collapsed;p=d.createBookmark();t=p.startNode;b||(l=p.endNode);p=d.document.$.body.createTextRange();p.moveToElementText(t.$);p.moveStart(\"character\",1);l?(q=d.document.$.body.createTextRange(),q.moveToElementText(l.$),p.setEndPoint(\"EndToEnd\",q),p.moveEnd(\"character\",-1)):(u=t.getNext(n),y=t.hasAscendant(\"pre\"),u=!(u&&u.getText&&u.getText().match(q))&&(y||\n!t.hasPrevious()||t.getPrevious().is&&t.getPrevious().is(\"br\")),y=d.document.createElement(\"span\"),y.setHtml(\"\\x26#65279;\"),y.insertBefore(t),u&&d.document.createText(\"ï»¿\").insertBefore(t));d.setStartBefore(t);t.remove();b?(u?(p.moveStart(\"character\",-1),p.select(),d.document.$.selection.clear()):p.select(),d.moveToPosition(y,CKEDITOR.POSITION_BEFORE_START),y.remove()):(d.setEndBefore(l),l.remove(),p.select())}else{l=this.getNative();if(!l)return;this.removeAllRanges();for(p=0;p<b.length;p++){if(p<\nb.length-1&&(u=b[p],y=b[p+1],q=u.clone(),q.setStart(u.endContainer,u.endOffset),q.setEnd(y.startContainer,y.startOffset),!q.collapsed&&(q.shrink(CKEDITOR.NODE_ELEMENT,!0),d=q.getCommonAncestor(),q=q.getEnclosedNode(),d.isReadOnly()||q&&q.isReadOnly()))){y.setStart(u.startContainer,u.startOffset);b.splice(p--,1);continue}d=b[p];y=this.document.$.createRange();d.collapsed&&CKEDITOR.env.webkit&&h(d)&&(q=m(this.root),d.insertNode(q),(u=q.getNext())&&!q.getPrevious()&&u.type==CKEDITOR.NODE_ELEMENT&&\"br\"==\nu.getName()?(g(this.root),d.moveToPosition(u,CKEDITOR.POSITION_BEFORE_START)):d.moveToPosition(q,CKEDITOR.POSITION_AFTER_END));y.setStart(d.startContainer.$,d.startOffset);try{y.setEnd(d.endContainer.$,d.endOffset)}catch(x){if(0<=x.toString().indexOf(\"NS_ERROR_ILLEGAL_VALUE\"))d.collapse(1),y.setEnd(d.endContainer.$,d.endOffset);else throw x;}l.addRange(y)}}this.reset();this.root.fire(\"selectionchange\")}}},fake:function(a,b){var c=this.root.editor;void 0===b&&a.hasAttribute(\"aria-label\")&&(b=a.getAttribute(\"aria-label\"));\nthis.reset();p(c,b);var d=this._.cache,e=new CKEDITOR.dom.range(this.root);e.setStartBefore(a);e.setEndAfter(a);d.ranges=new CKEDITOR.dom.rangeList(e);d.selectedElement=d.startElement=a;d.type=CKEDITOR.SELECTION_ELEMENT;d.selectedText=d.nativeSel=null;this.isFake=1;this.rev=u++;c._.fakeSelection=this;this.root.fire(\"selectionchange\")},isHidden:function(){var a=this.getCommonAncestor();a&&a.type==CKEDITOR.NODE_TEXT&&(a=a.getParent());return!(!a||!a.data(\"cke-hidden-sel\"))},isInTable:function(){return a(this.getRanges())},\ncreateBookmarks:function(a){a=this.getRanges().createBookmarks(a);this.isFake&&(a.isFake=1);return a},createBookmarks2:function(a){a=this.getRanges().createBookmarks2(a);this.isFake&&(a.isFake=1);return a},selectBookmarks:function(b){for(var c=[],d,e=0;e<b.length;e++){var g=new CKEDITOR.dom.range(this.root);g.moveToBookmark(b[e]);c.push(g)}b.isFake&&(d=a(c)?c[0]._getTableElement():c[0].getEnclosedNode(),d&&d.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn(\"selection-not-fake\"),b.isFake=0));b.isFake&&\n!a(c)?this.fake(d):this.selectRanges(c);return this},getCommonAncestor:function(){var a=this.getRanges();return a.length?a[0].startContainer.getCommonAncestor(a[a.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var a=this.getNative();try{a&&a[v?\"empty\":\"removeAllRanges\"]()}catch(b){}this.reset()}}}}(),\"use strict\",CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=\n2,CKEDITOR.STYLE_OBJECT=3,function(){function a(a,b){for(var c,d;(a=a.getParent())&&!a.equals(b);)if(a.getAttribute(\"data-nostyle\"))c=a;else if(!d){var e=a.getAttribute(\"contentEditable\");\"false\"==e?c=a:\"true\"==e&&(d=1)}return c}function f(a,b,c,d){return(a.getPosition(b)|d)==d&&(!c.childRule||c.childRule(a))}function b(c){var d=c.document;if(c.collapsed)d=t(this,d),c.insertNode(d),c.moveToPosition(d,CKEDITOR.POSITION_BEFORE_END);else{var g=this.element,h=this._.definition,m,k=h.ignoreReadonly,l=\nk||h.includeReadonly;null==l&&(l=c.root.getCustomData(\"cke_includeReadonly\"));var q=CKEDITOR.dtd[g];q||(m=!0,q=CKEDITOR.dtd.span);c.enlarge(CKEDITOR.ENLARGE_INLINE,1);c.trim();var n=c.createBookmark(),u=n.startNode,y=n.endNode,p=u,v;if(!k){var w=c.getCommonAncestor(),k=a(u,w),w=a(y,w);k&&(p=k.getNextSourceNode(!0));w&&(y=w)}for(p.getPosition(y)==CKEDITOR.POSITION_FOLLOWING&&(p=0);p;){k=!1;if(p.equals(y))p=null,k=!0;else{var A=p.type==CKEDITOR.NODE_ELEMENT?p.getName():null,w=A&&\"false\"==p.getAttribute(\"contentEditable\"),\nr=A&&p.getAttribute(\"data-nostyle\");if(A&&p.data(\"cke-bookmark\")){p=p.getNextSourceNode(!0);continue}if(w&&l&&CKEDITOR.dtd.$block[A])for(var B=p,z=e(B),C=void 0,E=z.length,da=0,B=E&&new CKEDITOR.dom.range(B.getDocument());da<E;++da){var C=z[da],H=CKEDITOR.filter.instances[C.data(\"cke-filter\")];if(H?H.check(this):1)B.selectNodeContents(C),b.call(this,B)}z=A?!q[A]||r?0:w&&!l?0:f(p,y,h,M):1;if(z)if(C=p.getParent(),z=h,E=g,da=m,!C||!(C.getDtd()||CKEDITOR.dtd.span)[E]&&!da||z.parentRule&&!z.parentRule(C))k=\n!0;else{if(v||A&&CKEDITOR.dtd.$removeEmpty[A]&&(p.getPosition(y)|M)!=M||(v=c.clone(),v.setStartBefore(p)),A=p.type,A==CKEDITOR.NODE_TEXT||w||A==CKEDITOR.NODE_ELEMENT&&!p.getChildCount()){for(var A=p,G;(k=!A.getNext(J))&&(G=A.getParent(),q[G.getName()])&&f(G,u,h,L);)A=G;v.setEndAfter(A)}}else k=!0;p=p.getNextSourceNode(r||w)}if(k&&v&&!v.collapsed){for(var k=t(this,d),w=k.hasAttributes(),r=v.getCommonAncestor(),A={},z={},C={},E={},ea,F,ha;k&&r;){if(r.getName()==g){for(ea in h.attributes)!E[ea]&&(ha=\nr.getAttribute(F))&&(k.getAttribute(ea)==ha?z[ea]=1:E[ea]=1);for(F in h.styles)!C[F]&&(ha=r.getStyle(F))&&(k.getStyle(F)==ha?A[F]=1:C[F]=1)}r=r.getParent()}for(ea in z)k.removeAttribute(ea);for(F in A)k.removeStyle(F);w&&!k.hasAttributes()&&(k=null);k?(v.extractContents().appendTo(k),v.insertNode(k),x.call(this,k),k.mergeSiblings(),CKEDITOR.env.ie||k.$.normalize()):(k=new CKEDITOR.dom.element(\"span\"),v.extractContents().appendTo(k),v.insertNode(k),x.call(this,k),k.remove(!0));v=null}}c.moveToBookmark(n);\nc.shrink(CKEDITOR.SHRINK_TEXT);c.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function c(a){function b(){for(var a=new CKEDITOR.dom.elementPath(d.getParent()),c=new CKEDITOR.dom.elementPath(l.getParent()),e=null,g=null,f=0;f<a.elements.length;f++){var h=a.elements[f];if(h==a.block||h==a.blockLimit)break;n.checkElementRemovable(h,!0)&&(e=h)}for(f=0;f<c.elements.length;f++){h=c.elements[f];if(h==c.block||h==c.blockLimit)break;n.checkElementRemovable(h,!0)&&(g=h)}g&&l.breakParent(g);e&&d.breakParent(e)}a.enlarge(CKEDITOR.ENLARGE_INLINE,\n1);var c=a.createBookmark(),d=c.startNode,e=this._.definition.alwaysRemoveElement;if(a.collapsed){for(var g=new CKEDITOR.dom.elementPath(d.getParent(),a.root),f,h=0,m;h<g.elements.length&&(m=g.elements[h])&&m!=g.block&&m!=g.blockLimit;h++)if(this.checkElementRemovable(m)){var k;!e&&a.collapsed&&(a.checkBoundaryOfElement(m,CKEDITOR.END)||(k=a.checkBoundaryOfElement(m,CKEDITOR.START)))?(f=m,f.match=k?\"start\":\"end\"):(m.mergeSiblings(),m.is(this.element)?r.call(this,m):v(m,q(this)[m.getName()]))}if(f){e=\nd;for(h=0;;h++){m=g.elements[h];if(m.equals(f))break;else if(m.match)continue;else m=m.clone();m.append(e);e=m}e[\"start\"==f.match?\"insertBefore\":\"insertAfter\"](f)}}else{var l=c.endNode,n=this;b();for(g=d;!g.equals(l);)f=g.getNextSourceNode(),g.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(g)&&(g.getName()==this.element?r.call(this,g):v(g,q(this)[g.getName()]),f.type==CKEDITOR.NODE_ELEMENT&&f.contains(d)&&(b(),f=d.getNext())),g=f}a.moveToBookmark(c);a.shrink(CKEDITOR.NODE_ELEMENT,!0)}function e(a){var b=\n[];a.forEach(function(a){if(\"true\"==a.getAttribute(\"contenteditable\"))return b.push(a),!1},CKEDITOR.NODE_ELEMENT,!0);return b}function l(a){var b=a.getEnclosedNode()||a.getCommonAncestor(!1,!0);(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1))&&!a.isReadOnly()&&y(a,this)}function k(a){var b=a.getCommonAncestor(!0,!0);if(a=(new CKEDITOR.dom.elementPath(b,a.root)).contains(this.element,1)){var b=this._.definition,c=b.attributes;if(c)for(var d in c)a.removeAttribute(d,c[d]);if(b.styles)for(var e in b.styles)b.styles.hasOwnProperty(e)&&\na.removeStyle(e)}}function d(a){var b=a.createBookmark(!0),c=a.createIterator();c.enforceRealBlocks=!0;this._.enterMode&&(c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var d,e=a.document,g;d=c.getNextParagraph();)!d.isReadOnly()&&(c.activeFilter?c.activeFilter.check(this):1)&&(g=t(this,e,d),m(d,g));a.moveToBookmark(b)}function h(a){var b=a.createBookmark(1),c=a.createIterator();c.enforceRealBlocks=!0;c.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;for(var d,e;d=c.getNextParagraph();)this.checkElementRemovable(d)&&\n(d.is(\"pre\")?((e=this._.enterMode==CKEDITOR.ENTER_BR?null:a.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))&&d.copyAttributes(e),m(d,e)):r.call(this,d));a.moveToBookmark(b)}function m(a,b){var c=!b;c&&(b=a.getDocument().createElement(\"div\"),a.copyAttributes(b));var d=b&&b.is(\"pre\"),e=a.is(\"pre\"),f=!d&&e;if(d&&!e){e=b;(f=a.getBogus())&&f.remove();f=a.getHtml();f=n(f,/(?:^[ \\t\\n\\r]+)|(?:[ \\t\\n\\r]+$)/g,\"\");f=f.replace(/[ \\t\\r\\n]*(<br[^>]*>)[ \\t\\r\\n]*/gi,\"$1\");f=f.replace(/([ \\t\\n\\r]+|&nbsp;)/g,\n\" \");f=f.replace(/<br\\b[^>]*>/gi,\"\\n\");if(CKEDITOR.env.ie){var h=a.getDocument().createElement(\"div\");h.append(e);e.$.outerHTML=\"\\x3cpre\\x3e\"+f+\"\\x3c/pre\\x3e\";e.copyAttributes(h.getFirst());e=h.getFirst().remove()}else e.setHtml(f);b=e}else f?b=p(c?[a.getHtml()]:g(a),b):a.moveChildren(b);b.replace(a);if(d){var c=b,m;(m=c.getPrevious(H))&&m.type==CKEDITOR.NODE_ELEMENT&&m.is(\"pre\")&&(d=n(m.getHtml(),/\\n$/,\"\")+\"\\n\\n\"+n(c.getHtml(),/^\\n/,\"\"),CKEDITOR.env.ie?c.$.outerHTML=\"\\x3cpre\\x3e\"+d+\"\\x3c/pre\\x3e\":\nc.setHtml(d),m.remove())}else c&&u(b)}function g(a){var b=[];n(a.getOuterHtml(),/(\\S\\s*)\\n(?:\\s|(<span[^>]+data-cke-bookmark.*?\\/span>))*\\n(?!$)/gi,function(a,b,c){return b+\"\\x3c/pre\\x3e\"+c+\"\\x3cpre\\x3e\"}).replace(/<pre\\b.*?>([\\s\\S]*?)<\\/pre>/gi,function(a,c){b.push(c)});return b}function n(a,b,c){var d=\"\",e=\"\";a=a.replace(/(^<span[^>]+data-cke-bookmark.*?\\/span>)|(<span[^>]+data-cke-bookmark.*?\\/span>$)/gi,function(a,b,c){b&&(d=b);c&&(e=c);return\"\"});return d+a.replace(b,c)+e}function p(a,b){var c;\n1<a.length&&(c=new CKEDITOR.dom.documentFragment(b.getDocument()));for(var d=0;d<a.length;d++){var e=a[d],e=e.replace(/(\\r\\n|\\r)/g,\"\\n\"),e=n(e,/^[ \\t]*\\n/,\"\"),e=n(e,/\\n$/,\"\"),e=n(e,/^[ \\t]+|[ \\t]+$/g,function(a,b){return 1==a.length?\"\\x26nbsp;\":b?\" \"+CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1):CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"}),e=e.replace(/\\n/g,\"\\x3cbr\\x3e\"),e=e.replace(/[ \\t]{2,}/g,function(a){return CKEDITOR.tools.repeat(\"\\x26nbsp;\",a.length-1)+\" \"});if(c){var g=b.clone();g.setHtml(e);\nc.append(g)}else b.setHtml(e)}return c||b}function r(a,b){var c=this._.definition,d=c.attributes,c=c.styles,e=q(this)[a.getName()],g=CKEDITOR.tools.isEmpty(d)&&CKEDITOR.tools.isEmpty(c),f;for(f in d)if(\"class\"!=f&&!this._.definition.fullMatch||a.getAttribute(f)==w(f,d[f]))b&&\"data-\"==f.slice(0,5)||(g=a.hasAttribute(f),a.removeAttribute(f));for(var h in c)this._.definition.fullMatch&&a.getStyle(h)!=w(h,c[h],!0)||(g=g||!!a.getStyle(h),a.removeStyle(h));v(a,e,C[a.getName()]);g&&(this._.definition.alwaysRemoveElement?\nu(a,1):!CKEDITOR.dtd.$block[a.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!a.hasAttributes()?u(a):a.renameNode(this._.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"))}function x(a){for(var b=q(this),c=a.getElementsByTag(this.element),d,e=c.count();0<=--e;)d=c.getItem(e),d.isReadOnly()||r.call(this,d,!0);for(var g in b)if(g!=this.element)for(c=a.getElementsByTag(g),e=c.count()-1;0<=e;e--)d=c.getItem(e),d.isReadOnly()||v(d,b[g])}function v(a,b,c){if(b=b&&b.attributes)for(var d=0;d<b.length;d++){var e=b[d][0],\ng;if(g=a.getAttribute(e)){var f=b[d][1];(null===f||f.test&&f.test(g)||\"string\"==typeof f&&g==f)&&a.removeAttribute(e)}}c||u(a)}function u(a,b){if(!a.hasAttributes()||b)if(CKEDITOR.dtd.$block[a.getName()]){var c=a.getPrevious(H),d=a.getNext(H);!c||c.type!=CKEDITOR.NODE_TEXT&&c.isBlockBoundary({br:1})||a.append(\"br\",1);!d||d.type!=CKEDITOR.NODE_TEXT&&d.isBlockBoundary({br:1})||a.append(\"br\");a.remove(!0)}else c=a.getFirst(),d=a.getLast(),a.remove(!0),c&&(c.type==CKEDITOR.NODE_ELEMENT&&c.mergeSiblings(),\nd&&!c.equals(d)&&d.type==CKEDITOR.NODE_ELEMENT&&d.mergeSiblings())}function t(a,b,c){var d;d=a.element;\"*\"==d&&(d=\"span\");d=new CKEDITOR.dom.element(d,b);c&&c.copyAttributes(d);d=y(d,a);b.getCustomData(\"doc_processing_style\")&&d.hasAttribute(\"id\")?d.removeAttribute(\"id\"):b.setCustomData(\"doc_processing_style\",1);return d}function y(a,b){var c=b._.definition,d=c.attributes,c=CKEDITOR.style.getStyleText(c);if(d)for(var e in d)a.setAttribute(e,d[e]);c&&a.setAttribute(\"style\",c);return a}function A(a,\nb){for(var c in a)a[c]=a[c].replace(F,function(a,c){return b[c]})}function q(a){if(a._.overrides)return a._.overrides;var b=a._.overrides={},c=a._.definition.overrides;if(c){CKEDITOR.tools.isArray(c)||(c=[c]);for(var d=0;d<c.length;d++){var e=c[d],g,f;\"string\"==typeof e?g=e.toLowerCase():(g=e.element?e.element.toLowerCase():a.element,f=e.attributes);e=b[g]||(b[g]={});if(f){var e=e.attributes=e.attributes||[],h;for(h in f)e.push([h.toLowerCase(),f[h]])}}}return b}function w(a,b,c){var d=new CKEDITOR.dom.element(\"span\");\nd[c?\"setStyle\":\"setAttribute\"](a,b);return d[c?\"getStyle\":\"getAttribute\"](a)}function B(a,b){function c(a,b){return\"font-family\"==b.toLowerCase()?a.replace(/[\"']/g,\"\"):a}\"string\"==typeof a&&(a=CKEDITOR.tools.parseCssText(a));\"string\"==typeof b&&(b=CKEDITOR.tools.parseCssText(b,!0));for(var d in a)if(!(d in b)||c(b[d],d)!=c(a[d],d)&&\"inherit\"!=a[d]&&\"inherit\"!=b[d])return!1;return!0}function z(a,b,c){var d=a.document,e=a.getRanges();b=b?this.removeFromRange:this.applyToRange;var g,f;if(a.isFake&&a.isInTable())for(g=\n[],f=0;f<e.length;f++)g.push(e[f].clone());for(var h=e.createIterator();f=h.getNextRange();)b.call(this,f,c);a.selectRanges(g||e);d.removeCustomData(\"doc_processing_style\")}var C={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},E={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,\ndd:1,form:1,audio:1,video:1},G=/\\s*(?:;\\s*|$)/,F=/#\\((.+?)\\)/g,J=CKEDITOR.dom.walker.bookmark(0,1),H=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(a,b){if(\"string\"==typeof a.type)return new CKEDITOR.style.customHandlers[a.type](a);var c=a.attributes;c&&c.style&&(a.styles=CKEDITOR.tools.extend({},a.styles,CKEDITOR.tools.parseCssText(c.style)),delete c.style);b&&(a=CKEDITOR.tools.clone(a),A(a.attributes,b),A(a.styles,b));c=this.element=a.element?\"string\"==typeof a.element?a.element.toLowerCase():\na.element:\"*\";this.type=a.type||(C[c]?CKEDITOR.STYLE_BLOCK:E[c]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE);\"object\"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT);this._={definition:a}};CKEDITOR.style.prototype={apply:function(a){if(a instanceof CKEDITOR.dom.document)return z.call(this,a.getSelection());if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);z.call(this,a.getSelection(),0,a);this._.enterMode=b}},remove:function(a){if(a instanceof\nCKEDITOR.dom.document)return z.call(this,a.getSelection(),1);if(this.checkApplicable(a.elementPath(),a)){var b=this._.enterMode;b||(this._.enterMode=a.activeEnterMode);z.call(this,a.getSelection(),1,a);this._.enterMode=b}},applyToRange:function(a){this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?b:this.type==CKEDITOR.STYLE_BLOCK?d:this.type==CKEDITOR.STYLE_OBJECT?l:null;return this.applyToRange(a)},removeFromRange:function(a){this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?c:this.type==CKEDITOR.STYLE_BLOCK?\nh:this.type==CKEDITOR.STYLE_OBJECT?k:null;return this.removeFromRange(a)},applyToObject:function(a){y(a,this)},checkActive:function(a,b){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(a.block||a.blockLimit,!0,b);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var c=a.elements,d=0,e;d<c.length;d++)if(e=c[d],this.type!=CKEDITOR.STYLE_INLINE||e!=a.block&&e!=a.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var g=e.getName();if(!(\"string\"==typeof this.element?\ng==this.element:g in this.element))continue}if(this.checkElementRemovable(e,!0,b))return!0}}return!1},checkApplicable:function(a,b,c){b&&b instanceof CKEDITOR.filter&&(c=b);if(c&&!c.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!a.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!a.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(a,b){var c=this._.definition;if(!a||!c.ignoreReadonly&&a.isReadOnly())return!1;var d=a.getName();if(\"string\"==typeof this.element?\nd==this.element:d in this.element){if(!b&&!a.hasAttributes())return!0;if(d=c._AC)c=d;else{var d={},e=0,g=c.attributes;if(g)for(var f in g)e++,d[f]=g[f];if(f=CKEDITOR.style.getStyleText(c))d.style||e++,d.style=f;d._length=e;c=c._AC=d}if(c._length){for(var h in c)if(\"_length\"!=h)if(d=a.getAttribute(h)||\"\",\"style\"==h?B(c[h],d):c[h]==d){if(!b)return!0}else if(b)return!1;if(b)return!0}else return!0}return!1},checkElementRemovable:function(a,b,c){if(this.checkElementMatch(a,b,c))return!0;if(b=q(this)[a.getName()]){var d;\nif(!(b=b.attributes))return!0;for(c=0;c<b.length;c++)if(d=b[c][0],d=a.getAttribute(d)){var e=b[c][1];if(null===e)return!0;if(\"string\"==typeof e){if(d==e)return!0}else if(e.test(d))return!0}}return!1},buildPreview:function(a){var b=this._.definition,c=[],d=b.element;\"bdo\"==d&&(d=\"span\");var c=[\"\\x3c\",d],e=b.attributes;if(e)for(var g in e)c.push(\" \",g,'\\x3d\"',e[g],'\"');(e=CKEDITOR.style.getStyleText(b))&&c.push(' style\\x3d\"',e,'\"');c.push(\"\\x3e\",a||b.name,\"\\x3c/\",d,\"\\x3e\");return c.join(\"\")},getDefinition:function(){return this._.definition}};\nCKEDITOR.style.getStyleText=function(a){var b=a._ST;if(b)return b;var b=a.styles,c=a.attributes&&a.attributes.style||\"\",d=\"\";c.length&&(c=c.replace(G,\";\"));for(var e in b){var g=b[e],f=(e+\":\"+g).replace(G,\";\");\"inherit\"==g?d+=f:c+=f}c.length&&(c=CKEDITOR.tools.normalizeCssText(c,!0));return a._ST=c+d};CKEDITOR.style.customHandlers={};CKEDITOR.style.addCustomHandler=function(a){var b=function(a){this._={definition:a};this.setup&&this.setup(a)};b.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),\n{assignedTo:CKEDITOR.STYLE_OBJECT},a,!0);return this.customHandlers[a.type]=b};var M=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,L=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(a,f){this.requiredContent=this.allowedContent=this.style=a;CKEDITOR.tools.extend(this,f,!0)},CKEDITOR.styleCommand.prototype.exec=function(a){a.focus();this.state==CKEDITOR.TRISTATE_OFF?a.applyStyle(this.style):\nthis.state==CKEDITOR.TRISTATE_ON&&a.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager(\"\",\"stylesSet\"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(a,f,b){CKEDITOR.stylesSet.addExternal(a,f,\"\");CKEDITOR.stylesSet.load(a,b)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(a,f){var b=this._.styleStateChangeCallbacks;b||(b=this._.styleStateChangeCallbacks=[],this.on(\"selectionChange\",\nfunction(a){for(var e=0;e<b.length;e++){var f=b[e],k=f.style.checkActive(a.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;f.fn.call(this,k)}}));b.push({style:a,fn:f})},applyStyle:function(a){a.apply(this)},removeStyle:function(a){a.remove(this)},getStylesSet:function(a){if(this._.stylesDefinitions)a(this._.stylesDefinitions);else{var f=this,b=f.config.stylesCombo_stylesSet||f.config.stylesSet;if(!1===b)a(null);else if(b instanceof Array)f._.stylesDefinitions=b,a(b);else{b||(b=\"default\");\nvar b=b.split(\":\"),c=b[0];CKEDITOR.stylesSet.addExternal(c,b[1]?b.slice(1).join(\":\"):CKEDITOR.getUrl(\"styles.js\"),\"\");CKEDITOR.stylesSet.load(c,function(b){f._.stylesDefinitions=b[c];a(f._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createComment(a));CKEDITOR.dom.domObject.call(this,a)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return\"\\x3c!--\"+\nthis.$.nodeValue+\"--\\x3e\"}}),\"use strict\",function(){var a={},f={},b;for(b in CKEDITOR.dtd.$blockLimit)b in CKEDITOR.dtd.$list||(a[b]=1);for(b in CKEDITOR.dtd.$block)b in CKEDITOR.dtd.$blockLimit||b in CKEDITOR.dtd.$empty||(f[b]=1);CKEDITOR.dom.elementPath=function(b,e){var l=null,k=null,d=[],h=b,m;e=e||b.getDocument().getBody();do if(h.type==CKEDITOR.NODE_ELEMENT){d.push(h);if(!this.lastElement&&(this.lastElement=h,h.is(CKEDITOR.dtd.$object)||\"false\"==h.getAttribute(\"contenteditable\")))continue;\nif(h.equals(e))break;if(!k&&(m=h.getName(),\"true\"==h.getAttribute(\"contenteditable\")?k=h:!l&&f[m]&&(l=h),a[m])){if(m=!l&&\"div\"==m){a:{m=h.getChildren();for(var g=0,n=m.count();g<n;g++){var p=m.getItem(g);if(p.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[p.getName()]){m=!0;break a}}m=!1}m=!m}m?l=h:k=h}}while(h=h.getParent());k||(k=e);this.block=l;this.blockLimit=k;this.root=e;this.elements=d}}(),CKEDITOR.dom.elementPath.prototype={compare:function(a){var f=this.elements;a=a&&a.elements;if(!a||\nf.length!=a.length)return!1;for(var b=0;b<f.length;b++)if(!f[b].equals(a[b]))return!1;return!0},contains:function(a,f,b){var c;\"string\"==typeof a&&(c=function(b){return b.getName()==a});a instanceof CKEDITOR.dom.element?c=function(b){return b.equals(a)}:CKEDITOR.tools.isArray(a)?c=function(b){return-1<CKEDITOR.tools.indexOf(a,b.getName())}:\"function\"==typeof a?c=a:\"object\"==typeof a&&(c=function(b){return b.getName()in a});var e=this.elements,l=e.length;f&&l--;b&&(e=Array.prototype.slice.call(e,0),\ne.reverse());for(f=0;f<l;f++)if(c(e[f]))return e[f];return null},isContextFor:function(a){var f;return a in CKEDITOR.dtd.$block?(f=this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit,!!f.getDtd()[a]):!0},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(a,f){\"string\"==typeof a&&(a=(f?f.$:document).createTextNode(a));this.$=a},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,\n{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(a){this.$.nodeValue=a},split:function(a){var f=this.$.parentNode,b=f.childNodes.length,c=this.getLength(),e=this.getDocument(),l=new CKEDITOR.dom.text(this.$.splitText(a),e);f.childNodes.length==b&&(a>=c?(l=e.createText(\"\"),l.insertAfter(this)):(a=e.createText(\"\"),a.insertAfter(l),a.remove()));return l},substring:function(a,f){return\"number\"!=typeof f?this.$.nodeValue.substr(a):\nthis.$.nodeValue.substring(a,f)}}),function(){function a(a,c,e){var f=a.serializable,k=c[e?\"endContainer\":\"startContainer\"],d=e?\"endOffset\":\"startOffset\",h=f?c.document.getById(a.startNode):a.startNode;a=f?c.document.getById(a.endNode):a.endNode;k.equals(h.getPrevious())?(c.startOffset=c.startOffset-k.getLength()-a.getPrevious().getLength(),k=a.getNext()):k.equals(a.getPrevious())&&(c.startOffset-=k.getLength(),k=a.getNext());k.equals(h.getParent())&&c[d]++;k.equals(a.getParent())&&c[d]++;c[e?\"endContainer\":\n\"startContainer\"]=k;return c}CKEDITOR.dom.rangeList=function(a){if(a instanceof CKEDITOR.dom.rangeList)return a;a?a instanceof CKEDITOR.dom.range&&(a=[a]):a=[];return CKEDITOR.tools.extend(a,f)};var f={createIterator:function(){var a=this,c=CKEDITOR.dom.walker.bookmark(),e=[],f;return{getNextRange:function(k){f=void 0===f?0:f+1;var d=a[f];if(d&&1<a.length){if(!f)for(var h=a.length-1;0<=h;h--)e.unshift(a[h].createBookmark(!0));if(k)for(var m=0;a[f+m+1];){var g=d.document;k=0;h=g.getById(e[m].endNode);\nfor(g=g.getById(e[m+1].startNode);;){h=h.getNextSourceNode(!1);if(g.equals(h))k=1;else if(c(h)||h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary())continue;break}if(!k)break;m++}for(d.moveToBookmark(e.shift());m--;)h=a[++f],h.moveToBookmark(e.shift()),d.setEnd(h.endContainer,h.endOffset)}return d}}},createBookmarks:function(b){for(var c=[],e,f=0;f<this.length;f++){c.push(e=this[f].createBookmark(b,!0));for(var k=f+1;k<this.length;k++)this[k]=a(e,this[k]),this[k]=a(e,this[k],!0)}return c},createBookmarks2:function(a){for(var c=\n[],e=0;e<this.length;e++)c.push(this[e].createBookmark2(a));return c},moveToBookmarks:function(a){for(var c=0;c<this.length;c++)this[c].moveToBookmark(a[c])}}}(),function(){function a(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(\",\")[1]||\"skins/\"+CKEDITOR.skinName.split(\",\")[0]+\"/\")}function f(b){var c=CKEDITOR.skin[\"ua_\"+b],d=CKEDITOR.env;if(c)for(var c=c.split(\",\").sort(function(a,b){return a>b?-1:1}),e=0,f;e<c.length;e++)if(f=c[e],d.ie&&(f.replace(/^ie/,\"\")==d.version||d.quirks&&\"iequirks\"==\nf)&&(f=\"ie\"),d[f]){b+=\"_\"+c[e];break}return CKEDITOR.getUrl(a()+b+\".css\")}function b(a,b){l[a]||(CKEDITOR.document.appendStyleSheet(f(a)),l[a]=1);b&&b()}function c(a){var b=a.getById(k);b||(b=a.getHead().append(\"style\"),b.setAttribute(\"id\",k),b.setAttribute(\"type\",\"text/css\"));return b}function e(a,b,c){var d,e,f;if(CKEDITOR.env.webkit)for(b=b.split(\"}\").slice(0,-1),e=0;e<b.length;e++)b[e]=b[e].split(\"{\");for(var h=0;h<a.length;h++)if(CKEDITOR.env.webkit)for(e=0;e<b.length;e++){f=b[e][1];for(d=0;d<\nc.length;d++)f=f.replace(c[d][0],c[d][1]);a[h].$.sheet.addRule(b[e][0],f)}else{f=b;for(d=0;d<c.length;d++)f=f.replace(c[d][0],c[d][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?a[h].$.styleSheet.cssText+=f:a[h].$.innerHTML+=f}}var l={};CKEDITOR.skin={path:a,loadPart:function(c,d){CKEDITOR.skin.name!=CKEDITOR.skinName.split(\",\")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(a()+\"skin.js\"),function(){b(c,d)}):b(c,d)},getPath:function(a){return CKEDITOR.getUrl(f(a))},icons:{},addIcon:function(a,b,c,d){a=\na.toLowerCase();this.icons[a]||(this.icons[a]={path:b,offset:c||0,bgsize:d||\"16px\"})},getIconStyle:function(a,b,c,d,e){var f;a&&(a=a.toLowerCase(),b&&(f=this.icons[a+\"-rtl\"]),f||(f=this.icons[a]));a=c||f&&f.path||\"\";d=d||f&&f.offset;e=e||f&&f.bgsize||\"16px\";a&&(a=a.replace(/'/g,\"\\\\'\"));return a&&\"background-image:url('\"+CKEDITOR.getUrl(a)+\"');background-position:0 \"+d+\"px;background-size:\"+e+\";\"}};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(a){var b=\nc(CKEDITOR.document);return(this.setUiColor=function(a){this.uiColor=a;var c=CKEDITOR.skin.chameleon,f=\"\",m=\"\";\"function\"==typeof c&&(f=c(this,\"editor\"),m=c(this,\"panel\"));a=[[h,a]];e([b],f,a);e(d,m,a)}).call(this,a)}});var k=\"cke_ui_color\",d=[],h=/\\$color/g;CKEDITOR.on(\"instanceLoaded\",function(a){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var b=a.editor;a=function(a){a=(a.data[0]||a.data).element.getElementsByTag(\"iframe\").getItem(0).getFrameDocument();if(!a.getById(\"cke_ui_color\")){a=c(a);d.push(a);\nvar f=b.getUiColor();f&&e([a],CKEDITOR.skin.chameleon(b,\"panel\"),[[h,f]])}};b.on(\"panelShow\",a);b.on(\"menuShow\",a);b.config.uiColor&&b.setUiColor(b.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var a=CKEDITOR.dom.element.createFromHtml('\\x3cdiv style\\x3d\"width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue\"\\x3e\\x3c/div\\x3e',CKEDITOR.document);a.appendTo(CKEDITOR.document.getHead());try{var f=a.getComputedStyle(\"border-top-color\"),\nb=a.getComputedStyle(\"border-right-color\");CKEDITOR.env.hc=!(!f||f!=b)}catch(c){CKEDITOR.env.hc=!1}a.remove()}CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=\" cke_hc\");CKEDITOR.document.appendStyleText(\".cke{visibility:hidden;}\");CKEDITOR.status=\"loaded\";CKEDITOR.fireOnce(\"loaded\");if(a=CKEDITOR._.pending)for(delete CKEDITOR._.pending,f=0;f<a.length;f++)CKEDITOR.editor.prototype.constructor.apply(a[f][0],a[f][1]),CKEDITOR.add(a[f][0])}(),CKEDITOR.skin.name=\"moono-lisa\",CKEDITOR.skin.ua_editor=\"ie,iequirks,ie8,gecko\",\nCKEDITOR.skin.ua_dialog=\"ie,iequirks,ie8\",CKEDITOR.skin.chameleon=function(){var a=function(){return function(a,c){for(var e=a.match(/[^#]./g),f=0;3>f;f++){var k=f,d;d=parseInt(e[f],16);d=(\"0\"+(0>c?0|d*(1+c):0|d+(255-d)*c).toString(16)).slice(-2);e[k]=d}return\"#\"+e.join(\"\")}}(),f={editor:new CKEDITOR.template(\"{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] \"),\npanel:new CKEDITOR.template(\".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] \")};\nreturn function(b,c){var e=a(b.uiColor,.4),e={id:\".\"+b.id,defaultBorder:a(e,-.2),toolbarElementsBorder:a(e,-.25),defaultBackground:e,lightBackground:a(e,.8),darkBackground:a(e,-.15),ckeButtonOn:a(e,.4),ckeResizer:a(e,-.4),ckeColorauto:a(e,.8),dialogBody:a(e,.7),dialogTab:a(e,.65),dialogTabSelected:\"#FFF\",dialogTabSelectedBorder:\"#FFF\",elementsPathColor:a(e,-.6),menubuttonHover:a(e,.1),menubuttonIcon:a(e,.5),menubuttonIconHover:a(e,.3)};return f[c].output(e).replace(/\\[/g,\"{\").replace(/\\]/g,\"}\")}}(),\nCKEDITOR.plugins.add(\"dialogui\",{onLoad:function(){var a=function(a){this._||(this._={});this._[\"default\"]=this._.initValue=a[\"default\"]||\"\";this._.required=a.required||!1;for(var b=[this._],c=1;c<arguments.length;c++)b.push(arguments[c]);b.push(!0);CKEDITOR.tools.extend.apply(CKEDITOR.tools,b);return this._},f={build:function(a,b,c){return new CKEDITOR.ui.dialog.textInput(a,b,c)}},b={build:function(a,b,c){return new CKEDITOR.ui.dialog[b.type](a,b,c)}},c={isChanged:function(){return this.getValue()!=\nthis.getInitValue()},reset:function(a){this.setValue(this.getInitValue(),a)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._[\"default\"]},getInitValue:function(){return this._.initValue}},e=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(a,b){this._.domOnChangeRegistered||(a.on(\"load\",function(){this.getInputElement().on(\"change\",function(){a.parts.dialog.isVisible()&&this.fire(\"change\",{value:this.getValue()})},\nthis)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},!0),l=/^on([A-Z]\\w+)/,k=function(a){for(var b in a)(l.test(b)||\"title\"==b||\"type\"==b)&&delete a[b];return a},d=function(a){a=a.data.getKeystroke();a==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker(\"ltr\"):a==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker(\"rtl\")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(b,c,d,e){if(!(4>arguments.length)){var f=a.call(this,c);f.labelId=CKEDITOR.tools.getNextId()+\n\"_label\";this._.children=[];var k={role:c.role||\"presentation\"};c.includeLabel&&(k[\"aria-labelledby\"]=f.labelId);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"div\",null,k,function(){var a=[],d=c.required?\" cke_required\":\"\";\"horizontal\"!=c.labelLayout?a.push('\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" ',' id\\x3d\"'+f.labelId+'\"',f.inputId?' for\\x3d\"'+f.inputId+'\"':\"\",(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",c.label,\"\\x3c/label\\x3e\",'\\x3cdiv class\\x3d\"cke_dialog_ui_labeled_content\"',\nc.controlStyle?' style\\x3d\"'+c.controlStyle+'\"':\"\",' role\\x3d\"presentation\"\\x3e',e.call(this,b,c),\"\\x3c/div\\x3e\"):(d={type:\"hbox\",widths:c.widths,padding:0,children:[{type:\"html\",html:'\\x3clabel class\\x3d\"cke_dialog_ui_labeled_label'+d+'\" id\\x3d\"'+f.labelId+'\" for\\x3d\"'+f.inputId+'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\"+CKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/label\\x3e\"},{type:\"html\",html:'\\x3cspan class\\x3d\"cke_dialog_ui_labeled_content\"'+(c.controlStyle?' style\\x3d\"'+c.controlStyle+\n'\"':\"\")+\"\\x3e\"+e.call(this,b,c)+\"\\x3c/span\\x3e\"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(b,d,a));return a.join(\"\")})}},textInput:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);var f=this._.inputId=CKEDITOR.tools.getNextId()+\"_textInput\",k={\"class\":\"cke_dialog_ui_input_\"+c.type,id:f,type:c.type};c.validate&&(this.validate=c.validate);c.maxLength&&(k.maxlength=c.maxLength);c.size&&(k.size=c.size);c.inputStyle&&(k.style=c.inputStyle);var l=this,x=!1;b.on(\"load\",function(){l.getInputElement().on(\"keydown\",\nfunction(a){13==a.data.getKeystroke()&&(x=!0)});l.getInputElement().on(\"keyup\",function(a){13==a.data.getKeystroke()&&x&&(b.getButton(\"ok\")&&setTimeout(function(){b.getButton(\"ok\").click()},0),x=!1);l.bidi&&d.call(l,a)},null,null,1E3)});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,e,function(){var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_',c.type,'\" role\\x3d\"presentation\"'];c.width&&a.push('style\\x3d\"width:'+c.width+'\" ');a.push(\"\\x3e\\x3cinput \");k[\"aria-labelledby\"]=this._.labelId;this._.required&&\n(k[\"aria-required\"]=this._.required);for(var b in k)a.push(b+'\\x3d\"'+k[b]+'\" ');a.push(\" /\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},textarea:function(b,c,e){if(!(3>arguments.length)){a.call(this,c);var f=this,k=this._.inputId=CKEDITOR.tools.getNextId()+\"_textarea\",l={};c.validate&&(this.validate=c.validate);l.rows=c.rows||5;l.cols=c.cols||20;l[\"class\"]=\"cke_dialog_ui_input_textarea \"+(c[\"class\"]||\"\");\"undefined\"!=typeof c.inputStyle&&(l.style=c.inputStyle);c.dir&&(l.dir=c.dir);if(f.bidi)b.on(\"load\",\nfunction(){f.getInputElement().on(\"keyup\",d)},f);CKEDITOR.ui.dialog.labeledElement.call(this,b,c,e,function(){l[\"aria-labelledby\"]=this._.labelId;this._.required&&(l[\"aria-required\"]=this._.required);var a=['\\x3cdiv class\\x3d\"cke_dialog_ui_input_textarea\" role\\x3d\"presentation\"\\x3e\\x3ctextarea id\\x3d\"',k,'\" '],b;for(b in l)a.push(b+'\\x3d\"'+CKEDITOR.tools.htmlEncode(l[b])+'\" ');a.push(\"\\x3e\",CKEDITOR.tools.htmlEncode(f._[\"default\"]),\"\\x3c/textarea\\x3e\\x3c/div\\x3e\");return a.join(\"\")})}},checkbox:function(b,\nc,d){if(!(3>arguments.length)){var e=a.call(this,c,{\"default\":!!c[\"default\"]});c.validate&&(this.validate=c.validate);CKEDITOR.ui.dialog.uiElement.call(this,b,c,d,\"span\",null,null,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_checkbox\":CKEDITOR.tools.getNextId()+\"_checkbox\"},!0),d=[],f=CKEDITOR.tools.getNextId()+\"_label\",g={\"class\":\"cke_dialog_ui_checkbox_input\",type:\"checkbox\",\"aria-labelledby\":f};k(a);c[\"default\"]&&(g.checked=\"checked\");\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);\ne.checkbox=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"input\",null,g);d.push(' \\x3clabel id\\x3d\"',f,'\" for\\x3d\"',g.id,'\"'+(c.labelStyle?' style\\x3d\"'+c.labelStyle+'\"':\"\")+\"\\x3e\",CKEDITOR.tools.htmlEncode(c.label),\"\\x3c/label\\x3e\");return d.join(\"\")})}},radio:function(b,c,d){if(!(3>arguments.length)){a.call(this,c);this._[\"default\"]||(this._[\"default\"]=this._.initValue=c.items[0][1]);c.validate&&(this.validate=c.validate);var e=[],f=this;c.role=\"radiogroup\";c.includeLabel=!0;CKEDITOR.ui.dialog.labeledElement.call(this,\nb,c,d,function(){for(var a=[],d=[],g=(c.id?c.id:CKEDITOR.tools.getNextId())+\"_radio\",l=0;l<c.items.length;l++){var t=c.items[l],y=void 0!==t[2]?t[2]:t[0],A=void 0!==t[1]?t[1]:t[0],q=CKEDITOR.tools.getNextId()+\"_radio_input\",w=q+\"_label\",q=CKEDITOR.tools.extend({},c,{id:q,title:null,type:null},!0),y=CKEDITOR.tools.extend({},q,{title:y},!0),B={type:\"radio\",\"class\":\"cke_dialog_ui_radio_input\",name:g,value:A,\"aria-labelledby\":w},z=[];f._[\"default\"]==A&&(B.checked=\"checked\");k(q);k(y);\"undefined\"!=typeof q.inputStyle&&\n(q.style=q.inputStyle);q.keyboardFocusable=!0;e.push(new CKEDITOR.ui.dialog.uiElement(b,q,z,\"input\",null,B));z.push(\" \");new CKEDITOR.ui.dialog.uiElement(b,y,z,\"label\",null,{id:w,\"for\":B.id},t[0]);a.push(z.join(\"\"))}new CKEDITOR.ui.dialog.hbox(b,e,a,d);return d.join(\"\")});this._.children=e}},button:function(b,c,d){if(arguments.length){\"function\"==typeof c&&(c=c(b.getParentEditor()));a.call(this,c,{disabled:c.disabled||!1});CKEDITOR.event.implementOn(this);var e=this;b.on(\"load\",function(){var a=this.getElement();\n(function(){a.on(\"click\",function(a){e.click();a.data.preventDefault()});a.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1}&&(e.click(),a.data.preventDefault())})})();a.unselectable()},this);var f=CKEDITOR.tools.extend({},c);delete f.style;var k=CKEDITOR.tools.getNextId()+\"_label\";CKEDITOR.ui.dialog.uiElement.call(this,b,f,d,\"a\",null,{style:c.style,href:\"javascript:void(0)\",title:c.label,hidefocus:\"true\",\"class\":c[\"class\"],role:\"button\",\"aria-labelledby\":k},'\\x3cspan id\\x3d\"'+k+'\" class\\x3d\"cke_dialog_ui_button\"\\x3e'+\nCKEDITOR.tools.htmlEncode(c.label)+\"\\x3c/span\\x3e\")}},select:function(b,c,d){if(!(3>arguments.length)){var e=a.call(this,c);c.validate&&(this.validate=c.validate);e.inputId=CKEDITOR.tools.getNextId()+\"_select\";CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){var a=CKEDITOR.tools.extend({},c,{id:c.id?c.id+\"_select\":CKEDITOR.tools.getNextId()+\"_select\"},!0),d=[],f=[],g={id:e.inputId,\"class\":\"cke_dialog_ui_input_select\",\"aria-labelledby\":this._.labelId};d.push('\\x3cdiv class\\x3d\"cke_dialog_ui_input_',\nc.type,'\" role\\x3d\"presentation\"');c.width&&d.push('style\\x3d\"width:'+c.width+'\" ');d.push(\"\\x3e\");void 0!==c.size&&(g.size=c.size);void 0!==c.multiple&&(g.multiple=c.multiple);k(a);for(var l=0,t;l<c.items.length&&(t=c.items[l]);l++)f.push('\\x3coption value\\x3d\"',CKEDITOR.tools.htmlEncode(void 0!==t[1]?t[1]:t[0]).replace(/\"/g,\"\\x26quot;\"),'\" /\\x3e ',CKEDITOR.tools.htmlEncode(t[0]));\"undefined\"!=typeof a.inputStyle&&(a.style=a.inputStyle);e.select=new CKEDITOR.ui.dialog.uiElement(b,a,d,\"select\",null,\ng,f.join(\"\"));d.push(\"\\x3c/div\\x3e\");return d.join(\"\")})}},file:function(b,c,d){if(!(3>arguments.length)){void 0===c[\"default\"]&&(c[\"default\"]=\"\");var e=CKEDITOR.tools.extend(a.call(this,c),{definition:c,buttons:[]});c.validate&&(this.validate=c.validate);b.on(\"load\",function(){CKEDITOR.document.getById(e.frameId).getParent().addClass(\"cke_dialog_ui_input_file\")});CKEDITOR.ui.dialog.labeledElement.call(this,b,c,d,function(){e.frameId=CKEDITOR.tools.getNextId()+\"_fileInput\";var a=['\\x3ciframe frameborder\\x3d\"0\" allowtransparency\\x3d\"0\" class\\x3d\"cke_dialog_ui_input_file\" role\\x3d\"presentation\" id\\x3d\"',\ne.frameId,'\" title\\x3d\"',c.label,'\" src\\x3d\"javascript:void('];a.push(CKEDITOR.env.ie?\"(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"})()\":\"0\");a.push(')\"\\x3e\\x3c/iframe\\x3e');return a.join(\"\")})}},fileButton:function(b,c,d){var e=this;if(!(3>arguments.length)){a.call(this,c);c.validate&&(this.validate=c.validate);var f=CKEDITOR.tools.extend({},c),k=f.onClick;f.className=(f.className?f.className+\" \":\"\")+\"cke_dialog_ui_button\";f.onClick=function(a){var d=\nc[\"for\"];k&&!1===k.call(this,a)||(b.getContentElement(d[0],d[1]).submit(),this.disable())};b.on(\"load\",function(){b.getContentElement(c[\"for\"][0],c[\"for\"][1])._.buttons.push(e)});CKEDITOR.ui.dialog.button.call(this,b,f,d)}},html:function(){var a=/^\\s*<[\\w:]+\\s+([^>]*)?>/,b=/^(\\s*<[\\w:]+(?:\\s+[^>]*)?)((?:.|\\r|\\n)+)$/,c=/\\/$/;return function(d,e,f){if(!(3>arguments.length)){var k=[],l=e.html;\"\\x3c\"!=l.charAt(0)&&(l=\"\\x3cspan\\x3e\"+l+\"\\x3c/span\\x3e\");var u=e.focus;if(u){var t=this.focus;this.focus=function(){(\"function\"==\ntypeof u?u:t).call(this);this.fire(\"focus\")};e.isFocusable&&(this.isFocusable=this.isFocusable);this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,d,e,k,\"span\",null,null,\"\");k=k.join(\"\").match(a);l=l.match(b)||[\"\",\"\",\"\"];c.test(l[1])&&(l[1]=l[1].slice(0,-1),l[2]=\"/\"+l[2]);f.push([l[1],\" \",k[1]||\"\",l[2]].join(\"\"))}}}(),fieldset:function(a,b,c,d,e){var f=e.label;this._={children:b};CKEDITOR.ui.dialog.uiElement.call(this,a,e,d,\"fieldset\",null,null,function(){var a=[];f&&a.push(\"\\x3clegend\"+\n(e.labelStyle?' style\\x3d\"'+e.labelStyle+'\"':\"\")+\"\\x3e\"+f+\"\\x3c/legend\\x3e\");for(var b=0;b<c.length;b++)a.push(c[b]);return a.join(\"\")})}},!0);CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement;CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(a){var b=CKEDITOR.document.getById(this._.labelId);1>b.getChildCount()?(new CKEDITOR.dom.text(a,CKEDITOR.document)).appendTo(b):b.getChild(0).$.nodeValue=a;return this},getLabel:function(){var a=\nCKEDITOR.document.getById(this._.labelId);return!a||1>a.getChildCount()?\"\":a.getChild(0).getText()},eventProcessors:e},!0);CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return this._.disabled?!1:this.fire(\"click\",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var a=this.getElement();a&&a.removeClass(\"cke_disabled\")},disable:function(){this._.disabled=!0;this.getElement().addClass(\"cke_disabled\")},isVisible:function(){return this.getElement().getFirst().isVisible()},\nisEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(a,b){this.on(\"click\",function(){b.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},\nfocus:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&b.$.focus()},0)},select:function(){var a=this.selectParentTab();setTimeout(function(){var b=a.getInputElement();b&&(b.$.focus(),b.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(a){if(this.bidi){var b=a&&a.charAt(0);(b=\"âª\"==b?\"ltr\":\"â«\"==b?\"rtl\":null)&&(a=a.slice(1));this.setDirectionMarker(b)}a||(a=\"\");return CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},\ngetValue:function(){var a=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&a){var b=this.getDirectionMarker();b&&(a=(\"ltr\"==b?\"âª\":\"â«\")+a)}return a},setDirectionMarker:function(a){var b=this.getInputElement();a?b.setAttributes({dir:a,\"data-cke-dir-marker\":a}):this.getDirectionMarker()&&b.removeAttributes([\"dir\",\"data-cke-dir-marker\"])},getDirectionMarker:function(){return this.getInputElement().data(\"cke-dir-marker\")},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.textarea.prototype=\nnew CKEDITOR.ui.dialog.textInput;CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(a,b,c){var d=new CKEDITOR.dom.element(\"option\",this.getDialog().getParentEditor().document),e=this.getInputElement().$;d.$.text=a;d.$.value=void 0===b||null===b?a:b;void 0===c||null===c?CKEDITOR.env.ie?e.add(d.$):e.add(d.$,null):e.add(d.$,c);return this},remove:function(a){this.getInputElement().$.remove(a);\nreturn this},clear:function(){for(var a=this.getInputElement().$;0<a.length;)a.remove(0);return this},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(a,b){this.getInputElement().$.checked=a;!b&&this.fire(\"change\",{value:a})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(a,\nb){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on(\"load\",function(){var a=this._.checkbox.getElement();a.on(\"propertychange\",function(b){b=b.data.$;\"checked\"==b.propertyName&&this.fire(\"change\",{value:a.$.checked})},this)},this);this.on(\"change\",b);return null}},keyboardFocusable:!0},c,!0);CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(a,b){for(var c=this._.children,d,e=0;e<c.length&&(d=c[e]);e++)d.getElement().$.checked=\nd.getValue()==a;!b&&this.fire(\"change\",{value:a})},getValue:function(){for(var a=this._.children,b=0;b<a.length;b++)if(a[b].getElement().$.checked)return a[b].getValue();return null},accessKeyUp:function(){var a=this._.children,b;for(b=0;b<a.length;b++)if(a[b].getElement().$.checked){a[b].getElement().focus();return}a[0].getElement().focus()},eventProcessors:{onChange:function(a,b){if(!CKEDITOR.env.ie||8<CKEDITOR.env.version)return e.onChange.apply(this,arguments);a.on(\"load\",function(){for(var a=\nthis._.children,b=this,c=0;c<a.length;c++)a[c].getElement().on(\"propertychange\",function(a){a=a.data.$;\"checked\"==a.propertyName&&this.$.checked&&b.fire(\"change\",{value:this.getAttribute(\"value\")})})},this);this.on(\"change\",b);return null}}},c,!0);CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,c,{getInputElement:function(){var a=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<a.$.forms.length?new CKEDITOR.dom.element(a.$.forms[0].elements[0]):\nthis.getElement()},submit:function(){this.getInputElement().getParent().$.submit();return this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){a.on(\"formLoaded\",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,this._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},reset:function(){function a(){c.$.open();\nvar h=\"\";d.size&&(h=d.size-(CKEDITOR.env.ie?7:0));var y=b.frameId+\"_input\";c.$.write(['\\x3chtml dir\\x3d\"'+l+'\" lang\\x3d\"'+u+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\\x3cbody style\\x3d\"margin: 0; overflow: hidden; background: transparent;\"\\x3e','\\x3cform enctype\\x3d\"multipart/form-data\" method\\x3d\"POST\" dir\\x3d\"'+l+'\" lang\\x3d\"'+u+'\" action\\x3d\"',CKEDITOR.tools.htmlEncode(d.action),'\"\\x3e\\x3clabel id\\x3d\"',b.labelId,'\" for\\x3d\"',y,'\" style\\x3d\"display:none\"\\x3e',CKEDITOR.tools.htmlEncode(d.label),\n'\\x3c/label\\x3e\\x3cinput style\\x3d\"width:100%\" id\\x3d\"',y,'\" aria-labelledby\\x3d\"',b.labelId,'\" type\\x3d\"file\" name\\x3d\"',CKEDITOR.tools.htmlEncode(d.id||\"cke_upload\"),'\" size\\x3d\"',CKEDITOR.tools.htmlEncode(0<h?h:\"\"),'\" /\\x3e\\x3c/form\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\\x3cscript\\x3e',CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\",\"window.parent.CKEDITOR.tools.callFunction(\"+f+\");\",\"window.onbeforeunload \\x3d function() {window.parent.CKEDITOR.tools.callFunction(\"+k+\")}\",\"\\x3c/script\\x3e\"].join(\"\"));\nc.$.close();for(h=0;h<e.length;h++)e[h].enable()}var b=this._,c=CKEDITOR.document.getById(b.frameId).getFrameDocument(),d=b.definition,e=b.buttons,f=this.formLoadedNumber,k=this.formUnloadNumber,l=b.dialog._.editor.lang.dir,u=b.dialog._.editor.langCode;f||(f=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire(\"formLoaded\")},this),k=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(f);\nCKEDITOR.tools.removeFunction(k)}));CKEDITOR.env.gecko?setTimeout(a,500):a()},getValue:function(){return this.getInputElement().$.value||\"\"},setInitValue:function(){this._.initValue=\"\"},eventProcessors:{onChange:function(a,b){this._.domOnChangeRegistered||(this.on(\"formLoaded\",function(){this.getInputElement().on(\"change\",function(){this.fire(\"change\",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0);this.on(\"change\",b)}},keyboardFocusable:!0},!0);CKEDITOR.ui.dialog.fileButton.prototype=\nnew CKEDITOR.ui.dialog.button;CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype);CKEDITOR.dialog.addUIElement(\"text\",f);CKEDITOR.dialog.addUIElement(\"password\",f);CKEDITOR.dialog.addUIElement(\"textarea\",b);CKEDITOR.dialog.addUIElement(\"checkbox\",b);CKEDITOR.dialog.addUIElement(\"radio\",b);CKEDITOR.dialog.addUIElement(\"button\",b);CKEDITOR.dialog.addUIElement(\"select\",b);CKEDITOR.dialog.addUIElement(\"file\",b);CKEDITOR.dialog.addUIElement(\"fileButton\",b);CKEDITOR.dialog.addUIElement(\"html\",\nb);CKEDITOR.dialog.addUIElement(\"fieldset\",{build:function(a,b,c){for(var d=b.children,e,f=[],k=[],l=0;l<d.length&&(e=d[l]);l++){var u=[];f.push(u);k.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,u))}return new CKEDITOR.ui.dialog[b.type](a,k,f,c,b)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function a(){for(var a=this._.tabIdList.length,\nb=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+a,c=b-1;c>b-a;c--)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function f(){for(var a=this._.tabIdList.length,b=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),c=b+1;c<b+a;c++)if(this._.tabs[this._.tabIdList[c%a]][0].$.offsetHeight)return this._.tabIdList[c%a];return null}function b(a,b){for(var c=a.$.getElementsByTagName(\"input\"),d=0,e=c.length;d<e;d++){var f=new CKEDITOR.dom.element(c[d]);\n\"text\"==f.getAttribute(\"type\").toLowerCase()&&(b?(f.setAttribute(\"value\",f.getCustomData(\"fake_value\")||\"\"),f.removeCustomData(\"fake_value\")):(f.setCustomData(\"fake_value\",f.getAttribute(\"value\")),f.setAttribute(\"value\",\"\")))}}function c(a,b){var c=this.getInputElement();c&&(a?c.removeAttribute(\"aria-invalid\"):c.setAttribute(\"aria-invalid\",!0));a||(this.select?this.select():this.focus());b&&alert(b);this.fire(\"validated\",{valid:a,msg:b})}function e(){var a=this.getInputElement();a&&a.removeAttribute(\"aria-invalid\")}\nfunction l(a){var b=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate(\"dialog\",v).output({id:CKEDITOR.tools.getNextNumber(),editorId:a.id,langDir:a.lang.dir,langCode:a.langCode,editorDialogClass:\"cke_editor_\"+a.name.replace(/\\./g,\"\\\\.\")+\"_dialog\",closeTitle:a.lang.common.close,hidpi:CKEDITOR.env.hidpi?\"cke_hidpi\":\"\"})),c=b.getChild([0,0,0,0,0]),d=c.getChild(0),e=c.getChild(1);a.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(c);!CKEDITOR.env.ie||CKEDITOR.env.quirks||\nCKEDITOR.env.edge||(a=\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\",CKEDITOR.dom.element.createFromHtml('\\x3ciframe frameBorder\\x3d\"0\" class\\x3d\"cke_iframe_shim\" src\\x3d\"'+a+'\" tabIndex\\x3d\"-1\"\\x3e\\x3c/iframe\\x3e').appendTo(c.getParent()));d.unselectable();e.unselectable();return{element:b,parts:{dialog:b.getChild(0),title:d,close:e,tabs:c.getChild(2),contents:c.getChild([3,0,0,0]),footer:c.getChild([3,0,1,0])}}}function k(a,\nb,c){this.element=b;this.focusIndex=c;this.tabIndex=0;this.isFocusable=function(){return!b.getAttribute(\"disabled\")&&b.isVisible()};this.focus=function(){a._.currentFocusIndex=this.focusIndex;this.element.focus()};b.on(\"keydown\",function(a){a.data.getKeystroke()in{32:1,13:1}&&this.fire(\"click\")});b.on(\"focus\",function(){this.fire(\"mouseover\")});b.on(\"blur\",function(){this.fire(\"mouseout\")})}function d(a){function b(){a.layout()}var c=CKEDITOR.document.getWindow();c.on(\"resize\",b);a.on(\"hide\",function(){c.removeListener(\"resize\",\nb)})}function h(a,b){this._={dialog:a};CKEDITOR.tools.extend(this,b)}function m(a){function b(c){var k=a.getSize(),m=CKEDITOR.document.getWindow().getViewPaneSize(),l=c.data.$.screenX,q=c.data.$.screenY,n=l-d.x,t=q-d.y;d={x:l,y:q};e.x+=n;e.y+=t;a.move(e.x+h[3]<g?-h[3]:e.x-h[1]>m.width-k.width-g?m.width-k.width+(\"rtl\"==f.lang.dir?0:h[1]):e.x,e.y+h[0]<g?-h[0]:e.y-h[2]>m.height-k.height-g?m.height-k.height+h[2]:e.y,1);c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mousemove\",\nb);CKEDITOR.document.removeListener(\"mouseup\",c);if(CKEDITOR.env.ie6Compat){var a=z.getChild(0).getFrameDocument();a.removeListener(\"mousemove\",b);a.removeListener(\"mouseup\",c)}}var d=null,e=null,f=a.getParentEditor(),g=f.config.dialog_magnetDistance,h=CKEDITOR.skin.margins||[0,0,0,0];\"undefined\"==typeof g&&(g=20);a.parts.title.on(\"mousedown\",function(f){d={x:f.data.$.screenX,y:f.data.$.screenY};CKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);e=a.getPosition();if(CKEDITOR.env.ie6Compat){var g=\nz.getChild(0).getFrameDocument();g.on(\"mousemove\",b);g.on(\"mouseup\",c)}f.data.preventDefault()},a)}function g(a){function b(c){var q=\"rtl\"==f.lang.dir,n=l.width,t=l.height,u=n+(c.data.$.screenX-m.x)*(q?-1:1)*(a._.moved?1:2),y=t+(c.data.$.screenY-m.y)*(a._.moved?1:2),w=a._.element.getFirst(),w=q&&w.getComputedStyle(\"right\"),v=a.getPosition();v.y+y>k.height&&(y=k.height-v.y);(q?w:v.x)+u>k.width&&(u=k.width-(q?w:v.x));if(e==CKEDITOR.DIALOG_RESIZE_WIDTH||e==CKEDITOR.DIALOG_RESIZE_BOTH)n=Math.max(d.minWidth||\n0,u-g);if(e==CKEDITOR.DIALOG_RESIZE_HEIGHT||e==CKEDITOR.DIALOG_RESIZE_BOTH)t=Math.max(d.minHeight||0,y-h);a.resize(n,t);a._.moved||a.layout();c.data.preventDefault()}function c(){CKEDITOR.document.removeListener(\"mouseup\",c);CKEDITOR.document.removeListener(\"mousemove\",b);q&&(q.remove(),q=null);if(CKEDITOR.env.ie6Compat){var a=z.getChild(0).getFrameDocument();a.removeListener(\"mouseup\",c);a.removeListener(\"mousemove\",b)}}var d=a.definition,e=d.resizable;if(e!=CKEDITOR.DIALOG_RESIZE_NONE){var f=a.getParentEditor(),\ng,h,k,m,l,q,n=CKEDITOR.tools.addFunction(function(d){l=a.getSize();var e=a.parts.contents;e.$.getElementsByTagName(\"iframe\").length&&(q=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_dialog_resize_cover\" style\\x3d\"height: 100%; position: absolute; width: 100%;\"\\x3e\\x3c/div\\x3e'),e.append(q));h=l.height-a.parts.contents.getSize(\"height\",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks));g=l.width-a.parts.contents.getSize(\"width\",1);m={x:d.screenX,y:d.screenY};k=CKEDITOR.document.getWindow().getViewPaneSize();\nCKEDITOR.document.on(\"mousemove\",b);CKEDITOR.document.on(\"mouseup\",c);CKEDITOR.env.ie6Compat&&(e=z.getChild(0).getFrameDocument(),e.on(\"mousemove\",b),e.on(\"mouseup\",c));d.preventDefault&&d.preventDefault()});a.on(\"load\",function(){var b=\"\";e==CKEDITOR.DIALOG_RESIZE_WIDTH?b=\" cke_resizer_horizontal\":e==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(b=\" cke_resizer_vertical\");b=CKEDITOR.dom.element.createFromHtml('\\x3cdiv class\\x3d\"cke_resizer'+b+\" cke_resizer_\"+f.lang.dir+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(f.lang.common.resize)+\n'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+n+', event )\"\\x3e'+(\"ltr\"==f.lang.dir?\"â¢\":\"â£\")+\"\\x3c/div\\x3e\");a.parts.footer.append(b,1)});f.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)})}}function n(a){a.data.preventDefault(1)}function p(a){var b=CKEDITOR.document.getWindow(),c=a.config,d=CKEDITOR.skinName||a.config.skin,e=c.dialog_backgroundCoverColor||(\"moono-lisa\"==d?\"black\":\"white\"),d=c.dialog_backgroundCoverOpacity,f=c.baseFloatZIndex,c=CKEDITOR.tools.genKey(e,d,f),g=B[c];g?g.show():\n(f=['\\x3cdiv tabIndex\\x3d\"-1\" style\\x3d\"position: ',CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",\"; z-index: \",f,\"; top: 0px; left: 0px; \",CKEDITOR.env.ie6Compat?\"\":\"background-color: \"+e,'\" class\\x3d\"cke_dialog_background_cover\"\\x3e'],CKEDITOR.env.ie6Compat&&(e=\"\\x3chtml\\x3e\\x3cbody style\\x3d\\\\'background-color:\"+e+\";\\\\'\\x3e\\x3c/body\\x3e\\x3c/html\\x3e\",f.push('\\x3ciframe hidefocus\\x3d\"true\" frameborder\\x3d\"0\" id\\x3d\"cke_dialog_background_iframe\" src\\x3d\"javascript:'),f.push(\"void((function(){\"+encodeURIComponent(\"document.open();(\"+\nCKEDITOR.tools.fixDomain+\")();document.write( '\"+e+\"' );document.close();\")+\"})())\"),f.push('\" style\\x3d\"position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity\\x3d0)\"\\x3e\\x3c/iframe\\x3e')),f.push(\"\\x3c/div\\x3e\"),g=CKEDITOR.dom.element.createFromHtml(f.join(\"\")),g.setOpacity(void 0!==d?d:.5),g.on(\"keydown\",n),g.on(\"keypress\",n),g.on(\"keyup\",n),g.appendTo(CKEDITOR.document.getBody()),B[c]=g);a.focusManager.add(g);z=g;a=function(){var a=b.getViewPaneSize();\ng.setStyles({width:a.width+\"px\",height:a.height+\"px\"})};var h=function(){var a=b.getScrollPosition(),c=CKEDITOR.dialog._.currentTop;g.setStyles({left:a.x+\"px\",top:a.y+\"px\"});if(c){do a=c.getPosition(),c.move(a.x,a.y);while(c=c._.parentDialog)}};w=a;b.on(\"resize\",a);a();CKEDITOR.env.mac&&CKEDITOR.env.webkit||g.focus();if(CKEDITOR.env.ie6Compat){var k=function(){h();arguments.callee.prevScrollHandler.apply(this,arguments)};b.$.setTimeout(function(){k.prevScrollHandler=window.onscroll||function(){};\nwindow.onscroll=k},0);h()}}function r(a){z&&(a.focusManager.remove(z),a=CKEDITOR.document.getWindow(),z.hide(),a.removeListener(\"resize\",w),CKEDITOR.env.ie6Compat&&a.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),w=null)}var x=CKEDITOR.tools.cssLength,v='\\x3cdiv class\\x3d\"cke_reset_all {editorId} {editorDialogClass} {hidpi}\" dir\\x3d\"{langDir}\" lang\\x3d\"{langCode}\" role\\x3d\"dialog\" aria-labelledby\\x3d\"cke_dialog_title_{id}\"\\x3e\\x3ctable class\\x3d\"cke_dialog '+\nCKEDITOR.env.cssClass+' cke_{langDir}\" style\\x3d\"position:absolute\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\"\\x3e\\x3cdiv class\\x3d\"cke_dialog_body\" role\\x3d\"presentation\"\\x3e\\x3cdiv id\\x3d\"cke_dialog_title_{id}\" class\\x3d\"cke_dialog_title\" role\\x3d\"presentation\"\\x3e\\x3c/div\\x3e\\x3ca id\\x3d\"cke_dialog_close_button_{id}\" class\\x3d\"cke_dialog_close_button\" href\\x3d\"javascript:void(0)\" title\\x3d\"{closeTitle}\" role\\x3d\"button\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e\\x3cdiv id\\x3d\"cke_dialog_tabs_{id}\" class\\x3d\"cke_dialog_tabs\" role\\x3d\"tablist\"\\x3e\\x3c/div\\x3e\\x3ctable class\\x3d\"cke_dialog_contents\" role\\x3d\"presentation\"\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_contents_{id}\" class\\x3d\"cke_dialog_contents_body\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3ctr\\x3e\\x3ctd id\\x3d\"cke_dialog_footer_{id}\" class\\x3d\"cke_dialog_footer\" role\\x3d\"presentation\"\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e\\x3c/td\\x3e\\x3c/tr\\x3e\\x3c/table\\x3e\\x3c/div\\x3e';\nCKEDITOR.dialog=function(b,d){function h(){var a=z._.focusList;a.sort(function(a,b){return a.tabIndex!=b.tabIndex?b.tabIndex-a.tabIndex:a.focusIndex-b.focusIndex});for(var b=a.length,c=0;c<b;c++)a[c].focusIndex=c}function k(a){var b=z._.focusList;a=a||0;if(!(1>b.length)){var c=z._.currentFocusIndex;z._.tabBarMode&&0>a&&(c=0);try{b[c].getInputElement().$.blur()}catch(d){}var e=c,f=1<z._.pageCount;do{e+=a;if(f&&!z._.tabBarMode&&(e==b.length||-1==e)){z._.tabBarMode=!0;z._.tabs[z._.currentTabId][0].focus();\nz._.currentFocusIndex=-1;return}e=(e+b.length)%b.length;if(e==c)break}while(a&&!b[e].isFocusable());b[e].focus();\"text\"==b[e].type&&b[e].select()}}function n(c){if(z==CKEDITOR.dialog._.currentTop){var d=c.data.getKeystroke(),e=\"rtl\"==b.lang.dir,g=[37,38,39,40];x=B=0;if(9==d||d==CKEDITOR.SHIFT+9)k(d==CKEDITOR.SHIFT+9?-1:1),x=1;else if(d==CKEDITOR.ALT+121&&!z._.tabBarMode&&1<z.getPageCount())z._.tabBarMode=!0,z._.tabs[z._.currentTabId][0].focus(),z._.currentFocusIndex=-1,x=1;else if(-1!=CKEDITOR.tools.indexOf(g,\nd)&&z._.tabBarMode)d=-1!=CKEDITOR.tools.indexOf([e?39:37,38],d)?a.call(z):f.call(z),z.selectPage(d),z._.tabs[d][0].focus(),x=1;else if(13!=d&&32!=d||!z._.tabBarMode)if(13==d)d=c.data.getTarget(),d.is(\"a\",\"button\",\"select\",\"textarea\")||d.is(\"input\")&&\"button\"==d.$.type||((d=this.getButton(\"ok\"))&&CKEDITOR.tools.setTimeout(d.click,0,d),x=1),B=1;else if(27==d)(d=this.getButton(\"cancel\"))?CKEDITOR.tools.setTimeout(d.click,0,d):!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide(),B=1;else return;else this.selectPage(this._.currentTabId),\nthis._.tabBarMode=!1,this._.currentFocusIndex=-1,k(1),x=1;t(c)}}function t(a){x?a.data.preventDefault(1):B&&a.data.stopPropagation()}var y=CKEDITOR.dialog._.dialogDefinitions[d],w=CKEDITOR.tools.clone(u),v=b.config.dialog_buttonsOrder||\"OS\",A=b.lang.dir,p={},x,B;(\"OS\"==v&&CKEDITOR.env.mac||\"rtl\"==v&&\"ltr\"==A||\"ltr\"==v&&\"rtl\"==A)&&w.buttons.reverse();y=CKEDITOR.tools.extend(y(b),w);y=CKEDITOR.tools.clone(y);y=new q(this,y);w=l(b);this._={editor:b,element:w.element,name:d,contentSize:{width:0,height:0},\nsize:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1};this.parts=w.parts;CKEDITOR.tools.setTimeout(function(){b.fire(\"ariaWidget\",this.parts.contents)},0,this);w={position:CKEDITOR.env.ie6Compat?\"absolute\":\"fixed\",top:0,visibility:\"hidden\"};w[\"rtl\"==A?\"right\":\"left\"]=0;this.parts.dialog.setStyles(w);CKEDITOR.event.call(this);this.definition=y=CKEDITOR.fire(\"dialogDefinition\",\n{name:d,definition:y},b).definition;if(!(\"removeDialogTabs\"in b._)&&b.config.removeDialogTabs){w=b.config.removeDialogTabs.split(\";\");for(A=0;A<w.length;A++)if(v=w[A].split(\":\"),2==v.length){var r=v[0];p[r]||(p[r]=[]);p[r].push(v[1])}b._.removeDialogTabs=p}if(b._.removeDialogTabs&&(p=b._.removeDialogTabs[d]))for(A=0;A<p.length;A++)y.removeContents(p[A]);if(y.onLoad)this.on(\"load\",y.onLoad);if(y.onShow)this.on(\"show\",y.onShow);if(y.onHide)this.on(\"hide\",y.onHide);if(y.onOk)this.on(\"ok\",function(a){b.fire(\"saveSnapshot\");\nsetTimeout(function(){b.fire(\"saveSnapshot\")},0);!1===y.onOk.call(this,a)&&(a.data.hide=!1)});this.state=CKEDITOR.DIALOG_STATE_IDLE;if(y.onCancel)this.on(\"cancel\",function(a){!1===y.onCancel.call(this,a)&&(a.data.hide=!1)});var z=this,C=function(a){var b=z._.contents,c=!1,d;for(d in b)for(var e in b[d])if(c=a.call(this,b[d][e]))return};this.on(\"ok\",function(a){C(function(b){if(b.validate){var d=b.validate(this),e=\"string\"==typeof d||!1===d;e&&(a.data.hide=!1,a.stop());c.call(b,!e,\"string\"==typeof d?\nd:void 0);return e}})},this,null,0);this.on(\"cancel\",function(a){C(function(c){if(c.isChanged())return b.config.dialog_noConfirmCancel||confirm(b.lang.common.confirmCancel)||(a.data.hide=!1),!0})},this,null,0);this.parts.close.on(\"click\",function(a){!1!==this.fire(\"cancel\",{hide:!0}).hide&&this.hide();a.data.preventDefault()},this);this.changeFocus=k;var E=this._.element;b.focusManager.add(E,1);this.on(\"show\",function(){E.on(\"keydown\",n,this);if(CKEDITOR.env.gecko)E.on(\"keypress\",t,this)});this.on(\"hide\",\nfunction(){E.removeListener(\"keydown\",n);CKEDITOR.env.gecko&&E.removeListener(\"keypress\",t);C(function(a){e.apply(a)})});this.on(\"iframeAdded\",function(a){(new CKEDITOR.dom.document(a.data.iframe.$.contentWindow.document)).on(\"keydown\",n,this,null,0)});this.on(\"show\",function(){h();var a=1<z._.pageCount;b.config.dialog_startupFocusTab&&a?(z._.tabBarMode=!0,z._.tabs[z._.currentTabId][0].focus(),z._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=a?-1:this._.focusList.length-1,y.onFocus?\n(a=y.onFocus.call(this))&&a.focus():k(1))},this,null,4294967295);if(CKEDITOR.env.ie6Compat)this.on(\"load\",function(){var a=this.getElement(),b=a.getFirst();b.remove();b.appendTo(a)},this);m(this);g(this);(new CKEDITOR.dom.text(y.title,CKEDITOR.document)).appendTo(this.parts.title);for(A=0;A<y.contents.length;A++)(p=y.contents[A])&&this.addPage(p);this.parts.tabs.on(\"click\",function(a){var b=a.data.getTarget();b.hasClass(\"cke_dialog_tab\")&&(b=b.$.id,this.selectPage(b.substring(4,b.lastIndexOf(\"_\"))),\nthis._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,k(1)),a.data.preventDefault())},this);A=[];p=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:\"hbox\",className:\"cke_dialog_footer_buttons\",widths:[],children:y.buttons},A).getChild();this.parts.footer.setHtml(A.join(\"\"));for(A=0;A<p.length;A++)this._.buttons[p[A].id]=p[A]};CKEDITOR.dialog.prototype={destroy:function(){this.hide();this._.element.remove()},resize:function(){return function(a,b){this._.contentSize&&this._.contentSize.width==\na&&this._.contentSize.height==b||(CKEDITOR.dialog.fire(\"resize\",{dialog:this,width:a,height:b},this._.editor),this.fire(\"resize\",{width:a,height:b},this._.editor),this.parts.contents.setStyles({width:a+\"px\",height:b+\"px\"}),\"rtl\"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle(\"right\"),10)),this._.contentSize={width:a,height:b})}}(),getSize:function(){var a=this._.element.getFirst();\nreturn{width:a.$.offsetWidth||0,height:a.$.offsetHeight||0}},move:function(a,b,c){var d=this._.element.getFirst(),e=\"rtl\"==this._.editor.lang.dir,f=\"fixed\"==d.getComputedStyle(\"position\");CKEDITOR.env.ie&&d.setStyle(\"zoom\",\"100%\");f&&this._.position&&this._.position.x==a&&this._.position.y==b||(this._.position={x:a,y:b},f||(f=CKEDITOR.document.getWindow().getScrollPosition(),a+=f.x,b+=f.y),e&&(f=this.getSize(),a=CKEDITOR.document.getWindow().getViewPaneSize().width-f.width-a),b={top:(0<b?b:0)+\"px\"},\nb[e?\"right\":\"left\"]=(0<a?a:0)+\"px\",d.setStyles(b),c&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var a=this._.element,b=this.definition;a.getParent()&&a.getParent().equals(CKEDITOR.document.getBody())?a.setStyle(\"display\",\"block\"):a.appendTo(CKEDITOR.document.getBody());this.resize(this._.contentSize&&this._.contentSize.width||b.width||b.minWidth,this._.contentSize&&this._.contentSize.height||b.height||b.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);\nnull===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex);this._.element.getFirst().setStyle(\"z-index\",CKEDITOR.dialog._.currentZIndex+=10);null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,p(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this);\na.on(\"keydown\",E);a.on(\"keyup\",G);this._.hasFocus=!1;for(var c in b.contents)if(b.contents[c]){var a=b.contents[c],e=this._.tabs[a.id],f=a.requiredContent,g=0;if(e){for(var h in this._.contents[a.id]){var k=this._.contents[a.id][h];\"hbox\"!=k.type&&\"vbox\"!=k.type&&k.getInputElement()&&(k.requiredContent&&!this._.editor.activeFilter.check(k.requiredContent)?k.disable():(k.enable(),g++))}!g||f&&!this._.editor.activeFilter.check(f)?e[0].addClass(\"cke_dialog_tab_disabled\"):e[0].removeClass(\"cke_dialog_tab_disabled\")}}CKEDITOR.tools.setTimeout(function(){this.layout();\nd(this);this.parts.dialog.setStyle(\"visibility\",\"\");this.fireOnce(\"load\",{});CKEDITOR.ui.fire(\"ready\",this);this.fire(\"show\",{});this._.editor.fire(\"dialogShow\",this);this._.parentDialog||this._.editor.focusManager.lock();this.foreach(function(a){a.setInitValue&&a.setInitValue()})},100,this)},layout:function(){var a=this.parts.dialog,b=this.getSize(),c=CKEDITOR.document.getWindow().getViewPaneSize(),d=(c.width-b.width)/2,e=(c.height-b.height)/2;CKEDITOR.env.ie6Compat||(b.height+(0<e?e:0)>c.height||\nb.width+(0<d?d:0)>c.width?a.setStyle(\"position\",\"absolute\"):a.setStyle(\"position\",\"fixed\"));this.move(this._.moved?this._.position.x:d,this._.moved?this._.position.y:e)},foreach:function(a){for(var b in this._.contents)for(var c in this._.contents[b])a.call(this,this._.contents[b][c]);return this},reset:function(){var a=function(a){a.reset&&a.reset(1)};return function(){this.foreach(a);return this}}(),setupContent:function(){var a=arguments;this.foreach(function(b){b.setup&&b.setup.apply(b,a)})},\ncommitContent:function(){var a=arguments;this.foreach(function(b){CKEDITOR.env.ie&&this._.currentFocusIndex==b.focusIndex&&b.getInputElement().$.blur();b.commit&&b.commit.apply(b,a)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire(\"hide\",{});this._.editor.fire(\"dialogHide\",this);this.selectPage(this._.tabIdList[0]);var a=this._.element;a.setStyle(\"display\",\"none\");this.parts.dialog.setStyle(\"visibility\",\"hidden\");for(J(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();\nif(this._.parentDialog){var b=this._.parentDialog.getElement().getFirst();b.setStyle(\"z-index\",parseInt(b.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else r(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null;a.removeListener(\"keydown\",E);a.removeListener(\"keyup\",G);var c=this._.editor;c.focus();setTimeout(function(){c.focusManager.unlock();CKEDITOR.env.iOS&&c.window.focus()},0)}delete this._.parentDialog;\nthis.foreach(function(a){a.resetInitValue&&a.resetInitValue()});this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(a){if(!a.requiredContent||this._.editor.filter.check(a.requiredContent)){for(var b=[],c=a.label?' title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.label)+'\"':\"\",d=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:\"vbox\",className:\"cke_dialog_page_contents\",children:a.elements,expand:!!a.expand,padding:a.padding,style:a.style||\"width: 100%;\"},b),e=this._.contents[a.id]={},f=d.getChild(),\ng=0;d=f.shift();)d.notAllowed||\"hbox\"==d.type||\"vbox\"==d.type||g++,e[d.id]=d,\"function\"==typeof d.getChild&&f.push.apply(f,d.getChild());g||(a.hidden=!0);b=CKEDITOR.dom.element.createFromHtml(b.join(\"\"));b.setAttribute(\"role\",\"tabpanel\");d=CKEDITOR.env;e=\"cke_\"+a.id+\"_\"+CKEDITOR.tools.getNextNumber();c=CKEDITOR.dom.element.createFromHtml(['\\x3ca class\\x3d\"cke_dialog_tab\"',0<this._.pageCount?\" cke_last\":\"cke_first\",c,a.hidden?' style\\x3d\"display:none\"':\"\",' id\\x3d\"',e,'\"',d.gecko&&!d.hc?\"\":' href\\x3d\"javascript:void(0)\"',\n' tabIndex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"tab\"\\x3e',a.label,\"\\x3c/a\\x3e\"].join(\"\"));b.setAttribute(\"aria-labelledby\",e);this._.tabs[a.id]=[c,b];this._.tabIdList.push(a.id);!a.hidden&&this._.pageCount++;this._.lastTab=c;this.updateStyle();b.setAttribute(\"name\",a.id);b.appendTo(this.parts.contents);c.unselectable();this.parts.tabs.append(c);a.accessKey&&(F(this,this,\"CTRL+\"+a.accessKey,M,H),this._.accessKeyMap[\"CTRL+\"+a.accessKey]=a.id)}},selectPage:function(a){if(this._.currentTabId!=a&&!this._.tabs[a][0].hasClass(\"cke_dialog_tab_disabled\")&&\n!1!==this.fire(\"selectPage\",{page:a,currentPage:this._.currentTabId})){for(var c in this._.tabs){var d=this._.tabs[c][0],e=this._.tabs[c][1];c!=a&&(d.removeClass(\"cke_dialog_tab_selected\"),e.hide());e.setAttribute(\"aria-hidden\",c!=a)}var f=this._.tabs[a];f[0].addClass(\"cke_dialog_tab_selected\");CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(b(f[1]),f[1].show(),setTimeout(function(){b(f[1],1)},0)):f[1].show();this._.currentTabId=a;this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,a)}},\nupdateStyle:function(){this.parts.dialog[(1===this._.pageCount?\"add\":\"remove\")+\"Class\"](\"cke_single_page\")},hidePage:function(b){var c=this._.tabs[b]&&this._.tabs[b][0];c&&1!=this._.pageCount&&c.isVisible()&&(b==this._.currentTabId&&this.selectPage(a.call(this)),c.hide(),this._.pageCount--,this.updateStyle())},showPage:function(a){if(a=this._.tabs[a]&&this._.tabs[a][0])a.show(),this._.pageCount++,this.updateStyle()},getElement:function(){return this._.element},getName:function(){return this._.name},\ngetContentElement:function(a,b){var c=this._.contents[a];return c&&c[b]},getValueOf:function(a,b){return this.getContentElement(a,b).getValue()},setValueOf:function(a,b,c){return this.getContentElement(a,b).setValue(c)},getButton:function(a){return this._.buttons[a]},click:function(a){return this._.buttons[a].click()},disableButton:function(a){return this._.buttons[a].disable()},enableButton:function(a){return this._.buttons[a].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},\ngetSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(a,b){if(\"undefined\"==typeof b)b=this._.focusList.length,this._.focusList.push(new k(this,a,b));else{this._.focusList.splice(b,0,new k(this,a,b));for(var c=b+1;c<this._.focusList.length;c++)this._.focusList[c].focusIndex++}},setState:function(a){if(this.state!=a){this.state=a;if(a==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var b=this.getParentEditor().lang.dir,c={attributes:{\"class\":\"cke_dialog_spinner\"},\nstyles:{\"float\":\"rtl\"==b?\"right\":\"left\"}};c.styles[\"margin-\"+(\"rtl\"==b?\"left\":\"right\")]=\"8px\";this.parts.spinner=CKEDITOR.document.createElement(\"div\",c);this.parts.spinner.setHtml(\"\\x26#8987;\");this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show();this.getButton(\"ok\").disable()}else a==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton(\"ok\").enable());this.fire(\"state\",a)}}};CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(a,b){this._.dialogDefinitions[a]&&\n\"function\"!=typeof b||(this._.dialogDefinitions[a]=b)},exists:function(a){return!!this._.dialogDefinitions[a]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(a,b,c){a=a.config.removeDialogTabs;return!(a&&a.match(new RegExp(\"(?:^|;)\"+b+\":\"+c+\"(?:$|;)\",\"i\")))},okButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"ok\",type:\"button\",label:a.lang.common.ok,\"class\":\"cke_dialog_ui_button_ok\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"ok\",\n{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,b)},{type:\"button\"},!0)};return a}(),cancelButton:function(){var a=function(a,b){b=b||{};return CKEDITOR.tools.extend({id:\"cancel\",type:\"button\",label:a.lang.common.cancel,\"class\":\"cke_dialog_ui_button_cancel\",onClick:function(a){a=a.data.dialog;!1!==a.fire(\"cancel\",{hide:!0}).hide&&a.hide()}},b,!0)};a.type=\"button\";a.override=function(b){return CKEDITOR.tools.extend(function(c){return a(c,\nb)},{type:\"button\"},!0)};return a}(),addUIElement:function(a,b){this._.uiElementBuilders[a]=b}});CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};CKEDITOR.event.implementOn(CKEDITOR.dialog);CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var u={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},t=function(a,b,c){for(var d=0,e;e=a[d];d++)if(e.id==b||c&&e[c]&&(e=t(e[c],\nb,c)))return e;return null},y=function(a,b,c,d,e){if(c){for(var f=0,g;g=a[f];f++){if(g.id==c)return a.splice(f,0,b),b;if(d&&g[d]&&(g=y(g[d],b,c,d,!0)))return g}if(e)return null}a.push(b);return b},A=function(a,b,c){for(var d=0,e;e=a[d];d++){if(e.id==b)return a.splice(d,1);if(c&&e[c]&&(e=A(e[c],b,c)))return e}return null},q=function(a,b){this.dialog=a;for(var c=b.contents,d=0,e;e=c[d];d++)c[d]=e&&new h(a,e);CKEDITOR.tools.extend(this,b)};q.prototype={getContents:function(a){return t(this.contents,\na)},getButton:function(a){return t(this.buttons,a)},addContents:function(a,b){return y(this.contents,a,b)},addButton:function(a,b){return y(this.buttons,a,b)},removeContents:function(a){A(this.contents,a)},removeButton:function(a){A(this.buttons,a)}};h.prototype={get:function(a){return t(this.elements,a,\"children\")},add:function(a,b){return y(this.elements,a,b,\"children\")},remove:function(a){A(this.elements,a,\"children\")}};var w,B={},z,C={},E=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=\na.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=C[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+e])&&b.length&&(b=b[b.length-1],b.keydown&&b.keydown.call(b.uiElement,b.dialog,b.key),a.data.preventDefault())},G=function(a){var b=a.data.$.ctrlKey||a.data.$.metaKey,c=a.data.$.altKey,d=a.data.$.shiftKey,e=String.fromCharCode(a.data.$.keyCode);(b=C[(b?\"CTRL+\":\"\")+(c?\"ALT+\":\"\")+(d?\"SHIFT+\":\"\")+e])&&b.length&&(b=b[b.length-1],b.keyup&&(b.keyup.call(b.uiElement,b.dialog,b.key),\na.data.preventDefault()))},F=function(a,b,c,d,e){(C[c]||(C[c]=[])).push({uiElement:a,dialog:b,key:c,keyup:e||a.accessKeyUp,keydown:d||a.accessKeyDown})},J=function(a){for(var b in C){for(var c=C[b],d=c.length-1;0<=d;d--)c[d].dialog!=a&&c[d].uiElement!=a||c.splice(d,1);0===c.length&&delete C[b]}},H=function(a,b){a._.accessKeyMap[b]&&a.selectPage(a._.accessKeyMap[b])},M=function(){};(function(){CKEDITOR.ui.dialog={uiElement:function(a,b,c,d,e,f,g){if(!(4>arguments.length)){var h=(d.call?d(b):d)||\"div\",\nk=[\"\\x3c\",h,\" \"],m=(e&&e.call?e(b):e)||{},l=(f&&f.call?f(b):f)||{},q=(g&&g.call?g.call(this,a,b):g)||\"\",n=this.domId=l.id||CKEDITOR.tools.getNextId()+\"_uiElement\";b.requiredContent&&!a.getParentEditor().filter.check(b.requiredContent)&&(m.display=\"none\",this.notAllowed=!0);l.id=n;var t={};b.type&&(t[\"cke_dialog_ui_\"+b.type]=1);b.className&&(t[b.className]=1);b.disabled&&(t.cke_disabled=1);for(var u=l[\"class\"]&&l[\"class\"].split?l[\"class\"].split(\" \"):[],n=0;n<u.length;n++)u[n]&&(t[u[n]]=1);u=[];for(n in t)u.push(n);\nl[\"class\"]=u.join(\" \");b.title&&(l.title=b.title);t=(b.style||\"\").split(\";\");b.align&&(u=b.align,m[\"margin-left\"]=\"left\"==u?0:\"auto\",m[\"margin-right\"]=\"right\"==u?0:\"auto\");for(n in m)t.push(n+\":\"+m[n]);b.hidden&&t.push(\"display:none\");for(n=t.length-1;0<=n;n--)\"\"===t[n]&&t.splice(n,1);0<t.length&&(l.style=(l.style?l.style+\"; \":\"\")+t.join(\"; \"));for(n in l)k.push(n+'\\x3d\"'+CKEDITOR.tools.htmlEncode(l[n])+'\" ');k.push(\"\\x3e\",q,\"\\x3c/\",h,\"\\x3e\");c.push(k.join(\"\"));(this._||(this._={})).dialog=a;\"boolean\"==\ntypeof b.isChanged&&(this.isChanged=function(){return b.isChanged});\"function\"==typeof b.isChanged&&(this.isChanged=b.isChanged);\"function\"==typeof b.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(a){return function(c){a.call(this,b.setValue.call(this,c))}}));\"function\"==typeof b.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(a){return function(){return b.getValue.call(this,a.call(this))}}));CKEDITOR.event.implementOn(this);this.registerEvents(b);\nthis.accessKeyUp&&this.accessKeyDown&&b.accessKey&&F(this,a,\"CTRL+\"+b.accessKey);var y=this;a.on(\"load\",function(){var b=y.getInputElement();if(b){var c=y.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?\"cke_dialog_ui_focused\":\"\";b.on(\"focus\",function(){a._.tabBarMode=!1;a._.hasFocus=!0;y.fire(\"focus\");c&&this.addClass(c)});b.on(\"blur\",function(){y.fire(\"blur\");c&&this.removeClass(c)})}});CKEDITOR.tools.extend(this,b);this.keyboardFocusable&&(this.tabIndex=b.tabIndex||0,this.focusIndex=\na._.focusList.push(this)-1,this.on(\"focus\",function(){a._.currentFocusIndex=y.focusIndex}))}},hbox:function(a,b,c,d,e){if(!(4>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.widths||null,h=e&&e.height||null,k,m={role:\"presentation\"};e&&e.align&&(m.align=e.align);CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:\"hbox\"},d,\"table\",{},m,function(){var a=['\\x3ctbody\\x3e\\x3ctr class\\x3d\"cke_dialog_ui_hbox\"\\x3e'];for(k=0;k<c.length;k++){var b=\"cke_dialog_ui_hbox_child\",d=[];0===k&&\n(b=\"cke_dialog_ui_hbox_first\");k==c.length-1&&(b=\"cke_dialog_ui_hbox_last\");a.push('\\x3ctd class\\x3d\"',b,'\" role\\x3d\"presentation\" ');g?g[k]&&d.push(\"width:\"+x(g[k])):d.push(\"width:\"+Math.floor(100/c.length)+\"%\");h&&d.push(\"height:\"+x(h));e&&void 0!==e.padding&&d.push(\"padding:\"+x(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[k].align&&d.push(\"text-align:\"+f[k].align);0<d.length&&a.push('style\\x3d\"'+d.join(\"; \")+'\" ');a.push(\"\\x3e\",c[k],\"\\x3c/td\\x3e\")}a.push(\"\\x3c/tr\\x3e\\x3c/tbody\\x3e\");return a.join(\"\")})}},\nvbox:function(a,b,c,d,e){if(!(3>arguments.length)){this._||(this._={});var f=this._.children=b,g=e&&e.width||null,h=e&&e.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,a,e||{type:\"vbox\"},d,\"div\",null,{role:\"presentation\"},function(){var b=['\\x3ctable role\\x3d\"presentation\" cellspacing\\x3d\"0\" border\\x3d\"0\" '];b.push('style\\x3d\"');e&&e.expand&&b.push(\"height:100%;\");b.push(\"width:\"+x(g||\"100%\"),\";\");CKEDITOR.env.webkit&&b.push(\"float:none;\");b.push('\"');b.push('align\\x3d\"',CKEDITOR.tools.htmlEncode(e&&\ne.align||(\"ltr\"==a.getParentEditor().lang.dir?\"left\":\"right\")),'\" ');b.push(\"\\x3e\\x3ctbody\\x3e\");for(var d=0;d<c.length;d++){var k=[];b.push('\\x3ctr\\x3e\\x3ctd role\\x3d\"presentation\" ');g&&k.push(\"width:\"+x(g||\"100%\"));h?k.push(\"height:\"+x(h[d])):e&&e.expand&&k.push(\"height:\"+Math.floor(100/c.length)+\"%\");e&&void 0!==e.padding&&k.push(\"padding:\"+x(e.padding));CKEDITOR.env.ie&&CKEDITOR.env.quirks&&f[d].align&&k.push(\"text-align:\"+f[d].align);0<k.length&&b.push('style\\x3d\"',k.join(\"; \"),'\" ');b.push(' class\\x3d\"cke_dialog_ui_vbox_child\"\\x3e',\nc[d],\"\\x3c/td\\x3e\\x3c/tr\\x3e\")}b.push(\"\\x3c/tbody\\x3e\\x3c/table\\x3e\");return b.join(\"\")})}}}})();CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(a,b){this.getInputElement().setValue(a);!b&&this.fire(\"change\",{value:a});return this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var a=\nthis.getInputElement();(a=a.getParent())&&-1==a.$.className.search(\"cke_dialog_page_contents\"););if(!a)return this;a=a.getAttribute(\"name\");this._.dialog._.currentTabId!=a&&this._.dialog.selectPage(a);return this},focus:function(){this.selectParentTab().getInputElement().focus();return this},registerEvents:function(a){var b=/^on([A-Z]\\w+)/,c,d=function(a,b,c,d){b.on(\"load\",function(){a.getInputElement().on(c,d,a)})},e;for(e in a)if(c=e.match(b))this.eventProcessors[e]?this.eventProcessors[e].call(this,\nthis._.dialog,a[e]):d(this,this._.dialog,c[1].toLowerCase(),a[e]);return this},eventProcessors:{onLoad:function(a,b){a.on(\"load\",b,this)},onShow:function(a,b){a.on(\"show\",b,this)},onHide:function(a,b){a.on(\"hide\",b,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var a=this.getElement();this.getInputElement().setAttribute(\"disabled\",\"true\");a.addClass(\"cke_disabled\")},enable:function(){var a=this.getElement();this.getInputElement().removeAttribute(\"disabled\");\na.removeClass(\"cke_disabled\")},isEnabled:function(){return!this.getElement().hasClass(\"cke_disabled\")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return this.isEnabled()&&this.isVisible()?!0:!1}};CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(a){if(1>arguments.length)return this._.children.concat();a.splice||(a=[a]);return 2>a.length?this._.children[a[0]]:this._.children[a[0]]&&this._.children[a[0]].getChild?\nthis._.children[a[0]].getChild(a.slice(1,a.length)):null}},!0);CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox;(function(){var a={build:function(a,b,c){for(var d=b.children,e,f=[],g=[],h=0;h<d.length&&(e=d[h]);h++){var k=[];f.push(k);g.push(CKEDITOR.dialog._.uiElementBuilders[e.type].build(a,e,k))}return new CKEDITOR.ui.dialog[b.type](a,g,f,c,b)}};CKEDITOR.dialog.addUIElement(\"hbox\",a);CKEDITOR.dialog.addUIElement(\"vbox\",a)})();CKEDITOR.dialogCommand=function(a,b){this.dialogName=a;\nCKEDITOR.tools.extend(this,b,!0)};CKEDITOR.dialogCommand.prototype={exec:function(a){a.openDialog(this.dialogName)},canUndo:!1,editorFocus:1};(function(){var a=/^([a]|[^a])+$/,b=/^\\d*$/,c=/^\\d*(?:\\.\\d+)?$/,d=/^(((\\d*(\\.\\d+))|(\\d*))(px|\\%)?)?$/,e=/^(((\\d*(\\.\\d+))|(\\d*))(px|em|ex|in|cm|mm|pt|pc|\\%)?)?$/i,f=/^(\\s*[\\w-]+\\s*:\\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1;CKEDITOR.VALIDATE_AND=2;CKEDITOR.dialog.validate={functions:function(){var a=arguments;return function(){var b=this&&this.getValue?this.getValue():\na[0],c,d=CKEDITOR.VALIDATE_AND,e=[],f;for(f=0;f<a.length;f++)if(\"function\"==typeof a[f])e.push(a[f]);else break;f<a.length&&\"string\"==typeof a[f]&&(c=a[f],f++);f<a.length&&\"number\"==typeof a[f]&&(d=a[f]);var g=d==CKEDITOR.VALIDATE_AND?!0:!1;for(f=0;f<e.length;f++)g=d==CKEDITOR.VALIDATE_AND?g&&e[f](b):g||e[f](b);return g?!0:c}},regex:function(a,b){return function(c){c=this&&this.getValue?this.getValue():c;return a.test(c)?!0:b}},notEmpty:function(b){return this.regex(a,b)},integer:function(a){return this.regex(b,\na)},number:function(a){return this.regex(c,a)},cssLength:function(a){return this.functions(function(a){return e.test(CKEDITOR.tools.trim(a))},a)},htmlLength:function(a){return this.functions(function(a){return d.test(CKEDITOR.tools.trim(a))},a)},inlineStyle:function(a){return this.functions(function(a){return f.test(CKEDITOR.tools.trim(a))},a)},equals:function(a,b){return this.functions(function(b){return b==a},b)},notEqual:function(a,b){return this.functions(function(b){return b!=a},b)}};CKEDITOR.on(\"instanceDestroyed\",\nfunction(a){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var b;b=CKEDITOR.dialog._.currentTop;)b.hide();for(var c in B)B[c].remove();B={}}a=a.editor._.storedDialogs;for(var d in a)a[d].destroy()})})();CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(a,b){var c=null,d=CKEDITOR.dialog._.dialogDefinitions[a];null===CKEDITOR.dialog._.currentTop&&p(this);if(\"function\"==typeof d)c=this._.storedDialogs||(this._.storedDialogs={}),c=c[a]||(c[a]=new CKEDITOR.dialog(this,a)),b&&b.call(c,\nc),c.show();else{if(\"failed\"==d)throw r(this),Error('[CKEDITOR.dialog.openDialog] Dialog \"'+a+'\" failed when loading definition.');\"string\"==typeof d&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(d),function(){\"function\"!=typeof CKEDITOR.dialog._.dialogDefinitions[a]&&(CKEDITOR.dialog._.dialogDefinitions[a]=\"failed\");this.openDialog(a,b)},this,0,1)}CKEDITOR.skin.loadPart(\"dialog\");return c}})}(),CKEDITOR.plugins.add(\"dialog\",{requires:\"dialogui\",init:function(a){a.on(\"doubleclick\",function(f){f.data.dialog&&\na.openDialog(f.data.dialog)},null,null,999)}}),function(){CKEDITOR.plugins.add(\"a11yhelp\",{requires:\"dialog\",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,\"fr-ca\":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,\"pt-br\":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,\"sr-latn\":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},init:function(a){var f=this;a.addCommand(\"a11yHelp\",\n{exec:function(){var b=a.langCode,b=f.availableLangs[b]?b:f.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+\"dialogs/lang/\"+b+\".js\"),function(){a.lang.a11yhelp=f.langEntries[b];a.openDialog(\"a11yHelp\")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1});a.setKeystroke(CKEDITOR.ALT+48,\"a11yHelp\");CKEDITOR.dialog.add(\"a11yHelp\",this.path+\"dialogs/a11yhelp.js\");a.on(\"ariaEditorHelpLabel\",function(b){b.data.label=a.lang.common.editorHelp})}})}(),\nCKEDITOR.plugins.add(\"about\",{requires:\"dialog\",init:function(a){var f=a.addCommand(\"about\",new CKEDITOR.dialogCommand(\"about\"));f.modes={wysiwyg:1,source:1};f.canUndo=!1;f.readOnly=1;a.ui.addButton&&a.ui.addButton(\"About\",{label:a.lang.about.title,command:\"about\",toolbar:\"about\"});CKEDITOR.dialog.add(\"about\",this.path+\"dialogs/about.js\")}}),CKEDITOR.plugins.add(\"basicstyles\",{init:function(a){var f=0,b=function(b,d,e,m){if(m){m=new CKEDITOR.style(m);var g=c[e];g.unshift(m);a.attachStyleStateChange(m,\nfunction(b){!a.readOnly&&a.getCommand(e).setState(b)});a.addCommand(e,new CKEDITOR.styleCommand(m,{contentForms:g}));a.ui.addButton&&a.ui.addButton(b,{label:d,command:e,toolbar:\"basicstyles,\"+(f+=10)})}},c={bold:[\"strong\",\"b\",[\"span\",function(a){a=a.styles[\"font-weight\"];return\"bold\"==a||700<=+a}]],italic:[\"em\",\"i\",[\"span\",function(a){return\"italic\"==a.styles[\"font-style\"]}]],underline:[\"u\",[\"span\",function(a){return\"underline\"==a.styles[\"text-decoration\"]}]],strike:[\"s\",\"strike\",[\"span\",function(a){return\"line-through\"==\na.styles[\"text-decoration\"]}]],subscript:[\"sub\"],superscript:[\"sup\"]},e=a.config,l=a.lang.basicstyles;b(\"Bold\",l.bold,\"bold\",e.coreStyles_bold);b(\"Italic\",l.italic,\"italic\",e.coreStyles_italic);b(\"Underline\",l.underline,\"underline\",e.coreStyles_underline);b(\"Strike\",l.strike,\"strike\",e.coreStyles_strike);b(\"Subscript\",l.subscript,\"subscript\",e.coreStyles_subscript);b(\"Superscript\",l.superscript,\"superscript\",e.coreStyles_superscript);a.setKeystroke([[CKEDITOR.CTRL+66,\"bold\"],[CKEDITOR.CTRL+73,\"italic\"],\n[CKEDITOR.CTRL+85,\"underline\"]])}}),CKEDITOR.config.coreStyles_bold={element:\"strong\",overrides:\"b\"},CKEDITOR.config.coreStyles_italic={element:\"em\",overrides:\"i\"},CKEDITOR.config.coreStyles_underline={element:\"u\"},CKEDITOR.config.coreStyles_strike={element:\"s\",overrides:\"strike\"},CKEDITOR.config.coreStyles_subscript={element:\"sub\"},CKEDITOR.config.coreStyles_superscript={element:\"sup\"},function(){var a={exec:function(a){var b=a.getCommand(\"blockquote\").state,c=a.getSelection(),e=c&&c.getRanges()[0];\nif(e){var l=c.createBookmarks();if(CKEDITOR.env.ie){var k=l[0].startNode,d=l[0].endNode,h;if(k&&\"blockquote\"==k.getParent().getName())for(h=k;h=h.getNext();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){k.move(h,!0);break}if(d&&\"blockquote\"==d.getParent().getName())for(h=d;h=h.getPrevious();)if(h.type==CKEDITOR.NODE_ELEMENT&&h.isBlockBoundary()){d.move(h);break}}var m=e.createIterator();m.enlargeBr=a.config.enterMode!=CKEDITOR.ENTER_BR;if(b==CKEDITOR.TRISTATE_OFF){for(k=[];b=m.getNextParagraph();)k.push(b);\n1>k.length&&(b=a.document.createElement(a.config.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),d=l.shift(),e.insertNode(b),b.append(new CKEDITOR.dom.text(\"ï»¿\",a.document)),e.moveToBookmark(d),e.selectNodeContents(b),e.collapse(!0),d=e.createBookmark(),k.push(b),l.unshift(d));h=k[0].getParent();e=[];for(d=0;d<k.length;d++)b=k[d],h=h.getCommonAncestor(b.getParent());for(b={table:1,tbody:1,tr:1,ol:1,ul:1};b[h.getName()];)h=h.getParent();for(d=null;0<k.length;){for(b=k.shift();!b.getParent().equals(h);)b=b.getParent();\nb.equals(d)||e.push(b);d=b}for(;0<e.length;)if(b=e.shift(),\"blockquote\"==b.getName()){for(d=new CKEDITOR.dom.documentFragment(a.document);b.getFirst();)d.append(b.getFirst().remove()),k.push(d.getLast());d.replace(b)}else k.push(b);e=a.document.createElement(\"blockquote\");for(e.insertBefore(k[0]);0<k.length;)b=k.shift(),e.append(b)}else if(b==CKEDITOR.TRISTATE_ON){d=[];for(h={};b=m.getNextParagraph();){for(k=e=null;b.getParent();){if(\"blockquote\"==b.getParent().getName()){e=b.getParent();k=b;break}b=\nb.getParent()}e&&k&&!k.getCustomData(\"blockquote_moveout\")&&(d.push(k),CKEDITOR.dom.element.setMarker(h,k,\"blockquote_moveout\",!0))}CKEDITOR.dom.element.clearAllMarkers(h);b=[];k=[];for(h={};0<d.length;)m=d.shift(),e=m.getParent(),m.getPrevious()?m.getNext()?(m.breakParent(m.getParent()),k.push(m.getNext())):m.remove().insertAfter(e):m.remove().insertBefore(e),e.getCustomData(\"blockquote_processed\")||(k.push(e),CKEDITOR.dom.element.setMarker(h,e,\"blockquote_processed\",!0)),b.push(m);CKEDITOR.dom.element.clearAllMarkers(h);\nfor(d=k.length-1;0<=d;d--){e=k[d];a:{h=e;for(var m=0,g=h.getChildCount(),n=void 0;m<g&&(n=h.getChild(m));m++)if(n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()){h=!1;break a}h=!0}h&&e.remove()}if(a.config.enterMode==CKEDITOR.ENTER_BR)for(e=!0;b.length;)if(m=b.shift(),\"div\"==m.getName()){d=new CKEDITOR.dom.documentFragment(a.document);!e||!m.getPrevious()||m.getPrevious().type==CKEDITOR.NODE_ELEMENT&&m.getPrevious().isBlockBoundary()||d.append(a.document.createElement(\"br\"));for(e=m.getNext()&&\n!(m.getNext().type==CKEDITOR.NODE_ELEMENT&&m.getNext().isBlockBoundary());m.getFirst();)m.getFirst().remove().appendTo(d);e&&d.append(a.document.createElement(\"br\"));d.replace(m);e=!1}}c.selectBookmarks(l);a.focus()}},refresh:function(a,b){this.setState(a.elementPath(b.block||b.blockLimit).contains(\"blockquote\",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:\"blockquote\",allowedContent:\"blockquote\",requiredContent:\"blockquote\"};CKEDITOR.plugins.add(\"blockquote\",{init:function(f){f.blockless||\n(f.addCommand(\"blockquote\",a),f.ui.addButton&&f.ui.addButton(\"Blockquote\",{label:f.lang.blockquote.toolbar,command:\"blockquote\",toolbar:\"blocks,10\"}))}})}(),function(){var a='\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_button cke_button__{name} cke_button_{state} {cls}\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' title\\x3d\"{title}\" tabindex\\x3d\"-1\" hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasArrow}\" aria-disabled\\x3d\"{ariaDisabled}\"';\nCKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{style}\"'),\na=a+'\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_button_label cke_button__{name}_label\" aria-hidden\\x3d\"false\"\\x3e{label}\\x3c/span\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_button_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e{arrowHtml}\\x3c/a\\x3e',f=CKEDITOR.addTemplate(\"buttonArrow\",'\\x3cspan class\\x3d\"cke_button_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":\"\")+\"\\x3c/span\\x3e\"),b=CKEDITOR.addTemplate(\"button\",a);CKEDITOR.plugins.add(\"button\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_BUTTON,\nCKEDITOR.ui.button.handler)}});CKEDITOR.UI_BUTTON=\"button\";CKEDITOR.ui.button=function(a){CKEDITOR.tools.extend(this,a,{title:a.label,click:a.click||function(b){b.execCommand(a.command)}});this._={}};CKEDITOR.ui.button.handler={create:function(a){return new CKEDITOR.ui.button(a)}};CKEDITOR.ui.button.prototype={render:function(a,e){function l(){var b=a.mode;b&&(b=this.modes[b]?void 0!==t[b]?t[b]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,b=a.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:\nb,this.setState(b),this.refresh&&this.refresh())}var k=CKEDITOR.env,d=this._.id=CKEDITOR.tools.getNextId(),h=\"\",m=this.command,g,n,p;this._.editor=a;var r={id:d,button:this,editor:a,focus:function(){CKEDITOR.document.getById(d).focus()},execute:function(){this.button.click(a)},attach:function(a){this.button.attach(a)}},x=CKEDITOR.tools.addFunction(function(a){if(r.onkey)return a=new CKEDITOR.dom.event(a),!1!==r.onkey(r,a.getKeystroke())}),v=CKEDITOR.tools.addFunction(function(a){var b;r.onfocus&&\n(b=!1!==r.onfocus(r,new CKEDITOR.dom.event(a)));return b}),u=0;r.clickFn=g=CKEDITOR.tools.addFunction(function(){u&&(a.unlockSelection(1),u=0);r.execute();k.iOS&&a.focus()});if(this.modes){var t={};a.on(\"beforeModeUnload\",function(){a.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(t[a.mode]=this._.state)},this);a.on(\"activeFilterChange\",l,this);a.on(\"mode\",l,this);!this.readOnly&&a.on(\"readOnly\",l,this)}else m&&(m=a.getCommand(m))&&(m.on(\"state\",function(){this.setState(m.state)},this),h+=m.state==\nCKEDITOR.TRISTATE_ON?\"on\":m.state==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\");if(this.directional)a.on(\"contentDirChanged\",function(b){var d=CKEDITOR.document.getById(this._.id),e=d.getFirst();b=b.data;b!=a.lang.dir?d.addClass(\"cke_\"+b):d.removeClass(\"cke_ltr\").removeClass(\"cke_rtl\");e.setAttribute(\"style\",CKEDITOR.skin.getIconStyle(y,\"rtl\"==b,this.icon,this.iconOffset))},this);m?(n=a.getCommandKeystroke(m))&&(p=CKEDITOR.tools.keystrokeToString(a.lang.common.keyboard,n)):h+=\"off\";var y=n=this.name||\nthis.command;this.icon&&!/\\./.test(this.icon)&&(y=this.icon,this.icon=null);h={id:d,name:n,iconName:y,label:this.label,cls:this.className||\"\",state:h,ariaDisabled:\"disabled\"==h?\"true\":\"false\",title:this.title+(p?\" (\"+p.display+\")\":\"\"),ariaShortcut:p?a.lang.common.keyboardShortcut+\" \"+p.aria:\"\",titleJs:k.gecko&&!k.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),hasArrow:this.hasArrow?\"true\":\"false\",keydownFn:x,focusFn:v,clickFn:g,style:CKEDITOR.skin.getIconStyle(y,\"rtl\"==a.lang.dir,this.icon,this.iconOffset),\narrowHtml:this.hasArrow?f.output():\"\"};b.output(h,e);if(this.onRender)this.onRender();return r},setState:function(a){if(this._.state==a)return!1;this._.state=a;var b=CKEDITOR.document.getById(this._.id);return b?(b.setState(a,\"cke_button\"),a==CKEDITOR.TRISTATE_DISABLED?b.setAttribute(\"aria-disabled\",!0):b.removeAttribute(\"aria-disabled\"),this.hasArrow?(a=a==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+\"_label\").setText(a)):\na==CKEDITOR.TRISTATE_ON?b.setAttribute(\"aria-pressed\",!0):b.removeAttribute(\"aria-pressed\"),!0):!1},getState:function(){return this._.state},toFeature:function(a){if(this._.feature)return this._.feature;var b=this;this.allowedContent||this.requiredContent||!this.command||(b=a.getCommand(this.command)||b);return this._.feature=b}};CKEDITOR.ui.prototype.addButton=function(a,b){this.add(a,CKEDITOR.UI_BUTTON,b)}}(),function(){function a(a){function b(){for(var g=c(),h=CKEDITOR.tools.clone(a.config.toolbarGroups)||\nf(a),m=0;m<h.length;m++){var l=h[m];if(\"/\"!=l){\"string\"==typeof l&&(l=h[m]={name:l});var v,u=l.groups;if(u)for(var t=0;t<u.length;t++)v=u[t],(v=g[v])&&d(l,v);(v=g[l.name])&&d(l,v)}}return h}function c(){var b={},d,f,g;for(d in a.ui.items)f=a.ui.items[d],g=f.toolbar||\"others\",g=g.split(\",\"),f=g[0],g=parseInt(g[1]||-1,10),b[f]||(b[f]=[]),b[f].push({name:d,order:g});for(f in b)b[f]=b[f].sort(function(a,b){return a.order==b.order?0:0>b.order?-1:0>a.order?1:a.order<b.order?-1:1});return b}function d(b,\nc){if(c.length){b.items?b.items.push(a.ui.create(\"-\")):b.items=[];for(var d;d=c.shift();)d=\"string\"==typeof d?d:d.name,m&&-1!=CKEDITOR.tools.indexOf(m,d)||(d=a.ui.create(d))&&a.addFeature(d)&&b.items.push(d)}}function h(a){var b=[],c,e,f;for(c=0;c<a.length;++c)e=a[c],f={},\"/\"==e?b.push(e):CKEDITOR.tools.isArray(e)?(d(f,CKEDITOR.tools.clone(e)),b.push(f)):e.items&&(d(f,CKEDITOR.tools.clone(e.items)),f.name=e.name,b.push(f));return b}var m=a.config.removeButtons,m=m&&m.split(\",\"),g=a.config.toolbar;\n\"string\"==typeof g&&(g=a.config[\"toolbar_\"+g]);return a.toolbar=g?h(g):b()}function f(a){return a._.toolbarGroups||(a._.toolbarGroups=[{name:\"document\",groups:[\"mode\",\"document\",\"doctools\"]},{name:\"clipboard\",groups:[\"clipboard\",\"undo\"]},{name:\"editing\",groups:[\"find\",\"selection\",\"spellchecker\"]},{name:\"forms\"},\"/\",{name:\"basicstyles\",groups:[\"basicstyles\",\"cleanup\"]},{name:\"paragraph\",groups:[\"list\",\"indent\",\"blocks\",\"align\",\"bidi\"]},{name:\"links\"},{name:\"insert\"},\"/\",{name:\"styles\"},{name:\"colors\"},\n{name:\"tools\"},{name:\"others\"},{name:\"about\"}])}var b=function(){this.toolbars=[];this.focusCommandExecuted=!1};b.prototype.focus=function(){for(var a=0,b;b=this.toolbars[a++];)for(var c=0,d;d=b.items[c++];)if(d.focus){d.focus();return}};var c={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(a){a.toolbox&&(a.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){a.toolbox.focus()},100):a.toolbox.focus())}};CKEDITOR.plugins.add(\"toolbar\",{requires:\"button\",init:function(e){var f,\nk=function(a,b){var c,g=\"rtl\"==e.lang.dir,n=e.config.toolbarGroupCycling,p=g?37:39,g=g?39:37,n=void 0===n||n;switch(b){case 9:case CKEDITOR.SHIFT+9:for(;!c||!c.items.length;)if(c=9==b?(c?c.next:a.toolbar.next)||e.toolbox.toolbars[0]:(c?c.previous:a.toolbar.previous)||e.toolbox.toolbars[e.toolbox.toolbars.length-1],c.items.length)for(a=c.items[f?c.items.length-1:0];a&&!a.focus;)(a=f?a.previous:a.next)||(c=0);a&&a.focus();return!1;case p:c=a;do c=c.next,!c&&n&&(c=a.toolbar.items[0]);while(c&&!c.focus);\nc?c.focus():k(a,9);return!1;case 40:return a.button&&a.button.hasArrow?a.execute():k(a,40==b?p:g),!1;case g:case 38:c=a;do c=c.previous,!c&&n&&(c=a.toolbar.items[a.toolbar.items.length-1]);while(c&&!c.focus);c?c.focus():(f=1,k(a,CKEDITOR.SHIFT+9),f=0);return!1;case 27:return e.focus(),!1;case 13:case 32:return a.execute(),!1}return!0};e.on(\"uiSpace\",function(c){if(c.data.space==e.config.toolbarLocation){c.removeListener();e.toolbox=new b;var f=CKEDITOR.tools.getNextId(),l=['\\x3cspan id\\x3d\"',f,'\" class\\x3d\"cke_voice_label\"\\x3e',\ne.lang.toolbar.toolbars,\"\\x3c/span\\x3e\",'\\x3cspan id\\x3d\"'+e.ui.spaceId(\"toolbox\")+'\" class\\x3d\"cke_toolbox\" role\\x3d\"group\" aria-labelledby\\x3d\"',f,'\" onmousedown\\x3d\"return false;\"\\x3e'],f=!1!==e.config.toolbarStartupExpanded,g,n;e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&l.push('\\x3cspan class\\x3d\"cke_toolbox_main\"'+(f?\"\\x3e\":' style\\x3d\"display:none\"\\x3e'));for(var p=e.toolbox.toolbars,r=a(e),x=r.length,v=0;v<x;v++){var u,t=0,y,A=r[v],q=\"/\"!==A&&(\"/\"===r[v+1]||v==\nx-1),w;if(A)if(g&&(l.push(\"\\x3c/span\\x3e\"),n=g=0),\"/\"===A)l.push('\\x3cspan class\\x3d\"cke_toolbar_break\"\\x3e\\x3c/span\\x3e');else{w=A.items||A;for(var B=0;B<w.length;B++){var z=w[B],C;if(z){var E=function(a){a=a.render(e,l);G=t.items.push(a)-1;0<G&&(a.previous=t.items[G-1],a.previous.next=a);a.toolbar=t;a.onkey=k;a.onfocus=function(){e.toolbox.focusCommandExecuted||e.focus()}};if(z.type==CKEDITOR.UI_SEPARATOR)n=g&&z;else{C=!1!==z.canGroup;if(!t){u=CKEDITOR.tools.getNextId();t={id:u,items:[]};y=A.name&&\n(e.lang.toolbar.toolbarGroups[A.name]||A.name);l.push('\\x3cspan id\\x3d\"',u,'\" class\\x3d\"cke_toolbar'+(q?' cke_toolbar_last\"':'\"'),y?' aria-labelledby\\x3d\"'+u+'_label\"':\"\",' role\\x3d\"toolbar\"\\x3e');y&&l.push('\\x3cspan id\\x3d\"',u,'_label\" class\\x3d\"cke_voice_label\"\\x3e',y,\"\\x3c/span\\x3e\");l.push('\\x3cspan class\\x3d\"cke_toolbar_start\"\\x3e\\x3c/span\\x3e');var G=p.push(t)-1;0<G&&(t.previous=p[G-1],t.previous.next=t)}C?g||(l.push('\\x3cspan class\\x3d\"cke_toolgroup\" role\\x3d\"presentation\"\\x3e'),g=1):g&&(l.push(\"\\x3c/span\\x3e\"),\ng=0);n&&(E(n),n=0);E(z)}}}g&&(l.push(\"\\x3c/span\\x3e\"),n=g=0);t&&l.push('\\x3cspan class\\x3d\"cke_toolbar_end\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e')}}e.config.toolbarCanCollapse&&l.push(\"\\x3c/span\\x3e\");if(e.config.toolbarCanCollapse&&e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var F=CKEDITOR.tools.addFunction(function(){e.execCommand(\"toolbarCollapse\")});e.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(F)});e.addCommand(\"toolbarCollapse\",{readOnly:1,exec:function(a){var b=a.ui.space(\"toolbar_collapser\"),\nc=b.getPrevious(),d=a.ui.space(\"contents\"),e=c.getParent(),f=parseInt(d.$.style.height,10),g=e.$.offsetHeight,h=b.hasClass(\"cke_toolbox_collapser_min\");h?(c.show(),b.removeClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarCollapse)):(c.hide(),b.addClass(\"cke_toolbox_collapser_min\"),b.setAttribute(\"title\",a.lang.toolbar.toolbarExpand));b.getFirst().setText(h?\"â²\":\"â\");d.setStyle(\"height\",f-(e.$.offsetHeight-g)+\"px\");a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,\ncontentsHeight:d.$.offsetHeight,outerWidth:a.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}});e.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),\"toolbarCollapse\");l.push('\\x3ca title\\x3d\"'+(f?e.lang.toolbar.toolbarCollapse:e.lang.toolbar.toolbarExpand)+'\" id\\x3d\"'+e.ui.spaceId(\"toolbar_collapser\")+'\" tabIndex\\x3d\"-1\" class\\x3d\"cke_toolbox_collapser');f||l.push(\" cke_toolbox_collapser_min\");l.push('\" onclick\\x3d\"CKEDITOR.tools.callFunction('+F+')\"\\x3e','\\x3cspan class\\x3d\"cke_arrow\"\\x3e\\x26#9650;\\x3c/span\\x3e',\n\"\\x3c/a\\x3e\")}l.push(\"\\x3c/span\\x3e\");c.data.html+=l.join(\"\")}});e.on(\"destroy\",function(){if(this.toolbox){var a,b=0,c,e,f;for(a=this.toolbox.toolbars;b<a.length;b++)for(e=a[b].items,c=0;c<e.length;c++)f=e[c],f.clickFn&&CKEDITOR.tools.removeFunction(f.clickFn),f.keyDownFn&&CKEDITOR.tools.removeFunction(f.keyDownFn)}});e.on(\"uiReady\",function(){var a=e.ui.space(\"toolbox\");a&&e.focusManager.add(a,1)});e.addCommand(\"toolbarFocus\",c);e.setKeystroke(CKEDITOR.ALT+121,\"toolbarFocus\");e.ui.add(\"-\",CKEDITOR.UI_SEPARATOR,\n{});e.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(a,b){b.push('\\x3cspan class\\x3d\"cke_toolbar_separator\" role\\x3d\"separator\"\\x3e\\x3c/span\\x3e');return{}}}}})}});CKEDITOR.ui.prototype.addToolbarGroup=function(a,b,c){var d=f(this.editor),h=0===b,m={name:a};if(c){if(c=CKEDITOR.tools.search(d,function(a){return a.name==c})){!c.groups&&(c.groups=[]);if(b&&(b=CKEDITOR.tools.indexOf(c.groups,b),0<=b)){c.groups.splice(b+1,0,a);return}h?c.groups.splice(0,0,a):c.groups.push(a);\nreturn}b=null}b&&(b=CKEDITOR.tools.indexOf(d,function(a){return a.name==b}));h?d.splice(0,0,a):\"number\"==typeof b?d.splice(b+1,0,m):d.push(a)}}(),CKEDITOR.UI_SEPARATOR=\"separator\",CKEDITOR.config.toolbarLocation=\"top\",\"use strict\",CKEDITOR.plugins.add(\"notification\",{requires:\"toolbar\",init:function(a){function f(a){var c=new CKEDITOR.dom.element(\"div\");c.setStyles({position:\"fixed\",\"margin-left\":\"-9999px\"});c.setAttributes({\"aria-live\":\"assertive\",\"aria-atomic\":\"true\"});c.setText(a);CKEDITOR.document.getBody().append(c);\nsetTimeout(function(){c.remove()},100)}a._.notificationArea=new la(a);a.showNotification=function(b,c,e){var f,k;\"progress\"==c?f=e:k=e;b=new CKEDITOR.plugins.notification(a,{message:b,type:c,progress:f,duration:k});b.show();return b};a.on(\"key\",function(b){if(27==b.data.keyCode){var c=a._.notificationArea.notifications;c.length&&(f(a.lang.notification.closed),c[c.length-1].hide(),b.cancel())}})}}),ka.prototype={show:function(){!1!==this.editor.fire(\"notificationShow\",{notification:this})&&(this.area.add(this),\nthis._hideAfterTimeout())},update:function(a){var f=!0;!1===this.editor.fire(\"notificationUpdate\",{notification:this,options:a})&&(f=!1);var b=this.element,c=b.findOne(\".cke_notification_message\"),e=b.findOne(\".cke_notification_progress\"),l=a.type;b.removeAttribute(\"role\");a.progress&&\"progress\"!=this.type&&(l=\"progress\");l&&(b.removeClass(this._getClass()),b.removeAttribute(\"aria-label\"),this.type=l,b.addClass(this._getClass()),b.setAttribute(\"aria-label\",this.type),\"progress\"!=this.type||e?\"progress\"!=\nthis.type&&e&&e.remove():(e=this._createProgressElement(),e.insertBefore(c)));void 0!==a.message&&(this.message=a.message,c.setHtml(this.message));void 0!==a.progress&&(this.progress=a.progress,e&&e.setStyle(\"width\",this._getPercentageProgress()));f&&a.important&&(b.setAttribute(\"role\",\"alert\"),this.isVisible()||this.area.add(this));this.duration=a.duration;this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire(\"notificationHide\",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=\nCKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var a=this,f,b,c=this.editor.lang.common.close;f=new CKEDITOR.dom.element(\"div\");f.addClass(\"cke_notification\");f.addClass(this._getClass());f.setAttributes({id:this.id,role:\"alert\",\"aria-label\":this.type});\"progress\"==this.type&&f.append(this._createProgressElement());b=new CKEDITOR.dom.element(\"p\");b.addClass(\"cke_notification_message\");b.setHtml(this.message);f.append(b);b=CKEDITOR.dom.element.createFromHtml('\\x3ca class\\x3d\"cke_notification_close\" href\\x3d\"javascript:void(0)\" title\\x3d\"'+\nc+'\" role\\x3d\"button\" tabindex\\x3d\"-1\"\\x3e\\x3cspan class\\x3d\"cke_label\"\\x3eX\\x3c/span\\x3e\\x3c/a\\x3e');f.append(b);b.on(\"click\",function(){a.editor.focus();a.hide()});return f},_getClass:function(){return\"progress\"==this.type?\"cke_notification_info\":\"cke_notification_\"+this.type},_createProgressElement:function(){var a=new CKEDITOR.dom.element(\"span\");a.addClass(\"cke_notification_progress\");a.setStyle(\"width\",this._getPercentageProgress());return a},_getPercentageProgress:function(){return Math.round(100*\n(this.progress||0))+\"%\"},_hideAfterTimeout:function(){var a=this,f;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId);if(\"number\"==typeof this.duration)f=this.duration;else if(\"info\"==this.type||\"success\"==this.type)f=\"number\"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5E3;f&&(a._hideTimeoutId=setTimeout(function(){a.hide()},f))}},la.prototype={add:function(a){this.notifications.push(a);this.element.append(a.element);1==this.element.getChildCount()&&\n(CKEDITOR.document.getBody().append(this.element),this._attachListeners());this._layout()},remove:function(a){var f=CKEDITOR.tools.indexOf(this.notifications,a);0>f||(this.notifications.splice(f,1),a.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var a=this.editor,f=a.config,b=new CKEDITOR.dom.element(\"div\");b.addClass(\"cke_notifications_area\");b.setAttribute(\"id\",\"cke_notifications_area_\"+a.name);b.setStyle(\"z-index\",f.baseFloatZIndex-\n2);return b},_attachListeners:function(){var a=CKEDITOR.document.getWindow(),f=this.editor;a.on(\"scroll\",this._uiBuffer.input);a.on(\"resize\",this._uiBuffer.input);f.on(\"change\",this._changeBuffer.input);f.on(\"floatingSpaceLayout\",this._layout,this,null,20);f.on(\"blur\",this._layout,this,null,20)},_removeListeners:function(){var a=CKEDITOR.document.getWindow(),f=this.editor;a.removeListener(\"scroll\",this._uiBuffer.input);a.removeListener(\"resize\",this._uiBuffer.input);f.removeListener(\"change\",this._changeBuffer.input);\nf.removeListener(\"floatingSpaceLayout\",this._layout);f.removeListener(\"blur\",this._layout)},_layout:function(){function a(){f.setStyle(\"left\",x(v+c.width-h-m))}var f=this.element,b=this.editor,c=b.ui.contentsElement.getClientRect(),e=b.ui.contentsElement.getDocumentPosition(),b=b.ui.space(\"top\"),l=b.getClientRect(),k=f.getClientRect(),d,h=this._notificationWidth,m=this._notificationMargin;d=CKEDITOR.document.getWindow();var g=d.getScrollPosition(),n=d.getViewPaneSize(),p=CKEDITOR.document.getBody(),\nr=p.getDocumentPosition(),x=CKEDITOR.tools.cssLength;h&&m||(d=this.element.getChild(0),h=this._notificationWidth=d.getClientRect().width,m=this._notificationMargin=parseInt(d.getComputedStyle(\"margin-left\"),10)+parseInt(d.getComputedStyle(\"margin-right\"),10));b.isVisible()&&l.bottom>c.top&&l.bottom<c.bottom-k.height?f.setStyles({position:\"fixed\",top:x(l.bottom)}):0<c.top?f.setStyles({position:\"absolute\",top:x(e.y)}):e.y+c.height-k.height>g.y?f.setStyles({position:\"fixed\",top:0}):f.setStyles({position:\"absolute\",\ntop:x(e.y+c.height-k.height)});var v=\"fixed\"==f.getStyle(\"position\")?c.left:\"static\"!=p.getComputedStyle(\"position\")?e.x-r.x:e.x;c.width<h+m?e.x+h+m>g.x+n.width?a():f.setStyle(\"left\",x(v)):e.x+h+m>g.x+n.width?f.setStyle(\"left\",x(v)):e.x+c.width/2+h/2+m>g.x+n.width?f.setStyle(\"left\",x(v-e.x+g.x+n.width-h-m)):0>c.left+c.width-h-m?a():0>c.left+c.width/2-h/2?f.setStyle(\"left\",x(v-e.x+g.x)):f.setStyle(\"left\",x(v+c.width/2-h/2-m/2))}},CKEDITOR.plugins.notification=ka,\"use strict\",function(){function a(a,\nb,c){b.type||(b.type=\"auto\");if(c&&!1===a.fire(\"beforePaste\",b)||!b.dataValue&&b.dataTransfer.isEmpty())return!1;b.dataValue||(b.dataValue=\"\");if(CKEDITOR.env.gecko&&\"drop\"==b.method&&a.toolbox)a.once(\"afterPaste\",function(){a.toolbox.focus()});return a.fire(\"paste\",b)}function f(b){function c(){var a=b.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var d=function(a){b.readOnly&&\"cut\"==a.name||C.initPasteDataTransfer(a,b);a.data.preventDefault()};a.on(\"copy\",d);a.on(\"cut\",d);a.on(\"cut\",\nfunction(){b.readOnly||b.extractSelectedHtml()},null,null,999)}a.on(C.mainPasteEvent,function(a){\"beforepaste\"==C.mainPasteEvent&&E||w(a)});\"beforepaste\"==C.mainPasteEvent&&(a.on(\"paste\",function(a){G||(f(),a.data.preventDefault(),w(a),k(\"paste\"))}),a.on(\"contextmenu\",h,null,null,0),a.on(\"beforepaste\",function(a){!a.data||a.data.$.ctrlKey||a.data.$.shiftKey||h()},null,null,0));a.on(\"beforecut\",function(){!E&&l(b)});var e;a.attachListener(CKEDITOR.env.ie?a:b.document.getDocumentElement(),\"mouseup\",\nfunction(){e=setTimeout(function(){B()},0)});b.on(\"destroy\",function(){clearTimeout(e)});a.on(\"keyup\",B)}function d(a){return{type:a,canUndo:\"cut\"==a,startDisabled:!0,fakeKeystroke:\"cut\"==a?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){\"cut\"==this.type&&l();var a;var c=this.type;if(CKEDITOR.env.ie)a=k(c);else try{a=b.document.$.execCommand(c,!1,null)}catch(d){a=!1}a||b.showNotification(b.lang.clipboard[this.type+\"Error\"]);return a}}}function e(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+\n86,exec:function(b,c){function d(c,g){g=\"undefined\"!==typeof g?g:!0;c?(c.method=\"paste\",c.dataTransfer||(c.dataTransfer=C.initPasteDataTransfer()),a(b,c,g)):f&&b.showNotification(k,\"info\",b.config.clipboard_notificationDuration);b.fire(\"afterCommandExec\",{name:\"paste\",command:e,returnValue:!!c})}c=\"undefined\"!==typeof c&&null!==c?c:{};var e=this,f=\"undefined\"!==typeof c.notification?c.notification:!0,g=c.type,h=CKEDITOR.tools.keystrokeToString(b.lang.common.keyboard,b.getCommandKeystroke(this)),k=\n\"string\"===typeof f?f:b.lang.clipboard.pasteNotification.replace(/%1/,'\\x3ckbd aria-label\\x3d\"'+h.aria+'\"\\x3e'+h.display+\"\\x3c/kbd\\x3e\"),h=\"string\"===typeof c?c:c.dataValue;g?b._.nextPasteType=g:delete b._.nextPasteType;\"string\"===typeof h?d({dataValue:h}):b.getClipboardData(d)}}}function f(){G=1;setTimeout(function(){G=0},100)}function h(){E=1;setTimeout(function(){E=0},10)}function k(a){var c=b.document,d=c.getBody(),e=!1,f=function(){e=!0};d.on(a,f);7<CKEDITOR.env.version?c.$.execCommand(a):c.$.selection.createRange().execCommand(a);\nd.removeListener(a,f);return e}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var a=b.getSelection(),c,d,e;a.getType()==CKEDITOR.SELECTION_ELEMENT&&(c=a.getSelectedElement())&&(d=a.getRanges()[0],e=b.document.createText(\"\"),e.insertBefore(c),d.setStartBefore(e),d.setEndAfter(c),a.selectRanges([d]),setTimeout(function(){c.getParent()&&(e.remove(),a.selectElement(c))},0))}}function m(a,c){var d=b.document,e=b.editable(),f=function(a){a.cancel()},h;if(!d.getById(\"cke_pastebin\")){var k=b.getSelection(),\nl=k.createBookmarks();CKEDITOR.env.ie&&k.root.fire(\"selectionchange\");var q=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!e.is(\"body\")||CKEDITOR.env.ie?\"div\":\"body\",d);q.setAttributes({id:\"cke_pastebin\",\"data-cke-temp\":\"1\"});var t=0,d=d.getWindow();CKEDITOR.env.webkit?(e.append(q),q.addClass(\"cke_editable\"),e.is(\"body\")||(t=\"static\"!=e.getComputedStyle(\"position\")?e:CKEDITOR.dom.element.get(e.$.offsetParent),t=t.getDocumentPosition().y)):e.getAscendant(CKEDITOR.env.ie?\"body\":\"html\",1).append(q);\nq.setStyles({position:\"absolute\",top:d.getScrollPosition().y-t+10+\"px\",width:\"1px\",height:Math.max(1,d.getViewPaneSize().height-20)+\"px\",overflow:\"hidden\",margin:0,padding:0});CKEDITOR.env.safari&&q.setStyles(CKEDITOR.tools.cssVendorPrefix(\"user-select\",\"text\"));(t=q.getParent().isReadOnly())?(q.setOpacity(0),q.setAttribute(\"contenteditable\",!0)):q.setStyle(\"ltr\"==b.config.contentsLangDirection?\"left\":\"right\",\"-10000px\");b.on(\"selectionChange\",f,null,null,0);if(CKEDITOR.env.webkit||CKEDITOR.env.gecko)h=\ne.once(\"blur\",f,null,null,-100);t&&q.focus();t=new CKEDITOR.dom.range(q);t.selectNodeContents(q);var n=t.select();CKEDITOR.env.ie&&(h=e.once(\"blur\",function(){b.lockSelection(n)}));var u=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=u);h&&h.removeListener();CKEDITOR.env.ie&&e.focus();k.selectBookmarks(l);q.remove();var a;CKEDITOR.env.webkit&&(a=q.getFirst())&&a.is&&a.hasClass(\"Apple-style-span\")&&(q=a);b.removeListener(\"selectionChange\",\nf);c(q.getHtml())},0)}}function A(){if(\"paste\"==C.mainPasteEvent)return b.fire(\"beforePaste\",{type:\"auto\",method:\"paste\"}),!1;b.focus();f();var a=b.focusManager;a.lock();if(b.editable().fire(C.mainPasteEvent)&&!k(\"paste\"))return a.unlock(),!1;a.unlock();return!0}function q(a){if(\"wysiwyg\"==b.mode)switch(a.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:a=b.editable();f();\"paste\"==C.mainPasteEvent&&a.fire(\"beforepaste\");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:b.fire(\"saveSnapshot\"),\nsetTimeout(function(){b.fire(\"saveSnapshot\")},50)}}function w(c){var d={type:\"auto\",method:\"paste\",dataTransfer:C.initPasteDataTransfer(c)};d.dataTransfer.cacheData();var e=!1!==b.fire(\"beforePaste\",d);e&&C.canClipboardApiBeTrusted(d.dataTransfer,b)?(c.data.preventDefault(),setTimeout(function(){a(b,d)},0)):m(c,function(c){d.dataValue=c.replace(/<span[^>]+data-cke-bookmark[^<]*?<\\/span>/ig,\"\");e&&a(b,d)})}function B(){if(\"wysiwyg\"==b.mode){var a=z(\"paste\");b.getCommand(\"cut\").setState(z(\"cut\"));b.getCommand(\"copy\").setState(z(\"copy\"));\nb.getCommand(\"paste\").setState(a);b.fire(\"pasteState\",a)}}function z(a){if(F&&a in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if(\"paste\"==a)return CKEDITOR.TRISTATE_OFF;a=b.getSelection();var c=a.getRanges();return a.getType()==CKEDITOR.SELECTION_NONE||1==c.length&&c[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var C=CKEDITOR.plugins.clipboard,E=0,G=0,F=0;(function(){b.on(\"key\",q);b.on(\"contentDom\",c);b.on(\"selectionChange\",function(a){F=a.data.selection.getRanges()[0].checkReadOnly();\nB()});b.contextMenu&&b.contextMenu.addListener(function(a,b){F=b.getRanges()[0].checkReadOnly();return{cut:z(\"cut\"),copy:z(\"copy\"),paste:z(\"paste\")}})})();(function(){function a(c,d,e,f,h){var k=b.lang.clipboard[d];b.addCommand(d,e);b.ui.addButton&&b.ui.addButton(c,{label:k,command:d,toolbar:\"clipboard,\"+f});b.addMenuItems&&b.addMenuItem(d,{label:k,command:d,group:\"clipboard\",order:h})}a(\"Cut\",\"cut\",d(\"cut\"),10,1);a(\"Copy\",\"copy\",d(\"copy\"),20,4);a(\"Paste\",\"paste\",e(),30,8)})();b.getClipboardData=\nfunction(a,c){function d(a){a.removeListener();a.cancel();c(a.data)}c||(c=a,a=null);b.on(\"paste\",d,null,null,0);!1===A()&&(b.removeListener(\"paste\",d),c(null))}}function b(a){if(CKEDITOR.env.webkit){if(!a.match(/^[^<]*$/g)&&!a.match(/^(<div><br( ?\\/)?><\\/div>|<div>[^<]*<\\/div>)*$/gi))return\"html\"}else if(CKEDITOR.env.ie){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi)&&!a.match(/^(<p>([^<]|<br( ?\\/)?>)*<\\/p>|(\\r\\n))*$/gi))return\"html\"}else if(CKEDITOR.env.gecko){if(!a.match(/^([^<]|<br( ?\\/)?>)*$/gi))return\"html\"}else return\"html\";\nreturn\"htmlifiedtext\"}function c(a,b){function c(a){return CKEDITOR.tools.repeat(\"\\x3c/p\\x3e\\x3cp\\x3e\",~~(a/2))+(1==a%2?\"\\x3cbr\\x3e\":\"\")}b=b.replace(/\\s+/g,\" \").replace(/> +</g,\"\\x3e\\x3c\").replace(/<br ?\\/>/gi,\"\\x3cbr\\x3e\");b=b.replace(/<\\/?[A-Z]+>/g,function(a){return a.toLowerCase()});if(b.match(/^[^<]$/))return b;CKEDITOR.env.webkit&&-1<b.indexOf(\"\\x3cdiv\\x3e\")&&(b=b.replace(/^(<div>(<br>|)<\\/div>)(?!$|(<div>(<br>|)<\\/div>))/g,\"\\x3cbr\\x3e\").replace(/^(<div>(<br>|)<\\/div>){2}(?!$)/g,\"\\x3cdiv\\x3e\\x3c/div\\x3e\"),\nb.match(/<div>(<br>|)<\\/div>/)&&(b=\"\\x3cp\\x3e\"+b.replace(/(<div>(<br>|)<\\/div>)+/g,function(a){return c(a.split(\"\\x3c/div\\x3e\\x3cdiv\\x3e\").length+1)})+\"\\x3c/p\\x3e\"),b=b.replace(/<\\/div><div>/g,\"\\x3cbr\\x3e\"),b=b.replace(/<\\/?div>/g,\"\"));CKEDITOR.env.gecko&&a.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(b=b.replace(/^<br><br>$/,\"\\x3cbr\\x3e\")),-1<b.indexOf(\"\\x3cbr\\x3e\\x3cbr\\x3e\")&&(b=\"\\x3cp\\x3e\"+b.replace(/(<br>){2,}/g,function(a){return c(a.length/4)})+\"\\x3c/p\\x3e\"));return k(a,b)}function e(){function a(){var b=\n{},c;for(c in CKEDITOR.dtd)\"$\"!=c.charAt(0)&&\"div\"!=c&&\"span\"!=c&&(b[c]=1);return b}var b={};return{get:function(c){return\"plain-text\"==c?b.plainText||(b.plainText=new CKEDITOR.filter(\"br\")):\"semantic-content\"==c?((c=b.semanticContent)||(c=new CKEDITOR.filter,c.allow({$1:{elements:a(),attributes:!0,styles:!1,classes:!1}}),c=b.semanticContent=c),c):c?new CKEDITOR.filter(c):null}}}function l(a,b,c){b=CKEDITOR.htmlParser.fragment.fromHtml(b);var d=new CKEDITOR.htmlParser.basicWriter;c.applyTo(b,!0,!1,\na.activeEnterMode);b.writeHtml(d);return d.getHtml()}function k(a,b){a.enterMode==CKEDITOR.ENTER_BR?b=b.replace(/(<\\/p><p>)+/g,function(a){return CKEDITOR.tools.repeat(\"\\x3cbr\\x3e\",a.length/7*2)}).replace(/<\\/?p>/g,\"\"):a.enterMode==CKEDITOR.ENTER_DIV&&(b=b.replace(/<(\\/)?p>/g,\"\\x3c$1div\\x3e\"));return b}function d(a){a.data.preventDefault();a.data.$.dataTransfer.dropEffect=\"none\"}function h(b){var c=CKEDITOR.plugins.clipboard;b.on(\"contentDom\",function(){function d(c,e,f){e.select();a(b,{dataTransfer:f,\nmethod:\"drop\"},1);f.sourceEditor.fire(\"saveSnapshot\");f.sourceEditor.editable().extractHtmlFromRange(c);f.sourceEditor.getSelection().selectRanges([c]);f.sourceEditor.fire(\"saveSnapshot\")}function e(d,f){d.select();a(b,{dataTransfer:f,method:\"drop\"},1);c.resetDragDataTransfer()}function f(a,c,d){var e={$:a.data.$,target:a.data.getTarget()};c&&(e.dragRange=c);d&&(e.dropRange=d);!1===b.fire(a.name,e)&&a.data.preventDefault()}function h(a){a.type!=CKEDITOR.NODE_ELEMENT&&(a=a.getParent());return a.getChildCount()}\nvar k=b.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(b),m=b.ui.space(\"top\"),A=b.ui.space(\"bottom\");c.preventDefaultDropOnElement(m);c.preventDefaultDropOnElement(A);k.attachListener(l,\"dragstart\",f);k.attachListener(b,\"dragstart\",c.resetDragDataTransfer,c,null,1);k.attachListener(b,\"dragstart\",function(a){c.initDragDataTransfer(a,b)},null,null,2);k.attachListener(b,\"dragstart\",function(){var a=c.dragRange=b.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(c.dragStartContainerChildCount=\na?h(a.startContainer):null,c.dragEndContainerChildCount=a?h(a.endContainer):null)},null,null,100);k.attachListener(l,\"dragend\",f);k.attachListener(b,\"dragend\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"dragend\",c.resetDragDataTransfer,c,null,100);k.attachListener(l,\"dragover\",function(a){if(CKEDITOR.env.edge)a.data.preventDefault();else{var b=a.data.getTarget();b&&b.is&&b.is(\"html\")?a.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&a.data.$.dataTransfer.types.contains(\"Files\")&&\na.data.preventDefault()}});k.attachListener(l,\"drop\",function(a){if(!a.data.$.defaultPrevented){a.data.preventDefault();var d=a.data.getTarget();if(!d.isReadOnly()||d.type==CKEDITOR.NODE_ELEMENT&&d.is(\"html\")){var d=c.getRangeAtDropPosition(a,b),e=c.dragRange;d&&f(a,e,d)}}},null,null,9999);k.attachListener(b,\"drop\",c.initDragDataTransfer,c,null,1);k.attachListener(b,\"drop\",function(a){if(a=a.data){var f=a.dropRange,h=a.dragRange,k=a.dataTransfer;k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_INTERNAL?\nsetTimeout(function(){c.internalDrop(h,f,k,b)},0):k.getTransferType(b)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?d(h,f,k):e(f,k)}},null,null,9999)})}CKEDITOR.plugins.add(\"clipboard\",{requires:\"notification\",init:function(a){var d,k=e();a.config.forcePasteAsPlainText?d=\"plain-text\":a.config.pasteFilter?d=a.config.pasteFilter:!CKEDITOR.env.webkit||\"pasteFilter\"in a.config||(d=\"semantic-content\");a.pasteFilter=k.get(d);f(a);h(a);if(CKEDITOR.env.gecko){var m=[\"image/png\",\"image/jpeg\",\"image/gif\"],x;a.on(\"paste\",\nfunction(b){var c=b.data,d=c.dataTransfer;if(!c.dataValue&&\"paste\"==c.method&&d&&1==d.getFilesCount()&&x!=d.id&&(d=d.getFile(0),-1!=CKEDITOR.tools.indexOf(m,d.type))){var e=new FileReader;e.addEventListener(\"load\",function(){b.data.dataValue='\\x3cimg src\\x3d\"'+e.result+'\" /\\x3e';a.fire(\"paste\",b.data)},!1);e.addEventListener(\"abort\",function(){a.fire(\"paste\",b.data)},!1);e.addEventListener(\"error\",function(){a.fire(\"paste\",b.data)},!1);e.readAsDataURL(d);x=c.dataTransfer.id;b.stop()}},null,null,1)}a.on(\"paste\",\nfunction(b){b.data.dataTransfer||(b.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer);if(!b.data.dataValue){var c=b.data.dataTransfer,d=c.getData(\"text/html\");if(d)b.data.dataValue=d,b.data.type=\"html\";else if(d=c.getData(\"text/plain\"))b.data.dataValue=a.editable().transformPlainTextToHtml(d),b.data.type=\"text\"}},null,null,1);a.on(\"paste\",function(a){var b=a.data.dataValue,c=CKEDITOR.dtd.$block;-1<b.indexOf(\"Apple-\")&&(b=b.replace(/<span class=\"Apple-converted-space\">&nbsp;<\\/span>/gi,\n\" \"),\"html\"!=a.data.type&&(b=b.replace(/<span class=\"Apple-tab-span\"[^>]*>([^<]*)<\\/span>/gi,function(a,b){return b.replace(/\\t/g,\"\\x26nbsp;\\x26nbsp; \\x26nbsp;\")})),-1<b.indexOf('\\x3cbr class\\x3d\"Apple-interchange-newline\"\\x3e')&&(a.data.startsWithEOL=1,a.data.preSniffing=\"html\",b=b.replace(/<br class=\"Apple-interchange-newline\">/,\"\")),b=b.replace(/(<[^>]+) class=\"Apple-[^\"]*\"/gi,\"$1\"));if(b.match(/^<[^<]+cke_(editable|contents)/i)){var d,e,f=new CKEDITOR.dom.element(\"div\");for(f.setHtml(b);1==f.getChildCount()&&\n(d=f.getFirst())&&d.type==CKEDITOR.NODE_ELEMENT&&(d.hasClass(\"cke_editable\")||d.hasClass(\"cke_contents\"));)f=e=d;e&&(b=e.getHtml().replace(/<br>$/i,\"\"))}CKEDITOR.env.ie?b=b.replace(/^&nbsp;(?: |\\r\\n)?<(\\w+)/g,function(b,d){return d.toLowerCase()in c?(a.data.preSniffing=\"html\",\"\\x3c\"+d):b}):CKEDITOR.env.webkit?b=b.replace(/<\\/(\\w+)><div><br><\\/div>$/,function(b,d){return d in c?(a.data.endsWithEOL=1,\"\\x3c/\"+d+\"\\x3e\"):b}):CKEDITOR.env.gecko&&(b=b.replace(/(\\s)<br>$/,\"$1\"));a.data.dataValue=b},null,\nnull,3);a.on(\"paste\",function(d){d=d.data;var e=a._.nextPasteType||d.type,f=d.dataValue,h,m=a.config.clipboard_defaultContentType||\"html\",q=d.dataTransfer.getTransferType(a);h=\"html\"==e||\"html\"==d.preSniffing?\"html\":b(f);delete a._.nextPasteType;\"htmlifiedtext\"==h&&(f=c(a.config,f));\"text\"==e&&\"html\"==h?f=l(a,f,k.get(\"plain-text\")):q==CKEDITOR.DATA_TRANSFER_EXTERNAL&&a.pasteFilter&&!d.dontFilter&&(f=l(a,f,a.pasteFilter));d.startsWithEOL&&(f='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e'+f);d.endsWithEOL&&(f+='\\x3cbr data-cke-eol\\x3d\"1\"\\x3e');\n\"auto\"==e&&(e=\"html\"==h||\"html\"==m?\"html\":\"text\");d.type=e;d.dataValue=f;delete d.preSniffing;delete d.startsWithEOL;delete d.endsWithEOL},null,null,6);a.on(\"paste\",function(b){b=b.data;b.dataValue&&(a.insertHtml(b.dataValue,b.type,b.range),setTimeout(function(){a.fire(\"afterPaste\")},0))},null,null,1E3)}});CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:!CKEDITOR.env.ie&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,\nmainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"beforepaste\":\"paste\",canClipboardApiBeTrusted:function(a,b){return a.getTransferType(b)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!a.isEmpty()||CKEDITOR.env.gecko&&(a.getData(\"text/html\")||a.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS?!0:!1},getDropTarget:function(a){var b=a.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||b.isInline()?b:a.document},fixSplitNodesAfterDrop:function(a,\nb,c,d){function e(a,c,d){var f=a;f.type==CKEDITOR.NODE_TEXT&&(f=a.getParent());if(f.equals(c)&&d!=c.getChildCount())return a=b.startContainer.getChild(b.startOffset-1),c=b.startContainer.getChild(b.startOffset),a&&a.type==CKEDITOR.NODE_TEXT&&c&&c.type==CKEDITOR.NODE_TEXT&&(d=a.getLength(),a.setText(a.getText()+c.getText()),c.remove(),b.setStart(a,d),b.collapse(!0)),!0}var f=b.startContainer;\"number\"==typeof d&&\"number\"==typeof c&&f.type==CKEDITOR.NODE_ELEMENT&&(e(a.startContainer,f,c)||e(a.endContainer,\nf,d))},isDropRangeAffectedByDragRange:function(a,b){var c=b.startContainer,d=b.endOffset;return a.endContainer.equals(c)&&a.endOffset<=d||a.startContainer.getParent().equals(c)&&a.startContainer.getIndex()<d||a.endContainer.getParent().equals(c)&&a.endContainer.getIndex()<d?!0:!1},internalDrop:function(b,c,d,e){var f=CKEDITOR.plugins.clipboard,h=e.editable(),k,l;e.fire(\"saveSnapshot\");e.fire(\"lockSnapshot\",{dontUpdate:1});CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(b,c,f.dragStartContainerChildCount,\nf.dragEndContainerChildCount);(l=this.isDropRangeAffectedByDragRange(b,c))||(k=b.createBookmark(!1));f=c.clone().createBookmark(!1);l&&(k=b.createBookmark(!1));b=k.startNode;c=k.endNode;l=f.startNode;c&&b.getPosition(l)&CKEDITOR.POSITION_PRECEDING&&c.getPosition(l)&CKEDITOR.POSITION_FOLLOWING&&l.insertBefore(b);b=e.createRange();b.moveToBookmark(k);h.extractHtmlFromRange(b,1);c=e.createRange();c.moveToBookmark(f);a(e,{dataTransfer:d,method:\"drop\",range:c},1);e.fire(\"unlockSnapshot\")},getRangeAtDropPosition:function(a,\nb){var c=a.data.$,d=c.clientX,e=c.clientY,f=b.getSelection(!0).getRanges()[0],h=b.createRange();if(a.data.testRange)return a.data.testRange;if(document.caretRangeFromPoint&&b.document.$.caretRangeFromPoint(d,e))c=b.document.$.caretRangeFromPoint(d,e),h.setStart(CKEDITOR.dom.node(c.startContainer),c.startOffset),h.collapse(!0);else if(c.rangeParent)h.setStart(CKEDITOR.dom.node(c.rangeParent),c.rangeOffset),h.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&f&&b.editable().hasFocus)return f;\nif(document.body.createTextRange){b.focus();c=b.document.getBody().$.createTextRange();try{for(var k=!1,l=0;20>l&&!k;l++){if(!k)try{c.moveToPoint(d,e-l),k=!0}catch(m){}if(!k)try{c.moveToPoint(d,e+l),k=!0}catch(q){}}if(k){var w=\"cke-temp-\"+(new Date).getTime();c.pasteHTML('\\x3cspan id\\x3d\"'+w+'\"\\x3eâ\\x3c/span\\x3e');var B=b.document.getById(w);h.moveToPosition(B,CKEDITOR.POSITION_BEFORE_START);B.remove()}else{var z=b.document.$.elementFromPoint(d,e),C=new CKEDITOR.dom.element(z),E;if(C.equals(b.editable())||\n\"html\"==C.getName())return f&&f.startContainer&&!f.startContainer.equals(b.editable())?f:null;E=C.getClientRect();d<E.left?h.setStartAt(C,CKEDITOR.POSITION_AFTER_START):h.setStartAt(C,CKEDITOR.POSITION_BEFORE_END);h.collapse(!0)}}catch(G){return null}}else return null}return h},initDragDataTransfer:function(a,b){var c=a.data.$?a.data.$.dataTransfer:null,d=new this.dataTransfer(c,b);c?this.dragData&&d.id==this.dragData.id?d=this.dragData:this.dragData=d:this.dragData?d=this.dragData:this.dragData=\nd;a.data.dataTransfer=d},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(a,b){if(this.isCustomCopyCutSupported){if(a&&a.data&&a.data.$){var c=new this.dataTransfer(a.data.$.clipboardData,b);this.copyCutData&&c.id==this.copyCutData.id?(c=this.copyCutData,c.$=a.data.$.clipboardData):this.copyCutData=c;return c}return new this.dataTransfer(null,b)}return new this.dataTransfer(CKEDITOR.env.edge&&a&&a.data.$&&a.data.$.clipboardData||null,b)},preventDefaultDropOnElement:function(a){a&&\na.on(\"dragover\",d)}};var m=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?\"cke/id\":\"Text\";CKEDITOR.plugins.clipboard.dataTransfer=function(a,b){a&&(this.$=a);this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\\s\\S]*?)>([\\s\\S]*)<\\/body>/i,fragmentRegExp:/\\x3c!--(?:Start|End)Fragment--\\x3e/g,data:{},files:[],normalizeType:function(a){a=a.toLowerCase();return\"text\"==a||\"text/plain\"==a?\"Text\":\"url\"==a?\"URL\":a}};this.id=this.getData(m);this.id||(this.id=\"Text\"==m?\"\":\"cke-\"+CKEDITOR.tools.getUniqueId());\nif(\"Text\"!=m)try{this.$.setData(m,this.id)}catch(c){}b&&(this.sourceEditor=b,this.setData(\"text/html\",b.getSelectedHtml(1)),\"Text\"==m||this.getData(\"text/plain\")||this.setData(\"text/plain\",b.getSelection().getSelectedText()))};CKEDITOR.DATA_TRANSFER_INTERNAL=1;CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2;CKEDITOR.DATA_TRANSFER_EXTERNAL=3;CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(a,b){a=this._.normalizeType(a);var c=this._.data[a],d;if(void 0===c||null===c||\"\"===c)try{c=this.$.getData(a)}catch(e){}if(void 0===\nc||null===c||\"\"===c)c=\"\";\"text/html\"!=a||b?\"Text\"==a&&CKEDITOR.env.gecko&&this.getFilesCount()&&\"file://\"==c.substring(0,7)&&(c=\"\"):(c=c.replace(this._.metaRegExp,\"\"),(d=this._.bodyRegExp.exec(c))&&d.length&&(c=d[1],c=c.replace(this._.fragmentRegExp,\"\")));\"string\"===typeof c&&(d=c.indexOf(\"\\x3c/html\\x3e\"),c=-1!==d?c.substring(0,d+7):c);return c},setData:function(a,b){a=this._.normalizeType(a);this._.data[a]=b;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||\"URL\"==a||\"Text\"==a){\"Text\"==m&&\n\"Text\"==a&&(this.id=b);try{this.$.setData(a,b)}catch(c){}}},getTransferType:function(a){return this.sourceEditor?this.sourceEditor==a?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function a(c){c=b._.normalizeType(c);var d=b.getData(c,!0);d&&(b._.data[c]=d)}if(this.$){var b=this,c,d;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(c=0;c<this.$.types.length;c++)a(this.$.types[c])}else a(\"Text\"),\na(\"URL\");d=this._getImageFromClipboard();if(this.$&&this.$.files||d){this._.files=[];if(this.$.files&&this.$.files.length)for(c=0;c<this.$.files.length;c++)this._.files.push(this.$.files[c]);0===this._.files.length&&d&&this._.files.push(d)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(a){return this._.files.length?this._.files[a]:this.$&&this.$.files&&this.$.files.length?\nthis.$.files[a]:0===a?this._getImageFromClipboard():void 0},isEmpty:function(){var a={},b;if(this.getFilesCount())return!1;for(b in this._.data)a[b]=1;if(this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var c=0;c<this.$.types.length;c++)a[this.$.types[c]]=1}else a.Text=1,a.URL=1;\"Text\"!=m&&(a[m]=0);for(b in a)if(a[b]&&\"\"!==this.getData(b))return!1;return!0},_getImageFromClipboard:function(){var a;if(this.$&&this.$.items&&this.$.items[0])try{if((a=this.$.items[0].getAsFile())&&\na.type)return a}catch(b){}}}}(),CKEDITOR.config.clipboard_notificationDuration=1E4,function(){CKEDITOR.plugins.add(\"panel\",{beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}});CKEDITOR.UI_PANEL=\"panel\";CKEDITOR.ui.panel=function(a,b){b&&CKEDITOR.tools.extend(this,b);CKEDITOR.tools.extend(this,{className:\"\",css:[]});this.id=CKEDITOR.tools.getNextId();this.document=a;this.isFramed=this.forceIFrame||this.css.length;this._={blocks:{}}};CKEDITOR.ui.panel.handler={create:function(a){return new CKEDITOR.ui.panel(a)}};\nvar a=CKEDITOR.addTemplate(\"panel\",'\\x3cdiv lang\\x3d\"{langCode}\" id\\x3d\"{id}\" dir\\x3d{dir} class\\x3d\"cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}\" style\\x3d\"z-index:{z-index}\" role\\x3d\"presentation\"\\x3e{frame}\\x3c/div\\x3e'),f=CKEDITOR.addTemplate(\"panel-frame\",'\\x3ciframe id\\x3d\"{id}\" class\\x3d\"cke_panel_frame\" role\\x3d\"presentation\" frameborder\\x3d\"0\" src\\x3d\"{src}\"\\x3e\\x3c/iframe\\x3e'),b=CKEDITOR.addTemplate(\"panel-frame-inner\",'\\x3c!DOCTYPE html\\x3e\\x3chtml class\\x3d\"cke_panel_container {env}\" dir\\x3d\"{dir}\" lang\\x3d\"{langCode}\"\\x3e\\x3chead\\x3e{css}\\x3c/head\\x3e\\x3cbody class\\x3d\"cke_{dir}\" style\\x3d\"margin:0;padding:0\" onload\\x3d\"{onload}\"\\x3e\\x3c/body\\x3e\\x3c/html\\x3e');\nCKEDITOR.ui.panel.prototype={render:function(c,e){this.getHolderElement=function(){var a=this._.holder;if(!a){if(this.isFramed){var a=this.document.getById(this.id+\"_frame\"),c=a.getParent(),a=a.getFrameDocument();CKEDITOR.env.iOS&&c.setStyles({overflow:\"scroll\",\"-webkit-overflow-scrolling\":\"touch\"});c=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0;if(this.onLoad)this.onLoad()},this));a.write(b.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:\"window.parent.CKEDITOR.tools.callFunction(\"+\nc+\");\"},l)));a.getWindow().$.CKEDITOR=CKEDITOR;a.on(\"keydown\",function(a){var b=a.data.getKeystroke(),c=this.document.getById(this.id).getAttribute(\"dir\");this._.onKeyDown&&!1===this._.onKeyDown(b)?a.data.preventDefault():(27==b||b==(\"rtl\"==c?39:37))&&this.onEscape&&!1===this.onEscape(b)&&a.data.preventDefault()},this);a=a.getBody();a.unselectable();CKEDITOR.env.air&&CKEDITOR.tools.callFunction(c)}else a=this.document.getById(this.id);this._.holder=a}return a};var l={editorId:c.id,id:this.id,langCode:c.langCode,\ndir:c.lang.dir,cls:this.className,frame:\"\",env:CKEDITOR.env.cssClass,\"z-index\":c.config.baseFloatZIndex+1};if(this.isFramed){var k=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie?\"javascript:void(function(){\"+encodeURIComponent(\"document.open();(\"+CKEDITOR.tools.fixDomain+\")();document.close();\")+\"}())\":\"\";l.frame=f.output({id:this.id+\"_frame\",src:k})}k=a.output(l);e&&e.push(k);return k},addBlock:function(a,b){b=this._.blocks[a]=b instanceof CKEDITOR.ui.panel.block?b:new CKEDITOR.ui.panel.block(this.getHolderElement(),\nb);this._.currentBlock||this.showBlock(a);return b},getBlock:function(a){return this._.blocks[a]},showBlock:function(a){a=this._.blocks[a];var b=this._.currentBlock,f=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+\"_frame\");b&&b.hide();this._.currentBlock=a;CKEDITOR.fire(\"ariaWidget\",f);a._.focusIndex=-1;this._.onKeyDown=a.onKeyDown&&CKEDITOR.tools.bind(a.onKeyDown,a);a.show();return a},destroy:function(){this.element&&this.element.remove()}};CKEDITOR.ui.panel.block=\nCKEDITOR.tools.createClass({$:function(a,b){this.element=a.append(a.getDocument().createElement(\"div\",{attributes:{tabindex:-1,\"class\":\"cke_panel_block\"},styles:{display:\"none\"}}));b&&CKEDITOR.tools.extend(this,b);this.element.setAttributes({role:this.attributes.role||\"presentation\",\"aria-label\":this.attributes[\"aria-label\"],title:this.attributes.title||this.attributes[\"aria-label\"]});this.keys={};this._.focusIndex=-1;this.element.disableContextMenu()},_:{markItem:function(a){-1!=a&&(a=this.element.getElementsByTag(\"a\").getItem(this._.focusIndex=\na),CKEDITOR.env.webkit&&a.getDocument().getWindow().focus(),a.focus(),this.onMark&&this.onMark(a))},markFirstDisplayed:function(a){for(var b=function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"none\"==a.getStyle(\"display\")},f=this._.getItems(),k,d,h=f.count()-1;0<=h;h--)if(k=f.getItem(h),k.getAscendant(b)||(d=k,this._.focusIndex=h),\"true\"==k.getAttribute(\"aria-selected\")){d=k;this._.focusIndex=h;break}d&&(a&&a(),CKEDITOR.env.webkit&&d.getDocument().getWindow().focus(),d.focus(),this.onMark&&this.onMark(d))},\ngetItems:function(){return this.element.getElementsByTag(\"a\")}},proto:{show:function(){this.element.setStyle(\"display\",\"\")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle(\"display\",\"none\")},onKeyDown:function(a,b){var f=this.keys[a];switch(f){case \"next\":for(var k=this._.focusIndex,f=this.element.getElementsByTag(\"a\"),d;d=f.getItem(++k);)if(d.getAttribute(\"_cke_focus\")&&d.$.offsetWidth){this._.focusIndex=k;d.focus();break}return d||b?!1:(this._.focusIndex=-1,this.onKeyDown(a,\n1));case \"prev\":k=this._.focusIndex;for(f=this.element.getElementsByTag(\"a\");0<k&&(d=f.getItem(--k));){if(d.getAttribute(\"_cke_focus\")&&d.$.offsetWidth){this._.focusIndex=k;d.focus();break}d=null}return d||b?!1:(this._.focusIndex=f.count(),this.onKeyDown(a,1));case \"click\":case \"mouseup\":return k=this._.focusIndex,(d=0<=k&&this.element.getElementsByTag(\"a\").getItem(k))&&(d.$[f]?d.$[f]():d.$[\"on\"+f]()),!1}return!0}}})}(),CKEDITOR.plugins.add(\"floatpanel\",{requires:\"panel\"}),function(){function a(a,\nc,e,l,k){k=CKEDITOR.tools.genKey(c.getUniqueId(),e.getUniqueId(),a.lang.dir,a.uiColor||\"\",l.css||\"\",k||\"\");var d=f[k];d||(d=f[k]=new CKEDITOR.ui.panel(c,l),d.element=e.append(CKEDITOR.dom.element.createFromHtml(d.render(a),c)),d.element.setStyles({display:\"none\",position:\"absolute\"}));return d}var f={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(b,c,e,f){function k(){g.hide()}e.forceIFrame=1;e.toolbarRelated&&b.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(c=CKEDITOR.document.getById(\"cke_\"+\nb.name));var d=c.getDocument();f=a(b,d,c,e,f||0);var h=f.element,m=h.getFirst(),g=this;h.disableContextMenu();this.element=h;this._={editor:b,panel:f,parentElement:c,definition:e,document:d,iframe:m,children:[],dir:b.lang.dir,showBlockParams:null};b.on(\"mode\",k);b.on(\"resize\",k);d.getWindow().on(\"resize\",function(){this.reposition()},this)},proto:{addBlock:function(a,c){return this._.panel.addBlock(a,c)},addListBlock:function(a,c){return this._.panel.addListBlock(a,c)},getBlock:function(a){return this._.panel.getBlock(a)},\nshowBlock:function(a,c,e,f,k,d){var h=this._.panel,m=h.showBlock(a);this._.showBlockParams=[].slice.call(arguments);this.allowBlur(!1);var g=this._.editor.editable();this._.returnFocus=g.hasFocus?g:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement);this._.hideTimeout=0;var n=this.element,g=this._.iframe,g=CKEDITOR.env.ie&&!CKEDITOR.env.edge?g:new CKEDITOR.dom.window(g.$.contentWindow),p=n.getDocument(),r=this._.parentElement.getPositionedAncestor(),x=c.getDocumentPosition(p),p=r?r.getDocumentPosition(p):\n{x:0,y:0},v=\"rtl\"==this._.dir,u=x.x+(f||0)-p.x,t=x.y+(k||0)-p.y;!v||1!=e&&4!=e?v||2!=e&&3!=e||(u+=c.$.offsetWidth-1):u+=c.$.offsetWidth;if(3==e||4==e)t+=c.$.offsetHeight-1;this._.panel._.offsetParentId=c.getId();n.setStyles({top:t+\"px\",left:0,display:\"\"});n.setOpacity(0);n.getFirst().removeStyle(\"width\");this._.editor.focusManager.add(g);this._.blurSet||(CKEDITOR.event.useCapture=!0,g.on(\"blur\",function(a){function b(){delete this._.returnFocus;this.hide()}this.allowBlur()&&a.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&\nthis.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(b,0,this)):b.call(this))},this),g.on(\"focus\",function(){this._.focused=!0;this.hideChild();this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(g.on(\"touchstart\",function(){clearTimeout(this._.hideTimeout)},this),g.on(\"touchend\",function(){this._.hideTimeout=0;this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1);h.onEscape=CKEDITOR.tools.bind(function(a){if(this.onEscape&&\n!1===this.onEscape(a))return!1},this);CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.tools.bind(function(){var a=n;a.removeStyle(\"width\");if(m.autoSize){var b=m.element.getDocument(),b=(CKEDITOR.env.webkit||CKEDITOR.env.edge?m.element:b.getBody()).$.scrollWidth;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetWidth||0)-(a.$.clientWidth||0)+3);a.setStyle(\"width\",b+10+\"px\");b=m.element.$.scrollHeight;CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<b&&(b+=(a.$.offsetHeight||0)-(a.$.clientHeight||\n0)+3);a.setStyle(\"height\",b+\"px\");h._.currentBlock.element.setStyle(\"display\",\"none\").removeStyle(\"display\")}else a.removeStyle(\"height\");v&&(u-=n.$.offsetWidth);n.setStyle(\"left\",u+\"px\");var b=h.element.getWindow(),a=n.$.getBoundingClientRect(),b=b.getViewPaneSize(),c=a.width||a.right-a.left,e=a.height||a.bottom-a.top,f=v?a.right:b.width-a.left,g=v?b.width-a.right:a.left;v?f<c&&(u=g>c?u+c:b.width>c?u-a.left:u-a.right+b.width):f<c&&(u=g>c?u-c:b.width>c?u-a.right+b.width:u-a.left);c=a.top;b.height-\na.top<e&&(t=c>e?t-e:b.height>e?t-a.bottom+b.height:t-a.top);CKEDITOR.env.ie&&(b=a=new CKEDITOR.dom.element(n.$.offsetParent),\"html\"==b.getName()&&(b=b.getDocument().getBody()),\"rtl\"==b.getComputedStyle(\"direction\")&&(u=CKEDITOR.env.ie8Compat?u-2*n.getDocument().getDocumentElement().$.scrollLeft:u-(a.$.scrollWidth-a.$.clientWidth)));var a=n.getFirst(),k;(k=a.getCustomData(\"activePanel\"))&&k.onHide&&k.onHide.call(this,1);a.setCustomData(\"activePanel\",this);n.setStyles({top:t+\"px\",left:u+\"px\"});n.setOpacity(1);\nd&&d()},this);h.isLoaded?a():h.onLoad=a;CKEDITOR.tools.setTimeout(function(){var a=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus();m.element.focus();CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=a);this.allowBlur(!0);CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){m.markFirstDisplayed?m.markFirstDisplayed():m._.markFirstDisplayed()},0):m.markFirstDisplayed?m.markFirstDisplayed():m._.markFirstDisplayed();this._.editor.fire(\"panelShow\",this)},\n0,this)},CKEDITOR.env.air?200:0,this);this.visible=1;this.onShow&&this.onShow.call(this)},reposition:function(){var a=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,a))},focus:function(){if(CKEDITOR.env.webkit){var a=CKEDITOR.document.getActive();a&&!a.equals(this._.iframe)&&a.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var a=this._.iframe.getFrameDocument().getActive();a&&a.is(\"a\")&&(this._.lastFocused=\na)},hide:function(a){if(this.visible&&(!this.onHide||!0!==this.onHide.call(this))){this.hideChild();CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur();this.element.setStyle(\"display\",\"none\");this.visible=0;this.element.getFirst().removeCustomData(\"activePanel\");if(a=a&&this._.returnFocus)CKEDITOR.env.webkit&&a.type&&a.getWindow().$.focus(),a.focus();delete this._.lastFocused;this._.showBlockParams=null;this._.editor.fire(\"panelHide\",this)}},allowBlur:function(a){var c=this._.panel;\nvoid 0!==a&&(c.allowBlur=a);return c.allowBlur},showAsChild:function(a,c,e,f,k,d){if(this._.activeChild!=a||a._.panel._.offsetParentId!=e.getId())this.hideChild(),a.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=a,this._.focused=!1,a.showBlock(c,e,f,k,d),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){a.element.getChild(0).$.style.cssText+=\"\"},100)},hideChild:function(a){var c=\nthis._.activeChild;c&&(delete c.onHide,delete this._.activeChild,c.hide(),a&&this.focus())}}});CKEDITOR.on(\"instanceDestroyed\",function(){var a=CKEDITOR.tools.isEmpty(CKEDITOR.instances),c;for(c in f){var e=f[c];a?e.destroy():e.element.hide()}a&&(f={})})}(),CKEDITOR.plugins.add(\"menu\",{requires:\"floatpanel\",beforeInit:function(a){for(var f=a.config.menu_groups.split(\",\"),b=a._.menuGroups={},c=a._.menuItems={},e=0;e<f.length;e++)b[f[e]]=e+1;a.addMenuGroup=function(a,c){b[a]=c||100};a.addMenuItem=function(a,\ne){b[e.group]&&(c[a]=new CKEDITOR.menuItem(this,a,e))};a.addMenuItems=function(a){for(var b in a)this.addMenuItem(b,a[b])};a.getMenuItem=function(a){return c[a]};a.removeMenuItem=function(a){delete c[a]}}}),function(){function a(a){a.sort(function(a,b){return a.group<b.group?-1:a.group>b.group?1:a.order<b.order?-1:a.order>b.order?1:0})}var f='\\x3cspan class\\x3d\"cke_menuitem\"\\x3e\\x3ca id\\x3d\"{id}\" class\\x3d\"cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}\" href\\x3d\"{href}\" title\\x3d\"{title}\" tabindex\\x3d\"-1\" _cke_focus\\x3d1 hidefocus\\x3d\"true\" role\\x3d\"{role}\" aria-label\\x3d\"{label}\" aria-describedby\\x3d\"{id}_description\" aria-haspopup\\x3d\"{hasPopup}\" aria-disabled\\x3d\"{disabled}\" {ariaChecked} draggable\\x3d\"false\"';\nCKEDITOR.env.gecko&&CKEDITOR.env.mac&&(f+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(f+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\" ondragstart\\x3d\"return false;\"');var f=f+(' onmouseover\\x3d\"CKEDITOR.tools.callFunction({hoverFn},{index});\" onmouseout\\x3d\"CKEDITOR.tools.callFunction({moveOutFn},{index});\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\"\\x3e'),b=CKEDITOR.addTemplate(\"menuItem\",\nf+'\\x3cspan class\\x3d\"cke_menubutton_inner\"\\x3e\\x3cspan class\\x3d\"cke_menubutton_icon\"\\x3e\\x3cspan class\\x3d\"cke_button_icon cke_button__{iconName}_icon\" style\\x3d\"{iconStyle}\"\\x3e\\x3c/span\\x3e\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_menubutton_label\"\\x3e{label}\\x3c/span\\x3e{shortcutHtml}{arrowHtml}\\x3c/span\\x3e\\x3c/a\\x3e\\x3cspan id\\x3d\"{id}_description\" class\\x3d\"cke_voice_label\" aria-hidden\\x3d\"false\"\\x3e{ariaShortcut}\\x3c/span\\x3e\\x3c/span\\x3e'),c=CKEDITOR.addTemplate(\"menuArrow\",'\\x3cspan class\\x3d\"cke_menuarrow\"\\x3e\\x3cspan\\x3e{label}\\x3c/span\\x3e\\x3c/span\\x3e'),\ne=CKEDITOR.addTemplate(\"menuShortcut\",'\\x3cspan class\\x3d\"cke_menubutton_label cke_menubutton_shortcut\"\\x3e{shortcut}\\x3c/span\\x3e');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(a,b){b=this._.definition=b||{};this.id=CKEDITOR.tools.getNextId();this.editor=a;this.items=[];this._.listeners=[];this._.level=b.level||1;var c=CKEDITOR.tools.extend({},b.panel,{css:[CKEDITOR.skin.getPath(\"editor\")],level:this._.level-1,block:{}}),e=c.block.attributes=c.attributes||{};!e.role&&(e.role=\"menu\");this._.panelDefinition=\nc},_:{onShow:function(){var a=this.editor.getSelection(),b=a&&a.getStartElement(),c=this.editor.elementPath(),e=this._.listeners;this.removeAll();for(var f=0;f<e.length;f++){var g=e[f](b,a,c);if(g)for(var n in g){var p=this.editor.getMenuItem(n);!p||p.command&&!this.editor.getCommand(p.command).state||(p.state=g[n],this.add(p))}}},onClick:function(a){this.hide();if(a.onClick)a.onClick();else a.command&&this.editor.execCommand(a.command)},onEscape:function(a){var b=this.parent;b?b._.panel.hideChild(1):\n27==a&&this.hide(1);return!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(a){var b=this._.subMenu,c=this.items[a];if(c=c.getItems&&c.getItems()){b?b.removeAll():(b=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0)),b.parent=this,b._.onClick=CKEDITOR.tools.bind(this._.onClick,this));for(var e in c){var f=this.editor.getMenuItem(e);f&&(f.state=c[e],b.add(f))}var g=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+\nString(a));setTimeout(function(){b.show(g,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(a){a.order||(a.order=this.items.length);this.items.push(a)},removeAll:function(){this.items=[]},show:function(b,c,d,e){if(!this.parent&&(this._.onShow(),!this.items.length))return;c=c||(\"rtl\"==this.editor.lang.dir?2:1);var f=this.items,g=this.editor,n=this._.panel,p=this._.element;if(!n){n=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level);\nn.onEscape=CKEDITOR.tools.bind(function(a){if(!1===this._.onEscape(a))return!1},this);n.onShow=function(){n._.panel.getHolderElement().getParent().addClass(\"cke\").addClass(\"cke_reset_all\")};n.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this);p=n.addBlock(this.id,this._.panelDefinition.block);p.autoSize=!0;var r=p.keys;r[40]=\"next\";r[9]=\"next\";r[38]=\"prev\";r[CKEDITOR.SHIFT+9]=\"prev\";r[\"rtl\"==g.lang.dir?37:39]=CKEDITOR.env.ie?\"mouseup\":\"click\";r[32]=CKEDITOR.env.ie?\"mouseup\":\n\"click\";CKEDITOR.env.ie&&(r[13]=\"mouseup\");p=this._.element=p.element;r=p.getDocument();r.getBody().setStyle(\"overflow\",\"hidden\");r.getElementsByTag(\"html\").getItem(0).setStyle(\"overflow\",\"hidden\");this._.itemOverFn=CKEDITOR.tools.addFunction(function(a){clearTimeout(this._.showSubTimeout);this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,g.config.menu_subMenuDelay||400,this,[a])},this);this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this);\nthis._.itemClickFn=CKEDITOR.tools.addFunction(function(a){var b=this.items[a];if(b.state==CKEDITOR.TRISTATE_DISABLED)this.hide(1);else if(b.getItems)this._.showSubMenu(a);else this._.onClick(b)},this)}a(f);for(var r=g.elementPath(),r=['\\x3cdiv class\\x3d\"cke_menu'+(r&&r.direction()!=g.lang.dir?\" cke_mixed_dir_content\":\"\")+'\" role\\x3d\"presentation\"\\x3e'],x=f.length,v=x&&f[0].group,u=0;u<x;u++){var t=f[u];v!=t.group&&(r.push('\\x3cdiv class\\x3d\"cke_menuseparator\" role\\x3d\"separator\"\\x3e\\x3c/div\\x3e'),\nv=t.group);t.render(this,u,r)}r.push(\"\\x3c/div\\x3e\");p.setHtml(r.join(\"\"));CKEDITOR.ui.fire(\"ready\",this);this.parent?this.parent._.panel.showAsChild(n,this.id,b,c,d,e):n.showBlock(this.id,b,c,d,e);g.fire(\"menuShow\",[n])},addListener:function(a){this._.listeners.push(a)},hide:function(a){this._.onHide&&this._.onHide();this._.panel&&this._.panel.hide(a)}}});CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(a,b,c){CKEDITOR.tools.extend(this,c,{order:0,className:\"cke_menubutton__\"+b});this.group=\na._.menuGroups[this.group];this.editor=a;this.name=b},proto:{render:function(a,f,d){var h=a.id+String(f),m=\"undefined\"==typeof this.state?CKEDITOR.TRISTATE_OFF:this.state,g=\"\",n=this.editor,p,r,x=m==CKEDITOR.TRISTATE_ON?\"on\":m==CKEDITOR.TRISTATE_DISABLED?\"disabled\":\"off\";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(g=' aria-checked\\x3d\"'+(m==CKEDITOR.TRISTATE_ON?\"true\":\"false\")+'\"');var v=this.getItems,u=\"\\x26#\"+(\"rtl\"==this.editor.lang.dir?\"9668\":\"9658\")+\";\",t=this.name;this.icon&&!/\\./.test(this.icon)&&\n(t=this.icon);this.command&&(p=n.getCommand(this.command),(p=n.getCommandKeystroke(p))&&(r=CKEDITOR.tools.keystrokeToString(n.lang.common.keyboard,p)));a={id:h,name:this.name,iconName:t,label:this.label,cls:this.className||\"\",state:x,hasPopup:v?\"true\":\"false\",disabled:m==CKEDITOR.TRISTATE_DISABLED,title:this.label+(r?\" (\"+r.display+\")\":\"\"),ariaShortcut:r?n.lang.common.keyboardShortcut+\" \"+r.aria:\"\",href:\"javascript:void('\"+(this.label||\"\").replace(\"'\")+\"')\",hoverFn:a._.itemOverFn,moveOutFn:a._.itemOutFn,\nclickFn:a._.itemClickFn,index:f,iconStyle:CKEDITOR.skin.getIconStyle(t,\"rtl\"==this.editor.lang.dir,t==this.icon?null:this.icon,this.iconOffset),shortcutHtml:r?e.output({shortcut:r.display}):\"\",arrowHtml:v?c.output({label:u}):\"\",role:this.role?this.role:\"menuitem\",ariaChecked:g};b.output(a,d)}}})}(),CKEDITOR.config.menu_groups=\"clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div\",\nCKEDITOR.plugins.add(\"contextmenu\",{requires:\"menu\",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(a){this.base.call(this,a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.contextmenu.options}}})},proto:{addTarget:function(a,f){a.on(\"contextmenu\",function(a){a=a.data;var c=CKEDITOR.env.webkit?b:CKEDITOR.env.mac?a.$.metaKey:a.$.ctrlKey;if(!f||!c){a.preventDefault();if(CKEDITOR.env.mac&&CKEDITOR.env.webkit){var c=this.editor,\nk=(new CKEDITOR.dom.elementPath(a.getTarget(),c.editable())).contains(function(a){return a.hasAttribute(\"contenteditable\")},!0);k&&\"false\"==k.getAttribute(\"contenteditable\")&&c.getSelection().fake(k)}var k=a.getTarget().getDocument(),d=a.getTarget().getDocument().getDocumentElement(),c=!k.equals(CKEDITOR.document),k=k.getWindow().getScrollPosition(),h=c?a.$.clientX:a.$.pageX||k.x+a.$.clientX,m=c?a.$.clientY:a.$.pageY||k.y+a.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(d,null,h,m)},CKEDITOR.env.ie?\n200:0,this)}},this);if(CKEDITOR.env.webkit){var b,c=function(){b=0};a.on(\"keydown\",function(a){b=CKEDITOR.env.mac?a.data.$.metaKey:a.data.$.ctrlKey});a.on(\"keyup\",c);a.on(\"contextmenu\",c)}},open:function(a,f,b,c){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),a=a||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(a,f,b,c))}}})},beforeInit:function(a){var f=a.contextMenu=new CKEDITOR.plugins.contextMenu(a);a.on(\"contentDom\",function(){f.addTarget(a.editable(),\n!1!==a.config.browserContextMenuOnCtrl)});a.addCommand(\"contextMenu\",{exec:function(){a.contextMenu.open(a.document.getBody())}});a.setKeystroke(CKEDITOR.SHIFT+121,\"contextMenu\");a.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,\"contextMenu\")}}),function(){function a(a,b){function k(b){b=g.list[b];var c;b.equals(a.editable())||\"true\"==b.getAttribute(\"contenteditable\")?(c=a.createRange(),c.selectNodeContents(b),c=c.select()):(c=a.getSelection(),c.selectElement(b));CKEDITOR.env.ie&&a.fire(\"selectionChange\",\n{selection:c,path:new CKEDITOR.dom.elementPath(b)});a.focus()}function d(){m&&m.setHtml('\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');delete g.list}var h=a.ui.spaceId(\"path\"),m,g=a._.elementsPath,n=g.idBase;b.html+='\\x3cspan id\\x3d\"'+h+'_label\" class\\x3d\"cke_voice_label\"\\x3e'+a.lang.elementspath.eleLabel+'\\x3c/span\\x3e\\x3cspan id\\x3d\"'+h+'\" class\\x3d\"cke_path\" role\\x3d\"group\" aria-labelledby\\x3d\"'+h+'_label\"\\x3e\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e\\x3c/span\\x3e';\na.on(\"uiReady\",function(){var b=a.ui.space(\"path\");b&&a.focusManager.add(b,1)});g.onClick=k;var p=CKEDITOR.tools.addFunction(k),r=CKEDITOR.tools.addFunction(function(b,c){var d=g.idBase,f;c=new CKEDITOR.dom.event(c);f=\"rtl\"==a.lang.dir;switch(c.getKeystroke()){case f?39:37:case 9:return(f=CKEDITOR.document.getById(d+(b+1)))||(f=CKEDITOR.document.getById(d+\"0\")),f.focus(),!1;case f?37:39:case CKEDITOR.SHIFT+9:return(f=CKEDITOR.document.getById(d+(b-1)))||(f=CKEDITOR.document.getById(d+(g.list.length-\n1))),f.focus(),!1;case 27:return a.focus(),!1;case 13:case 32:return k(b),!1}return!0});a.on(\"selectionChange\",function(){for(var b=[],d=g.list=[],f=[],k=g.filters,l=!0,A=a.elementPath().elements,q,w=A.length;w--;){var B=A[w],z=0;q=B.data(\"cke-display-name\")?B.data(\"cke-display-name\"):B.data(\"cke-real-element-type\")?B.data(\"cke-real-element-type\"):B.getName();(l=B.hasAttribute(\"contenteditable\")?\"true\"==B.getAttribute(\"contenteditable\"):l)||B.hasAttribute(\"contenteditable\")||(z=1);for(var C=0;C<k.length;C++){var E=\nk[C](B,q);if(!1===E){z=1;break}q=E||q}z||(d.unshift(B),f.unshift(q))}d=d.length;for(k=0;k<d;k++)q=f[k],l=a.lang.elementspath.eleTitle.replace(/%1/,q),q=c.output({id:n+k,label:l,text:q,jsTitle:\"javascript:void('\"+q+\"')\",index:k,keyDownFn:r,clickFn:p}),b.unshift(q);m||(m=CKEDITOR.document.getById(h));f=m;f.setHtml(b.join(\"\")+'\\x3cspan class\\x3d\"cke_path_empty\"\\x3e\\x26nbsp;\\x3c/span\\x3e');a.fire(\"elementsPathUpdate\",{space:f})});a.on(\"readOnly\",d);a.on(\"contentDomUnload\",d);a.addCommand(\"elementsPathFocus\",\nf.toolbarFocus);a.setKeystroke(CKEDITOR.ALT+122,\"elementsPathFocus\")}var f={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(a){(a=CKEDITOR.document.getById(a._.elementsPath.idBase+\"0\"))&&a.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},b=\"\";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(b+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(b+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var c=CKEDITOR.addTemplate(\"pathItem\",'\\x3ca id\\x3d\"{id}\" href\\x3d\"{jsTitle}\" tabindex\\x3d\"-1\" class\\x3d\"cke_path_item\" title\\x3d\"{label}\"'+\nb+' hidefocus\\x3d\"true\"  onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );\" onclick\\x3d\"CKEDITOR.tools.callFunction({clickFn},{index}); return false;\" role\\x3d\"button\" aria-label\\x3d\"{label}\"\\x3e{text}\\x3c/a\\x3e');CKEDITOR.plugins.add(\"elementspath\",{init:function(b){b._.elementsPath={idBase:\"cke_elementspath_\"+CKEDITOR.tools.getNextNumber()+\"_\",filters:[]};b.on(\"uiSpace\",function(c){\"bottom\"==c.data.space&&a(b,c.data)})}})}(),function(){function a(a,e){var l,k;e.on(\"refresh\",\nfunction(a){var c=[f],e;for(e in a.data.states)c.push(a.data.states[e]);this.setState(CKEDITOR.tools.search(c,b)?b:f)},e,null,100);e.on(\"exec\",function(b){l=a.getSelection();k=l.createBookmarks(1);b.data||(b.data={});b.data.done=!1},e,null,0);e.on(\"exec\",function(){a.forceNextSelectionCheck();l.selectBookmarks(k)},e,null,100)}var f=CKEDITOR.TRISTATE_DISABLED,b=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indent\",{init:function(b){var e=CKEDITOR.plugins.indent.genericDefinition;a(b,b.addCommand(\"indent\",\nnew e(!0)));a(b,b.addCommand(\"outdent\",new e));b.ui.addButton&&(b.ui.addButton(\"Indent\",{label:b.lang.indent.indent,command:\"indent\",directional:!0,toolbar:\"indent,20\"}),b.ui.addButton(\"Outdent\",{label:b.lang.indent.outdent,command:\"outdent\",directional:!0,toolbar:\"indent,10\"}));b.on(\"dirChanged\",function(a){var e=b.createRange(),d=a.data.node;e.setStartBefore(d);e.setEndAfter(d);for(var f=new CKEDITOR.dom.walker(e),m;m=f.next();)if(m.type==CKEDITOR.NODE_ELEMENT)if(!m.equals(d)&&m.getDirection())e.setStartAfter(m),\nf=new CKEDITOR.dom.walker(e);else{var g=b.config.indentClasses;if(g)for(var n=\"ltr\"==a.data.dir?[\"_rtl\",\"\"]:[\"\",\"_rtl\"],p=0;p<g.length;p++)m.hasClass(g[p]+n[0])&&(m.removeClass(g[p]+n[0]),m.addClass(g[p]+n[1]));g=m.getStyle(\"margin-right\");n=m.getStyle(\"margin-left\");g?m.setStyle(\"margin-left\",g):m.removeStyle(\"margin-left\");n?m.setStyle(\"margin-right\",n):m.removeStyle(\"margin-right\")}})}});CKEDITOR.plugins.indent={genericDefinition:function(a){this.isIndent=!!a;this.startDisabled=!this.isIndent},\nspecificDefinition:function(a,b,f){this.name=b;this.editor=a;this.jobs={};this.enterBr=a.config.enterMode==CKEDITOR.ENTER_BR;this.isIndent=!!f;this.relatedGlobal=f?\"indent\":\"outdent\";this.indentKey=f?9:CKEDITOR.SHIFT+9;this.database={}},registerCommands:function(a,b){a.on(\"pluginsLoaded\",function(){for(var a in b)(function(a,b){var c=a.getCommand(b.relatedGlobal),e;for(e in b.jobs)c.on(\"exec\",function(c){c.data.done||(a.fire(\"lockSnapshot\"),b.execJob(a,e)&&(c.data.done=!0),a.fire(\"unlockSnapshot\"),\nCKEDITOR.dom.element.clearAllMarkers(b.database))},this,null,e),c.on(\"refresh\",function(c){c.data.states||(c.data.states={});c.data.states[b.name+\"@\"+e]=b.refreshJob(a,e,c.data.path)},this,null,e);a.addFeature(b)})(this,b[a])})}};CKEDITOR.plugins.indent.genericDefinition.prototype={context:\"p\",exec:function(){}};CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(a,b){var l=this.jobs[b];if(l.state!=f)return l.exec.call(this,a)},refreshJob:function(a,b,l){b=this.jobs[b];a.activeFilter.checkFeature(this)?\nb.state=b.refresh.call(this,a,l):b.state=f;return b.state},getContext:function(a){return a.contains(this.context)}}}(),function(){function a(a){function c(f){for(var h=r.startContainer,l=r.endContainer;h&&!h.getParent().equals(f);)h=h.getParent();for(;l&&!l.getParent().equals(f);)l=l.getParent();if(!h||!l)return!1;for(var A=h,h=[],q=!1;!q;)A.equals(l)&&(q=!0),h.push(A),A=A.getNext();if(1>h.length)return!1;A=f.getParents(!0);for(l=0;l<A.length;l++)if(A[l].getName&&k[A[l].getName()]){f=A[l];break}for(var A=\ne.isIndent?1:-1,l=h[0],h=h[h.length-1],q=CKEDITOR.plugins.list.listToArray(f,g),w=q[h.getCustomData(\"listarray_index\")].indent,l=l.getCustomData(\"listarray_index\");l<=h.getCustomData(\"listarray_index\");l++)if(q[l].indent+=A,0<A){var v=q[l].parent;q[l].parent=new CKEDITOR.dom.element(v.getName(),v.getDocument())}for(l=h.getCustomData(\"listarray_index\")+1;l<q.length&&q[l].indent>w;l++)q[l].indent+=A;h=CKEDITOR.plugins.list.arrayToList(q,g,null,a.config.enterMode,f.getDirection());if(!e.isIndent){var z;\nif((z=f.getParent())&&z.is(\"li\"))for(var A=h.listNode.getChildren(),p=[],x,l=A.count()-1;0<=l;l--)(x=A.getItem(l))&&x.is&&x.is(\"li\")&&p.push(x)}h&&h.listNode.replace(f);if(p&&p.length)for(l=0;l<p.length;l++){for(x=f=p[l];(x=x.getNext())&&x.is&&x.getName()in k;)CKEDITOR.env.needsNbspFiller&&!f.getFirst(b)&&f.append(r.document.createText(\"Â \")),f.append(x);f.insertAfter(z)}h&&a.fire(\"contentDomInvalidated\");return!0}for(var e=this,g=this.database,k=this.context,l=a.getSelection(),l=(l&&l.getRanges()).createIterator(),\nr;r=l.getNextRange();){for(var x=r.getCommonAncestor();x&&(x.type!=CKEDITOR.NODE_ELEMENT||!k[x.getName()]);){if(a.editable().equals(x)){x=!1;break}x=x.getParent()}x||(x=r.startPath().contains(k))&&r.setEndAt(x,CKEDITOR.POSITION_BEFORE_END);if(!x){var v=r.getEnclosedNode();v&&v.type==CKEDITOR.NODE_ELEMENT&&v.getName()in k&&(r.setStartAt(v,CKEDITOR.POSITION_AFTER_START),r.setEndAt(v,CKEDITOR.POSITION_BEFORE_END),x=v)}x&&r.startContainer.type==CKEDITOR.NODE_ELEMENT&&r.startContainer.getName()in k&&(v=\nnew CKEDITOR.dom.walker(r),v.evaluator=f,r.startContainer=v.next());x&&r.endContainer.type==CKEDITOR.NODE_ELEMENT&&r.endContainer.getName()in k&&(v=new CKEDITOR.dom.walker(r),v.evaluator=f,r.endContainer=v.previous());if(x)return c(x)}return 0}function f(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"li\")}function b(a){return c(a)&&e(a)}var c=CKEDITOR.dom.walker.whitespaces(!0),e=CKEDITOR.dom.walker.bookmark(!1,!0),l=CKEDITOR.TRISTATE_DISABLED,k=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add(\"indentlist\",\n{requires:\"indent\",init:function(b){function c(b){e.specificDefinition.apply(this,arguments);this.requiredContent=[\"ul\",\"ol\"];b.on(\"key\",function(a){if(\"wysiwyg\"==b.mode&&a.data.keyCode==this.indentKey){var c=this.getContext(b.elementPath());!c||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,b.elementPath(),c)||(b.execCommand(this.relatedGlobal),a.cancel())}},this);this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(a,b){var c=this.getContext(b),d=CKEDITOR.plugins.indentList.firstItemInPath(this.context,\nb,c);return c&&this.isIndent&&!d?k:l}:function(a,b){return!this.getContext(b)||this.isIndent?l:k},exec:CKEDITOR.tools.bind(a,this)}}var e=CKEDITOR.plugins.indent;e.registerCommands(b,{indentlist:new c(b,\"indentlist\",!0),outdentlist:new c(b,\"outdentlist\")});CKEDITOR.tools.extend(c.prototype,e.specificDefinition.prototype,{context:{ol:1,ul:1}})}});CKEDITOR.plugins.indentList={};CKEDITOR.plugins.indentList.firstItemInPath=function(a,b,c){var e=b.contains(f);c||(c=b.contains(a));return c&&e&&e.equals(c.getFirst(f))}}(),\nfunction(){function a(a,b,c){function d(c){if(!(!(l=k[c?\"getFirst\":\"getLast\"]())||l.is&&l.isBlockBoundary()||!(m=b.root[c?\"getPrevious\":\"getNext\"](CKEDITOR.dom.walker.invisible(!0)))||m.is&&m.isBlockBoundary({br:1})))a.document.createElement(\"br\")[c?\"insertBefore\":\"insertAfter\"](l)}for(var e=CKEDITOR.plugins.list.listToArray(b.root,c),f=[],g=0;g<b.contents.length;g++){var h=b.contents[g];(h=h.getAscendant(\"li\",!0))&&!h.getCustomData(\"list_item_processed\")&&(f.push(h),CKEDITOR.dom.element.setMarker(c,\nh,\"list_item_processed\",!0))}h=null;for(g=0;g<f.length;g++)h=f[g].getCustomData(\"listarray_index\"),e[h].indent=-1;for(g=h+1;g<e.length;g++)if(e[g].indent>e[g-1].indent+1){f=e[g-1].indent+1-e[g].indent;for(h=e[g].indent;e[g]&&e[g].indent>=h;)e[g].indent+=f,g++;g--}var k=CKEDITOR.plugins.list.arrayToList(e,c,null,a.config.enterMode,b.root.getAttribute(\"dir\")).listNode,l,m;d(!0);d();k.replace(b.root);a.fire(\"contentDomInvalidated\")}function f(a,b){this.name=a;this.context=this.type=b;this.allowedContent=\nb+\" li\";this.requiredContent=b}function b(a,b,c,d){for(var e,f;e=a[d?\"getLast\":\"getFirst\"](r);)(f=e.getDirection(1))!==b.getDirection(1)&&e.setAttribute(\"dir\",f),e.remove(),c?e[d?\"insertBefore\":\"insertAfter\"](c):b.append(e,d)}function c(a){function c(d){var e=a[d?\"getPrevious\":\"getNext\"](g);e&&e.type==CKEDITOR.NODE_ELEMENT&&e.is(a.getName())&&(b(a,e,null,!d),a.remove(),a=e)}c();c(1)}function e(a){return a.type==CKEDITOR.NODE_ELEMENT&&(a.getName()in CKEDITOR.dtd.$block||a.getName()in CKEDITOR.dtd.$listItem)&&\nCKEDITOR.dtd[a.getName()][\"#\"]}function l(a,d,e){a.fire(\"saveSnapshot\");e.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var f=e.extractContents();d.trim(!1,!0);var h=d.createBookmark(),l=new CKEDITOR.dom.elementPath(d.startContainer),m=l.block,l=l.lastElement.getAscendant(\"li\",1)||m,w=new CKEDITOR.dom.elementPath(e.startContainer),B=w.contains(CKEDITOR.dtd.$listItem),w=w.contains(CKEDITOR.dtd.$list);m?(m=m.getBogus())&&m.remove():w&&(m=w.getPrevious(g))&&n(m)&&m.remove();(m=f.getLast())&&m.type==CKEDITOR.NODE_ELEMENT&&\nm.is(\"br\")&&m.remove();(m=d.startContainer.getChild(d.startOffset))?f.insertBefore(m):d.startContainer.append(f);B&&(f=k(B))&&(l.contains(B)?(b(f,B.getParent(),B),f.remove()):l.append(f));for(;e.checkStartOfBlock()&&e.checkEndOfBlock();){w=e.startPath();f=w.block;if(!f)break;f.is(\"li\")&&(l=f.getParent(),f.equals(l.getLast(g))&&f.equals(l.getFirst(g))&&(f=l));e.moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);f.remove()}e=e.clone();f=a.editable();e.setEndAt(f,CKEDITOR.POSITION_BEFORE_END);e=new CKEDITOR.dom.walker(e);\ne.evaluator=function(a){return g(a)&&!n(a)};(e=e.next())&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$list&&c(e);d.moveToBookmark(h);d.select();a.fire(\"saveSnapshot\")}function k(a){return(a=a.getLast(g))&&a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in d?a:null}var d={ol:1,ul:1},h=CKEDITOR.dom.walker.whitespaces(),m=CKEDITOR.dom.walker.bookmark(),g=function(a){return!(h(a)||m(a))},n=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(a,b,c,e,f){if(!d[a.getName()])return[];\ne||(e=0);c||(c=[]);for(var g=0,h=a.getChildCount();g<h;g++){var k=a.getChild(g);k.type==CKEDITOR.NODE_ELEMENT&&k.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(k,b,c,e+1);if(\"li\"==k.$.nodeName.toLowerCase()){var l={parent:a,indent:e,element:k,contents:[]};f?l.grandparent=f:(l.grandparent=a.getParent(),l.grandparent&&\"li\"==l.grandparent.$.nodeName.toLowerCase()&&(l.grandparent=l.grandparent.getParent()));b&&CKEDITOR.dom.element.setMarker(b,k,\"listarray_index\",c.length);c.push(l);\nfor(var m=0,n=k.getChildCount(),p;m<n;m++)p=k.getChild(m),p.type==CKEDITOR.NODE_ELEMENT&&d[p.getName()]?CKEDITOR.plugins.list.listToArray(p,b,c,e+1,l.grandparent):l.contents.push(p)}}return c},arrayToList:function(a,b,c,e,f){c||(c=0);if(!a||a.length<c+1)return null;for(var h,k=a[c].parent.getDocument(),l=new CKEDITOR.dom.documentFragment(k),n=null,p=c,C=Math.max(a[c].indent,0),r=null,G,F,J=e==CKEDITOR.ENTER_P?\"p\":\"div\";;){var H=a[p];h=H.grandparent;G=H.element.getDirection(1);if(H.indent==C){n&&a[p].parent.getName()==\nn.getName()||(n=a[p].parent.clone(!1,1),f&&n.setAttribute(\"dir\",f),l.append(n));r=n.append(H.element.clone(0,1));G!=n.getDirection(1)&&r.setAttribute(\"dir\",G);for(h=0;h<H.contents.length;h++)r.append(H.contents[h].clone(1,1));p++}else if(H.indent==Math.max(C,0)+1)H=a[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(a,null,p,e,H!=G?G:null),!r.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=k.$.documentMode&&r.append(k.createText(\"Â \")),r.append(p.listNode),p=p.nextIndex;else if(-1==\nH.indent&&!c&&h){d[h.getName()]?(r=H.element.clone(!1,!0),G!=h.getDirection(1)&&r.setAttribute(\"dir\",G)):r=new CKEDITOR.dom.documentFragment(k);var n=h.getDirection(1)!=G,M=H.element,L=M.getAttribute(\"class\"),D=M.getAttribute(\"style\"),T=r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(e!=CKEDITOR.ENTER_BR||n||D||L),I,O=H.contents.length,K;for(h=0;h<O;h++)if(I=H.contents[h],m(I)&&1<O)T?K=I.clone(1,1):r.append(I.clone(1,1));else if(I.type==CKEDITOR.NODE_ELEMENT&&I.isBlockBoundary()){n&&!I.getDirection()&&\nI.setAttribute(\"dir\",G);F=I;var U=M.getAttribute(\"style\");U&&F.setAttribute(\"style\",U.replace(/([^;])$/,\"$1;\")+(F.getAttribute(\"style\")||\"\"));L&&I.addClass(L);F=null;K&&(r.append(K),K=null);r.append(I.clone(1,1))}else T?(F||(F=k.createElement(J),r.append(F),n&&F.setAttribute(\"dir\",G)),D&&F.setAttribute(\"style\",D),L&&F.setAttribute(\"class\",L),K&&(F.append(K),K=null),F.append(I.clone(1,1))):r.append(I.clone(1,1));K&&((F||r).append(K),K=null);r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=a.length-1&&(CKEDITOR.env.needsBrFiller&&\n(G=r.getLast())&&G.type==CKEDITOR.NODE_ELEMENT&&G.is(\"br\")&&G.remove(),(G=r.getLast(g))&&G.type==CKEDITOR.NODE_ELEMENT&&G.is(CKEDITOR.dtd.$block)||r.append(k.createElement(\"br\")));G=r.$.nodeName.toLowerCase();\"div\"!=G&&\"p\"!=G||r.appendBogus();l.append(r);n=null;p++}else return null;F=null;if(a.length<=p||Math.max(a[p].indent,0)<C)break}if(b)for(a=l.getFirst();a;){if(a.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(b,a),a.getName()in CKEDITOR.dtd.$listItem&&(c=a,k=f=e=void 0,e=c.getDirection()))){for(f=\nc.getParent();f&&!(k=f.getDirection());)f=f.getParent();e==k&&c.removeAttribute(\"dir\")}a=a.getNextSourceNode()}return{listNode:l,nextIndex:p}}};var p=/^h[1-6]$/,r=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);f.prototype={exec:function(b){this.refresh(b,b.elementPath());var e=b.config,f=b.getSelection(),h=f&&f.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF){var k=b.editable();if(k.getFirst(g)){var l=1==h.length&&h[0];(e=l&&l.getEnclosedNode())&&e.is&&this.type==e.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else e.enterMode==\nCKEDITOR.ENTER_BR?k.appendBogus():h[0].fixBlock(1,e.enterMode==CKEDITOR.ENTER_P?\"p\":\"div\"),f.selectRanges(h)}for(var e=f.createBookmarks(!0),k=[],m={},h=h.createIterator(),n=0;(l=h.getNextRange())&&++n;){var B=l.getBoundaryNodes(),z=B.startNode,r=B.endNode;z.type==CKEDITOR.NODE_ELEMENT&&\"td\"==z.getName()&&l.setStartAt(B.startNode,CKEDITOR.POSITION_AFTER_START);r.type==CKEDITOR.NODE_ELEMENT&&\"td\"==r.getName()&&l.setEndAt(B.endNode,CKEDITOR.POSITION_BEFORE_END);l=l.createIterator();for(l.forceBrBreak=\nthis.state==CKEDITOR.TRISTATE_OFF;B=l.getNextParagraph();)if(!B.getCustomData(\"list_block\")){CKEDITOR.dom.element.setMarker(m,B,\"list_block\",1);for(var E=b.elementPath(B),z=E.elements,r=0,E=E.blockLimit,G,F=z.length-1;0<=F&&(G=z[F]);F--)if(d[G.getName()]&&E.contains(G)){E.removeCustomData(\"list_group_object_\"+n);(z=G.getCustomData(\"list_group_object\"))?z.contents.push(B):(z={root:G,contents:[B]},k.push(z),CKEDITOR.dom.element.setMarker(m,G,\"list_group_object\",z));r=1;break}r||(r=E,r.getCustomData(\"list_group_object_\"+\nn)?r.getCustomData(\"list_group_object_\"+n).contents.push(B):(z={root:r,contents:[B]},CKEDITOR.dom.element.setMarker(m,r,\"list_group_object_\"+n,z),k.push(z)))}}for(G=[];0<k.length;)if(z=k.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(d[z.root.getName()]){h=b;n=z;z=m;l=G;r=CKEDITOR.plugins.list.listToArray(n.root,z);E=[];for(B=0;B<n.contents.length;B++)F=n.contents[B],(F=F.getAscendant(\"li\",!0))&&!F.getCustomData(\"list_item_processed\")&&(E.push(F),CKEDITOR.dom.element.setMarker(z,F,\"list_item_processed\",\n!0));for(var F=n.root.getDocument(),J=void 0,H=void 0,B=0;B<E.length;B++){var M=E[B].getCustomData(\"listarray_index\"),J=r[M].parent;J.is(this.type)||(H=F.createElement(this.type),J.copyAttributes(H,{start:1,type:1}),H.removeStyle(\"list-style-type\"),r[M].parent=H)}z=CKEDITOR.plugins.list.arrayToList(r,z,null,h.config.enterMode);r=void 0;E=z.listNode.getChildCount();for(B=0;B<E&&(r=z.listNode.getChild(B));B++)r.getName()==this.type&&l.push(r);z.listNode.replace(n.root);h.fire(\"contentDomInvalidated\")}else{r=\nb;l=z;B=G;E=l.contents;h=l.root.getDocument();n=[];1==E.length&&E[0].equals(l.root)&&(z=h.createElement(\"div\"),E[0].moveChildren&&E[0].moveChildren(z),E[0].append(z),E[0]=z);l=l.contents[0].getParent();for(F=0;F<E.length;F++)l=l.getCommonAncestor(E[F].getParent());J=r.config.useComputedState;r=z=void 0;J=void 0===J||J;for(F=0;F<E.length;F++)for(H=E[F];M=H.getParent();){if(M.equals(l)){n.push(H);!r&&H.getDirection()&&(r=1);H=H.getDirection(J);null!==z&&(z=z&&z!=H?null:H);break}H=M}if(!(1>n.length)){E=\nn[n.length-1].getNext();F=h.createElement(this.type);B.push(F);for(J=B=void 0;n.length;)B=n.shift(),J=h.createElement(\"li\"),H=B,H.is(\"pre\")||p.test(H.getName())||\"false\"==H.getAttribute(\"contenteditable\")?B.appendTo(J):(B.copyAttributes(J),z&&B.getDirection()&&(J.removeStyle(\"direction\"),J.removeAttribute(\"dir\")),B.moveChildren(J),B.remove()),J.appendTo(F);z&&r&&F.setAttribute(\"dir\",z);E?F.insertBefore(E):F.appendTo(l)}}else this.state==CKEDITOR.TRISTATE_ON&&d[z.root.getName()]&&a.call(this,b,z,m);\nfor(F=0;F<G.length;F++)c(G[F]);CKEDITOR.dom.element.clearAllMarkers(m);f.selectBookmarks(e);b.focus()},refresh:function(a,b){var c=b.contains(d,1),e=b.blockLimit||b.root;c&&e.contains(c)?this.setState(c.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}};CKEDITOR.plugins.add(\"list\",{requires:\"indentlist\",init:function(a){a.blockless||(a.addCommand(\"numberedlist\",new f(\"numberedlist\",\"ol\")),a.addCommand(\"bulletedlist\",new f(\"bulletedlist\",\"ul\")),a.ui.addButton&&\n(a.ui.addButton(\"NumberedList\",{label:a.lang.list.numberedlist,command:\"numberedlist\",directional:!0,toolbar:\"list,10\"}),a.ui.addButton(\"BulletedList\",{label:a.lang.list.bulletedlist,command:\"bulletedlist\",directional:!0,toolbar:\"list,20\"})),a.on(\"key\",function(b){var c=b.data.domEvent.getKey(),f;if(\"wysiwyg\"==a.mode&&c in{8:1,46:1}){var h=a.getSelection().getRanges()[0],m=h&&h.startPath();if(h&&h.collapsed){var q=8==c,w=a.editable(),p=new CKEDITOR.dom.walker(h.clone());p.evaluator=function(a){return g(a)&&\n!n(a)};p.guard=function(a,b){return!(b&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(\"table\"))};c=h.clone();if(q){var z;(z=m.contains(d))&&h.checkBoundaryOfElement(z,CKEDITOR.START)&&(z=z.getParent())&&z.is(\"li\")&&(z=k(z))?(f=z,z=z.getPrevious(g),c.moveToPosition(z&&n(z)?z:f,CKEDITOR.POSITION_BEFORE_START)):(p.range.setStartAt(w,CKEDITOR.POSITION_AFTER_START),p.range.setEnd(h.startContainer,h.startOffset),(z=p.previous())&&z.type==CKEDITOR.NODE_ELEMENT&&(z.getName()in d||z.is(\"li\"))&&(z.is(\"li\")||(p.range.selectNodeContents(z),\np.reset(),p.evaluator=e,z=p.previous()),f=z,c.moveToElementEditEnd(f),c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END)));if(f)l(a,c,h),b.cancel();else{var r=m.contains(d);r&&h.checkBoundaryOfElement(r,CKEDITOR.START)&&(f=r.getFirst(g),h.checkBoundaryOfElement(f,CKEDITOR.START)&&(z=r.getPrevious(g),k(f)?z&&(h.moveToElementEditEnd(z),h.select()):a.execCommand(\"outdent\"),b.cancel()))}}else if(f=m.contains(\"li\")){if(p.range.setEndAt(w,CKEDITOR.POSITION_BEFORE_END),q=(w=f.getLast(g))&&\ne(w)?w:f,m=0,(z=p.next())&&z.type==CKEDITOR.NODE_ELEMENT&&z.getName()in d&&z.equals(w)?(m=1,z=p.next()):h.checkBoundaryOfElement(q,CKEDITOR.END)&&(m=2),m&&z){h=h.clone();h.moveToElementEditStart(z);if(1==m&&(c.optimize(),!c.startContainer.equals(f))){for(f=c.startContainer;f.is(CKEDITOR.dtd.$inline);)r=f,f=f.getParent();r&&c.moveToPosition(r,CKEDITOR.POSITION_AFTER_END)}2==m&&(c.moveToPosition(c.endPath().block,CKEDITOR.POSITION_BEFORE_END),h.endPath().block&&h.moveToPosition(h.endPath().block,CKEDITOR.POSITION_AFTER_START));\nl(a,c,h);b.cancel()}}else p.range.setEndAt(w,CKEDITOR.POSITION_BEFORE_END),(z=p.next())&&z.type==CKEDITOR.NODE_ELEMENT&&z.is(d)&&(z=z.getFirst(g),m.block&&h.checkStartOfBlock()&&h.checkEndOfBlock()?(m.block.remove(),h.moveToElementEditStart(z),h.select()):k(z)?(h.moveToElementEditStart(z),h.select()):(h=h.clone(),h.moveToElementEditStart(z),l(a,c,h)),b.cancel());setTimeout(function(){a.selectionChange(1)})}}}))}})}(),function(){function a(a,b,c){c=a.config.forceEnterMode||c;\"wysiwyg\"==a.mode&&(b||\n(b=a.activeEnterMode),a.elementPath().isContextFor(\"p\")||(b=CKEDITOR.ENTER_BR,c=1),a.fire(\"saveSnapshot\"),b==CKEDITOR.ENTER_BR?k(a,b,null,c):d(a,b,null,c),a.fire(\"saveSnapshot\"))}function f(a){a=a.getSelection().getRanges(!0);for(var b=a.length-1;0<b;b--)a[b].deleteContents();return a[0]}function b(a){var b=a.startContainer.getAscendant(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&\"true\"==a.getAttribute(\"contenteditable\")},!0);if(a.root.equals(b))return a;b=new CKEDITOR.dom.range(b);b.moveToRange(a);\nreturn b}CKEDITOR.plugins.add(\"enterkey\",{init:function(b){b.addCommand(\"enter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b)}});b.addCommand(\"shiftEnter\",{modes:{wysiwyg:1},editorFocus:!1,exec:function(b){a(b,b.activeShiftEnterMode,1)}});b.setKeystroke([[13,\"enter\"],[CKEDITOR.SHIFT+13,\"shiftEnter\"]])}});var c=CKEDITOR.dom.walker.whitespaces(),e=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(a,d,l,p){if(l=l||f(a)){l=b(l);var r=l.document,x=l.checkStartOfBlock(),\nv=l.checkEndOfBlock(),u=a.elementPath(l.startContainer),t=u.block,y=d==CKEDITOR.ENTER_DIV?\"div\":\"p\",A;if(x&&v){if(t&&(t.is(\"li\")||t.getParent().is(\"li\"))){t.is(\"li\")||(t=t.getParent());l=t.getParent();A=l.getParent();p=!t.hasPrevious();var q=!t.hasNext(),y=a.getSelection(),w=y.createBookmarks(),x=t.getDirection(1),v=t.getAttribute(\"class\"),B=t.getAttribute(\"style\"),z=A.getDirection(1)!=x;a=a.enterMode!=CKEDITOR.ENTER_BR||z||B||v;if(A.is(\"li\"))p||q?(p&&q&&l.remove(),t[q?\"insertAfter\":\"insertBefore\"](A)):\nt.breakParent(A);else{if(a)if(u.block.is(\"li\")?(A=r.createElement(d==CKEDITOR.ENTER_P?\"p\":\"div\"),z&&A.setAttribute(\"dir\",x),B&&A.setAttribute(\"style\",B),v&&A.setAttribute(\"class\",v),t.moveChildren(A)):A=u.block,p||q)A[p?\"insertBefore\":\"insertAfter\"](l);else t.breakParent(l),A.insertAfter(l);else if(t.appendBogus(!0),p||q)for(;r=t[p?\"getFirst\":\"getLast\"]();)r[p?\"insertBefore\":\"insertAfter\"](l);else for(t.breakParent(l);r=t.getLast();)r.insertAfter(l);t.remove()}y.selectBookmarks(w);return}if(t&&t.getParent().is(\"blockquote\")){t.breakParent(t.getParent());\nt.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||t.getPrevious().remove();t.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||t.getNext().remove();l.moveToElementEditStart(t);l.select();return}}else if(t&&t.is(\"pre\")&&!v){k(a,d,l,p);return}if(x=l.splitBlock(y)){d=x.previousBlock;t=x.nextBlock;u=x.wasStartOfBlock;a=x.wasEndOfBlock;t?(w=t.getParent(),w.is(\"li\")&&(t.breakParent(w),t.move(t.getNext(),1))):d&&(w=d.getParent())&&w.is(\"li\")&&(d.breakParent(w),w=d.getNext(),l.moveToElementEditStart(w),\nd.move(d.getPrevious()));if(u||a){if(d){if(d.is(\"li\")||!h.test(d.getName())&&!d.is(\"pre\"))A=d.clone()}else t&&(A=t.clone());A?p&&!A.is(\"li\")&&A.renameNode(y):w&&w.is(\"li\")?A=w:(A=r.createElement(y),d&&(q=d.getDirection())&&A.setAttribute(\"dir\",q));if(r=x.elementPath)for(p=0,y=r.elements.length;p<y;p++){w=r.elements[p];if(w.equals(r.block)||w.equals(r.blockLimit))break;CKEDITOR.dtd.$removeEmpty[w.getName()]&&(w=w.clone(),A.moveChildren(w),A.append(w))}A.appendBogus();A.getParent()||l.insertNode(A);\nA.is(\"li\")&&A.removeAttribute(\"value\");!CKEDITOR.env.ie||!u||a&&d.getChildCount()||(l.moveToElementEditStart(a?d:A),l.select());l.moveToElementEditStart(u&&!a?t:A)}else t.is(\"li\")&&(A=l.clone(),A.selectNodeContents(t),A=new CKEDITOR.dom.walker(A),A.evaluator=function(a){return!(e(a)||c(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.getName()in CKEDITOR.dtd.$inline&&!(a.getName()in CKEDITOR.dtd.$empty))},(w=A.next())&&w.type==CKEDITOR.NODE_ELEMENT&&w.is(\"ul\",\"ol\")&&(CKEDITOR.env.needsBrFiller?r.createElement(\"br\"):\nr.createText(\"Â \")).insertBefore(w)),t&&l.moveToElementEditStart(t);l.select();l.scrollIntoView()}}},enterBr:function(a,b,c,e){if(c=c||f(a)){var k=c.document,l=c.checkEndOfBlock(),v=new CKEDITOR.dom.elementPath(a.getSelection().getStartElement()),u=v.block,t=u&&v.block.getName();e||\"li\"!=t?(!e&&l&&h.test(t)?(l=u.getDirection())?(k=k.createElement(\"div\"),k.setAttribute(\"dir\",l),k.insertAfter(u),c.setStart(k,0)):(k.createElement(\"br\").insertAfter(u),CKEDITOR.env.gecko&&k.createText(\"\").insertAfter(u),\nc.setStartAt(u.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(a=\"pre\"==t&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?k.createText(\"\\r\"):k.createElement(\"br\"),c.deleteContents(),c.insertNode(a),CKEDITOR.env.needsBrFiller?(k.createText(\"ï»¿\").insertAfter(a),l&&(u||v.blockLimit).appendBogus(),a.getNext().$.nodeValue=\"\",c.setStartAt(a.getNext(),CKEDITOR.POSITION_AFTER_START)):c.setStartAt(a,CKEDITOR.POSITION_AFTER_END)),c.collapse(!0),c.select(),c.scrollIntoView()):\nd(a,b,c,e)}}};var l=CKEDITOR.plugins.enterkey,k=l.enterBr,d=l.enterBlock,h=/^h[1-6]$/}(),function(){function a(a,b){var c={},e=[],l={nbsp:\"Â \",shy:\"Â­\",gt:\"\\x3e\",lt:\"\\x3c\",amp:\"\\x26\",apos:\"'\",quot:'\"'};a=a.replace(/\\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(a,d){var f=b?\"\\x26\"+d+\";\":l[d];c[f]=b?l[d]:\"\\x26\"+d+\";\";e.push(f);return\"\"});if(!b&&a){a=a.split(\",\");var k=document.createElement(\"div\"),d;k.innerHTML=\"\\x26\"+a.join(\";\\x26\")+\";\";d=k.innerHTML;k=null;for(k=0;k<d.length;k++){var h=d.charAt(k);\nc[h]=\"\\x26\"+a[k]+\";\";e.push(h)}}c.regex=e.join(b?\"|\":\"\");return c}CKEDITOR.plugins.add(\"entities\",{afterInit:function(f){function b(a){return h[a]}function c(a){return\"force\"!=e.entities_processNumerical&&k[a]?k[a]:\"\\x26#\"+a.charCodeAt(0)+\";\"}var e=f.config;if(f=(f=f.dataProcessor)&&f.htmlFilter){var l=[];!1!==e.basicEntities&&l.push(\"nbsp,gt,lt,amp\");e.entities&&(l.length&&l.push(\"quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro\"),\ne.entities_latin&&l.push(\"Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml\"),e.entities_greek&&l.push(\"Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv\"),\ne.entities_additional&&l.push(e.entities_additional));var k=a(l.join(\",\")),d=k.regex?\"[\"+k.regex+\"]\":\"a^\";delete k.regex;e.entities&&e.entities_processNumerical&&(d=\"[^ -~]|\"+d);var d=new RegExp(d,\"g\"),h=a(\"nbsp,gt,lt,amp,shy\",!0),m=new RegExp(h.regex,\"g\");f.addRules({text:function(a){return a.replace(m,b).replace(d,c)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,\nCKEDITOR.config.entities_additional=\"#39\",CKEDITOR.plugins.add(\"popup\"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(a,f,b,c){f=f||\"80%\";b=b||\"70%\";\"string\"==typeof f&&1<f.length&&\"%\"==f.substr(f.length-1,1)&&(f=parseInt(window.screen.width*parseInt(f,10)/100,10));\"string\"==typeof b&&1<b.length&&\"%\"==b.substr(b.length-1,1)&&(b=parseInt(window.screen.height*parseInt(b,10)/100,10));640>f&&(f=640);420>b&&(b=420);var e=parseInt((window.screen.height-b)/2,10),l=parseInt((window.screen.width-\nf)/2,10);c=(c||\"location\\x3dno,menubar\\x3dno,toolbar\\x3dno,dependent\\x3dyes,minimizable\\x3dno,modal\\x3dyes,alwaysRaised\\x3dyes,resizable\\x3dyes,scrollbars\\x3dyes\")+\",width\\x3d\"+f+\",height\\x3d\"+b+\",top\\x3d\"+e+\",left\\x3d\"+l;var k=window.open(\"\",null,c,!0);if(!k)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(\" chrome/\")&&(k.moveTo(l,e),k.resizeTo(f,b)),k.focus(),k.location.href=a}catch(d){window.open(a,null,c,!0)}return!0}}),function(){function a(a,b){var c=[];if(b)for(var d in b)c.push(d+\n\"\\x3d\"+encodeURIComponent(b[d]));else return a;return a+(-1!=a.indexOf(\"?\")?\"\\x26\":\"?\")+c.join(\"\\x26\")}function f(a){a+=\"\";return a.charAt(0).toUpperCase()+a.substr(1)}function b(){var b=this.getDialog(),c=b.getParentEditor();c._.filebrowserSe=this;var d=c.config[\"filebrowser\"+f(b.getName())+\"WindowWidth\"]||c.config.filebrowserWindowWidth||\"80%\",b=c.config[\"filebrowser\"+f(b.getName())+\"WindowHeight\"]||c.config.filebrowserWindowHeight||\"70%\",e=this.filebrowser.params||{};e.CKEditor=c.name;e.CKEditorFuncNum=\nc._.filebrowserFn;e.langCode||(e.langCode=c.langCode);e=a(this.filebrowser.url,e);c.popup(e,d,b,c.config.filebrowserWindowFeatures||c.config.fileBrowserWindowFeatures)}function c(){var a=this.getDialog();a.getParentEditor()._.filebrowserSe=this;return a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement().$.value&&a.getContentElement(this[\"for\"][0],this[\"for\"][1]).getAction()?!0:!1}function e(b,c,d){var e=d.params||{};e.CKEditor=b.name;e.CKEditorFuncNum=b._.filebrowserFn;e.langCode||\n(e.langCode=b.langCode);c.action=a(d.url,e);c.filebrowser=d}function l(a,d,g,k){if(k&&k.length)for(var p,r=k.length;r--;)if(p=k[r],\"hbox\"!=p.type&&\"vbox\"!=p.type&&\"fieldset\"!=p.type||l(a,d,g,p.children),p.filebrowser)if(\"string\"==typeof p.filebrowser&&(p.filebrowser={action:\"fileButton\"==p.type?\"QuickUpload\":\"Browse\",target:p.filebrowser}),\"Browse\"==p.filebrowser.action){var x=p.filebrowser.url;void 0===x&&(x=a.config[\"filebrowser\"+f(d)+\"BrowseUrl\"],void 0===x&&(x=a.config.filebrowserBrowseUrl));\nx&&(p.onClick=b,p.filebrowser.url=x,p.hidden=!1)}else if(\"QuickUpload\"==p.filebrowser.action&&p[\"for\"]&&(x=p.filebrowser.url,void 0===x&&(x=a.config[\"filebrowser\"+f(d)+\"UploadUrl\"],void 0===x&&(x=a.config.filebrowserUploadUrl)),x)){var v=p.onClick;p.onClick=function(a){var b=a.sender;if(v&&!1===v.call(b,a))return!1;if(c.call(b,a)){a=b.getDialog().getContentElement(this[\"for\"][0],this[\"for\"][1]).getInputElement();if(b=new CKEDITOR.dom.element(a.$.form))(a=b.$.elements.ckCsrfToken)?a=new CKEDITOR.dom.element(a):\n(a=new CKEDITOR.dom.element(\"input\"),a.setAttributes({name:\"ckCsrfToken\",type:\"hidden\"}),b.append(a)),a.setAttribute(\"value\",CKEDITOR.tools.getCsrfToken());return!0}return!1};p.filebrowser.url=x;p.hidden=!1;e(a,g.getContents(p[\"for\"][0]).get(p[\"for\"][1]),p.filebrowser)}}function k(a,b,c){if(-1!==c.indexOf(\";\")){c=c.split(\";\");for(var d=0;d<c.length;d++)if(k(a,b,c[d]))return!0;return!1}return(a=a.getContents(b).get(c).filebrowser)&&a.url}function d(a,b){var c=this._.filebrowserSe.getDialog(),d=this._.filebrowserSe[\"for\"],\ne=this._.filebrowserSe.filebrowser.onSelect;d&&c.getContentElement(d[0],d[1]).reset();if(\"function\"!=typeof b||!1!==b.call(this._.filebrowserSe))if(!e||!1!==e.call(this._.filebrowserSe,a,b))if(\"string\"==typeof b&&b&&alert(b),a&&(d=this._.filebrowserSe,c=d.getDialog(),d=d.filebrowser.target||null))if(d=d.split(\":\"),e=c.getContentElement(d[0],d[1]))e.setValue(a),c.selectPage(d[0])}CKEDITOR.plugins.add(\"filebrowser\",{requires:\"popup\",init:function(a){a._.filebrowserFn=CKEDITOR.tools.addFunction(d,a);\na.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}});CKEDITOR.on(\"dialogDefinition\",function(a){if(a.editor.plugins.filebrowser)for(var b=a.data.definition,c,d=0;d<b.contents.length;++d)if(c=b.contents[d])l(a.editor,a.data.name,b,c.elements),c.hidden&&c.filebrowser&&(c.hidden=!k(b,c.id,c.filebrowser))})}(),function(){function a(a){var e=a.config,l=a.fire(\"uiSpace\",{space:\"top\",html:\"\"}).html,k=function(){function d(a,c,e){h.setStyle(c,b(e));h.setStyle(\"position\",a)}function g(a){var b=\nm.getDocumentPosition();switch(a){case \"top\":d(\"absolute\",\"top\",b.y-y-w);break;case \"pin\":d(\"fixed\",\"top\",z);break;case \"bottom\":d(\"absolute\",\"top\",b.y+(u.height||u.bottom-u.top)+w)}l=a}var l,m,v,u,t,y,A,q=e.floatSpaceDockedOffsetX||0,w=e.floatSpaceDockedOffsetY||0,B=e.floatSpacePinnedOffsetX||0,z=e.floatSpacePinnedOffsetY||0;return function(d){if(m=a.editable()){var n=d&&\"focus\"==d.name;n&&h.show();a.fire(\"floatingSpaceLayout\",{show:n});h.removeStyle(\"left\");h.removeStyle(\"right\");v=h.getClientRect();\nu=m.getClientRect();t=f.getViewPaneSize();y=v.height;A=\"pageXOffset\"in f.$?f.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft;l?(y+w<=u.top?g(\"top\"):y+w>t.height-u.bottom?g(\"pin\"):g(\"bottom\"),d=t.width/2,d=e.floatSpacePreferRight?\"right\":0<u.left&&u.right<t.width&&u.width>v.width?\"rtl\"==e.contentsLangDirection?\"right\":\"left\":d-u.left>u.right-d?\"left\":\"right\",v.width>t.width?(d=\"left\",n=0):(n=\"left\"==d?0<u.left?u.left:0:u.right<t.width?t.width-u.right:0,n+v.width>t.width&&(d=\"left\"==d?\n\"right\":\"left\",n=0)),h.setStyle(d,b((\"pin\"==l?B:q)+n+(\"pin\"==l?0:\"left\"==d?A:-A)))):(l=\"pin\",g(\"pin\"),k(d))}}}();if(l){var d=new CKEDITOR.template('\\x3cdiv id\\x3d\"cke_{name}\" class\\x3d\"cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'\" dir\\x3d\"{langDir}\" title\\x3d\"'+(CKEDITOR.env.gecko?\" \":\"\")+'\" lang\\x3d\"{langCode}\" role\\x3d\"application\" style\\x3d\"{style}\"'+(a.title?' aria-labelledby\\x3d\"cke_{name}_arialbl\"':\" \")+\"\\x3e\"+(a.title?'\\x3cspan id\\x3d\"cke_{name}_arialbl\" class\\x3d\"cke_voice_label\"\\x3e{voiceLabel}\\x3c/span\\x3e':\n\" \")+'\\x3cdiv class\\x3d\"cke_inner\"\\x3e\\x3cdiv id\\x3d\"{topId}\" class\\x3d\"cke_top\" role\\x3d\"presentation\"\\x3e{content}\\x3c/div\\x3e\\x3c/div\\x3e\\x3c/div\\x3e'),h=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(d.output({content:l,id:a.id,langDir:a.lang.dir,langCode:a.langCode,name:a.name,style:\"display:none;z-index:\"+(e.baseFloatZIndex-1),topId:a.ui.spaceId(\"top\"),voiceLabel:a.title}))),m=CKEDITOR.tools.eventsBuffer(500,k),g=CKEDITOR.tools.eventsBuffer(100,k);h.unselectable();h.on(\"mousedown\",\nfunction(a){a=a.data;a.getTarget().hasAscendant(\"a\",1)||a.preventDefault()});a.on(\"focus\",function(b){k(b);a.on(\"change\",m.input);f.on(\"scroll\",g.input);f.on(\"resize\",g.input)});a.on(\"blur\",function(){h.hide();a.removeListener(\"change\",m.input);f.removeListener(\"scroll\",g.input);f.removeListener(\"resize\",g.input)});a.on(\"destroy\",function(){f.removeListener(\"scroll\",g.input);f.removeListener(\"resize\",g.input);h.clearCustomData();h.remove()});a.focusManager.hasFocus&&h.show();a.focusManager.add(h,\n1)}}var f=CKEDITOR.document.getWindow(),b=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add(\"floatingspace\",{init:function(b){b.on(\"loaded\",function(){a(this)},null,null,20)}})}(),CKEDITOR.plugins.add(\"listblock\",{requires:\"panel\",onLoad:function(){var a=CKEDITOR.addTemplate(\"panel-list\",'\\x3cul role\\x3d\"presentation\" class\\x3d\"cke_panel_list\"\\x3e{items}\\x3c/ul\\x3e'),f=CKEDITOR.addTemplate(\"panel-list-item\",'\\x3cli id\\x3d\"{id}\" class\\x3d\"cke_panel_listItem\" role\\x3dpresentation\\x3e\\x3ca id\\x3d\"{id}_option\" _cke_focus\\x3d1 hidefocus\\x3dtrue title\\x3d\"{title}\" href\\x3d\"javascript:void(\\'{val}\\')\"  {onclick}\\x3d\"CKEDITOR.tools.callFunction({clickFn},\\'{val}\\'); return false;\" role\\x3d\"option\"\\x3e{text}\\x3c/a\\x3e\\x3c/li\\x3e'),\nb=CKEDITOR.addTemplate(\"panel-list-group\",'\\x3ch1 id\\x3d\"{id}\" class\\x3d\"cke_panel_grouptitle\" role\\x3d\"presentation\" \\x3e{label}\\x3c/h1\\x3e'),c=/\\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(a,b){return this.addBlock(a,new CKEDITOR.ui.listBlock(this.getHolderElement(),b))};CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(a,b){b=b||{};var c=b.attributes||(b.attributes={});(this.multiSelect=!!b.multiSelect)&&(c[\"aria-multiselectable\"]=!0);!c.role&&\n(c.role=\"listbox\");this.base.apply(this,arguments);this.element.setAttribute(\"role\",c.role);c=this.keys;c[40]=\"next\";c[9]=\"next\";c[38]=\"prev\";c[CKEDITOR.SHIFT+9]=\"prev\";c[32]=CKEDITOR.env.ie?\"mouseup\":\"click\";CKEDITOR.env.ie&&(c[13]=\"mouseup\");this._.pendingHtml=[];this._.pendingList=[];this._.items={};this._.groups={}},_:{close:function(){if(this._.started){var b=a.output({items:this._.pendingList.join(\"\")});this._.pendingList=[];this._.pendingHtml.push(b);delete this._.started}},getClick:function(){this._.click||\n(this._.click=CKEDITOR.tools.addFunction(function(a){var b=this.toggle(a);if(this.onClick)this.onClick(a,b)},this));return this._.click}},proto:{add:function(a,b,k){var d=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0);this._.items[a]=d;var h;h=CKEDITOR.tools.htmlEncodeAttr(a).replace(c,\"\\\\'\");a={id:d,val:h,onclick:CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\"onclick\",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(k||a),text:b||a};\nthis._.pendingList.push(f.output(a))},startGroup:function(a){this._.close();var c=CKEDITOR.tools.getNextId();this._.groups[a]=c;this._.pendingHtml.push(b.output({id:c,label:a}))},commit:function(){this._.close();this.element.appendHtml(this._.pendingHtml.join(\"\"));delete this._.size;this._.pendingHtml=[]},toggle:function(a){var b=this.isMarked(a);b?this.unmark(a):this.mark(a);return!b},hideGroup:function(a){var b=(a=this.element.getDocument().getById(this._.groups[a]))&&a.getNext();a&&(a.setStyle(\"display\",\n\"none\"),b&&\"ul\"==b.getName()&&b.setStyle(\"display\",\"none\"))},hideItem:function(a){this.element.getDocument().getById(this._.items[a]).setStyle(\"display\",\"none\")},showAll:function(){var a=this._.items,b=this._.groups,c=this.element.getDocument(),d;for(d in a)c.getById(a[d]).setStyle(\"display\",\"\");for(var f in b)a=c.getById(b[f]),d=a.getNext(),a.setStyle(\"display\",\"\"),d&&\"ul\"==d.getName()&&d.setStyle(\"display\",\"\")},mark:function(a){this.multiSelect||this.unmarkAll();a=this._.items[a];var b=this.element.getDocument().getById(a);\nb.addClass(\"cke_selected\");this.element.getDocument().getById(a+\"_option\").setAttribute(\"aria-selected\",!0);this.onMark&&this.onMark(b)},markFirstDisplayed:function(){var a=this;this._.markFirstDisplayed(function(){a.multiSelect||a.unmarkAll()})},unmark:function(a){var b=this.element.getDocument();a=this._.items[a];var c=b.getById(a);c.removeClass(\"cke_selected\");b.getById(a+\"_option\").removeAttribute(\"aria-selected\");this.onUnmark&&this.onUnmark(c)},unmarkAll:function(){var a=this._.items,b=this.element.getDocument(),\nc;for(c in a){var d=a[c];b.getById(d).removeClass(\"cke_selected\");b.getById(d+\"_option\").removeAttribute(\"aria-selected\")}this.onUnmark&&this.onUnmark()},isMarked:function(a){return this.element.getDocument().getById(this._.items[a]).hasClass(\"cke_selected\")},focus:function(a){this._.focusIndex=-1;var b=this.element.getElementsByTag(\"a\"),c,d=-1;if(a)for(c=this.element.getDocument().getById(this._.items[a]).getFirst();a=b.getItem(++d);){if(a.equals(c)){this._.focusIndex=d;break}}else this.element.focus();\nc&&setTimeout(function(){c.focus()},0)}}})}}),CKEDITOR.plugins.add(\"richcombo\",{requires:\"floatpanel,listblock,button\",beforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var a='\\x3cspan id\\x3d\"{id}\" class\\x3d\"cke_combo cke_combo__{name} {cls}\" role\\x3d\"presentation\"\\x3e\\x3cspan id\\x3d\"{id}_label\" class\\x3d\"cke_combo_label\"\\x3e{label}\\x3c/span\\x3e\\x3ca class\\x3d\"cke_combo_button\" title\\x3d\"{title}\" tabindex\\x3d\"-1\"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?\n\"\":\" href\\x3d\\\"javascript:void('{titleJs}')\\\"\")+' hidefocus\\x3d\"true\" role\\x3d\"button\" aria-labelledby\\x3d\"{id}_label\" aria-haspopup\\x3d\"true\"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(a+=' onkeypress\\x3d\"return false;\"');CKEDITOR.env.gecko&&(a+=' onblur\\x3d\"this.style.cssText \\x3d this.style.cssText;\"');var a=a+(' onkeydown\\x3d\"return CKEDITOR.tools.callFunction({keydownFn},event,this);\" onfocus\\x3d\"return CKEDITOR.tools.callFunction({focusFn},event);\" '+(CKEDITOR.env.ie?'onclick\\x3d\"return false;\" onmouseup':\n\"onclick\")+'\\x3d\"CKEDITOR.tools.callFunction({clickFn},this);return false;\"\\x3e\\x3cspan id\\x3d\"{id}_text\" class\\x3d\"cke_combo_text cke_combo_inlinelabel\"\\x3e{label}\\x3c/span\\x3e\\x3cspan class\\x3d\"cke_combo_open\"\\x3e\\x3cspan class\\x3d\"cke_combo_arrow\"\\x3e'+(CKEDITOR.env.hc?\"\\x26#9660;\":CKEDITOR.env.air?\"\\x26nbsp;\":\"\")+\"\\x3c/span\\x3e\\x3c/span\\x3e\\x3c/a\\x3e\\x3c/span\\x3e\"),f=CKEDITOR.addTemplate(\"combo\",a);CKEDITOR.UI_RICHCOMBO=\"richcombo\";CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(a){CKEDITOR.tools.extend(this,\na,{canGroup:!1,title:a.label,modes:{wysiwyg:1},editorFocus:1});a=this.panel||{};delete this.panel;this.id=CKEDITOR.tools.getNextNumber();this.document=a.parent&&a.parent.getDocument()||CKEDITOR.document;a.className=\"cke_combopanel\";a.block={multiSelect:a.multiSelect,attributes:a.attributes};a.toolbarRelated=!0;this._={panelDefinition:a,items:{}}},proto:{renderHtml:function(a){var c=[];this.render(a,c);return c.join(\"\")},render:function(a,c){function e(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var c=\nthis.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;a.readOnly&&!this.readOnly&&(c=CKEDITOR.TRISTATE_DISABLED);this.setState(c);this.setValue(\"\");c!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var l=CKEDITOR.env,k=\"cke_\"+this.id,d=CKEDITOR.tools.addFunction(function(c){p&&(a.unlockSelection(1),p=0);m.execute(c)},this),h=this,m={id:k,combo:this,focus:function(){CKEDITOR.document.getById(k).getChild(1).focus()},execute:function(c){var d=h._;if(d.state!=CKEDITOR.TRISTATE_DISABLED)if(h.createPanel(a),\nd.on)d.panel.hide();else{h.commit();var e=h.getValue();e?d.list.mark(e):d.list.unmarkAll();d.panel.showBlock(h.id,new CKEDITOR.dom.element(c),4)}},clickFn:d};a.on(\"activeFilterChange\",e,this);a.on(\"mode\",e,this);a.on(\"selectionChange\",e,this);!this.readOnly&&a.on(\"readOnly\",e,this);var g=CKEDITOR.tools.addFunction(function(a,b){a=new CKEDITOR.dom.event(a);var c=a.getKeystroke();switch(c){case 13:case 32:case 40:CKEDITOR.tools.callFunction(d,b);break;default:m.onkey(m,c)}a.preventDefault()}),n=CKEDITOR.tools.addFunction(function(){m.onfocus&&\nm.onfocus()}),p=0;m.keyDownFn=g;l={id:k,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||\"\",titleJs:l.gecko&&!l.hc?\"\":(this.title||\"\").replace(\"'\",\"\"),keydownFn:g,focusFn:n,clickFn:d};f.output(l,c);if(this.onRender)this.onRender();return m},createPanel:function(a){if(!this._.panel){var c=this._.panelDefinition,e=this._.panelDefinition.block,f=c.parent||CKEDITOR.document.getBody(),k=\"cke_combopanel__\"+this.name,d=new CKEDITOR.ui.floatPanel(a,f,c),c=d.addListBlock(this.id,\ne),h=this;d.onShow=function(){this.element.addClass(k);h.setState(CKEDITOR.TRISTATE_ON);h._.on=1;h.editorFocus&&!a.focusManager.hasFocus&&a.focus();if(h.onOpen)h.onOpen()};d.onHide=function(c){this.element.removeClass(k);h.setState(h.modes&&h.modes[a.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);h._.on=0;if(!c&&h.onClose)h.onClose()};d.onEscape=function(){d.hide(1)};c.onClick=function(a,b){h.onClick&&h.onClick.call(h,a,b);d.hide()};this._.panel=d;this._.list=c;d.getBlock(this.id).onHide=\nfunction(){h._.on=0;h.setState(CKEDITOR.TRISTATE_OFF)};this.init&&this.init()}},setValue:function(a,c){this._.value=a;var e=this.document.getById(\"cke_\"+this.id+\"_text\");e&&(a||c?e.removeClass(\"cke_combo_inlinelabel\"):(c=this.label,e.addClass(\"cke_combo_inlinelabel\")),e.setText(\"undefined\"!=typeof c?c:a))},getValue:function(){return this._.value||\"\"},unmarkAll:function(){this._.list.unmarkAll()},mark:function(a){this._.list.mark(a)},hideItem:function(a){this._.list.hideItem(a)},hideGroup:function(a){this._.list.hideGroup(a)},\nshowAll:function(){this._.list.showAll()},add:function(a,c,e){this._.items[a]=e||a;this._.list.add(a,c,e)},startGroup:function(a){this._.list.startGroup(a)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire(\"ready\",this));this._.committed=1},setState:function(a){if(this._.state!=a){var c=this.document.getById(\"cke_\"+this.id);c.setState(a,\"cke_combo\");a==CKEDITOR.TRISTATE_DISABLED?c.setAttribute(\"aria-disabled\",!0):c.removeAttribute(\"aria-disabled\");this._.state=\na}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(a){return new CKEDITOR.ui.richCombo(a)}}}});CKEDITOR.ui.prototype.addRichCombo=function(a,c){this.add(a,CKEDITOR.UI_RICHCOMBO,c)}}(),CKEDITOR.plugins.add(\"format\",{requires:\"richcombo\",init:function(a){if(!a.blockless){for(var f=\na.config,b=a.lang.format,c=f.format_tags.split(\";\"),e={},l=0,k=[],d=0;d<c.length;d++){var h=c[d],m=new CKEDITOR.style(f[\"format_\"+h]);if(!a.filter.customConfig||a.filter.check(m))l++,e[h]=m,e[h]._.enterMode=a.config.enterMode,k.push(m)}0!==l&&a.ui.addRichCombo(\"Format\",{label:b.label,title:b.panelTitle,toolbar:\"styles,20\",allowedContent:k,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(f.contentsCss),multiSelect:!1,attributes:{\"aria-label\":b.panelTitle}},init:function(){this.startGroup(b.panelTitle);\nfor(var a in e){var c=b[\"tag_\"+a];this.add(a,e[a].buildPreview(c),c)}},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=e[b];var c=a.elementPath();a[b.checkActive(c,a)?\"removeStyle\":\"applyStyle\"](b);setTimeout(function(){a.fire(\"saveSnapshot\")},0)},onRender:function(){a.on(\"selectionChange\",function(b){var c=this.getValue();b=b.data.path;this.refresh();for(var d in e)if(e[d].checkActive(b,a)){d!=c&&this.setValue(d,a.lang.format[\"tag_\"+d]);return}this.setValue(\"\")},this)},onOpen:function(){this.showAll();\nfor(var b in e)a.activeFilter.check(e[b])||this.hideItem(b)},refresh:function(){var b=a.elementPath();if(b){if(b.isContextFor(\"p\"))for(var c in e)if(a.activeFilter.check(e[c]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags=\"p;h1;h2;h3;h4;h5;h6;pre;address;div\",CKEDITOR.config.format_p={element:\"p\"},CKEDITOR.config.format_div={element:\"div\"},CKEDITOR.config.format_pre={element:\"pre\"},CKEDITOR.config.format_address={element:\"address\"},CKEDITOR.config.format_h1=\n{element:\"h1\"},CKEDITOR.config.format_h2={element:\"h2\"},CKEDITOR.config.format_h3={element:\"h3\"},CKEDITOR.config.format_h4={element:\"h4\"},CKEDITOR.config.format_h5={element:\"h5\"},CKEDITOR.config.format_h6={element:\"h6\"},function(){var a={canUndo:!1,exec:function(a){var b=a.document.createElement(\"hr\");a.insertElement(b)},allowedContent:\"hr\",requiredContent:\"hr\"};CKEDITOR.plugins.add(\"horizontalrule\",{init:function(f){f.blockless||(f.addCommand(\"horizontalrule\",a),f.ui.addButton&&f.ui.addButton(\"HorizontalRule\",\n{label:f.lang.horizontalrule.toolbar,command:\"horizontalrule\",toolbar:\"insert,40\"}))}})}(),CKEDITOR.plugins.add(\"htmlwriter\",{init:function(a){var f=new CKEDITOR.htmlWriter;f.forceSimpleAmpersand=a.config.forceSimpleAmpersand;f.indentationChars=a.config.dataIndentationChars||\"\\t\";a.dataProcessor.writer=f}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base();this.indentationChars=\"\\t\";this.selfClosingEnd=\" /\\x3e\";this.lineBreakChars=\"\\n\";this.sortAttributes=\n1;this._.indent=0;this._.indentation=\"\";this._.inPre=0;this._.rules={};var a=CKEDITOR.dtd,f;for(f in CKEDITOR.tools.extend({},a.$nonBodyContent,a.$block,a.$listItem,a.$tableContent))this.setRules(f,{indent:!a[f][\"#\"],breakBeforeOpen:1,breakBeforeClose:!a[f][\"#\"],breakAfterClose:1,needsSpace:f in a.$block&&!(f in{li:1,dt:1,dd:1})});this.setRules(\"br\",{breakAfterOpen:1});this.setRules(\"title\",{indent:0,breakAfterOpen:0});this.setRules(\"style\",{indent:0,breakBeforeClose:1});this.setRules(\"pre\",{breakAfterOpen:1,\nindent:0})},proto:{openTag:function(a){var f=this._.rules[a];this._.afterCloser&&f&&f.needsSpace&&this._.needsSpace&&this._.output.push(\"\\n\");this._.indent?this.indentation():f&&f.breakBeforeOpen&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c\",a);this._.afterCloser=0},openTagClose:function(a,f){var b=this._.rules[a];f?(this._.output.push(this.selfClosingEnd),b&&b.breakAfterClose&&(this._.needsSpace=b.needsSpace)):(this._.output.push(\"\\x3e\"),b&&b.indent&&(this._.indentation+=this.indentationChars));\nb&&b.breakAfterOpen&&this.lineBreak();\"pre\"==a&&(this._.inPre=1)},attribute:function(a,f){\"string\"==typeof f&&(this.forceSimpleAmpersand&&(f=f.replace(/&amp;/g,\"\\x26\")),f=CKEDITOR.tools.htmlEncodeAttr(f));this._.output.push(\" \",a,'\\x3d\"',f,'\"')},closeTag:function(a){var f=this._.rules[a];f&&f.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length));this._.indent?this.indentation():f&&f.breakBeforeClose&&(this.lineBreak(),this.indentation());this._.output.push(\"\\x3c/\",a,\n\"\\x3e\");\"pre\"==a&&(this._.inPre=0);f&&f.breakAfterClose&&(this.lineBreak(),this._.needsSpace=f.needsSpace);this._.afterCloser=1},text:function(a){this._.indent&&(this.indentation(),!this._.inPre&&(a=CKEDITOR.tools.ltrim(a)));this._.output.push(a)},comment:function(a){this._.indent&&this.indentation();this._.output.push(\"\\x3c!--\",a,\"--\\x3e\")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars);this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&\nthis._.output.push(this._.indentation);this._.indent=0},reset:function(){this._.output=[];this._.indent=0;this._.indentation=\"\";this._.afterCloser=0;this._.inPre=0;this._.needsSpace=0},setRules:function(a,f){var b=this._.rules[a];b?CKEDITOR.tools.extend(b,f,!0):this._.rules[a]=f}}}),function(){function a(a,c){c||(c=a.getSelection().getSelectedElement());if(c&&c.is(\"img\")&&!c.data(\"cke-realelement\")&&!c.isReadOnly())return c}function f(a){var c=a.getStyle(\"float\");if(\"inherit\"==c||\"none\"==c)c=0;c||\n(c=a.getAttribute(\"align\"));return c}CKEDITOR.plugins.add(\"image\",{requires:\"dialog\",init:function(b){if(!b.plugins.image2){CKEDITOR.dialog.add(\"image\",this.path+\"dialogs/image.js\");var c=\"img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}\";CKEDITOR.dialog.isTabEnabled(b,\"image\",\"advanced\")&&(c=\"img[alt,dir,id,lang,longdesc,!src,title]{*}(*)\");b.addCommand(\"image\",new CKEDITOR.dialogCommand(\"image\",{allowedContent:c,requiredContent:\"img[alt,src]\",\ncontentTransformations:[[\"img{width}: sizeToStyle\",\"img[width]: sizeToAttribute\"],[\"img{float}: alignmentToStyle\",\"img[align]: alignmentToAttribute\"]]}));b.ui.addButton&&b.ui.addButton(\"Image\",{label:b.lang.common.image,command:\"image\",toolbar:\"insert,10\"});b.on(\"doubleclick\",function(a){var b=a.data.element;!b.is(\"img\")||b.data(\"cke-realelement\")||b.isReadOnly()||(a.data.dialog=\"image\")});b.addMenuItems&&b.addMenuItems({image:{label:b.lang.image.menu,command:\"image\",group:\"image\"}});b.contextMenu&&\nb.contextMenu.addListener(function(c){if(a(b,c))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(b){function c(c){var l=b.getCommand(\"justify\"+c);if(l){if(\"left\"==c||\"right\"==c)l.on(\"exec\",function(k){var d=a(b),h;d&&(h=f(d),h==c?(d.removeStyle(\"float\"),c==f(d)&&d.removeAttribute(\"align\")):d.setStyle(\"float\",c),k.cancel())});l.on(\"refresh\",function(k){var d=a(b);d&&(d=f(d),this.setState(d==c?CKEDITOR.TRISTATE_ON:\"right\"==c||\"left\"==c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),k.cancel())})}}\nb.plugins.image2||(c(\"left\"),c(\"right\"),c(\"center\"),c(\"block\"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function a(a,b){var d=c.exec(a),e=c.exec(b);if(d){if(!d[2]&&\"px\"==e[2])return e[1];if(\"px\"==d[2]&&!e[2])return e[1]+\"px\"}return b}var f=CKEDITOR.htmlParser.cssStyle,b=CKEDITOR.tools.cssLength,c=/^((?:\\d*(?:\\.\\d+))|(?:\\d+))(.*)?$/i,e={elements:{$:function(b){var c=b.attributes;if((c=(c=(c=c&&c[\"data-cke-realelement\"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(c)))&&\nc.children[0])&&b.attributes[\"data-cke-resizable\"]){var d=(new f(b)).rules;b=c.attributes;var e=d.width,d=d.height;e&&(b.width=a(b.width,e));d&&(b.height=a(b.height,d))}return c}}};CKEDITOR.plugins.add(\"fakeobjects\",{init:function(a){a.filter.allow(\"img[!data-cke-realelement,src,alt,title](*){*}\",\"fakeobjects\")},afterInit:function(a){(a=(a=a.dataProcessor)&&a.htmlFilter)&&a.addRules(e,{applyToAll:!0})}});CKEDITOR.editor.prototype.createFakeElement=function(a,c,d,e){var m=this.lang.fakeobjects,m=m[d]||\nm.unknown;c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(a.getOuterHtml()),\"data-cke-real-node-type\":a.type,alt:m,title:m,align:a.getAttribute(\"align\")||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);e&&(c[\"data-cke-resizable\"]=e,d=new f,e=a.getAttribute(\"width\"),a=a.getAttribute(\"height\"),e&&(d.rules.width=b(e)),a&&(d.rules.height=b(a)),d.populate(c));return this.document.createElement(\"img\",{attributes:c})};CKEDITOR.editor.prototype.createFakeParserElement=\nfunction(a,c,d,e){var m=this.lang.fakeobjects,m=m[d]||m.unknown,g;g=new CKEDITOR.htmlParser.basicWriter;a.writeHtml(g);g=g.getHtml();c={\"class\":c,\"data-cke-realelement\":encodeURIComponent(g),\"data-cke-real-node-type\":a.type,alt:m,title:m,align:a.attributes.align||\"\"};CKEDITOR.env.hc||(c.src=CKEDITOR.tools.transparentImageData);d&&(c[\"data-cke-real-element-type\"]=d);e&&(c[\"data-cke-resizable\"]=e,e=a.attributes,a=new f,d=e.width,e=e.height,void 0!==d&&(a.rules.width=b(d)),void 0!==e&&(a.rules.height=\nb(e)),a.populate(c));return new CKEDITOR.htmlParser.element(\"img\",c)};CKEDITOR.editor.prototype.restoreRealElement=function(b){if(b.data(\"cke-real-node-type\")!=CKEDITOR.NODE_ELEMENT)return null;var c=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(b.data(\"cke-realelement\")),this.document);if(b.data(\"cke-resizable\")){var d=b.getStyle(\"width\");b=b.getStyle(\"height\");d&&c.setAttribute(\"width\",a(c.getAttribute(\"width\"),d));b&&c.setAttribute(\"height\",a(c.getAttribute(\"height\"),b))}return c}}(),\n\"use strict\",function(){function a(a){return a.replace(/'/g,\"\\\\$\\x26\")}function f(a){for(var b,c=a.length,d=[],e=0;e<c;e++)b=a.charCodeAt(e),d.push(b);return\"String.fromCharCode(\"+d.join(\",\")+\")\"}function b(b,c){var d=b.plugins.link,e=d.compiledProtectionFunction.params,f,g;g=[d.compiledProtectionFunction.name,\"(\"];for(var h=0;h<e.length;h++)d=e[h].toLowerCase(),f=c[d],0<h&&g.push(\",\"),g.push(\"'\",f?a(encodeURIComponent(c[d])):\"\",\"'\");g.push(\")\");return g.join(\"\")}function c(a){a=a.config.emailProtection||\n\"\";var b;a&&\"encode\"!=a&&(b={},a.replace(/^([^(]+)\\(([^)]+)\\)$/,function(a,c,d){b.name=c;b.params=[];d.replace(/[^,\\s]+/g,function(a){b.params.push(a)})}));return b}CKEDITOR.plugins.add(\"link\",{requires:\"dialog,fakeobjects\",onLoad:function(){function a(b){return c.replace(/%1/g,\"rtl\"==b?\"right\":\"left\").replace(/%2/g,\"cke_contents_\"+b)}var b=\"background:url(\"+CKEDITOR.getUrl(this.path+\"images\"+(CKEDITOR.env.hidpi?\"/hidpi\":\"\")+\"/anchor.png\")+\") no-repeat %1 center;border:1px dotted #00f;background-size:16px;\",\nc=\".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{\"+b+\"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{\"+b+\"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}\";CKEDITOR.addCss(a(\"ltr\")+a(\"rtl\"))},init:function(a){var b=\"a[!href]\";CKEDITOR.dialog.isTabEnabled(a,\"link\",\"advanced\")&&(b=b.replace(\"]\",\",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)\"));CKEDITOR.dialog.isTabEnabled(a,\"link\",\"target\")&&\n(b=b.replace(\"]\",\",target,onclick]\"));a.addCommand(\"link\",new CKEDITOR.dialogCommand(\"link\",{allowedContent:b,requiredContent:\"a[href]\"}));a.addCommand(\"anchor\",new CKEDITOR.dialogCommand(\"anchor\",{allowedContent:\"a[!name,id]\",requiredContent:\"a[name]\"}));a.addCommand(\"unlink\",new CKEDITOR.unlinkCommand);a.addCommand(\"removeAnchor\",new CKEDITOR.removeAnchorCommand);a.setKeystroke(CKEDITOR.CTRL+76,\"link\");a.ui.addButton&&(a.ui.addButton(\"Link\",{label:a.lang.link.toolbar,command:\"link\",toolbar:\"links,10\"}),\na.ui.addButton(\"Unlink\",{label:a.lang.link.unlink,command:\"unlink\",toolbar:\"links,20\"}),a.ui.addButton(\"Anchor\",{label:a.lang.link.anchor.toolbar,command:\"anchor\",toolbar:\"links,30\"}));CKEDITOR.dialog.add(\"link\",this.path+\"dialogs/link.js\");CKEDITOR.dialog.add(\"anchor\",this.path+\"dialogs/anchor.js\");a.on(\"doubleclick\",function(b){var c=CKEDITOR.plugins.link.getSelectedLink(a)||b.data.element.getAscendant(\"a\",1);c&&!c.isReadOnly()&&(c.is(\"a\")?(b.data.dialog=!c.getAttribute(\"name\")||c.getAttribute(\"href\")&&\nc.getChildCount()?\"link\":\"anchor\",b.data.link=c):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,c)&&(b.data.dialog=\"anchor\"))},null,null,0);a.on(\"doubleclick\",function(b){b.data.dialog in{link:1,anchor:1}&&b.data.link&&a.getSelection().selectElement(b.data.link)},null,null,20);a.addMenuItems&&a.addMenuItems({anchor:{label:a.lang.link.anchor.menu,command:\"anchor\",group:\"anchor\",order:1},removeAnchor:{label:a.lang.link.anchor.remove,command:\"removeAnchor\",group:\"anchor\",order:5},link:{label:a.lang.link.menu,\ncommand:\"link\",group:\"link\",order:1},unlink:{label:a.lang.link.unlink,command:\"unlink\",group:\"link\",order:5}});a.contextMenu&&a.contextMenu.addListener(function(b){if(!b||b.isReadOnly())return null;b=CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b);if(!b&&!(b=CKEDITOR.plugins.link.getSelectedLink(a)))return null;var c={};b.getAttribute(\"href\")&&b.getChildCount()&&(c={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF});b&&b.hasAttribute(\"name\")&&(c.anchor=c.removeAnchor=CKEDITOR.TRISTATE_OFF);\nreturn c});this.compiledProtectionFunction=c(a)},afterInit:function(a){a.dataProcessor.dataFilter.addRules({elements:{a:function(b){return b.attributes.name?b.children.length?null:a.createFakeParserElement(b,\"cke_anchor\",\"anchor\"):null}}});var b=a._.elementsPath&&a._.elementsPath.filters;b&&b.push(function(b,c){if(\"a\"==c&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,b)||b.getAttribute(\"name\")&&(!b.getAttribute(\"href\")||!b.getChildCount())))return\"anchor\"})}});var e=/^javascript:/,l=/^mailto:([^?]+)(?:\\?(.+))?$/,\nk=/subject=([^;?:@&=$,\\/]*)/i,d=/body=([^;?:@&=$,\\/]*)/i,h=/^#(.*)$/,m=/^((?:http|https|ftp|news):\\/\\/)?(.*)$/,g=/^(_(?:self|top|parent|blank))$/,n=/^javascript:void\\(location\\.href='mailto:'\\+String\\.fromCharCode\\(([^)]+)\\)(?:\\+'(.*)')?\\)$/,p=/^javascript:([^(]+)\\(([^)]+)\\)$/,r=/\\s*window.open\\(\\s*this\\.href\\s*,\\s*(?:'([^']*)'|null)\\s*,\\s*'([^']*)'\\s*\\)\\s*;\\s*return\\s*false;*\\s*/,x=/(?:^|,)([^=]+)=(\\d+|yes|no)/gi,v={id:\"advId\",dir:\"advLangDir\",accessKey:\"advAccessKey\",name:\"advName\",lang:\"advLangCode\",\ntabindex:\"advTabIndex\",title:\"advTitle\",type:\"advContentType\",\"class\":\"advCSSClasses\",charset:\"advCharset\",style:\"advStyles\",rel:\"advRel\"};CKEDITOR.plugins.link={getSelectedLink:function(a,b){var c=a.getSelection(),d=c.getSelectedElement(),e=c.getRanges(),f=[],g;if(!b&&d&&d.is(\"a\"))return d;for(d=0;d<e.length;d++)if(g=c.getRanges()[d],g.shrink(CKEDITOR.SHRINK_TEXT,!1,{skipBogus:!0}),(g=a.elementPath(g.getCommonAncestor()).contains(\"a\",1))&&b)f.push(g);else if(g)return g;return b?f:null},getEditorAnchors:function(a){for(var b=\na.editable(),c=b.isInline()&&!a.plugins.divarea?a.document:b,b=c.getElementsByTag(\"a\"),c=c.getElementsByTag(\"img\"),d=[],e=0,f;f=b.getItem(e++);)(f.data(\"cke-saved-name\")||f.hasAttribute(\"name\"))&&d.push({name:f.data(\"cke-saved-name\")||f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});for(e=0;f=c.getItem(e++);)(f=this.tryRestoreFakeAnchor(a,f))&&d.push({name:f.getAttribute(\"name\"),id:f.getAttribute(\"id\")});return d},fakeAnchor:!0,tryRestoreFakeAnchor:function(a,b){if(b&&b.data(\"cke-real-element-type\")&&\n\"anchor\"==b.data(\"cke-real-element-type\")){var c=a.restoreRealElement(b);if(c.data(\"cke-saved-name\"))return c}},parseLinkAttributes:function(a,b){var c=b&&(b.data(\"cke-saved-href\")||b.getAttribute(\"href\"))||\"\",f=a.plugins.link.compiledProtectionFunction,q=a.config.emailProtection,w,B={};c.match(e)&&(\"encode\"==q?c=c.replace(n,function(a,b,c){c=c||\"\";return\"mailto:\"+String.fromCharCode.apply(String,b.split(\",\"))+c.replace(/\\\\'/g,\"'\")}):q&&c.replace(p,function(a,b,c){if(b==f.name){B.type=\"email\";a=B.email=\n{};b=/(^')|('$)/g;c=c.match(/[^,\\s]+/g);for(var d=c.length,e,g,h=0;h<d;h++)e=decodeURIComponent,g=c[h].replace(b,\"\").replace(/\\\\'/g,\"'\"),g=e(g),e=f.params[h].toLowerCase(),a[e]=g;a.address=[a.name,a.domain].join(\"@\")}}));if(!B.type)if(q=c.match(h))B.type=\"anchor\",B.anchor={},B.anchor.name=B.anchor.id=q[1];else if(q=c.match(l)){w=c.match(k);c=c.match(d);B.type=\"email\";var z=B.email={};z.address=q[1];w&&(z.subject=decodeURIComponent(w[1]));c&&(z.body=decodeURIComponent(c[1]))}else c&&(w=c.match(m))&&\n(B.type=\"url\",B.url={},B.url.protocol=w[1],B.url.url=w[2]);if(b){if(c=b.getAttribute(\"target\"))B.target={type:c.match(g)?c:\"frame\",name:c};else if(c=(c=b.data(\"cke-pa-onclick\")||b.getAttribute(\"onclick\"))&&c.match(r))for(B.target={type:\"popup\",name:c[1]};q=x.exec(c[2]);)\"yes\"!=q[2]&&\"1\"!=q[2]||q[1]in{height:1,width:1,top:1,left:1}?isFinite(q[2])&&(B.target[q[1]]=q[2]):B.target[q[1]]=!0;null!==b.getAttribute(\"download\")&&(B.download=!0);var c={},C;for(C in v)(q=b.getAttribute(C))&&(c[v[C]]=q);if(C=\nb.data(\"cke-saved-name\")||c.advName)c.advName=C;CKEDITOR.tools.isEmpty(c)||(B.advanced=c)}return B},getLinkAttributes:function(c,d){var e=c.config.emailProtection||\"\",g={};switch(d.type){case \"url\":var e=d.url&&void 0!==d.url.protocol?d.url.protocol:\"http://\",h=d.url&&CKEDITOR.tools.trim(d.url.url)||\"\";g[\"data-cke-saved-href\"]=0===h.indexOf(\"/\")?h:e+h;break;case \"anchor\":e=d.anchor&&d.anchor.id;g[\"data-cke-saved-href\"]=\"#\"+(d.anchor&&d.anchor.name||e||\"\");break;case \"email\":var k=d.email,h=k.address;\nswitch(e){case \"\":case \"encode\":var l=encodeURIComponent(k.subject||\"\"),m=encodeURIComponent(k.body||\"\"),k=[];l&&k.push(\"subject\\x3d\"+l);m&&k.push(\"body\\x3d\"+m);k=k.length?\"?\"+k.join(\"\\x26\"):\"\";\"encode\"==e?(e=[\"javascript:void(location.href\\x3d'mailto:'+\",f(h)],k&&e.push(\"+'\",a(k),\"'\"),e.push(\")\")):e=[\"mailto:\",h,k];break;default:e=h.split(\"@\",2),k.name=e[0],k.domain=e[1],e=[\"javascript:\",b(c,k)]}g[\"data-cke-saved-href\"]=e.join(\"\")}if(d.target)if(\"popup\"==d.target.type){for(var e=[\"window.open(this.href, '\",\nd.target.name||\"\",\"', '\"],n=\"resizable status location toolbar menubar fullscreen scrollbars dependent\".split(\" \"),h=n.length,l=function(a){d.target[a]&&n.push(a+\"\\x3d\"+d.target[a])},k=0;k<h;k++)n[k]+=d.target[n[k]]?\"\\x3dyes\":\"\\x3dno\";l(\"width\");l(\"left\");l(\"height\");l(\"top\");e.push(n.join(\",\"),\"'); return false;\");g[\"data-cke-pa-onclick\"]=e.join(\"\")}else\"notSet\"!=d.target.type&&d.target.name&&(g.target=d.target.name);d.download&&(g.download=\"\");if(d.advanced){for(var p in v)(e=d.advanced[v[p]])&&\n(g[p]=e);g.name&&(g[\"data-cke-saved-name\"]=g.name)}g[\"data-cke-saved-href\"]&&(g.href=g[\"data-cke-saved-href\"]);p={target:1,onclick:1,\"data-cke-pa-onclick\":1,\"data-cke-saved-name\":1,download:1};d.advanced&&CKEDITOR.tools.extend(p,v);for(var r in g)delete p[r];return{set:g,removed:CKEDITOR.tools.objectKeys(p)}},showDisplayTextForElement:function(a,b){var c={img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1},d=b.getSelection();return b.widgets&&b.widgets.focused||d&&1<d.getRanges().length?\n!1:!a||!a.getName||!a.is(c)}};CKEDITOR.unlinkCommand=function(){};CKEDITOR.unlinkCommand.prototype={exec:function(a){if(CKEDITOR.env.ie){var b=a.getSelection().getRanges()[0],c=b.getPreviousEditableNode()&&b.getPreviousEditableNode().getAscendant(\"a\",!0)||b.getNextEditableNode()&&b.getNextEditableNode().getAscendant(\"a\",!0),d;b.collapsed&&c&&(d=b.createBookmark(),b.selectNodeContents(c),b.select())}c=new CKEDITOR.style({element:\"a\",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1});a.removeStyle(c);\nd&&(b.moveToBookmark(d),b.select())},refresh:function(a,b){var c=b.lastElement&&b.lastElement.getAscendant(\"a\",!0);c&&\"a\"==c.getName()&&c.getAttribute(\"href\")&&c.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:\"a[href]\",editorFocus:1};CKEDITOR.removeAnchorCommand=function(){};CKEDITOR.removeAnchorCommand.prototype={exec:function(a){var b=a.getSelection(),c=b.createBookmarks(),d;if(b&&(d=b.getSelectedElement())&&\n(d.getChildCount()?d.is(\"a\"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(a,d)))d.remove(1);else if(d=CKEDITOR.plugins.link.getSelectedLink(a))d.hasAttribute(\"href\")?(d.removeAttributes({name:1,\"data-cke-saved-name\":1}),d.removeClass(\"cke_anchor\")):d.remove(1);b.selectBookmarks(c)},requiredContent:\"a[name]\"};CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),\"use strict\",function(){function a(a,b,c){return n(b)&&n(c)&&c.equals(b.getNext(function(a){return!(Z(a)||\naa(a)||p(a))}))}function f(a){this.upper=a[0];this.lower=a[1];this.set.apply(this,a.slice(2))}function b(a){var b=a.element;if(b&&n(b)&&(b=b.getAscendant(a.triggers,!0))&&a.editable.contains(b)){var c=k(b);if(\"true\"==c.getAttribute(\"contenteditable\"))return b;if(c.is(a.triggers))return c}return null}function c(a,b,c){q(a,b);q(a,c);a=b.size.bottom;c=c.size.top;return a&&c?0|(a+c)/2:a||c}function e(a,b,c){return b=b[c?\"getPrevious\":\"getNext\"](function(b){return b&&b.type==CKEDITOR.NODE_TEXT&&!Z(b)||\nn(b)&&!p(b)&&!g(a,b)})}function l(a,b,c){return a>b&&a<c}function k(a,b){if(a.data(\"cke-editable\"))return null;for(b||(a=a.getParent());a&&!a.data(\"cke-editable\");){if(a.hasAttribute(\"contenteditable\"))return a;a=a.getParent()}return null}function d(a){var b=a.doc,c=G('\\x3cspan contenteditable\\x3d\"false\" style\\x3d\"'+S+\"position:absolute;border-top:1px dashed \"+a.boxColor+'\"\\x3e\\x3c/span\\x3e',b),d=CKEDITOR.getUrl(this.path+\"images/\"+(F.hidpi?\"hidpi/\":\"\")+\"icon\"+(a.rtl?\"-rtl\":\"\")+\".png\");C(c,{attach:function(){this.wrap.getParent()||\nthis.wrap.appendTo(a.editable,!0);return this},lineChildren:[C(G('\\x3cspan title\\x3d\"'+a.editor.lang.magicline.title+'\" contenteditable\\x3d\"false\"\\x3e\\x26#8629;\\x3c/span\\x3e',b),{base:S+\"height:17px;width:17px;\"+(a.rtl?\"left\":\"right\")+\":17px;background:url(\"+d+\") center no-repeat \"+a.boxColor+\";cursor:pointer;\"+(F.hc?\"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;\":\"\")+(F.hidpi?\"background-size: 9px 10px;\":\"\"),looks:[\"top:-8px; border-radius: 2px;\",\"top:-17px; border-radius: 2px 2px 0px 0px;\",\n\"top:-1px; border-radius: 0px 0px 2px 2px;\"]}),C(G(Y,b),{base:R+\"left:0px;border-left-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 0 8px 8px;top:-8px\",\"border-width:8px 0 0 8px;top:-8px\",\"border-width:0 0 8px 8px;top:0px\"]}),C(G(Y,b),{base:R+\"right:0px;border-right-color:\"+a.boxColor+\";\",looks:[\"border-width:8px 8px 8px 0;top:-8px\",\"border-width:8px 8px 0 0;top:-8px\",\"border-width:0 8px 8px 0;top:0px\"]})],detach:function(){this.wrap.getParent()&&this.wrap.remove();return this},mouseNear:function(){q(a,\nthis);var b=a.holdDistance,c=this.size;return c&&l(a.mouse.y,c.top-b,c.bottom+b)&&l(a.mouse.x,c.left-b,c.right+b)?!0:!1},place:function(){var b=a.view,c=a.editable,d=a.trigger,e=d.upper,f=d.lower,g=e||f,h=g.getParent(),k={};this.trigger=d;e&&q(a,e,!0);f&&q(a,f,!0);q(a,h,!0);a.inInlineMode&&w(a,!0);h.equals(c)?(k.left=b.scroll.x,k.right=-b.scroll.x,k.width=\"\"):(k.left=g.size.left-g.size.margin.left+b.scroll.x-(a.inInlineMode?b.editable.left+b.editable.border.left:0),k.width=g.size.outerWidth+g.size.margin.left+\ng.size.margin.right+b.scroll.x,k.right=\"\");e&&f?k.top=e.size.margin.bottom===f.size.margin.top?0|e.size.bottom+e.size.margin.bottom/2:e.size.margin.bottom<f.size.margin.top?e.size.bottom+e.size.margin.bottom:e.size.bottom+e.size.margin.bottom-f.size.margin.top:e?f||(k.top=e.size.bottom+e.size.margin.bottom):k.top=f.size.top-f.size.margin.top;d.is(O)||l(k.top,b.scroll.y-15,b.scroll.y+5)?(k.top=a.inInlineMode?0:b.scroll.y,this.look(O)):d.is(K)||l(k.top,b.pane.bottom-5,b.pane.bottom+15)?(k.top=a.inInlineMode?\nb.editable.height+b.editable.padding.top+b.editable.padding.bottom:b.pane.bottom-1,this.look(K)):(a.inInlineMode&&(k.top-=b.editable.top+b.editable.border.top),this.look(U));a.inInlineMode&&(k.top--,k.top+=b.editable.scroll.top,k.left+=b.editable.scroll.left);for(var m in k)k[m]=CKEDITOR.tools.cssLength(k[m]);this.setStyles(k)},look:function(a){if(this.oldLook!=a){for(var b=this.lineChildren.length,c;b--;)(c=this.lineChildren[b]).setAttribute(\"style\",c.base+c.looks[0|a/2]);this.oldLook=a}},wrap:new E(\"span\",\na.doc)});for(b=c.lineChildren.length;b--;)c.lineChildren[b].appendTo(c);c.look(U);c.appendTo(c.wrap);c.unselectable();c.lineChildren[0].on(\"mouseup\",function(b){c.detach();h(a,function(b){var c=a.line.trigger;b[c.is(L)?\"insertBefore\":\"insertAfter\"](c.is(L)?c.lower:c.upper)},!0);a.editor.focus();F.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();b.data.preventDefault(!0)});c.on(\"mousedown\",function(a){a.data.preventDefault(!0)});a.line=c}function h(a,b,c){var d=new CKEDITOR.dom.range(a.doc),\ne=a.editor,f;F.ie&&a.enterMode==CKEDITOR.ENTER_BR?f=a.doc.createText(V):(f=(f=k(a.element,!0))&&f.data(\"cke-enter-mode\")||a.enterMode,f=new E(M[f],a.doc),f.is(\"br\")||a.doc.createText(V).appendTo(f));c&&e.fire(\"saveSnapshot\");b(f);d.moveToPosition(f,CKEDITOR.POSITION_AFTER_START);e.getSelection().selectRanges([d]);a.hotNode=f;c&&e.fire(\"saveSnapshot\")}function m(a,c){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function d(b){var e=F.ie&&9>F.version?\" \":V,f=a.hotNode&&a.hotNode.getText()==e&&\na.element.equals(a.hotNode)&&a.lastCmdDirection===!!c;h(a,function(d){f&&a.hotNode&&a.hotNode.remove();d[c?\"insertAfter\":\"insertBefore\"](b);d.setAttributes({\"data-cke-magicline-hot\":1,\"data-cke-magicline-dir\":!!c});a.lastCmdDirection=!!c});F.ie||a.enterMode==CKEDITOR.ENTER_BR||a.hotNode.scrollIntoView();a.line.detach()}return function(f){f=f.getSelection().getStartElement();var g;f=f.getAscendant(Q,1);if(!v(a,f)&&f&&!f.equals(a.editable)&&!f.contains(a.editable)){(g=k(f))&&\"false\"==g.getAttribute(\"contenteditable\")&&\n(f=g);a.element=f;g=e(a,f,!c);var h;n(g)&&g.is(a.triggers)&&g.is(P)&&(!e(a,g,!c)||(h=e(a,g,!c))&&n(h)&&h.is(a.triggers))?d(g):(h=b(a,f),n(h)&&(e(a,h,!c)?(f=e(a,h,!c))&&n(f)&&f.is(a.triggers)&&d(h):d(h)))}}}()}}function g(a,b){if(!b||b.type!=CKEDITOR.NODE_ELEMENT||!b.$)return!1;var c=a.line;return c.wrap.equals(b)||c.wrap.contains(b)}function n(a){return a&&a.type==CKEDITOR.NODE_ELEMENT&&a.$}function p(a){if(!n(a))return!1;var b;(b=r(a))||(n(a)?(b={left:1,right:1,center:1},b=!(!b[a.getComputedStyle(\"float\")]&&\n!b[a.getAttribute(\"align\")])):b=!1);return b}function r(a){return!!{absolute:1,fixed:1}[a.getComputedStyle(\"position\")]}function x(a,b){return n(b)?b.is(a.triggers):null}function v(a,b){if(!b)return!1;for(var c=b.getParents(1),d=c.length;d--;)for(var e=a.tabuList.length;e--;)if(c[d].hasAttribute(a.tabuList[e]))return!0;return!1}function u(a,b,c){b=b[c?\"getLast\":\"getFirst\"](function(b){return a.isRelevant(b)&&!b.is(fa)});if(!b)return!1;q(a,b);return c?b.size.top>a.mouse.y:b.size.bottom<a.mouse.y}function t(a){var b=\na.editable,c=a.mouse,d=a.view,e=a.triggerOffset;w(a);var h=c.y>(a.inInlineMode?d.editable.top+d.editable.height/2:Math.min(d.editable.height,d.pane.height)/2),b=b[h?\"getLast\":\"getFirst\"](function(a){return!(Z(a)||aa(a))});if(!b)return null;g(a,b)&&(b=a.line.wrap[h?\"getPrevious\":\"getNext\"](function(a){return!(Z(a)||aa(a))}));if(!n(b)||p(b)||!x(a,b))return null;q(a,b);return!h&&0<=b.size.top&&l(c.y,0,b.size.top+e)?(a=a.inInlineMode||0===d.scroll.y?O:U,new f([null,b,L,I,a])):h&&b.size.bottom<=d.pane.height&&\nl(c.y,b.size.bottom-e,d.pane.height)?(a=a.inInlineMode||l(b.size.bottom,d.pane.height-e,d.pane.height)?K:U,new f([b,null,D,I,a])):null}function y(a){var c=a.mouse,d=a.view,g=a.triggerOffset,h=b(a);if(!h)return null;q(a,h);var g=Math.min(g,0|h.size.outerHeight/2),k=[],m,t;if(l(c.y,h.size.top-1,h.size.top+g))t=!1;else if(l(c.y,h.size.bottom-g,h.size.bottom+1))t=!0;else return null;if(p(h)||u(a,h,t)||h.getParent().is(ca))return null;var v=e(a,h,!t);if(v){if(v&&v.type==CKEDITOR.NODE_TEXT)return null;\nif(n(v)){if(p(v)||!x(a,v)||v.getParent().is(ca))return null;k=[v,h][t?\"reverse\":\"concat\"]().concat([T,I])}}else h.equals(a.editable[t?\"getLast\":\"getFirst\"](a.isRelevant))?(w(a),t&&l(c.y,h.size.bottom-g,d.pane.height)&&l(h.size.bottom,d.pane.height-g,d.pane.height)?m=K:l(c.y,0,h.size.top+g)&&(m=O)):m=U,k=[null,h][t?\"reverse\":\"concat\"]().concat([t?D:L,I,m,h.equals(a.editable[t?\"getLast\":\"getFirst\"](a.isRelevant))?t?K:O:U]);return 0 in k?new f(k):null}function A(a,b,c,d){for(var e=b.getDocumentPosition(),\nf={},g={},h={},k={},l=ba.length;l--;)f[ba[l]]=parseInt(b.getComputedStyle.call(b,\"border-\"+ba[l]+\"-width\"),10)||0,h[ba[l]]=parseInt(b.getComputedStyle.call(b,\"padding-\"+ba[l]),10)||0,g[ba[l]]=parseInt(b.getComputedStyle.call(b,\"margin-\"+ba[l]),10)||0;c&&!d||B(a,d);k.top=e.y-(c?0:a.view.scroll.y);k.left=e.x-(c?0:a.view.scroll.x);k.outerWidth=b.$.offsetWidth;k.outerHeight=b.$.offsetHeight;k.height=k.outerHeight-(h.top+h.bottom+f.top+f.bottom);k.width=k.outerWidth-(h.left+h.right+f.left+f.right);k.bottom=\nk.top+k.outerHeight;k.right=k.left+k.outerWidth;a.inInlineMode&&(k.scroll={top:b.$.scrollTop,left:b.$.scrollLeft});return C({border:f,padding:h,margin:g,ignoreScroll:c},k,!0)}function q(a,b,c){if(!n(b))return b.size=null;if(!b.size)b.size={};else if(b.size.ignoreScroll==c&&b.size.date>new Date-N)return null;return C(b.size,A(a,b,c),{date:+new Date},!0)}function w(a,b){a.view.editable=A(a,a.editable,b,!0)}function B(a,b){a.view||(a.view={});var c=a.view;if(!(!b&&c&&c.date>new Date-N)){var d=a.win,\nc=d.getScrollPosition(),d=d.getViewPaneSize();C(a.view,{scroll:{x:c.x,y:c.y,width:a.doc.$.documentElement.scrollWidth-d.width,height:a.doc.$.documentElement.scrollHeight-d.height},pane:{width:d.width,height:d.height,bottom:d.height+c.y},date:+new Date},!0)}}function z(a,b,c,d){for(var e=d,g=d,h=0,k=!1,l=!1,m=a.view.pane.height,q=a.mouse;q.y+h<m&&0<q.y-h;){k||(k=b(e,d));l||(l=b(g,d));!k&&0<q.y-h&&(e=c(a,{x:q.x,y:q.y-h}));!l&&q.y+h<m&&(g=c(a,{x:q.x,y:q.y+h}));if(k&&l)break;h+=2}return new f([e,g,null,\nnull])}CKEDITOR.plugins.add(\"magicline\",{init:function(a){var c=a.config,k=c.magicline_triggerOffset||30,l={editor:a,enterMode:c.enterMode,triggerOffset:k,holdDistance:0|k*(c.magicline_holdDistance||.5),boxColor:c.magicline_color||\"#ff0000\",rtl:\"rtl\"==c.contentsLangDirection,tabuList:[\"data-cke-hidden-sel\"].concat(c.magicline_tabuList||[]),triggers:c.magicline_everywhere?Q:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1}},q,u,z;l.isRelevant=function(a){return n(a)&&!g(l,a)&&!p(a)};a.on(\"contentDom\",\nfunction(){var k=a.editable(),n=a.document,p=a.window;C(l,{editable:k,inInlineMode:k.isInline(),doc:n,win:p,hotNode:null},!0);l.boundary=l.inInlineMode?l.editable:l.doc.getDocumentElement();k.is(H.$inline)||(l.inInlineMode&&!r(k)&&k.setStyles({position:\"relative\",top:null,left:null}),d.call(this,l),B(l),k.attachListener(a,\"beforeUndoImage\",function(){l.line.detach()}),k.attachListener(a,\"beforeGetData\",function(){l.line.wrap.getParent()&&(l.line.detach(),a.once(\"getData\",function(){l.line.attach()},\nnull,null,1E3))},null,null,0),k.attachListener(l.inInlineMode?n:n.getWindow().getFrame(),\"mouseout\",function(b){if(\"wysiwyg\"==a.mode)if(l.inInlineMode){var c=b.data.$.clientX;b=b.data.$.clientY;B(l);w(l,!0);var d=l.view.editable,e=l.view.scroll;c>d.left-e.x&&c<d.right-e.x&&b>d.top-e.y&&b<d.bottom-e.y||(clearTimeout(z),z=null,l.line.detach())}else clearTimeout(z),z=null,l.line.detach()}),k.attachListener(k,\"keyup\",function(){l.hiddenMode=0}),k.attachListener(k,\"keydown\",function(b){if(\"wysiwyg\"==a.mode)switch(b.data.getKeystroke()){case 2228240:case 16:l.hiddenMode=\n1,l.line.detach()}}),k.attachListener(l.inInlineMode?k:n,\"mousemove\",function(b){u=!0;if(\"wysiwyg\"==a.mode&&!a.readOnly&&!z){var c={x:b.data.$.clientX,y:b.data.$.clientY};z=setTimeout(function(){l.mouse=c;z=l.trigger=null;B(l);u&&!l.hiddenMode&&a.focusManager.hasFocus&&!l.line.mouseNear()&&(l.element=W(l,!0))&&((l.trigger=t(l)||y(l)||X(l))&&!v(l,l.trigger.upper||l.trigger.lower)?l.line.attach().place():(l.trigger=null,l.line.detach()),u=!1)},30)}}),k.attachListener(p,\"scroll\",function(){\"wysiwyg\"==\na.mode&&(l.line.detach(),F.webkit&&(l.hiddenMode=1,clearTimeout(q),q=setTimeout(function(){l.mouseDown||(l.hiddenMode=0)},50)))}),k.attachListener(J?n:p,\"mousedown\",function(){\"wysiwyg\"==a.mode&&(l.line.detach(),l.hiddenMode=1,l.mouseDown=1)}),k.attachListener(J?n:p,\"mouseup\",function(){l.hiddenMode=0;l.mouseDown=0}),a.addCommand(\"accessPreviousSpace\",m(l)),a.addCommand(\"accessNextSpace\",m(l,!0)),a.setKeystroke([[c.magicline_keystrokePrevious,\"accessPreviousSpace\"],[c.magicline_keystrokeNext,\"accessNextSpace\"]]),\na.on(\"loadSnapshot\",function(){var b,c,d,e;for(e in{p:1,br:1,div:1})for(b=a.document.getElementsByTag(e),d=b.count();d--;)if((c=b.getItem(d)).data(\"cke-magicline-hot\")){l.hotNode=c;l.lastCmdDirection=\"true\"===c.data(\"cke-magicline-dir\")?!0:!1;return}}),this.backdoor={accessFocusSpace:h,boxTrigger:f,isLine:g,getAscendantTrigger:b,getNonEmptyNeighbour:e,getSize:A,that:l,triggerEdge:y,triggerEditable:t,triggerExpand:X})},this)}});var C=CKEDITOR.tools.extend,E=CKEDITOR.dom.element,G=E.createFromHtml,\nF=CKEDITOR.env,J=CKEDITOR.env.ie&&9>CKEDITOR.env.version,H=CKEDITOR.dtd,M={},L=128,D=64,T=32,I=16,O=4,K=2,U=1,V=\"Â \",ca=H.$listItem,fa=H.$tableContent,P=C({},H.$nonEditable,H.$empty),Q=H.$block,N=100,S=\"width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;\",R=S+\"border-color:transparent;display:block;border-style:solid;\",Y=\"\\x3cspan\\x3e\"+V+\"\\x3c/span\\x3e\";M[CKEDITOR.ENTER_BR]=\"br\";M[CKEDITOR.ENTER_P]=\"p\";M[CKEDITOR.ENTER_DIV]=\n\"div\";f.prototype={set:function(a,b,c){this.properties=a+b+(c||U);return this},is:function(a){return(this.properties&a)==a}};var W=function(){function a(b,c){var d=b.$.elementFromPoint(c.x,c.y);return d&&d.nodeType?new CKEDITOR.dom.element(d):null}return function(b,c,d){if(!b.mouse)return null;var e=b.doc,f=b.line.wrap;d=d||b.mouse;var h=a(e,d);c&&g(b,h)&&(f.hide(),h=a(e,d),f.show());return!h||h.type!=CKEDITOR.NODE_ELEMENT||!h.$||F.ie&&9>F.version&&!b.boundary.equals(h)&&!b.boundary.contains(h)?null:\nh}}(),Z=CKEDITOR.dom.walker.whitespaces(),aa=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function b(e){var f=e.element,g,h,k;if(!n(f)||f.contains(e.editable)||f.isReadOnly())return null;k=z(e,function(a,b){return!b.equals(a)},function(a,b){return W(a,!0,b)},f);g=k.upper;h=k.lower;if(a(e,g,h))return k.set(T,8);if(g&&f.contains(g))for(;!g.getParent().equals(f);)g=g.getParent();else g=f.getFirst(function(a){return d(e,a)});if(h&&f.contains(h))for(;!h.getParent().equals(f);)h=h.getParent();\nelse h=f.getLast(function(a){return d(e,a)});if(!g||!h)return null;q(e,g);q(e,h);if(!l(e.mouse.y,g.size.top,h.size.bottom))return null;for(var f=Number.MAX_VALUE,m,t,w,p;h&&!h.equals(g)&&(t=g.getNext(e.isRelevant));)m=Math.abs(c(e,g,t)-e.mouse.y),m<f&&(f=m,w=g,p=t),g=t,q(e,g);if(!w||!p||!l(e.mouse.y,w.size.top,p.size.bottom))return null;k.upper=w;k.lower=p;return k.set(T,8)}function d(a,b){return!(b&&b.type==CKEDITOR.NODE_TEXT||aa(b)||p(b)||g(a,b)||b.type==CKEDITOR.NODE_ELEMENT&&b.$&&b.is(\"br\"))}\nreturn function(c){var d=b(c),e;if(e=d){e=d.upper;var f=d.lower;e=!e||!f||p(f)||p(e)||f.equals(e)||e.equals(f)||f.contains(e)||e.contains(f)?!1:x(c,e)&&x(c,f)&&a(c,e,f)?!0:!1}return e?d:null}}(),ba=[\"top\",\"left\",\"right\",\"bottom\"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function a(a){if(!a||a.type!=CKEDITOR.NODE_ELEMENT||\"form\"!=a.getName())return[];for(var b=[],c=[\"style\",\"className\"],\ne=0;e<c.length;e++){var f=a.$.elements.namedItem(c[e]);f&&(f=new CKEDITOR.dom.element(f),b.push([f,f.nextSibling]),f.remove())}return b}function f(a,b){if(a&&a.type==CKEDITOR.NODE_ELEMENT&&\"form\"==a.getName()&&0<b.length)for(var c=b.length-1;0<=c;c--){var e=b[c][0],f=b[c][1];f?e.insertBefore(f):e.appendTo(a)}}function b(b,c){var d=a(b),e={},m=b.$;c||(e[\"class\"]=m.className||\"\",m.className=\"\");e.inline=m.style.cssText||\"\";c||(m.style.cssText=\"position: static; overflow: visible\");f(d);return e}function c(b,\nc){var d=a(b),e=b.$;\"class\"in c&&(e.className=c[\"class\"]);\"inline\"in c&&(e.style.cssText=c.inline);f(d)}function e(a){if(!a.editable().isInline()){var b=CKEDITOR.instances,c;for(c in b){var e=b[c];\"wysiwyg\"!=e.mode||e.readOnly||(e=e.document.getBody(),e.setAttribute(\"contentEditable\",!1),e.setAttribute(\"contentEditable\",!0))}a.editable().hasFocus&&(a.toolbox.focus(),a.focus())}}CKEDITOR.plugins.add(\"maximize\",{init:function(a){function f(){var b=m.getViewPaneSize();a.resize(b.width,b.height,null,\n!0)}if(a.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var d=a.lang,h=CKEDITOR.document,m=h.getWindow(),g,n,p,r=CKEDITOR.TRISTATE_OFF;a.addCommand(\"maximize\",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var x=a.container.getFirst(function(a){return a.type==CKEDITOR.NODE_ELEMENT&&a.hasClass(\"cke_inner\")}),v=a.ui.space(\"contents\");if(\"wysiwyg\"==a.mode){var u=a.getSelection();g=u&&u.getRanges();n=m.getScrollPosition()}else{var t=a.editable().$;g=\n!CKEDITOR.env.ie&&[t.selectionStart,t.selectionEnd];n=[t.scrollLeft,t.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){m.on(\"resize\",f);p=m.getScrollPosition();for(u=a.container;u=u.getParent();)u.setCustomData(\"maximize_saved_styles\",b(u)),u.setStyle(\"z-index\",a.config.baseFloatZIndex-5);v.setCustomData(\"maximize_saved_styles\",b(v,!0));x.setCustomData(\"maximize_saved_styles\",b(x,!0));v={overflow:CKEDITOR.env.webkit?\"\":\"hidden\",width:0,height:0};h.getDocumentElement().setStyles(v);!CKEDITOR.env.gecko&&\nh.getDocumentElement().setStyle(\"position\",\"fixed\");CKEDITOR.env.gecko&&CKEDITOR.env.quirks||h.getBody().setStyles(v);CKEDITOR.env.ie?setTimeout(function(){m.$.scrollTo(0,0)},0):m.$.scrollTo(0,0);x.setStyle(\"position\",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?\"fixed\":\"absolute\");x.$.offsetLeft;x.setStyles({\"z-index\":a.config.baseFloatZIndex-5,left:\"0px\",top:\"0px\"});x.addClass(\"cke_maximized\");f();v=x.getDocumentPosition();x.setStyles({left:-1*v.x+\"px\",top:-1*v.y+\"px\"});CKEDITOR.env.gecko&&e(a)}else if(this.state==\nCKEDITOR.TRISTATE_ON){m.removeListener(\"resize\",f);for(var u=[v,x],y=0;y<u.length;y++)c(u[y],u[y].getCustomData(\"maximize_saved_styles\")),u[y].removeCustomData(\"maximize_saved_styles\");for(u=a.container;u=u.getParent();)c(u,u.getCustomData(\"maximize_saved_styles\")),u.removeCustomData(\"maximize_saved_styles\");CKEDITOR.env.ie?setTimeout(function(){m.$.scrollTo(p.x,p.y)},0):m.$.scrollTo(p.x,p.y);x.removeClass(\"cke_maximized\");CKEDITOR.env.webkit&&(x.setStyle(\"display\",\"inline\"),setTimeout(function(){x.setStyle(\"display\",\n\"block\")},0));a.fire(\"resize\",{outerHeight:a.container.$.offsetHeight,contentsHeight:v.$.offsetHeight,outerWidth:a.container.$.offsetWidth})}this.toggleState();if(u=this.uiItems[0])v=this.state==CKEDITOR.TRISTATE_OFF?d.maximize.maximize:d.maximize.minimize,u=CKEDITOR.document.getById(u._.id),u.getChild(1).setHtml(v),u.setAttribute(\"title\",v),u.setAttribute(\"href\",'javascript:void(\"'+v+'\");');\"wysiwyg\"==a.mode?g?(CKEDITOR.env.gecko&&e(a),a.getSelection().selectRanges(g),(t=a.getSelection().getStartElement())&&\nt.scrollIntoView(!0)):m.$.scrollTo(n.x,n.y):(g&&(t.selectionStart=g[0],t.selectionEnd=g[1]),t.scrollLeft=n[0],t.scrollTop=n[1]);g=n=null;r=this.state;a.fire(\"maximize\",this.state)},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"Maximize\",{label:d.maximize.maximize,command:\"maximize\",toolbar:\"tools,10\"});a.on(\"mode\",function(){var b=a.getCommand(\"maximize\");b.setState(b.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:r)},null,null,100)}}})}(),function(){function a(a,b,c){var e=CKEDITOR.cleanWord;\ne?c():(a=CKEDITOR.getUrl(a.config.pasteFromWordCleanupFile||b+\"filter/default.js\"),CKEDITOR.scriptLoader.load(a,c,null,!0));return!e}CKEDITOR.plugins.add(\"pastefromword\",{requires:\"clipboard\",init:function(f){var b=0,c=this.path;f.addCommand(\"pastefromword\",{canUndo:!1,async:!0,exec:function(a,c){b=1;a.execCommand(\"paste\",{type:\"html\",notification:c&&\"undefined\"!==typeof c.notification?c.notification:!0})}});f.ui.addButton&&f.ui.addButton(\"PasteFromWord\",{label:f.lang.pastefromword.toolbar,command:\"pastefromword\",\ntoolbar:\"clipboard,50\"});f.on(\"paste\",function(e){var l=e.data,k=(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?l.dataTransfer.getData(\"text/html\",!0):null)||l.dataValue,d={dataValue:k},h=/(class=\\\"?Mso|style=(?:\\\"|\\')[^\\\"]*?\\bmso\\-|w:WordDocument|<o:\\w+>|<\\/font>)/,h=/<meta\\s*name=(?:\\\"|\\')?generator(?:\\\"|\\')?\\s*content=(?:\\\"|\\')?microsoft/gi.test(k)||h.test(k);if(k&&(b||h)&&(!1!==f.fire(\"pasteFromWord\",d)||b)){l.dontFilter=!0;var m=a(f,c,function(){if(m)f.fire(\"paste\",l);else if(!f.config.pasteFromWordPromptCleanup||\nb||confirm(f.lang.pastefromword.confirmCleanup))d.dataValue=CKEDITOR.cleanWord(d.dataValue,f),f.fire(\"afterPasteFromWord\",d),l.dataValue=d.dataValue;b=0});m&&e.cancel()}},null,null,3)}})}(),function(){var a={canUndo:!1,async:!0,exec:function(a,b){var c=a.lang,e=CKEDITOR.tools.keystrokeToString(c.common.keyboard,a.getCommandKeystroke(CKEDITOR.env.ie?a.commands.paste:this)),l=b&&\"undefined\"!==typeof b.notification?b.notification:!b||!b.from||\"keystrokeHandler\"===b.from&&CKEDITOR.env.ie,c=l&&\"string\"===\ntypeof l?l:c.pastetext.pasteNotification.replace(/%1/,'\\x3ckbd aria-label\\x3d\"'+e.aria+'\"\\x3e'+e.display+\"\\x3c/kbd\\x3e\");a.execCommand(\"paste\",{type:\"text\",notification:l?c:!1})}};CKEDITOR.plugins.add(\"pastetext\",{requires:\"clipboard\",init:function(f){var b=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;f.addCommand(\"pastetext\",a);f.setKeystroke(b,\"pastetext\");f.ui.addButton&&f.ui.addButton(\"PasteText\",{label:f.lang.pastetext.button,command:\"pastetext\",\ntoolbar:\"clipboard,40\"});if(f.config.forcePasteAsPlainText)f.on(\"beforePaste\",function(a){\"html\"!=a.data.type&&(a.data.type=\"text\")});f.on(\"pasteState\",function(a){f.getCommand(\"pastetext\").setState(a.data)})}})}(),CKEDITOR.plugins.add(\"removeformat\",{init:function(a){a.addCommand(\"removeFormat\",CKEDITOR.plugins.removeformat.commands.removeformat);a.ui.addButton&&a.ui.addButton(\"RemoveFormat\",{label:a.lang.removeformat.toolbar,command:\"removeFormat\",toolbar:\"cleanup,10\"})}}),CKEDITOR.plugins.removeformat=\n{commands:{removeformat:{exec:function(a){for(var f=a._.removeFormatRegex||(a._.removeFormatRegex=new RegExp(\"^(?:\"+a.config.removeFormatTags.replace(/,/g,\"|\")+\")$\",\"i\")),b=a._.removeAttributes||(a._.removeAttributes=a.config.removeFormatAttributes.split(\",\")),c=CKEDITOR.plugins.removeformat.filter,e=a.getSelection().getRanges(),l=e.createIterator(),k=function(a){return a.type==CKEDITOR.NODE_ELEMENT},d;d=l.getNextRange();){d.collapsed||d.enlarge(CKEDITOR.ENLARGE_ELEMENT);var h=d.createBookmark(),\nm=h.startNode,g=h.endNode,n=function(b){for(var d=a.elementPath(b),e=d.elements,g=1,h;(h=e[g])&&!h.equals(d.block)&&!h.equals(d.blockLimit);g++)f.test(h.getName())&&c(a,h)&&b.breakParent(h)};n(m);if(g)for(n(g),m=m.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);m&&!m.equals(g);)if(m.isReadOnly()){if(m.getPosition(g)&CKEDITOR.POSITION_CONTAINS)break;m=m.getNext(k)}else n=m.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),\"img\"==m.getName()&&m.data(\"cke-realelement\")||!c(a,m)||(f.test(m.getName())?m.remove(1):\n(m.removeAttributes(b),a.fire(\"removeFormatCleanup\",m))),m=n;d.moveToBookmark(h)}a.forceNextSelectionCheck();a.getSelection().selectRanges(e)}}},filter:function(a,f){for(var b=a._.removeFormatFilters||[],c=0;c<b.length;c++)if(!1===b[c](f))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(a){this._.removeFormatFilters||(this._.removeFormatFilters=[]);this._.removeFormatFilters.push(a)},CKEDITOR.config.removeFormatTags=\"b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var\",\nCKEDITOR.config.removeFormatAttributes=\"class,style,lang,width,height,align,hspace,valign\",CKEDITOR.plugins.add(\"resize\",{init:function(a){function f(b){var e=h.width,f=h.height,k=e+(b.data.$.screenX-d.x)*(\"rtl\"==l?-1:1);b=f+(b.data.$.screenY-d.y);m&&(e=Math.max(c.resize_minWidth,Math.min(k,c.resize_maxWidth)));g&&(f=Math.max(c.resize_minHeight,Math.min(b,c.resize_maxHeight)));a.resize(m?e:null,f)}function b(){CKEDITOR.document.removeListener(\"mousemove\",f);CKEDITOR.document.removeListener(\"mouseup\",\nb);a.document&&(a.document.removeListener(\"mousemove\",f),a.document.removeListener(\"mouseup\",b))}var c=a.config,e=a.ui.spaceId(\"resizer\"),l=a.element?a.element.getDirection(1):\"ltr\";!c.resize_dir&&(c.resize_dir=\"vertical\");void 0===c.resize_maxWidth&&(c.resize_maxWidth=3E3);void 0===c.resize_maxHeight&&(c.resize_maxHeight=3E3);void 0===c.resize_minWidth&&(c.resize_minWidth=750);void 0===c.resize_minHeight&&(c.resize_minHeight=250);if(!1!==c.resize_enabled){var k=null,d,h,m=(\"both\"==c.resize_dir||\n\"horizontal\"==c.resize_dir)&&c.resize_minWidth!=c.resize_maxWidth,g=(\"both\"==c.resize_dir||\"vertical\"==c.resize_dir)&&c.resize_minHeight!=c.resize_maxHeight,n=CKEDITOR.tools.addFunction(function(e){k||(k=a.getResizable());h={width:k.$.offsetWidth||0,height:k.$.offsetHeight||0};d={x:e.screenX,y:e.screenY};c.resize_minWidth>h.width&&(c.resize_minWidth=h.width);c.resize_minHeight>h.height&&(c.resize_minHeight=h.height);CKEDITOR.document.on(\"mousemove\",f);CKEDITOR.document.on(\"mouseup\",b);a.document&&\n(a.document.on(\"mousemove\",f),a.document.on(\"mouseup\",b));e.preventDefault&&e.preventDefault()});a.on(\"destroy\",function(){CKEDITOR.tools.removeFunction(n)});a.on(\"uiSpace\",function(b){if(\"bottom\"==b.data.space){var c=\"\";m&&!g&&(c=\" cke_resizer_horizontal\");!m&&g&&(c=\" cke_resizer_vertical\");var d='\\x3cspan id\\x3d\"'+e+'\" class\\x3d\"cke_resizer'+c+\" cke_resizer_\"+l+'\" title\\x3d\"'+CKEDITOR.tools.htmlEncode(a.lang.common.resize)+'\" onmousedown\\x3d\"CKEDITOR.tools.callFunction('+n+', event)\"\\x3e'+(\"ltr\"==\nl?\"â¢\":\"â£\")+\"\\x3c/span\\x3e\";\"ltr\"==l&&\"ltr\"==c?b.data.html+=d:b.data.html=d+b.data.html}},a,null,100);a.on(\"maximize\",function(b){a.ui.space(\"resizer\")[b.data==CKEDITOR.TRISTATE_ON?\"hide\":\"show\"]()})}}}),CKEDITOR.plugins.add(\"menubutton\",{requires:\"button,menu\",onLoad:function(){var a=function(a){var b=this._,c=b.menu;b.state!==CKEDITOR.TRISTATE_DISABLED&&(b.on&&c?c.hide():(b.previousState=b.state,c||(c=b.menu=new CKEDITOR.menu(a,{panel:{className:\"cke_menu_panel\",attributes:{\"aria-label\":a.lang.common.options}}}),\nc.onHide=CKEDITOR.tools.bind(function(){var c=this.command?a.getCommand(this.command).modes:this.modes;this.setState(!c||c[a.mode]?b.previousState:CKEDITOR.TRISTATE_DISABLED);b.on=0},this),this.onMenu&&c.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),b.on=1,setTimeout(function(){c.show(CKEDITOR.document.getById(b.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(f){delete f.panel;this.base(f);this.hasArrow=!0;this.click=a},statics:{handler:{create:function(a){return new CKEDITOR.ui.menuButton(a)}}}})},\nbeforeInit:function(a){a.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON=\"menubutton\",\"use strict\",CKEDITOR.plugins.add(\"scayt\",{requires:\"menubutton,dialog\",tabToOpen:null,dialogName:\"scaytDialog\",onLoad:function(a){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime();\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/scayt.css\");CKEDITOR.document.appendStyleSheet(this.path+\n\"dialogs/dialog.css\")},init:function(a){var f=this,b=CKEDITOR.plugins.scayt;this.bindEvents(a);this.parseConfig(a);this.addRule(a);CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+\"dialogs/options.js\"));this.addMenuItems(a);var c=a.lang.scayt,e=CKEDITOR.env;a.ui.add(\"Scayt\",CKEDITOR.UI_MENUBUTTON,{label:c.text_title,title:a.plugins.wsc?a.lang.wsc.title:c.text_title,modes:{wysiwyg:!(e.ie&&(8>e.version||e.quirks))},toolbar:\"spellchecker,20\",refresh:function(){var c=a.ui.instances.Scayt.getState();\na.scayt&&(c=b.state.scayt[a.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF);a.fire(\"scaytButtonState\",c)},onRender:function(){var b=this;a.on(\"scaytButtonState\",function(a){void 0!==typeof a.data&&b.setState(a.data)})},onMenu:function(){var c=a.scayt;a.getMenuItem(\"scaytToggle\").label=a.lang.scayt[c&&b.state.scayt[a.name]?\"btn_disable\":\"btn_enable\"];var e={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,\nscaytDict:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:c?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:a.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};a.config.scayt_uiTabs[0]||delete e.scaytOptions;a.config.scayt_uiTabs[1]||delete e.scaytLangs;a.config.scayt_uiTabs[2]||delete e.scaytDict;c&&!CKEDITOR.plugins.scayt.isNewUdSupported(c)&&(delete e.scaytDict,a.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage());return e}});a.contextMenu&&\na.addMenuItems&&(a.contextMenu.addListener(function(b,c){var d=a.scayt,e,m;d&&(m=d.getSelectionNode())&&(e=f.menuGenerator(a,m),d.showBanner(\".\"+a.contextMenu._.definition.panel.className.split(\" \").join(\" .\")));return e}),a.contextMenu._.onHide=CKEDITOR.tools.override(a.contextMenu._.onHide,function(b){return function(){var c=a.scayt;c&&c.hideBanner();return b.apply(this)}}))},addMenuItems:function(a){var f=this,b=CKEDITOR.plugins.scayt;a.addMenuGroup(\"scaytButton\");for(var c=a.config.scayt_contextMenuItemsOrder.split(\"|\"),\ne=0;e<c.length;e++)c[e]=\"scayt_\"+c[e];if((c=[\"grayt_description\",\"grayt_suggest\",\"grayt_control\"].concat(c))&&c.length)for(e=0;e<c.length;e++)a.addMenuGroup(c[e],e-10);a.addCommand(\"scaytToggle\",{exec:function(a){var c=a.scayt;b.state.scayt[a.name]=!b.state.scayt[a.name];!0===b.state.scayt[a.name]?c||b.createScayt(a):c&&b.destroy(a)}});a.addCommand(\"scaytAbout\",{exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytOptions\",{exec:function(a){a.scayt.tabToOpen=\n\"options\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytLangs\",{exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(f.dialogName)}});a.addCommand(\"scaytDict\",{exec:function(a){a.scayt.tabToOpen=\"dictionaries\";a.lockSelection();a.openDialog(f.dialogName)}});c={scaytToggle:{label:a.lang.scayt.btn_enable,group:\"scaytButton\",command:\"scaytToggle\"},scaytAbout:{label:a.lang.scayt.btn_about,group:\"scaytButton\",command:\"scaytAbout\"},scaytOptions:{label:a.lang.scayt.btn_options,\ngroup:\"scaytButton\",command:\"scaytOptions\"},scaytLangs:{label:a.lang.scayt.btn_langs,group:\"scaytButton\",command:\"scaytLangs\"},scaytDict:{label:a.lang.scayt.btn_dictionaries,group:\"scaytButton\",command:\"scaytDict\"}};a.plugins.wsc&&(c.WSC={label:a.lang.wsc.toolbar,group:\"scaytButton\",onClick:function(){var b=CKEDITOR.plugins.scayt,c=a.scayt,d=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(d=d.replace(/\\s/g,\"\"))?(c&&b.state.scayt[a.name]&&c.setMarkupPaused&&\nc.setMarkupPaused(!0),a.lockSelection(),a.execCommand(\"checkspell\")):alert(\"Nothing to check!\")}});a.addMenuItems(c)},bindEvents:function(a){var f=CKEDITOR.plugins.scayt,b=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,c=function(){f.destroy(a)},e=function(){!f.state.scayt[a.name]||a.readOnly||a.scayt||f.createScayt(a)},l=function(){var c=a.editable();c.attachListener(c,\"focus\",function(c){CKEDITOR.plugins.scayt&&!a.scayt&&setTimeout(e,0);c=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[a.name]&&\na.scayt;var d,f;if((b||c)&&a._.savedSelection){c=a._.savedSelection.getSelectedElement();c=!c&&a._.savedSelection.getRanges();for(var k=0;k<c.length;k++)f=c[k],\"string\"===typeof f.startContainer.$.nodeValue&&(d=f.startContainer.getText().length,(d<f.startOffset||d<f.endOffset)&&a.unlockSelection(!1))}},this,null,-10)},k=function(){b?a.config.scayt_inlineModeImmediateMarkup?e():(a.on(\"blur\",function(){setTimeout(c,0)}),a.on(\"focus\",e),a.focusManager.hasFocus&&e()):e();l();var d=a.editable();d.attachListener(d,\n\"mousedown\",function(b){b=b.data.getTarget();var c=a.widgets&&a.widgets.getByElement(b);c&&(c.wrapper=b.getAscendant(function(a){return a.hasAttribute(\"data-cke-widget-wrapper\")},!0))},this,null,-10)};a.on(\"contentDom\",k);a.on(\"beforeCommandExec\",function(b){var c=a.scayt,e=!1,g=!1,k=!0;b.data.name in f.options.disablingCommandExec&&\"wysiwyg\"==a.mode?c&&(f.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED)):\"bold\"!==b.data.name&&\"italic\"!==b.data.name&&\"underline\"!==b.data.name&&\"strike\"!==\nb.data.name&&\"subscript\"!==b.data.name&&\"superscript\"!==b.data.name&&\"enter\"!==b.data.name&&\"cut\"!==b.data.name&&\"language\"!==b.data.name||!c||(\"cut\"===b.data.name&&(k=!1,g=!0),\"language\"===b.data.name&&(g=e=!0),a.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:k,forceBookmark:g,language:e},timeout:0}))});a.on(\"beforeSetMode\",function(b){if(\"source\"==b.data){if(b=a.scayt)f.destroy(a),a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_DISABLED);a.document&&a.document.getBody().removeAttribute(\"_jquid\")}});\na.on(\"afterCommandExec\",function(b){\"wysiwyg\"!=a.mode||\"undo\"!=b.data.name&&\"redo\"!=b.data.name||setTimeout(function(){f.reloadMarkup(a.scayt)},250)});a.on(\"readOnly\",function(b){var c;b&&(c=a.scayt,!0===b.editor.readOnly?c&&c.fire(\"removeMarkupInDocument\",{}):c?f.reloadMarkup(c):\"wysiwyg\"==b.editor.mode&&!0===f.state.scayt[b.editor.name]&&(f.createScayt(a),b.editor.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_ON)))});a.on(\"beforeDestroy\",c);a.on(\"setData\",function(){c();(a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||\na.plugins.divarea)&&k()},this,null,50);a.on(\"reloadMarkupScayt\",function(b){var c=b.data&&b.data.removeOptions,e=b.data&&b.data.timeout,g=b.data&&b.data.language,k=a.scayt;k&&setTimeout(function(){g&&(c.selectionNode=a.plugins.language.getCurrentLangElement(a),c.selectionNode=c.selectionNode&&c.selectionNode.$||null);k.removeMarkupInSelectionNode(c);f.reloadMarkup(k)},e||0)});a.on(\"insertElement\",function(){a.fire(\"reloadMarkupScayt\",{removeOptions:{forceBookmark:!0}})},this,null,50);a.on(\"insertHtml\",\nfunction(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"insertText\",function(){a.scayt&&a.scayt.setFocused&&a.scayt.setFocused(!0);a.fire(\"reloadMarkupScayt\")},this,null,50);a.on(\"scaytDialogShown\",function(b){b.data.selectPage(a.scayt.tabToOpen)})},parseConfig:function(a){var f=CKEDITOR.plugins.scayt;f.replaceOldOptionsNames(a.config);\"boolean\"!==typeof a.config.scayt_autoStartup&&(a.config.scayt_autoStartup=!1);f.state.scayt[a.name]=a.config.scayt_autoStartup;\n\"boolean\"!==typeof a.config.grayt_autoStartup&&(a.config.grayt_autoStartup=!1);\"boolean\"!==typeof a.config.scayt_inlineModeImmediateMarkup&&(a.config.scayt_inlineModeImmediateMarkup=!1);f.state.grayt[a.name]=a.config.grayt_autoStartup;a.config.scayt_contextCommands||(a.config.scayt_contextCommands=\"ignore|ignoreall|add\");a.config.scayt_contextMenuItemsOrder||(a.config.scayt_contextMenuItemsOrder=\"suggest|moresuggest|control\");a.config.scayt_sLang||(a.config.scayt_sLang=\"en_US\");if(void 0===a.config.scayt_maxSuggestions||\n\"number\"!=typeof a.config.scayt_maxSuggestions||0>a.config.scayt_maxSuggestions)a.config.scayt_maxSuggestions=5;if(void 0===a.config.scayt_minWordLength||\"number\"!=typeof a.config.scayt_minWordLength||1>a.config.scayt_minWordLength)a.config.scayt_minWordLength=4;if(void 0===a.config.scayt_customDictionaryIds||\"string\"!==typeof a.config.scayt_customDictionaryIds)a.config.scayt_customDictionaryIds=\"\";if(void 0===a.config.scayt_userDictionaryName||\"string\"!==typeof a.config.scayt_userDictionaryName)a.config.scayt_userDictionaryName=\nnull;if(\"string\"===typeof a.config.scayt_uiTabs&&3===a.config.scayt_uiTabs.split(\",\").length){var b=[],c=[];a.config.scayt_uiTabs=a.config.scayt_uiTabs.split(\",\");CKEDITOR.tools.search(a.config.scayt_uiTabs,function(a){1===Number(a)||0===Number(a)?(c.push(!0),b.push(Number(a))):c.push(!1)});null===CKEDITOR.tools.search(c,!1)?a.config.scayt_uiTabs=b:a.config.scayt_uiTabs=[1,1,1]}else a.config.scayt_uiTabs=[1,1,1];\"string\"!=typeof a.config.scayt_serviceProtocol&&(a.config.scayt_serviceProtocol=null);\n\"string\"!=typeof a.config.scayt_serviceHost&&(a.config.scayt_serviceHost=null);\"string\"!=typeof a.config.scayt_servicePort&&(a.config.scayt_servicePort=null);\"string\"!=typeof a.config.scayt_servicePath&&(a.config.scayt_servicePath=null);a.config.scayt_moreSuggestions||(a.config.scayt_moreSuggestions=\"on\");\"string\"!==typeof a.config.scayt_customerId&&(a.config.scayt_customerId=\"1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2\");\"string\"!==typeof a.config.scayt_customPunctuation&&\n(a.config.scayt_customPunctuation=\"-\");\"string\"!==typeof a.config.scayt_srcUrl&&(f=document.location.protocol,f=-1!=f.search(/https?:/)?f:\"http:\",a.config.scayt_srcUrl=f+\"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js\");\"boolean\"!==typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0);\"boolean\"!==typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0);CKEDITOR.config.scayt_handleUndoRedo=CKEDITOR.plugins.undo?\nCKEDITOR.config.scayt_handleUndoRedo:!1;\"boolean\"!==typeof a.config.scayt_multiLanguageMode&&(a.config.scayt_multiLanguageMode=!1);\"object\"!==typeof a.config.scayt_multiLanguageStyles&&(a.config.scayt_multiLanguageStyles={});a.config.scayt_ignoreAllCapsWords&&\"boolean\"!==typeof a.config.scayt_ignoreAllCapsWords&&(a.config.scayt_ignoreAllCapsWords=!1);a.config.scayt_ignoreDomainNames&&\"boolean\"!==typeof a.config.scayt_ignoreDomainNames&&(a.config.scayt_ignoreDomainNames=!1);a.config.scayt_ignoreWordsWithMixedCases&&\n\"boolean\"!==typeof a.config.scayt_ignoreWordsWithMixedCases&&(a.config.scayt_ignoreWordsWithMixedCases=!1);a.config.scayt_ignoreWordsWithNumbers&&\"boolean\"!==typeof a.config.scayt_ignoreWordsWithNumbers&&(a.config.scayt_ignoreWordsWithNumbers=!1);if(a.config.scayt_disableOptionsStorage){var f=CKEDITOR.tools.isArray(a.config.scayt_disableOptionsStorage)?a.config.scayt_disableOptionsStorage:\"string\"===typeof a.config.scayt_disableOptionsStorage?[a.config.scayt_disableOptionsStorage]:void 0,e=\"all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers\".split(\" \"),\nl=[\"lang\",\"ignore-all-caps-words\",\"ignore-domain-names\",\"ignore-words-with-mixed-cases\",\"ignore-words-with-numbers\"],k=CKEDITOR.tools.search,d=CKEDITOR.tools.indexOf;a.config.scayt_disableOptionsStorage=function(a){for(var b=[],c=0;c<a.length;c++){var f=a[c],p=!!k(a,\"options\");if(!k(e,f)||p&&k(l,function(a){if(\"lang\"===a)return!1}))return;k(l,f)&&l.splice(d(l,f),1);if(\"all\"===f||p&&k(a,\"lang\"))return[];\"options\"===f&&(l=[\"lang\"])}return b=b.concat(l)}(f)}},addRule:function(a){var f=CKEDITOR.plugins.scayt,\nb=a.dataProcessor,c=b&&b.htmlFilter,e=a._.elementsPath&&a._.elementsPath.filters,b=b&&b.dataFilter,l=a.addRemoveFormatFilter,k=function(b){if(a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute)))return!1},d=function(b){var c=!0;a.scayt&&(b.hasAttribute(f.options.data_attribute_name)||b.hasAttribute(f.options.problem_grammar_data_attribute))&&(c=!1);return c};e&&e.push(k);b&&b.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&\na.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});c&&c.addRules({elements:{span:function(a){var b=a.hasClass(f.options.misspelled_word_class)&&a.attributes[f.options.data_attribute_name],c=a.hasClass(f.options.problem_grammar_class)&&a.attributes[f.options.problem_grammar_data_attribute];f&&(b||c)&&delete a.name;return a}}});l&&l.call(a,d)},scaytMenuDefinition:function(a){var f=\nthis;a=a.scayt;return{scayt:{scayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"scayt_control\",order:1,exec:function(a){a.scayt.ignoreWord()}},scayt_ignoreall:{label:a.getLocal(\"btn_ignoreAll\"),group:\"scayt_control\",order:2,exec:function(a){a.scayt.ignoreAllWords()}},scayt_add:{label:a.getLocal(\"btn_addWord\"),group:\"scayt_control\",order:3,exec:function(a){var c=a.scayt;setTimeout(function(){c.addWordToUserDictionary()},10)}},scayt_option:{label:a.getLocal(\"btn_options\"),group:\"scayt_control\",order:4,\nexec:function(a){a.scayt.tabToOpen=\"options\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[0]?!0:!1}},scayt_language:{label:a.getLocal(\"btn_langs\"),group:\"scayt_control\",order:5,exec:function(a){a.scayt.tabToOpen=\"langs\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[1]?!0:!1}},scayt_dictionary:{label:a.getLocal(\"btn_dictionaries\"),group:\"scayt_control\",order:6,exec:function(a){a.scayt.tabToOpen=\n\"dictionaries\";a.lockSelection();a.openDialog(f.dialogName)},verification:function(a){return 1==a.config.scayt_uiTabs[2]?!0:!1}},scayt_about:{label:a.getLocal(\"btn_about\"),group:\"scayt_control\",order:7,exec:function(a){a.scayt.tabToOpen=\"about\";a.lockSelection();a.openDialog(f.dialogName)}}},grayt:{grayt_problemdescription:{label:\"Grammar problem description\",group:\"grayt_description\",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(a){}},grayt_ignore:{label:a.getLocal(\"btn_ignore\"),group:\"grayt_control\",\norder:2,exec:function(a){a.scayt.ignorePhrase()}}}}},buildSuggestionMenuItems:function(a,f,b){var c={},e={},l=b?\"word\":\"phrase\",k=b?\"startGrammarCheck\":\"startSpellCheck\",d=a.scayt;if(0<f.length&&\"no_any_suggestions\"!==f[0])if(b)for(b=0;b<f.length;b++){var h=\"scayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\");a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],l,k));b<a.config.scayt_maxSuggestions?(a.addMenuItem(h,{label:f[b],command:h,group:\"scayt_suggest\",\norder:b+1}),c[h]=CKEDITOR.TRISTATE_OFF):(a.addMenuItem(h,{label:f[b],command:h,group:\"scayt_moresuggest\",order:b+1}),e[h]=CKEDITOR.TRISTATE_OFF,\"on\"===a.config.scayt_moreSuggestions&&(a.addMenuItem(\"scayt_moresuggest\",{label:d.getLocal(\"btn_moreSuggestions\"),group:\"scayt_moresuggest\",order:10,getItems:function(){return e}}),c.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(b=0;b<f.length;b++)h=\"grayt_suggest_\"+CKEDITOR.plugins.scayt.suggestions[b].replace(\" \",\"_\"),a.addCommand(h,this.createCommand(CKEDITOR.plugins.scayt.suggestions[b],\nl,k)),a.addMenuItem(h,{label:f[b],command:h,group:\"grayt_suggest\",order:b+1}),c[h]=CKEDITOR.TRISTATE_OFF;else c.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,a.addCommand(\"no_scayt_suggest\",{exec:function(){}}),a.addMenuItem(\"no_scayt_suggest\",{label:d.getLocal(\"btn_noSuggestions\")||\"no_scayt_suggest\",command:\"no_scayt_suggest\",group:\"scayt_suggest\",order:0});return c},menuGenerator:function(a,f){var b=a.scayt,c=this.scaytMenuDefinition(a),e={},l=a.config.scayt_contextCommands.split(\"|\"),k=f.getAttribute(b.getLangAttribute())||\nb.getLang(),d,h;d=b.isScaytNode(f);h=b.isGraytNode(f);d?(c=c.scayt,e=f.getAttribute(b.getScaytNodeAttributeName()),b.fire(\"getSuggestionsList\",{lang:k,word:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,d)):h&&(c=c.grayt,e=f.getAttribute(b.getGraytNodeAttributeName()),h=b.getProblemDescriptionText(e,k),c.grayt_problemdescription&&h&&(c.grayt_problemdescription.label=h),b.fire(\"getGrammarSuggestionsList\",{lang:k,phrase:e}),e=this.buildSuggestionMenuItems(a,CKEDITOR.plugins.scayt.suggestions,\nd));if(d&&\"off\"==a.config.scayt_contextCommands)return e;for(var m in c)d&&-1==CKEDITOR.tools.indexOf(l,m.replace(\"scayt_\",\"\"))&&\"all\"!=a.config.scayt_contextCommands||(e[m]=\"undefined\"!=typeof c[m].state?c[m].state:CKEDITOR.TRISTATE_OFF,\"function\"!==typeof c[m].verification||c[m].verification(a)||delete e[m],a.addCommand(m,{exec:c[m].exec}),a.addMenuItem(m,{label:a.lang.scayt[c[m].label]||c[m].label,command:m,group:c[m].group,order:c[m].order}));return e},createCommand:function(a,f,b){return{exec:function(c){c=\nc.scayt;var e={};e[f]=a;c.replaceSelectionNode(e);\"startGrammarCheck\"===b&&c.removeMarkupInSelectionNode({grammarOnly:!0});c.fire(b)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:\"cke-fillingChar\",charCode:function(){var a=CKEDITOR.version.match(/^\\d(\\.\\d*)*/),a=a&&a[0],f;if(a){f=\"4.5.7\";var b,a=a.replace(/\\./g,\"\");f=f.replace(/\\./g,\"\");b=a.length-f.length;b=0<=b?b:0;f=parseInt(a)>=parseInt(f)*Math.pow(10,b)}return f?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],\nonLoadTimestamp:\"\",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:\"data-scayt-word\",misspelled_word_class:\"scayt-misspell-word\",problem_grammar_data_attribute:\"data-grayt-phrase\",problem_grammar_class:\"gramm-problem\"},backCompatibilityMap:{scayt_service_protocol:\"scayt_serviceProtocol\",scayt_service_host:\"scayt_serviceHost\",scayt_service_port:\"scayt_servicePort\",scayt_service_path:\"scayt_servicePath\",\nscayt_customerid:\"scayt_customerId\"},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn(\"You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net.\"),this.warningCounter+=1)},isNewUdSupported:function(a){return a.getUserDictionary?!0:!1},reloadMarkup:function(a){var f;\na&&(f=a.getScaytLangList(),a.reloadMarkup?a.reloadMarkup():(this.alarmCompatibilityMessage(),f&&f.ltr&&f.rtl&&a.fire(\"startSpellCheck, startGrammarCheck\")))},replaceOldOptionsNames:function(a){for(var f in a)f in this.backCompatibilityMap&&(a[this.backCompatibilityMap[f]]=a[f],delete a[f])},createScayt:function(a){var f=this,b=CKEDITOR.plugins.scayt;this.loadScaytLibrary(a,function(a){function e(a){return new SCAYT.CKSCAYT(a,function(){},function(){})}var l=a.window&&a.window.getFrame()||a.editable();\nif(l){l={lang:a.config.scayt_sLang,container:l.$,customDictionary:a.config.scayt_customDictionaryIds,userDictionaryName:a.config.scayt_userDictionaryName,localization:a.langCode,customer_id:a.config.scayt_customerId,customPunctuation:a.config.scayt_customPunctuation,debug:a.config.scayt_debug,data_attribute_name:f.options.data_attribute_name,misspelled_word_class:f.options.misspelled_word_class,problem_grammar_data_attribute:f.options.problem_grammar_data_attribute,problem_grammar_class:f.options.problem_grammar_class,\n\"options-to-restore\":a.config.scayt_disableOptionsStorage,focused:a.editable().hasFocus,ignoreElementsRegex:a.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:a.config.grayt_elementsToIgnore,minWordLength:a.config.scayt_minWordLength,multiLanguageMode:a.config.scayt_multiLanguageMode,multiLanguageStyles:a.config.scayt_multiLanguageStyles,graytAutoStartup:b.state.grayt[a.name],charsToObserve:b.charsToObserve};a.config.scayt_serviceProtocol&&(l.service_protocol=a.config.scayt_serviceProtocol);\na.config.scayt_serviceHost&&(l.service_host=a.config.scayt_serviceHost);a.config.scayt_servicePort&&(l.service_port=a.config.scayt_servicePort);a.config.scayt_servicePath&&(l.service_path=a.config.scayt_servicePath);\"boolean\"===typeof a.config.scayt_ignoreAllCapsWords&&(l[\"ignore-all-caps-words\"]=a.config.scayt_ignoreAllCapsWords);\"boolean\"===typeof a.config.scayt_ignoreDomainNames&&(l[\"ignore-domain-names\"]=a.config.scayt_ignoreDomainNames);\"boolean\"===typeof a.config.scayt_ignoreWordsWithMixedCases&&\n(l[\"ignore-words-with-mixed-cases\"]=a.config.scayt_ignoreWordsWithMixedCases);\"boolean\"===typeof a.config.scayt_ignoreWordsWithNumbers&&(l[\"ignore-words-with-numbers\"]=a.config.scayt_ignoreWordsWithNumbers);var k;try{k=e(l)}catch(d){f.alarmCompatibilityMessage(),delete l.charsToObserve,k=e(l)}k.subscribe(\"suggestionListSend\",function(a){for(var b={},c=[],d=0;d<a.suggestionList.length;d++)b[\"word_\"+a.suggestionList[d]]||(b[\"word_\"+a.suggestionList[d]]=a.suggestionList[d],c.push(a.suggestionList[d]));\nCKEDITOR.plugins.scayt.suggestions=c});k.subscribe(\"selectionIsChanged\",function(b){a.getSelection().isLocked&&a.lockSelection()});k.subscribe(\"graytStateChanged\",function(d){b.state.grayt[a.name]=d.state});k.addMarkupHandler&&k.addMarkupHandler(function(b){var d=a.editable(),e=d.getCustomData(b.charName);e&&(e.$=b.node,d.setCustomData(b.charName,e))});a.scayt=k;a.fire(\"scaytButtonState\",a.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else b.state.scayt[a.name]=!1})},destroy:function(a){a.scayt&&\na.scayt.destroy();delete a.scayt;a.fire(\"scaytButtonState\",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(a,f){var b,c=function(){CKEDITOR.fireOnce(\"scaytReady\");a.scayt||\"function\"===typeof f&&f(a)};\"undefined\"===typeof window.SCAYT||\"function\"!==typeof window.SCAYT.CKSCAYT?(b=a.config.scayt_srcUrl+\"?\"+this.onLoadTimestamp,CKEDITOR.scriptLoader.load(b,function(a){a&&c()})):window.SCAYT&&\"function\"===typeof window.SCAYT.CKSCAYT&&c()}},CKEDITOR.on(\"dialogDefinition\",function(a){var f=a.data.name;\na=a.data.definition.dialog;if(\"scaytDialog\"===f)a.on(\"cancel\",function(a){return!1},this,null,-1);if(\"checkspell\"===f)a.on(\"cancel\",function(a){a=a.sender&&a.sender.getParentEditor();var c=CKEDITOR.plugins.scayt,e=a.scayt;e&&c.state.scayt[a.name]&&e.setMarkupPaused&&e.setMarkupPaused(!1);a.unlockSelection()},this,null,-2);if(\"link\"===f)a.on(\"ok\",function(a){var c=a.sender&&a.sender.getParentEditor();c&&setTimeout(function(){c.fire(\"reloadMarkupScayt\",{removeOptions:{removeInside:!0,forceBookmark:!0},\ntimeout:0})},0)})}),CKEDITOR.on(\"scaytReady\",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty){var a=CKEDITOR.editor.prototype;a.checkDirty=CKEDITOR.tools.override(a.checkDirty,function(a){return function(){var c=null,e=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(c=\"ready\"==this.status)var f=e.removeMarkupFromString(this.getSnapshot()),e=e.removeMarkupFromString(this._.previousValue),c=c&&e!==f}else c=a.call(this);return c}});a.resetDirty=\nCKEDITOR.tools.override(a.resetDirty,function(a){return function(){var c=this.scayt;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=c.removeMarkupFromString(this.getSnapshot()):a.call(this)}})}if(!0===CKEDITOR.config.scayt_handleUndoRedo){var a=CKEDITOR.plugins.undo.Image.prototype,f=\"function\"==typeof a.equalsContent?\"equalsContent\":\"equals\";a[f]=CKEDITOR.tools.override(a[f],function(a){return function(c){var e=c.editor.scayt,f=this.contents,\nk=c.contents,d=null;CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[c.editor.name]&&c.editor.scayt&&(this.contents=e.removeMarkupFromString(f)||\"\",c.contents=e.removeMarkupFromString(k)||\"\");d=a.apply(this,arguments);this.contents=f;c.contents=k;return d}})}}),function(){var a={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(a){this.toggleState();this.refresh(a)},refresh:function(a){if(a.document){var b=this.state==CKEDITOR.TRISTATE_ON?\"attachClass\":\"removeClass\";a.editable()[b](\"cke_show_borders\")}}};\nCKEDITOR.plugins.add(\"showborders\",{modes:{wysiwyg:1},onLoad:function(){var a;a=(CKEDITOR.env.ie6Compat?[\".%1 table.%2,\",\".%1 table.%2 td, .%1 table.%2 th\",\"{\",\"border : #d3d3d3 1px dotted\",\"}\"]:\".%1 table.%2,;.%1 table.%2 \\x3e tr \\x3e td, .%1 table.%2 \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tbody \\x3e tr \\x3e td, .%1 table.%2 \\x3e tbody \\x3e tr \\x3e th,;.%1 table.%2 \\x3e thead \\x3e tr \\x3e td, .%1 table.%2 \\x3e thead \\x3e tr \\x3e th,;.%1 table.%2 \\x3e tfoot \\x3e tr \\x3e td, .%1 table.%2 \\x3e tfoot \\x3e tr \\x3e th;{;border : #d3d3d3 1px dotted;}\".split(\";\")).join(\"\").replace(/%2/g,\n\"cke_show_border\").replace(/%1/g,\"cke_show_borders \");CKEDITOR.addCss(a)},init:function(f){var b=f.addCommand(\"showborders\",a);b.canUndo=!1;!1!==f.config.startupShowBorders&&b.setState(CKEDITOR.TRISTATE_ON);f.on(\"mode\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(f)},null,null,100);f.on(\"contentDom\",function(){b.state!=CKEDITOR.TRISTATE_DISABLED&&b.refresh(f)});f.on(\"removeFormatCleanup\",function(a){a=a.data;f.getCommand(\"showborders\").state==CKEDITOR.TRISTATE_ON&&a.is(\"table\")&&(!a.hasAttribute(\"border\")||\n0>=parseInt(a.getAttribute(\"border\"),10))&&a.addClass(\"cke_show_border\")})},afterInit:function(a){var b=a.dataProcessor;a=b&&b.dataFilter;b=b&&b.htmlFilter;a&&a.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"],f=parseInt(a.border,10);f&&!(0>=f)||b&&-1!=b.indexOf(\"cke_show_border\")||(a[\"class\"]=(b||\"\")+\" cke_show_border\")}}});b&&b.addRules({elements:{table:function(a){a=a.attributes;var b=a[\"class\"];b&&(a[\"class\"]=b.replace(\"cke_show_border\",\"\").replace(/\\s{2}/,\" \").replace(/^\\s+|\\s+$/,\n\"\"))}}})}});CKEDITOR.on(\"dialogDefinition\",function(a){var b=a.data.name;if(\"table\"==b||\"tableProperties\"==b)if(a=a.data.definition,b=a.getContents(\"info\").get(\"txtBorder\"),b.commit=CKEDITOR.tools.override(b.commit,function(a){return function(b,f){a.apply(this,arguments);var k=parseInt(this.getValue(),10);f[!k||0>=k?\"addClass\":\"removeClass\"](\"cke_show_border\")}}),a=(a=a.getContents(\"advanced\"))&&a.get(\"advCSSClasses\"))a.setup=CKEDITOR.tools.override(a.setup,function(a){return function(){a.apply(this,\narguments);this.setValue(this.getValue().replace(/cke_show_border/,\"\"))}}),a.commit=CKEDITOR.tools.override(a.commit,function(a){return function(b,f){a.apply(this,arguments);parseInt(f.getAttribute(\"border\"),10)||f.addClass(\"cke_show_border\")}})})}(),function(){CKEDITOR.plugins.add(\"sourcearea\",{init:function(f){function b(){var a=e&&this.equals(CKEDITOR.document.getActive());this.hide();this.setStyle(\"height\",this.getParent().$.clientHeight+\"px\");this.setStyle(\"width\",this.getParent().$.clientWidth+\n\"px\");this.show();a&&this.focus()}if(f.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var c=CKEDITOR.plugins.sourcearea;f.addMode(\"source\",function(c){var e=f.ui.space(\"contents\").getDocument().createElement(\"textarea\");e.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?\"99%\":\"100%\",height:\"100%\",resize:\"none\",outline:\"none\",\"text-align\":\"left\"},CKEDITOR.tools.cssVendorPrefix(\"tab-size\",f.config.sourceAreaTabSize||4)));e.setAttribute(\"dir\",\"ltr\");e.addClass(\"cke_source\").addClass(\"cke_reset\").addClass(\"cke_enable_context_menu\");\nf.ui.space(\"contents\").append(e);e=f.editable(new a(f,e));e.setData(f.getData(1));CKEDITOR.env.ie&&(e.attachListener(f,\"resize\",b,e),e.attachListener(CKEDITOR.document.getWindow(),\"resize\",b,e),CKEDITOR.tools.setTimeout(b,0,e));f.fire(\"ariaWidget\",this);c()});f.addCommand(\"source\",c.commands.source);f.ui.addButton&&f.ui.addButton(\"Source\",{label:f.lang.sourcearea.toolbar,command:\"source\",toolbar:\"mode,10\"});f.on(\"mode\",function(){f.getCommand(\"source\").setState(\"source\"==f.mode?CKEDITOR.TRISTATE_ON:\nCKEDITOR.TRISTATE_OFF)});var e=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var a=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(a){this.setValue(a);this.status=\"ready\";this.editor.fire(\"dataReady\")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(a){this[(a?\"set\":\"remove\")+\"Attribute\"](\"readOnly\",\"readonly\")},detach:function(){a.baseProto.detach.call(this);this.clearCustomData();\nthis.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(a){\"wysiwyg\"==a.mode&&a.fire(\"saveSnapshot\");a.getCommand(\"source\").setState(CKEDITOR.TRISTATE_DISABLED);a.setMode(\"source\"==a.mode?\"wysiwyg\":\"source\")},canUndo:!1}}},CKEDITOR.plugins.add(\"specialchar\",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,\"de-ch\":1,el:1,en:1,\"en-au\":1,\"en-ca\":1,\"en-gb\":1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fr:1,\"fr-ca\":1,gl:1,he:1,\nhr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,\"pt-br\":1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,\"zh-cn\":1},requires:\"dialog\",init:function(a){var f=this;CKEDITOR.dialog.add(\"specialchar\",this.path+\"dialogs/specialchar.js\");a.addCommand(\"specialchar\",{exec:function(){var b=a.langCode,b=f.availableLangs[b]?b:f.availableLangs[b.replace(/-.*/,\"\")]?b.replace(/-.*/,\"\"):\"en\";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(f.path+\"dialogs/lang/\"+b+\".js\"),\nfunction(){CKEDITOR.tools.extend(a.lang.specialchar,f.langEntries[b]);a.openDialog(\"specialchar\")})},modes:{wysiwyg:1},canUndo:!1});a.ui.addButton&&a.ui.addButton(\"SpecialChar\",{label:a.lang.specialchar.toolbar,command:\"specialchar\",toolbar:\"insert,50\"})}}),CKEDITOR.config.specialChars=\"! \\x26quot; # $ % \\x26amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; \\x26lt; \\x3d \\x26gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ \\x26euro; \\x26lsquo; \\x26rsquo; \\x26ldquo; \\x26rdquo; \\x26ndash; \\x26mdash; \\x26iexcl; \\x26cent; \\x26pound; \\x26curren; \\x26yen; \\x26brvbar; \\x26sect; \\x26uml; \\x26copy; \\x26ordf; \\x26laquo; \\x26not; \\x26reg; \\x26macr; \\x26deg; \\x26sup2; \\x26sup3; \\x26acute; \\x26micro; \\x26para; \\x26middot; \\x26cedil; \\x26sup1; \\x26ordm; \\x26raquo; \\x26frac14; \\x26frac12; \\x26frac34; \\x26iquest; \\x26Agrave; \\x26Aacute; \\x26Acirc; \\x26Atilde; \\x26Auml; \\x26Aring; \\x26AElig; \\x26Ccedil; \\x26Egrave; \\x26Eacute; \\x26Ecirc; \\x26Euml; \\x26Igrave; \\x26Iacute; \\x26Icirc; \\x26Iuml; \\x26ETH; \\x26Ntilde; \\x26Ograve; \\x26Oacute; \\x26Ocirc; \\x26Otilde; \\x26Ouml; \\x26times; \\x26Oslash; \\x26Ugrave; \\x26Uacute; \\x26Ucirc; \\x26Uuml; \\x26Yacute; \\x26THORN; \\x26szlig; \\x26agrave; \\x26aacute; \\x26acirc; \\x26atilde; \\x26auml; \\x26aring; \\x26aelig; \\x26ccedil; \\x26egrave; \\x26eacute; \\x26ecirc; \\x26euml; \\x26igrave; \\x26iacute; \\x26icirc; \\x26iuml; \\x26eth; \\x26ntilde; \\x26ograve; \\x26oacute; \\x26ocirc; \\x26otilde; \\x26ouml; \\x26divide; \\x26oslash; \\x26ugrave; \\x26uacute; \\x26ucirc; \\x26uuml; \\x26yacute; \\x26thorn; \\x26yuml; \\x26OElig; \\x26oelig; \\x26#372; \\x26#374 \\x26#373 \\x26#375; \\x26sbquo; \\x26#8219; \\x26bdquo; \\x26hellip; \\x26trade; \\x26#9658; \\x26bull; \\x26rarr; \\x26rArr; \\x26hArr; \\x26diams; \\x26asymp;\".split(\" \"),\nfunction(){CKEDITOR.plugins.add(\"stylescombo\",{requires:\"richcombo\",init:function(a){var f=a.config,b=a.lang.stylescombo,c={},e=[],l=[];a.on(\"stylesSet\",function(b){if(b=b.data.styles){for(var d,h,m,g=0,n=b.length;g<n;g++)(d=b[g],a.blockless&&d.element in CKEDITOR.dtd.$block||\"string\"==typeof d.type&&!CKEDITOR.style.customHandlers[d.type]||(h=d.name,d=new CKEDITOR.style(d),a.filter.customConfig&&!a.filter.check(d)))||(d._name=h,d._.enterMode=f.enterMode,d._.type=m=d.assignedTo||d.type,d._.weight=\ng+1E3*(m==CKEDITOR.STYLE_OBJECT?1:m==CKEDITOR.STYLE_BLOCK?2:3),c[h]=d,e.push(d),l.push(d));e.sort(function(a,b){return a._.weight-b._.weight})}});a.ui.addRichCombo(\"Styles\",{label:b.label,title:b.panelTitle,toolbar:\"styles,10\",allowedContent:l,panel:{css:[CKEDITOR.skin.getPath(\"editor\")].concat(f.contentsCss),multiSelect:!0,attributes:{\"aria-label\":b.panelTitle}},init:function(){var a,c,f,l,g,n;g=0;for(n=e.length;g<n;g++)a=e[g],c=a._name,l=a._.type,l!=f&&(this.startGroup(b[\"panelTitle\"+String(l)]),\nf=l),this.add(c,a.type==CKEDITOR.STYLE_OBJECT?c:a.buildPreview(),c);this.commit()},onClick:function(b){a.focus();a.fire(\"saveSnapshot\");b=c[b];var d=a.elementPath();if(b.group&&b.removeStylesFromSameGroup(a))a.applyStyle(b);else a[b.checkActive(d,a)?\"removeStyle\":\"applyStyle\"](b);a.fire(\"saveSnapshot\")},onRender:function(){a.on(\"selectionChange\",function(b){var d=this.getValue();b=b.data.path.elements;for(var e=0,f=b.length,g;e<f;e++){g=b[e];for(var l in c)if(c[l].checkElementRemovable(g,!0,a)){l!=\nd&&this.setValue(l);return}}this.setValue(\"\")},this)},onOpen:function(){var e=a.getSelection().getSelectedElement(),e=a.elementPath(e),d=[0,0,0,0];this.showAll();this.unmarkAll();for(var f in c){var l=c[f],g=l._.type;l.checkApplicable(e,a,a.activeFilter)?d[g]++:this.hideItem(f);l.checkActive(e,a)&&this.mark(f)}d[CKEDITOR.STYLE_BLOCK]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_BLOCK)]);d[CKEDITOR.STYLE_INLINE]||this.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_INLINE)]);d[CKEDITOR.STYLE_OBJECT]||\nthis.hideGroup(b[\"panelTitle\"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var b=a.elementPath();if(b){for(var d in c)if(c[d].checkApplicable(b,a,a.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){c={};e=[]}})}})}(),function(){function a(a){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(b){if(b.editable().hasFocus){var c=b.getSelection(),d;if(d=(new CKEDITOR.dom.elementPath(c.getCommonAncestor(),c.root)).contains({td:1,th:1},1)){var c=b.createRange(),\nf=CKEDITOR.tools.tryThese(function(){var b=d.getParent().$.cells[d.$.cellIndex+(a?-1:1)];b.parentNode.parentNode;return b},function(){var b=d.getParent(),b=b.getAscendant(\"table\").$.rows[b.$.rowIndex+(a?-1:1)];return b.cells[a?b.cells.length-1:0]});if(f||a)if(f)f=new CKEDITOR.dom.element(f),c.moveToElementEditStart(f),c.checkStartOfBlock()&&c.checkEndOfBlock()||c.selectNodeContents(f);else return!0;else{for(var m=d.getAscendant(\"table\").$,f=d.getParent().$.cells,m=new CKEDITOR.dom.element(m.insertRow(-1),\nb.document),g=0,n=f.length;g<n;g++)m.append((new CKEDITOR.dom.element(f[g],b.document)).clone(!1,!1)).appendBogus();c.moveToElementEditStart(m)}c.select(!0);return!0}}return!1}}}var f={editorFocus:!1,modes:{wysiwyg:1,source:1}},b={exec:function(a){a.container.focusNext(!0,a.tabIndex)}},c={exec:function(a){a.container.focusPrevious(!0,a.tabIndex)}};CKEDITOR.plugins.add(\"tab\",{init:function(e){for(var l=!1!==e.config.enableTabKeyTools,k=e.config.tabSpaces||0,d=\"\";k--;)d+=\"Â \";if(d)e.on(\"key\",function(a){9==\na.data.keyCode&&(e.insertText(d),a.cancel())});if(l)e.on(\"key\",function(a){(9==a.data.keyCode&&e.execCommand(\"selectNextCell\")||a.data.keyCode==CKEDITOR.SHIFT+9&&e.execCommand(\"selectPreviousCell\"))&&a.cancel()});e.addCommand(\"blur\",CKEDITOR.tools.extend(b,f));e.addCommand(\"blurBack\",CKEDITOR.tools.extend(c,f));e.addCommand(\"selectNextCell\",a());e.addCommand(\"selectPreviousCell\",a(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(a,f){var b=void 0===f?this.getTabIndex():f,c,e,l,k,d,h;if(0>=\nb)for(d=this.getNextSourceNode(a,CKEDITOR.NODE_ELEMENT);d;){if(d.isVisible()&&0===d.getTabIndex()){l=d;break}d=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(d=this.getDocument().getBody().getFirst();d=d.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!e&&d.equals(this)){if(e=!0,a){if(!(d=d.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else e&&!this.contains(d)&&(c=1);if(d.isVisible()&&!(0>(h=d.getTabIndex()))){if(c&&h==b){l=d;break}h>b&&(!l||!k||h<k)?(l=d,k=h):l||0!==h||\n(l=d,k=h)}}l&&l.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(a,f){for(var b=void 0===f?this.getTabIndex():f,c,e,l,k=0,d,h=this.getDocument().getBody().getLast();h=h.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!c)if(!e&&h.equals(this)){if(e=!0,a){if(!(h=h.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;c=1}}else e&&!this.contains(h)&&(c=1);if(h.isVisible()&&!(0>(d=h.getTabIndex())))if(0>=b){if(c&&0===d){l=h;break}d>k&&(l=h,k=d)}else{if(c&&d==b){l=h;break}d<b&&(!l||\nd>k)&&(l=h,k=d)}}l&&l.focus()},CKEDITOR.plugins.add(\"table\",{requires:\"dialog\",init:function(a){function f(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains(\"table\",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!a.blockless){var b=a.lang.table;a.addCommand(\"table\",new CKEDITOR.dialogCommand(\"table\",{context:\"table\",allowedContent:\"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];\"+\n(a.plugins.dialogadvtab?\"table\"+a.plugins.dialogadvtab.allowedContent():\"\"),requiredContent:\"table\",contentTransformations:[[\"table{width}: sizeToStyle\",\"table[width]: sizeToAttribute\"],[\"td: splitBorderShorthand\"],[{element:\"table\",right:function(a){a.styles&&(a.styles.border&&a.styles.border.match(/solid/)&&(a.attributes.border=1),\"collapse\"==a.styles[\"border-collapse\"]&&(a.attributes.cellspacing=0))}}]]}));a.addCommand(\"tableProperties\",new CKEDITOR.dialogCommand(\"tableProperties\",f()));a.addCommand(\"tableDelete\",\nf({exec:function(a){var b=a.elementPath().contains(\"table\",1);if(b){var f=b.getParent(),k=a.editable();1!=f.getChildCount()||f.is(\"td\",\"th\")||f.equals(k)||(b=f);a=a.createRange();a.moveToPosition(b,CKEDITOR.POSITION_BEFORE_START);b.remove();a.select()}}}));a.ui.addButton&&a.ui.addButton(\"Table\",{label:b.toolbar,command:\"table\",toolbar:\"insert,30\"});CKEDITOR.dialog.add(\"table\",this.path+\"dialogs/table.js\");CKEDITOR.dialog.add(\"tableProperties\",this.path+\"dialogs/table.js\");a.addMenuItems&&a.addMenuItems({table:{label:b.menu,\ncommand:\"tableProperties\",group:\"table\",order:5},tabledelete:{label:b.deleteTable,command:\"tableDelete\",group:\"table\",order:1}});a.on(\"doubleclick\",function(a){a.data.element.is(\"table\")&&(a.data.dialog=\"tableProperties\")});a.contextMenu&&a.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function a(a,b){function c(a){return b?b.contains(a)&&a.getAscendant(\"table\",!0).equals(b):!0}function d(a){0<f.length||a.type!=CKEDITOR.NODE_ELEMENT||\n!r.test(a.getName())||a.getCustomData(\"selected_cell\")||(CKEDITOR.dom.element.setMarker(g,a,\"selected_cell\",!0),f.push(a))}if(a){for(var e=a.getRanges(),f=[],g={},h=0;h<e.length;h++){var k=e[h];if(k.collapsed)(k=k.getCommonAncestor().getAscendant({td:1,th:1},!0))&&c(k)&&f.push(k);else{var k=new CKEDITOR.dom.walker(k),l;for(k.guard=d;l=k.next();)l.type==CKEDITOR.NODE_ELEMENT&&l.is(CKEDITOR.dtd.table)||(l=l.getAscendant({td:1,th:1},!0))&&!l.getCustomData(\"selected_cell\")&&c(l)&&(CKEDITOR.dom.element.setMarker(g,\nl,\"selected_cell\",!0),f.push(l))}}CKEDITOR.dom.element.clearAllMarkers(g);return f}}function f(b,c){for(var d=x(b)?b:a(b),e=d[0],f=e.getAscendant(\"table\"),e=e.getDocument(),g=d[0].getParent(),h=g.$.rowIndex,d=d[d.length-1],k=d.getParent().$.rowIndex+d.$.rowSpan-1,d=new CKEDITOR.dom.element(f.$.rows[k]),h=c?h:k,g=c?g:d,d=CKEDITOR.tools.buildTableMap(f),f=d[h],h=c?d[h-1]:d[h+1],d=d[0].length,e=e.createElement(\"tr\"),k=0;f[k]&&k<d;k++){var l;1<f[k].rowSpan&&h&&f[k]==h[k]?(l=f[k],l.rowSpan+=1):(l=(new CKEDITOR.dom.element(f[k])).clone(),\nl.removeAttribute(\"rowSpan\"),l.appendBogus(),e.append(l),l=l.$);k+=l.colSpan-1}c?e.insertBefore(g):e.insertAfter(g)}function b(c){if(c instanceof CKEDITOR.dom.selection){var d=c.getRanges(),e=a(c),f=e[0].getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(f),h=e[0].getParent().$.rowIndex,e=e[e.length-1],k=e.getParent().$.rowIndex+e.$.rowSpan-1,e=[];c.reset();for(c=h;c<=k;c++){for(var l=g[c],m=new CKEDITOR.dom.element(f.$.rows[c]),n=0;n<l.length;n++){var p=new CKEDITOR.dom.element(l[n]),r=p.getParent().$.rowIndex;\n1==p.$.rowSpan?p.remove():(--p.$.rowSpan,r==c&&(r=g[c+1],r[n-1]?p.insertAfter(new CKEDITOR.dom.element(r[n-1])):(new CKEDITOR.dom.element(f.$.rows[c+1])).append(p,1)));n+=p.$.colSpan-1}e.push(m)}g=f.$.rows;d[0].moveToPosition(f,CKEDITOR.POSITION_BEFORE_START);h=new CKEDITOR.dom.element(g[k+1]||(0<h?g[h-1]:null)||f.$.parentNode);for(c=e.length;0<=c;c--)b(e[c]);return f.$.parentNode?h:(d[0].select(),null)}c instanceof CKEDITOR.dom.element&&(f=c.getAscendant(\"table\"),1==f.$.rows.length?f.remove():c.remove());\nreturn null}function c(a,b){for(var c=a.getParent().$.cells,d=0,e=0;e<c.length;e++){var f=c[e],d=d+(b?1:f.colSpan);if(f==a.$)break}return d-1}function e(a,b){for(var d=b?Infinity:0,e=0;e<a.length;e++){var f=c(a[e],b);if(b?f<d:f>d)d=f}return d}function l(b,c){for(var d=x(b)?b:a(b),f=d[0].getAscendant(\"table\"),g=e(d,1),d=e(d),h=c?g:d,k=CKEDITOR.tools.buildTableMap(f),f=[],g=[],d=k.length,l=0;l<d;l++)f.push(k[l][h]),g.push(c?k[l][h-1]:k[l][h+1]);for(l=0;l<d;l++)f[l]&&(1<f[l].colSpan&&g[l]==f[l]?(k=f[l],\nk.colSpan+=1):(h=new CKEDITOR.dom.element(f[l]),k=h.clone(),k.removeAttribute(\"colSpan\"),k.appendBogus(),k[c?\"insertBefore\":\"insertAfter\"].call(k,h),k=k.$),l+=k.rowSpan-1)}function k(a,b){var c=a.getStartElement().getAscendant({td:1,th:1},!0);if(c){var d=c.clone();d.appendBogus();b?d.insertBefore(c):d.insertAfter(c)}}function d(b){if(b instanceof CKEDITOR.dom.selection){var c=b.getRanges(),e=a(b),f=e[0]&&e[0].getAscendant(\"table\"),g;a:{var k=0;g=e.length-1;for(var l={},m,n;m=e[k++];)CKEDITOR.dom.element.setMarker(l,\nm,\"delete_cell\",!0);for(k=0;m=e[k++];)if((n=m.getPrevious())&&!n.getCustomData(\"delete_cell\")||(n=m.getNext())&&!n.getCustomData(\"delete_cell\")){CKEDITOR.dom.element.clearAllMarkers(l);g=n;break a}CKEDITOR.dom.element.clearAllMarkers(l);k=e[0].getParent();(k=k.getPrevious())?g=k.getLast():(k=e[g].getParent(),g=(k=k.getNext())?k.getChild(0):null)}b.reset();for(b=e.length-1;0<=b;b--)d(e[b]);g?h(g,!0):f&&(c[0].moveToPosition(f,CKEDITOR.POSITION_BEFORE_START),c[0].select(),f.remove())}else b instanceof\nCKEDITOR.dom.element&&(c=b.getParent(),1==c.getChildCount()?c.remove():b.remove())}function h(a,b){var c=a.getDocument(),d=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(d.focus(),c.focus());c=new CKEDITOR.dom.range(c);c[\"moveToElementEdit\"+(b?\"End\":\"Start\")](a)||(c.selectNodeContents(a),c.collapse(b?!1:!0));c.select(!0)}function m(a,b,c){a=a[b];if(\"undefined\"==typeof c)return a;for(b=0;a&&b<a.length;b++){if(c.is&&a[b]==c.$)return b;if(b==c)return new CKEDITOR.dom.element(a[b])}return c.is?\n-1:null}function g(b,c,d){var e=a(b),f;if((c?1!=e.length:2>e.length)||(f=b.getCommonAncestor())&&f.type==CKEDITOR.NODE_ELEMENT&&f.is(\"table\"))return!1;var g;b=e[0];f=b.getAscendant(\"table\");var h=CKEDITOR.tools.buildTableMap(f),k=h.length,l=h[0].length,n=b.getParent().$.rowIndex,p=m(h,n,b);if(c){var r;try{var x=parseInt(b.getAttribute(\"rowspan\"),10)||1;g=parseInt(b.getAttribute(\"colspan\"),10)||1;r=h[\"up\"==c?n-x:\"down\"==c?n+x:n][\"left\"==c?p-g:\"right\"==c?p+g:p]}catch(J){return!1}if(!r||b.$==r)return!1;\ne[\"up\"==c||\"left\"==c?\"unshift\":\"push\"](new CKEDITOR.dom.element(r))}c=b.getDocument();var H=n,x=r=0,M=!d&&new CKEDITOR.dom.documentFragment(c),L=0;for(c=0;c<e.length;c++){g=e[c];var D=g.getParent(),T=g.getFirst(),I=g.$.colSpan,O=g.$.rowSpan,D=D.$.rowIndex,K=m(h,D,g),L=L+I*O,x=Math.max(x,K-p+I);r=Math.max(r,D-n+O);d||(I=g,(O=I.getBogus())&&O.remove(),I.trim(),g.getChildren().count()&&(D==H||!T||T.isBlockBoundary&&T.isBlockBoundary({br:1})||(H=M.getLast(CKEDITOR.dom.walker.whitespaces(!0)),!H||H.is&&\nH.is(\"br\")||M.append(\"br\")),g.moveChildren(M)),c?g.remove():g.setHtml(\"\"));H=D}if(d)return r*x==L;M.moveChildren(b);b.appendBogus();x>=l?b.removeAttribute(\"rowSpan\"):b.$.rowSpan=r;r>=k?b.removeAttribute(\"colSpan\"):b.$.colSpan=x;d=new CKEDITOR.dom.nodeList(f.$.rows);e=d.count();for(c=e-1;0<=c;c--)f=d.getItem(c),f.$.cells.length||(f.remove(),e++);return b}function n(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(f),\nh=e.$.rowIndex,k=m(g,h,d),l=d.$.rowSpan,n;if(1<l){n=Math.ceil(l/2);for(var l=Math.floor(l/2),e=h+n,f=new CKEDITOR.dom.element(f.$.rows[e]),g=m(g,e),p,e=d.clone(),h=0;h<g.length;h++)if(p=g[h],p.parentNode==f.$&&h>k){e.insertBefore(new CKEDITOR.dom.element(p));break}else p=null;p||f.append(e)}else for(l=n=1,f=e.clone(),f.insertAfter(e),f.append(e=d.clone()),p=m(g,h),k=0;k<p.length;k++)p[k].rowSpan++;e.appendBogus();d.$.rowSpan=n;e.$.rowSpan=l;1==n&&d.removeAttribute(\"rowSpan\");1==l&&e.removeAttribute(\"rowSpan\");\nreturn e}function p(b,c){var d=a(b);if(1<d.length)return!1;if(c)return!0;var d=d[0],e=d.getParent(),f=e.getAscendant(\"table\"),f=CKEDITOR.tools.buildTableMap(f),g=m(f,e.$.rowIndex,d),h=d.$.colSpan;if(1<h)e=Math.ceil(h/2),h=Math.floor(h/2);else{for(var h=e=1,k=[],l=0;l<f.length;l++){var n=f[l];k.push(n[g]);1<n[g].rowSpan&&(l+=n[g].rowSpan-1)}for(f=0;f<k.length;f++)k[f].colSpan++}f=d.clone();f.insertAfter(d);f.appendBogus();d.$.colSpan=e;f.$.colSpan=h;1==e&&d.removeAttribute(\"colSpan\");1==h&&f.removeAttribute(\"colSpan\");\nreturn f}var r=/^(?:td|th)$/,x=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:\"table,dialog,contextmenu\",init:function(c){function e(a){return CKEDITOR.tools.extend(a||{},{contextSensitive:1,refresh:function(a,b){this.setState(b.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function m(a,b){var d=c.addCommand(a,b);c.addFeature(d)}var r=c.lang.table,x=CKEDITOR.tools.style.parse;m(\"cellProperties\",new CKEDITOR.dialogCommand(\"cellProperties\",e({allowedContent:\"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]\",\nrequiredContent:\"table\",contentTransformations:[[{element:\"td\",left:function(a){return a.styles.background&&x.background(a.styles.background).color},right:function(a){a.styles[\"background-color\"]=x.background(a.styles.background).color}},{element:\"td\",check:\"td{vertical-align}\",left:function(a){return a.attributes&&a.attributes.valign},right:function(a){a.styles[\"vertical-align\"]=a.attributes.valign;delete a.attributes.valign}}],[{element:\"tr\",check:\"td{height}\",left:function(a){return a.styles&&\na.styles.height},right:function(a){CKEDITOR.tools.array.forEach(a.children,function(b){b.name in{td:1,th:1}&&(b.attributes[\"cke-row-height\"]=a.styles.height)});delete a.styles.height}}],[{element:\"td\",check:\"td{height}\",left:function(a){return(a=a.attributes)&&a[\"cke-row-height\"]},right:function(a){a.styles.height=a.attributes[\"cke-row-height\"];delete a.attributes[\"cke-row-height\"]}}]]})));CKEDITOR.dialog.add(\"cellProperties\",this.path+\"dialogs/tableCell.js\");m(\"rowDelete\",e({requiredContent:\"table\",\nexec:function(a){a=a.getSelection();(a=b(a))&&h(a)}}));m(\"rowInsertBefore\",e({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);f(b,!0)}}));m(\"rowInsertAfter\",e({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);f(b)}}));m(\"columnDelete\",e({requiredContent:\"table\",exec:function(b){var c=b.getSelection();b=c.getRanges();var d=a(c),e=d[0],f=d[d.length-1],d=e.getAscendant(\"table\"),g=CKEDITOR.tools.buildTableMap(d),k,l,m=[];c.reset();for(var n=0,c=g.length;n<c;n++)for(var p=\n0,r=g[n].length;p<r;p++)g[n][p]==e.$&&(k=p),g[n][p]==f.$&&(l=p);for(n=k;n<=l;n++)for(p=0;p<g.length;p++)f=g[p],e=new CKEDITOR.dom.element(d.$.rows[p]),f=new CKEDITOR.dom.element(f[n]),f.$&&(1==f.$.colSpan?f.remove():--f.$.colSpan,p+=f.$.rowSpan-1,e.$.cells.length||m.push(e));l=d.$.rows[0]&&d.$.rows[0].cells;k=new CKEDITOR.dom.element(l[k]||(k?l[k-1]:d.$.parentNode));m.length==c&&(b[0].moveToPosition(d,CKEDITOR.POSITION_AFTER_END),b[0].select(),d.remove());k&&h(k,!0)}}));m(\"columnInsertBefore\",e({requiredContent:\"table\",\nexec:function(b){b=b.getSelection();b=a(b);l(b,!0)}}));m(\"columnInsertAfter\",e({requiredContent:\"table\",exec:function(b){b=b.getSelection();b=a(b);l(b)}}));m(\"cellDelete\",e({requiredContent:\"table\",exec:function(a){a=a.getSelection();d(a)}}));m(\"cellMerge\",e({allowedContent:\"td[colspan,rowspan]\",requiredContent:\"td[colspan,rowspan]\",exec:function(a,b){b.cell=g(a.getSelection());h(b.cell,!0)}}));m(\"cellMergeRight\",e({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a,b){b.cell=\ng(a.getSelection(),\"right\");h(b.cell,!0)}}));m(\"cellMergeDown\",e({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a,b){b.cell=g(a.getSelection(),\"down\");h(b.cell,!0)}}));m(\"cellVerticalSplit\",e({allowedContent:\"td[rowspan]\",requiredContent:\"td[rowspan]\",exec:function(a){h(p(a.getSelection()))}}));m(\"cellHorizontalSplit\",e({allowedContent:\"td[colspan]\",requiredContent:\"td[colspan]\",exec:function(a){h(n(a.getSelection()))}}));m(\"cellInsertBefore\",e({requiredContent:\"table\",\nexec:function(a){a=a.getSelection();k(a,!0)}}));m(\"cellInsertAfter\",e({requiredContent:\"table\",exec:function(a){a=a.getSelection();k(a)}}));c.addMenuItems&&c.addMenuItems({tablecell:{label:r.cell.menu,group:\"tablecell\",order:1,getItems:function(){var b=c.getSelection(),d=a(b);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:g(b,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:g(b,\n\"right\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:g(b,\"down\",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:p(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:n(b,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<d.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:r.cell.insertBefore,group:\"tablecell\",command:\"cellInsertBefore\",order:5},tablecell_insertAfter:{label:r.cell.insertAfter,\ngroup:\"tablecell\",command:\"cellInsertAfter\",order:10},tablecell_delete:{label:r.cell.deleteCell,group:\"tablecell\",command:\"cellDelete\",order:15},tablecell_merge:{label:r.cell.merge,group:\"tablecell\",command:\"cellMerge\",order:16},tablecell_merge_right:{label:r.cell.mergeRight,group:\"tablecell\",command:\"cellMergeRight\",order:17},tablecell_merge_down:{label:r.cell.mergeDown,group:\"tablecell\",command:\"cellMergeDown\",order:18},tablecell_split_horizontal:{label:r.cell.splitHorizontal,group:\"tablecell\",\ncommand:\"cellHorizontalSplit\",order:19},tablecell_split_vertical:{label:r.cell.splitVertical,group:\"tablecell\",command:\"cellVerticalSplit\",order:20},tablecell_properties:{label:r.cell.title,group:\"tablecellproperties\",command:\"cellProperties\",order:21},tablerow:{label:r.row.menu,group:\"tablerow\",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:r.row.insertBefore,\ngroup:\"tablerow\",command:\"rowInsertBefore\",order:5},tablerow_insertAfter:{label:r.row.insertAfter,group:\"tablerow\",command:\"rowInsertAfter\",order:10},tablerow_delete:{label:r.row.deleteRow,group:\"tablerow\",command:\"rowDelete\",order:15},tablecolumn:{label:r.column.menu,group:\"tablecolumn\",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:r.column.insertBefore,\ngroup:\"tablecolumn\",command:\"columnInsertBefore\",order:5},tablecolumn_insertAfter:{label:r.column.insertAfter,group:\"tablecolumn\",command:\"columnInsertAfter\",order:10},tablecolumn_delete:{label:r.column.deleteColumn,group:\"tablecolumn\",command:\"columnDelete\",order:15}});c.contextMenu&&c.contextMenu.addListener(function(a,b,c){return(a=c.contains({td:1,th:1},1))&&!a.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:c,\ninsertRow:f,insertColumn:l,getSelectedCells:a};CKEDITOR.plugins.add(\"tabletools\",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(a,f,b,c,e){a=a.$.rows;b=b||0;c=\"number\"===typeof c?c:a.length-1;e=\"number\"===typeof e?e:-1;var l=-1,k=[];for(f=f||0;f<=c;f++){l++;!k[l]&&(k[l]=[]);for(var d=-1,h=b;h<=(-1===e?a[f].cells.length-1:e);h++){var m=a[f].cells[h];if(!m)break;for(d++;k[l][d];)d++;for(var g=isNaN(m.colSpan)?1:m.colSpan,m=isNaN(m.rowSpan)?1:m.rowSpan,n=0;n<m&&!(f+n>c);n++){k[l+\nn]||(k[l+n]=[]);for(var p=0;p<g;p++)k[l+n][d+p]=a[f].cells[h]}d+=g-1;if(-1!==e&&d>=e)break}}return k},function(){function a(a,b){var c=a.getAscendant(\"table\"),d=b.getAscendant(\"table\"),e=CKEDITOR.tools.buildTableMap(c),f=a.getAscendant(\"tr\",!0).$.rowIndex,g=b.getAscendant(\"tr\",!0).$.rowIndex,h=[],k={},l,m;c.contains(d)&&(b=b.getAscendant({td:1,th:1}),g=b.getAscendant(\"tr\",!0).$.rowIndex);f>g&&(c=f,f=g,g=c,c=a,a=b,b=c);for(c=0;c<e[f].length;c++)if(a.$===e[f][c]){l=c;break}for(c=0;c<e[g].length;c++)if(b.$===\ne[g][c]){m=c;break}l>m&&(c=l,l=m,m=c);for(c=f;c<=g;c++)for(f=l;f<=m;f++)d=new CKEDITOR.dom.element(e[c][f]),d.$&&!d.getCustomData(\"selected_cell\")&&(h.push(d),CKEDITOR.dom.element.setMarker(k,d,\"selected_cell\",!0));CKEDITOR.dom.element.clearAllMarkers(k);return h}function f(a){a=a.data.$;return CKEDITOR.env.ie&&9>CKEDITOR.env.version?1===a.button:0===a.button}function b(a){return(a=a.editable().findOne(\".cke_table-faked-selection\"))&&a.getAscendant(\"table\")}function c(a,b){var c=a.editable().find(\".cke_table-faked-selection\"),\nd;a.fire(\"lockSnapshot\");a.editable().removeClass(\"cke_table-faked-selection-editor\");for(d=0;d<c.count();d++)c.getItem(d).removeClass(\"cke_table-faked-selection\");0<c.count()&&c.getItem(0).getAscendant(\"table\").removeClass(\"cke_table-faked-selection-table\");a.fire(\"unlockSnapshot\");b&&(x={active:!1},a.getSelection().isInTable()&&a.getSelection().reset())}function e(a,b){var c=[],d,e;for(e=0;e<b.length;e++)d=a.createRange(),d.setStartBefore(b[e]),d.setEndAfter(b[e]),c.push(d);a.getSelection().selectRanges(c)}\nfunction l(b){var c=b.editable().find(\".cke_table-faked-selection\");1>c.count()||(c=a(c.getItem(0),c.getItem(c.count()-1)),e(b,c))}function k(b,d,f){var g=u(b.getSelection(!0));d=d.is(\"table\")?null:d;var h;(h=x.active&&!x.first)&&!(h=d)&&(h=b.getSelection().getRanges(),h=1<g.length||h[0]&&!h[0].collapsed?!0:!1);if(h)x.first=d||g[0],x.dirty=d?!1:1!==g.length;else if(x.active&&d){g=a(x.first,d);if(!x.dirty&&1===g.length)return c(b,\"mouseup\"===f.name);x.dirty=!0;x.last=d;e(b,g)}}function d(a){var b=\n(a=a.editor||a.sender.editor)&&a.getSelection(),d=b&&b.getRanges()||[],e;if(b&&(c(a),b.isInTable()&&b.isFake)){1===d.length&&d[0]._getTableElement()&&d[0]._getTableElement().is(\"table\")&&(e=d[0]._getTableElement());e=u(b,e);a.fire(\"lockSnapshot\");for(b=0;b<e.length;b++)e[b].addClass(\"cke_table-faked-selection\");0<e.length&&(a.editable().addClass(\"cke_table-faked-selection-editor\"),e[0].getAscendant(\"table\").addClass(\"cke_table-faked-selection-table\"));a.fire(\"unlockSnapshot\")}}function h(a){function d(a,\nb){return a&&b?a.equals(b)||a.contains(b)||b.contains(a)||a.getCommonAncestor(b).is(t):!1}function e(a){return!a.getAscendant(\"table\",!0)&&a.getDocument().equals(g.document)}var g=a.editor||a.listenerData.editor,m=g.getSelection(1),n=b(g),p=a.data.getTarget(),r=p&&p.getAscendant({td:1,th:1},!0),p=p&&p.getAscendant(\"table\",!0),t={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};(function(a,b,c,g){return\"mousedown\"===a.name&&(f(a)||!g)||\"mouseup\"===a.name&&!e(a.data.getTarget())&&!d(c,g)?!0:!1})(a,m,\nn,p)&&c(g,!0);!x.active&&\"mousedown\"===a.name&&f(a)&&p&&(x={active:!0},CKEDITOR.document.on(\"mouseup\",h,null,{editor:g}));(r||p)&&k(g,r||p,a);\"mouseup\"===a.name&&(f(a)&&(e(a.data.getTarget())||d(n,p))&&l(g),x={active:!1},CKEDITOR.document.removeListener(\"mouseup\",h))}function m(a){var b=a.data.getTarget().getAscendant({td:1,th:1},!0);b&&!b.hasClass(\"cke_table-faked-selection\")&&(a.cancel(),a.data.preventDefault())}function g(a,b){function c(a){a.cancel()}var d=a.getSelection(),e=d.createBookmarks(),\nf=a.document,g=a.createRange(),h=f.getDocumentElement().$,k=CKEDITOR.env.ie&&9>CKEDITOR.env.version,l=a.blockless||CKEDITOR.env.ie?\"span\":\"div\",m,n,p,r;f.getById(\"cke_table_copybin\")||(m=f.createElement(l),n=f.createElement(l),n.setAttributes({id:\"cke_table_copybin\",\"data-cke-temp\":\"1\"}),m.setStyles({position:\"absolute\",width:\"1px\",height:\"1px\",overflow:\"hidden\"}),m.setStyle(\"ltr\"==a.config.contentsLangDirection?\"left\":\"right\",\"-5000px\"),m.setHtml(a.getSelectedHtml(!0)),a.fire(\"lockSnapshot\"),n.append(m),\na.editable().append(n),r=a.on(\"selectionChange\",c,null,null,0),k&&(p=h.scrollTop),g.selectNodeContents(m),g.select(),k&&(h.scrollTop=p),setTimeout(function(){n.remove();d.selectBookmarks(e);r.removeListener();a.fire(\"unlockSnapshot\");b&&(a.extractSelectedHtml(),a.fire(\"saveSnapshot\"))},100))}function n(a){var b=a.editor||a.sender.editor;b.getSelection().isInTable()&&g(b,\"cut\"===a.name)}function p(b){function c(a){a=a.getRanges()[0];var b=a.endContainer.getAscendant(\"tr\",!0);if(b&&a.collapsed){if(a.checkBoundaryOfElement(b,\nCKEDITOR.START))return 1;if(a.checkBoundaryOfElement(b,CKEDITOR.END))return 2}return 0}function d(a){var b=0,c;for(c=0;c<a.length;c++)a[c].length>b&&(b=a[c].length);return b}function f(a){var b=a.getAscendant(\"table\"),c=a.getParent().$.rowIndex,b=CKEDITOR.tools.buildTableMap(b),d;for(d=0;d<b[c].length;d++)if((new CKEDITOR.dom.element(b[c][d])).equals(a))return d}var g=b.editor,h=g.dataProcessor,k=g.getSelection(),l=new CKEDITOR.dom.element(\"body\"),m=0,n=0,p=0,r=0,v={},x,I,O,K,U,V;h||(h=new CKEDITOR.htmlDataProcessor(g));\nl.setHtml(h.toHtml(b.data.dataValue),{fixForBody:!1});r=l.findOne(\"table\");if(k.getRanges().length&&(k.isInTable()||(x=c(k)))&&(I=u(k),I.length)){b.stop();b=I[0].getAscendant(\"table\");I=u(k,b);O=I[0];p=O.getParent();K=I[I.length-1];U=K.getParent();if(!x)for(h=0;h<I.length;h++)I[h].setHtml(\"\");if(1<l.getChildCount()||!r)I[0].setHtml(l.getHtml()),g.fire(\"saveSnapshot\");else{if(x){I=p.getChildCount();p=U=new CKEDITOR.dom.element(\"tr\");p[\"insert\"+(1===x?\"Before\":\"After\")](O.getParent());for(h=0;h<I;h++)O=\nnew CKEDITOR.dom.element(\"td\"),O.appendTo(p);O=p.getFirst();K=p.getLast();k.selectElement(p);I=u(k)}x=CKEDITOR.tools.buildTableMap(b,p.$.rowIndex,t(O,!0),U.$.rowIndex,f(K));k=CKEDITOR.tools.buildTableMap(r);p=d(k);r=d(x);if(k.length>x.length)for(m=k.length-x.length,h=0;h<m;h++)y(I);if(p>r)for(n=p-r,h=0;h<n;h++)A(I);O=I[0];p=O.getParent();K=I[I.length-1];U=new CKEDITOR.dom.element(b.$.rows[K.getParent().$.rowIndex+m]);K=U.getChild(K.$.cellIndex+n);m=t(I[0],!0);I=f(K);x=CKEDITOR.tools.buildTableMap(b,\np.$.rowIndex,m,U.$.rowIndex,I);for(h=0;h<k.length;h++)for(n=new CKEDITOR.dom.element(b.$.rows[p.$.rowIndex+h]),I=0;I<k[h].length;I++)if(V=new CKEDITOR.dom.element(k[h][I]),l=x[h]&&x[h][I]?new CKEDITOR.dom.element(x[h][I]):null,V&&!V.getCustomData(\"processed\")){if(l&&l.getParent())V.replace(l);else if(0===I||k[h][I-1])(l=0!==I?new CKEDITOR.dom.element(k[h][I-1]):null)&&n.equals(l.getParent())?V.insertAfter(l):0<m?V.insertAfter(new CKEDITOR.dom.element(n.$.cells[m])):n.append(V,!0);CKEDITOR.dom.element.setMarker(v,\nV,\"processed\",!0)}else V.getCustomData(\"processed\")&&l&&l.remove();CKEDITOR.dom.element.clearAllMarkers(v);e(g,a(new CKEDITOR.dom.element(k[0][0]),V));g.fire(\"saveSnapshot\");setTimeout(function(){g.fire(\"afterPaste\")},0)}}}function r(a,b,c){a.on(\"beforeCommandExec\",function(c){-1!==CKEDITOR.tools.array.indexOf(b,c.data.name)&&(c.data.selectedCells=u(a.getSelection()))});a.on(\"afterCommandExec\",function(d){-1!==CKEDITOR.tools.array.indexOf(b,d.data.name)&&c(a,d.data)})}var x={active:!1},v,u,t,y,A;\nCKEDITOR.plugins.tableselection={getCellsBetween:a,keyboardIntegration:function(a){function b(a){a.getEnclosedNode()?a.getEnclosedNode().setText(\"\"):a.deleteContents();CKEDITOR.tools.array.forEach(a._find(\"td\"),function(a){a.appendBogus()})}var c=a.editable();c.attachListener(c,\"keydown\",function(a){function c(b,d){if(!d.length)return null;var f=a.createRange(),g=CKEDITOR.dom.range.mergeRanges(d);CKEDITOR.tools.array.forEach(g,function(a){a.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var h=g[0].getBoundaryNodes(),\nk=h.startNode,h=h.endNode;if(k&&k.is&&k.is(e)){for(var l=k.getAscendant(\"table\",!0),m=k.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l),n=!1,p=function(a){return!k.contains(a)&&a.is&&a.is(\"td\",\"th\")};m&&!p(m);)m=m.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l);!m&&h&&h.is&&!h.is(\"table\")&&h.getNext()&&(m=h.getNext().findOne(\"td, th\"),n=!0);if(m)f[\"moveToElementEdit\"+(n?\"Start\":\"End\")](m);else f.setStartBefore(k.getAscendant(\"table\",!0)),f.collapse(!0);g[0].deleteContents();return[f]}if(k)return f.moveToElementEditablePosition(k),\n[f]}var d={37:1,38:1,39:1,40:1,8:1,46:1},e=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);delete e.td;delete e.th;return function(e){var f=e.data.getKey(),g,h=37===f||38==f,k,l,m;if(d[f]&&(g=a.getSelection())&&g.isInTable()&&g.isFake)if(k=g.getRanges(),l=k[0]._getTableElement(),m=k[k.length-1]._getTableElement(),e.data.preventDefault(),e.cancel(),8<f&&46>f)k[0].moveToElementEditablePosition(h?l:m,!h),g.selectRanges([k[0]]);else{for(e=0;e<k.length;e++)b(k[e]);(e=c(l,k))?k=e:k[0].moveToElementEditablePosition(l);\ng.selectRanges(k);a.fire(\"saveSnapshot\")}}}(a),null,null,-1);c.attachListener(c,\"keypress\",function(c){var d=a.getSelection(),e,f;if(d&&d.isInTable()&&d.isFake&&c.data.$.charCode&&!(c.data.getKeystroke()&CKEDITOR.CTRL)){c=d.getRanges();e=c[0].getEnclosedNode().getAscendant({td:1,th:1},!0);for(f=0;f<c.length;f++)b(c[f]);c[0].moveToElementEditablePosition(e);d.selectRanges([c[0]])}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)};CKEDITOR.plugins.add(\"tableselection\",\n{requires:\"clipboard,tabletools\",onLoad:function(){v=CKEDITOR.plugins.tabletools;u=v.getSelectedCells;t=v.getCellColIndex;y=v.insertRow;A=v.insertColumn;CKEDITOR.document.appendStyleSheet(this.path+\"/styles/tableselection.css\")},init:function(a){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(a.addContentsCss&&a.addContentsCss(this.path+\"/styles/tableselection.css\"),a.on(\"contentDom\",function(){var b=a.editable(),c=b.isInline()?b:a.document,e={editor:a};b.attachListener(c,\"mousedown\",h,null,\ne);b.attachListener(c,\"mousemove\",h,null,e);b.attachListener(c,\"mouseup\",h,null,e);b.attachListener(b,\"dragstart\",m);b.attachListener(a,\"selectionCheck\",d);CKEDITOR.plugins.tableselection.keyboardIntegration(a);CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(b.attachListener(b,\"cut\",n),b.attachListener(b,\"copy\",n))}),a.on(\"paste\",p),r(a,\"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter\".split(\" \"),function(a,b){e(a,\nb.selectedCells)}),r(a,[\"cellMerge\",\"cellMergeRight\",\"cellMergeDown\"],function(a,b){e(a,[b.commandData.cell])}),r(a,[\"cellDelete\"],function(a){c(a,!0)}))}})}(),\"use strict\",function(){var a=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],f={8:1,46:1};CKEDITOR.plugins.add(\"undo\",{init:function(c){function e(a){g.enabled&&!1!==a.data.command.canUndo&&g.save()}function f(){g.enabled=c.readOnly?!1:\"wysiwyg\"==c.mode;g.onChange()}var g=c.undoManager=new b(c),k=g.editingHandler=new l(g),\np=c.addCommand(\"undo\",{exec:function(){g.undo()&&(c.selectionChange(),this.fire(\"afterUndo\"))},startDisabled:!0,canUndo:!1}),r=c.addCommand(\"redo\",{exec:function(){g.redo()&&(c.selectionChange(),this.fire(\"afterRedo\"))},startDisabled:!0,canUndo:!1});c.setKeystroke([[a[0],\"undo\"],[a[1],\"redo\"],[a[2],\"redo\"]]);g.onChange=function(){p.setState(g.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED);r.setState(g.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)};c.on(\"beforeCommandExec\",\ne);c.on(\"afterCommandExec\",e);c.on(\"saveSnapshot\",function(a){g.save(a.data&&a.data.contentOnly)});c.on(\"contentDom\",k.attachListeners,k);c.on(\"instanceReady\",function(){c.fire(\"saveSnapshot\")});c.on(\"beforeModeUnload\",function(){\"wysiwyg\"==c.mode&&g.save(!0)});c.on(\"mode\",f);c.on(\"readOnly\",f);c.ui.addButton&&(c.ui.addButton(\"Undo\",{label:c.lang.undo.undo,command:\"undo\",toolbar:\"undo,10\"}),c.ui.addButton(\"Redo\",{label:c.lang.undo.redo,command:\"redo\",toolbar:\"undo,20\"}));c.resetUndo=function(){g.reset();\nc.fire(\"saveSnapshot\")};c.on(\"updateSnapshot\",function(){g.currentImage&&g.update()});c.on(\"lockSnapshot\",function(a){a=a.data;g.lock(a&&a.dontUpdate,a&&a.forceUpdate)});c.on(\"unlockSnapshot\",g.unlock,g)}});CKEDITOR.plugins.undo={};var b=CKEDITOR.plugins.undo.UndoManager=function(a){this.strokesRecorded=[0,0];this.locked=null;this.previousKeyGroup=-1;this.limit=a.config.undoStackSize||20;this.strokesLimit=25;this.editor=a;this.reset()};b.prototype={type:function(a,c){var e=b.getKeyGroup(a),f=this.strokesRecorded[e]+\n1;c=c||f>=this.strokesLimit;this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange());c?(f=0,this.editor.fire(\"saveSnapshot\")):this.editor.fire(\"change\");this.strokesRecorded[e]=f;this.previousKeyGroup=e},keyGroupChanged:function(a){return b.getKeyGroup(a)!=this.previousKeyGroup},reset:function(){this.snapshots=[];this.index=-1;this.currentImage=null;this.hasRedo=this.hasUndo=!1;this.locked=null;this.resetType()},resetType:function(){this.strokesRecorded=[0,0];this.typing=!1;this.previousKeyGroup=\n-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0);this.hasRedo=!!this.getNextImage(!1);this.resetType();this.onChange()},save:function(a,b,e){var f=this.editor;if(this.locked||\"ready\"!=f.status||\"wysiwyg\"!=f.mode)return!1;var k=f.editable();if(!k||\"ready\"!=k.status)return!1;k=this.snapshots;b||(b=new c(f));if(!1===b.contents)return!1;if(this.currentImage)if(b.equalsContent(this.currentImage)){if(a||b.equalsSelection(this.currentImage))return!1}else!1!==e&&f.fire(\"change\");k.splice(this.index+\n1,k.length-this.index-1);k.length==this.limit&&k.shift();this.index=k.push(b)-1;this.currentImage=b;!1!==e&&this.refreshState();return!0},restoreImage:function(a){var b=this.editor,c;a.bookmarks&&(b.focus(),c=b.getSelection());this.locked={level:999};this.editor.loadSnapshot(a.contents);a.bookmarks?c.selectBookmarks(a.bookmarks):CKEDITOR.env.ie&&(c=this.editor.document.getBody().$.createTextRange(),c.collapse(!0),c.select());this.locked=null;this.index=a.index;this.currentImage=this.snapshots[this.index];\nthis.update();this.refreshState();b.fire(\"change\")},getNextImage:function(a){var b=this.snapshots,c=this.currentImage,e;if(c)if(a)for(e=this.index-1;0<=e;e--){if(a=b[e],!c.equalsContent(a))return a.index=e,a}else for(e=this.index+1;e<b.length;e++)if(a=b[e],!c.equalsContent(a))return a.index=e,a;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var a=this.getNextImage(!0);if(a)return this.restoreImage(a),\n!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var a=this.getNextImage(!1);if(a)return this.restoreImage(a),!0}return!1},update:function(a){if(!this.locked){a||(a=new c(this.editor));for(var b=this.index,e=this.snapshots;0<b&&this.currentImage.equalsContent(e[b-1]);)--b;e.splice(b,this.index-b+1,a);this.index=b;this.currentImage=a}},updateSelection:function(a){if(!this.snapshots.length)return!1;var b=this.snapshots,c=b[b.length-1];return c.equalsContent(a)&&!c.equalsSelection(a)?\n(this.currentImage=b[b.length-1]=a,!0):!1},lock:function(a,b){if(this.locked)this.locked.level++;else if(a)this.locked={level:1};else{var e=null;if(b)e=!0;else{var f=new c(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(f)&&(e=f)}this.locked={update:e,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var a=this.locked.update;this.locked=null;if(!0===a)this.update();else if(a){var b=new c(this.editor,!0);a.equalsContent(b)||this.update()}}}};b.navigationKeyCodes=\n{37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1};b.keyGroups={PRINTABLE:0,FUNCTIONAL:1};b.isNavigationKey=function(a){return!!b.navigationKeyCodes[a]};b.getKeyGroup=function(a){var c=b.keyGroups;return f[a]?c.FUNCTIONAL:c.PRINTABLE};b.getOppositeKeyGroup=function(a){var c=b.keyGroups;return a==c.FUNCTIONAL?c.PRINTABLE:c.FUNCTIONAL};b.ieFunctionalKeysBug=function(a){return CKEDITOR.env.ie&&b.getKeyGroup(a)==b.keyGroups.FUNCTIONAL};var c=CKEDITOR.plugins.undo.Image=function(a,b){this.editor=a;a.fire(\"beforeUndoImage\");\nvar c=a.getSnapshot();CKEDITOR.env.ie&&c&&(c=c.replace(/\\s+data-cke-expando=\".*?\"/g,\"\"));this.contents=c;b||(this.bookmarks=(c=c&&a.getSelection())&&c.createBookmarks2(!0));a.fire(\"afterUndoImage\")},e=/\\b(?:href|src|name)=\"[^\"]*?\"/gi;c.prototype={equalsContent:function(a){var b=this.contents;a=a.contents;CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(b=b.replace(e,\"\"),a=a.replace(e,\"\"));return b!=a?!1:!0},equalsSelection:function(a){var b=this.bookmarks;a=a.bookmarks;if(b||a){if(!b||\n!a||b.length!=a.length)return!1;for(var c=0;c<b.length;c++){var e=b[c],f=a[c];if(e.startOffset!=f.startOffset||e.endOffset!=f.endOffset||!CKEDITOR.tools.arrayCompare(e.start,f.start)||!CKEDITOR.tools.arrayCompare(e.end,f.end))return!1}}return!0}};var l=CKEDITOR.plugins.undo.NativeEditingHandler=function(a){this.undoManager=a;this.ignoreInputEvent=!1;this.keyEventsStack=new k;this.lastKeydownImage=null};l.prototype={onKeydown:function(d){var e=d.data.getKey();if(229!==e)if(-1<CKEDITOR.tools.indexOf(a,\nd.data.getKeystroke()))d.data.preventDefault();else if(this.keyEventsStack.cleanUp(d),d=this.undoManager,this.keyEventsStack.getLast(e)||this.keyEventsStack.push(e),this.lastKeydownImage=new c(d.editor),b.isNavigationKey(e)||this.undoManager.keyGroupChanged(e))if(d.strokesRecorded[0]||d.strokesRecorded[1])d.save(!1,this.lastKeydownImage,!1),d.resetType()},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var a=this.keyEventsStack.getLast();a||(a=this.keyEventsStack.push(0));\nthis.keyEventsStack.increment(a.keyCode);this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(a.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(a){var e=this.undoManager;a=a.data.getKey();var f=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(a);if(!(b.ieFunctionalKeysBug(a)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new c(e.editor,!0))))if(0<f)e.type(a);else if(b.isNavigationKey(a))this.onNavigationKey(!0)},\nonNavigationKey:function(a){var b=this.undoManager;!a&&b.save(!0,null,!1)||b.updateSelection(new c(b.editor));b.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},attachListeners:function(){var a=this.undoManager.editor,c=a.editable(),e=this;c.attachListener(c,\"keydown\",function(a){e.onKeydown(a);if(b.ieFunctionalKeysBug(a.data.getKey()))e.onInput()},null,null,999);c.attachListener(c,CKEDITOR.env.ie?\"keypress\":\"input\",e.onInput,e,null,999);c.attachListener(c,\"keyup\",e.onKeyup,\ne,null,999);c.attachListener(c,\"paste\",e.ignoreInputEventListener,e,null,999);c.attachListener(c,\"drop\",e.ignoreInputEventListener,e,null,999);c.attachListener(c.isInline()?c:a.document.getDocumentElement(),\"click\",function(){e.onNavigationKey()},null,null,999);c.attachListener(this.undoManager.editor,\"blur\",function(){e.keyEventsStack.remove(9)},null,null,999)}};var k=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};k.prototype={push:function(a){a=this.stack.push({keyCode:a,inputs:0});\nreturn this.stack[a-1]},getLastIndex:function(a){if(\"number\"!=typeof a)return this.stack.length-1;for(var b=this.stack.length;b--;)if(this.stack[b].keyCode==a)return b;return-1},getLast:function(a){a=this.getLastIndex(a);return-1!=a?this.stack[a]:null},increment:function(a){this.getLast(a).inputs++},remove:function(a){a=this.getLastIndex(a);-1!=a&&this.stack.splice(a,1)},resetInputs:function(a){if(\"number\"==typeof a)this.getLast(a).inputs=0;else for(a=this.stack.length;a--;)this.stack[a].inputs=0},\ngetTotalInputs:function(){for(var a=this.stack.length,b=0;a--;)b+=this.stack[a].inputs;return b},cleanUp:function(a){a=a.data.$;a.ctrlKey||a.metaKey||this.remove(17);a.shiftKey||this.remove(16);a.altKey||this.remove(18)}}}(),CKEDITOR.plugins.add(\"wsc\",{requires:\"dialog\",parseApi:function(a){a.config.wsc_onFinish=\"function\"===typeof a.config.wsc_onFinish?a.config.wsc_onFinish:function(){};a.config.wsc_onClose=\"function\"===typeof a.config.wsc_onClose?a.config.wsc_onClose:function(){}},parseConfig:function(a){a.config.wsc_customerId=\na.config.wsc_customerId||CKEDITOR.config.wsc_customerId||\"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk\";a.config.wsc_customDictionaryIds=a.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||\"\";a.config.wsc_userDictionaryName=a.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||\"\";a.config.wsc_customLoaderScript=a.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript;a.config.wsc_interfaceLang=a.config.wsc_interfaceLang;\nCKEDITOR.config.wsc_cmd=a.config.wsc_cmd||CKEDITOR.config.wsc_cmd||\"spell\";CKEDITOR.config.wsc_version=\"v4.3.0-master-d769233\";CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(a){\"moono-lisa\"==(CKEDITOR.skinName||a.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+\"skins/\"+CKEDITOR.skin.name+\"/wsc.css\")},init:function(a){var f=CKEDITOR.env;this.parseConfig(a);this.parseApi(a);a.addCommand(\"checkspell\",new CKEDITOR.dialogCommand(\"checkspell\")).modes={wysiwyg:!CKEDITOR.env.opera&&\n!CKEDITOR.env.air&&document.domain==window.location.hostname&&!(f.ie&&(8>f.version||f.quirks))};\"undefined\"==typeof a.plugins.scayt&&a.ui.addButton&&a.ui.addButton(\"SpellChecker\",{label:a.lang.wsc.toolbar,click:function(a){var c=a.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?a.container.getText():a.document.getBody().getText();(c=c.replace(/\\s/g,\"\"))?a.execCommand(\"checkspell\"):alert(\"Nothing to check!\")},toolbar:\"spellchecker,10\"});CKEDITOR.dialog.add(\"checkspell\",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?\n\"dialogs/wsc_ie.js\":window.postMessage?\"dialogs/wsc.js\":\"dialogs/wsc_ie.js\"))}}),function(){function a(a){function b(a){var c=!1;g.attachListener(g,\"keydown\",function(){var b=d.getBody().getElementsByTag(a);if(!c){for(var e=0;e<b.count();e++)b.getItem(e).setCustomData(\"retain\",!0);c=!0}},null,null,1);g.attachListener(g,\"keyup\",function(){var b=d.getElementsByTag(a);c&&(1!=b.count()||b.getItem(0).getCustomData(\"retain\")||b.getItem(0).hasAttribute(\"data-cke-temp\")||b.getItem(0).remove(1),c=!1)})}var c=\nthis.editor,d=a.document,h=d.body,m=d.getElementById(\"cke_actscrpt\");m&&m.parentNode.removeChild(m);(m=d.getElementById(\"cke_shimscrpt\"))&&m.parentNode.removeChild(m);(m=d.getElementById(\"cke_basetagscrpt\"))&&m.parentNode.removeChild(m);h.contentEditable=!0;CKEDITOR.env.ie&&(h.hideFocus=!0,h.disabled=!0,h.removeAttribute(\"disabled\"));delete this._.isLoadingData;this.$=h;d=new CKEDITOR.dom.document(d);this.setup();this.fixInitialSelection();var g=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&d.getDocumentElement().addClass(d.$.compatMode);\nCKEDITOR.env.ie&&!CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_P?b(\"p\"):CKEDITOR.env.edge&&c.enterMode!=CKEDITOR.ENTER_DIV&&b(\"div\");if(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)d.getDocumentElement().on(\"mousedown\",function(a){a.data.getTarget().is(\"html\")&&setTimeout(function(){c.editable().focus()})});f(c);try{c.document.$.execCommand(\"2D-position\",!1,!0)}catch(n){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&\"CSS1Compat\"==c.document.$.compatMode)&&this.attachListener(this,\"keydown\",\nfunction(a){var b=a.data.getKeystroke();if(33==b||34==b)if(CKEDITOR.env.ie)setTimeout(function(){c.getSelection().scrollIntoView()},0);else if(c.window.$.innerHeight>this.$.offsetHeight){var d=c.createRange();d[33==b?\"moveToElementEditStart\":\"moveToElementEditEnd\"](this);d.select();a.data.preventDefault()}});CKEDITOR.env.ie&&this.attachListener(d,\"blur\",function(){try{d.$.selection.empty()}catch(a){}});CKEDITOR.env.iOS&&this.attachListener(d,\"touchend\",function(){a.focus()});h=c.document.getElementsByTag(\"title\").getItem(0);\nh.data(\"cke-title\",h.getText());CKEDITOR.env.ie&&(c.document.$.title=this._.docTitle);CKEDITOR.tools.setTimeout(function(){\"unloaded\"==this.status&&(this.status=\"ready\");c.fire(\"contentDom\");this._.isPendingFocus&&(c.focus(),this._.isPendingFocus=!1);setTimeout(function(){c.fire(\"dataReady\")},0)},0,this)}function f(a){function b(){var d;a.editable().attachListener(a,\"selectionChange\",function(){var b=a.getSelection().getSelectedElement();b&&(d&&(d.detachEvent(\"onresizestart\",c),d=null),b.$.attachEvent(\"onresizestart\",\nc),d=b.$)})}function c(a){a.returnValue=!1}if(CKEDITOR.env.gecko)try{var d=a.document.$;d.execCommand(\"enableObjectResizing\",!1,!a.config.disableObjectResizing);d.execCommand(\"enableInlineTableEditing\",!1,!a.config.disableNativeTableHandles)}catch(f){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&a.config.disableObjectResizing&&b(a)}function b(){var a=[];if(8<=CKEDITOR.document.$.documentMode){a.push(\"html.CSS1Compat [contenteditable\\x3dfalse]{min-height:0 !important}\");var b=[],c;for(c in CKEDITOR.dtd.$removeEmpty)b.push(\"html.CSS1Compat \"+\nc+\"[contenteditable\\x3dfalse]\");a.push(b.join(\",\")+\"{display:inline-block}\")}else CKEDITOR.env.gecko&&(a.push(\"html{height:100% !important}\"),a.push(\"img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\"));a.push(\"html{cursor:text;*cursor:auto}\");a.push(\"img,input,textarea{cursor:default}\");return a.join(\"\\n\")}var c;CKEDITOR.plugins.add(\"wysiwygarea\",{init:function(a){a.config.fullPage&&a.addFeature({allowedContent:\"html head title; style [media,type]; body (*)[id]; meta link [*]\",\nrequiredContent:\"body\"});a.addMode(\"wysiwyg\",function(b){function f(d){d&&d.removeListener();a.editable(new c(a,h.$.contentWindow.document.body));a.setData(a.getData(1),b)}var d=\"document.open();\"+(CKEDITOR.env.ie?\"(\"+CKEDITOR.tools.fixDomain+\")();\":\"\")+\"document.close();\",d=CKEDITOR.env.air?\"javascript:void(0)\":CKEDITOR.env.ie&&!CKEDITOR.env.edge?\"javascript:void(function(){\"+encodeURIComponent(d)+\"}())\":\"\",h=CKEDITOR.dom.element.createFromHtml('\\x3ciframe src\\x3d\"'+d+'\" frameBorder\\x3d\"0\"\\x3e\\x3c/iframe\\x3e');\nh.setStyles({width:\"100%\",height:\"100%\"});h.addClass(\"cke_wysiwyg_frame\").addClass(\"cke_reset\");d=a.ui.space(\"contents\");d.append(h);var m=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;if(m)h.on(\"load\",f);var g=a.title,n=a.fire(\"ariaEditorHelpLabel\",{}).label;g&&(CKEDITOR.env.ie&&n&&(g+=\", \"+n),h.setAttribute(\"title\",g));if(n){var g=CKEDITOR.tools.getNextId(),p=CKEDITOR.dom.element.createFromHtml('\\x3cspan id\\x3d\"'+g+'\" class\\x3d\"cke_voice_label\"\\x3e'+n+\"\\x3c/span\\x3e\");d.append(p,1);h.setAttribute(\"aria-describedby\",\ng)}a.on(\"beforeModeUnload\",function(a){a.removeListener();p&&p.remove()});h.setAttributes({tabIndex:a.tabIndex,allowTransparency:\"true\"});!m&&f();a.fire(\"ariaWidget\",h)})}});CKEDITOR.editor.prototype.addContentsCss=function(a){var b=this.config,c=b.contentsCss;CKEDITOR.tools.isArray(c)||(b.contentsCss=c?[c]:[]);b.contentsCss.push(a)};c=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments);this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(b){CKEDITOR.tools.setTimeout(a,\n0,this,b)},this);this._.docTitle=this.getWindow().getFrame().getAttribute(\"title\")},base:CKEDITOR.editable,proto:{setData:function(a,c){var f=this.editor;if(c)this.setHtml(a),this.fixInitialSelection(),f.fire(\"dataReady\");else{this._.isLoadingData=!0;f._.dataStore={id:1};var d=f.config,h=d.fullPage,m=d.docType,g=CKEDITOR.tools.buildStyleHtml(b()).replace(/<style>/,'\\x3cstyle data-cke-temp\\x3d\"1\"\\x3e');h||(g+=CKEDITOR.tools.buildStyleHtml(f.config.contentsCss));var n=d.baseHref?'\\x3cbase href\\x3d\"'+\nd.baseHref+'\" data-cke-temp\\x3d\"1\" /\\x3e':\"\";h&&(a=a.replace(/<!DOCTYPE[^>]*>/i,function(a){f.docType=m=a;return\"\"}).replace(/<\\?xml\\s[^\\?]*\\?>/i,function(a){f.xmlDeclaration=a;return\"\"}));a=f.dataProcessor.toHtml(a);h?(/<body[\\s|>]/.test(a)||(a=\"\\x3cbody\\x3e\"+a),/<html[\\s|>]/.test(a)||(a=\"\\x3chtml\\x3e\"+a+\"\\x3c/html\\x3e\"),/<head[\\s|>]/.test(a)?/<title[\\s|>]/.test(a)||(a=a.replace(/<head[^>]*>/,\"$\\x26\\x3ctitle\\x3e\\x3c/title\\x3e\")):a=a.replace(/<html[^>]*>/,\"$\\x26\\x3chead\\x3e\\x3ctitle\\x3e\\x3c/title\\x3e\\x3c/head\\x3e\"),\nn&&(a=a.replace(/<head[^>]*?>/,\"$\\x26\"+n)),a=a.replace(/<\\/head\\s*>/,g+\"$\\x26\"),a=m+a):a=d.docType+'\\x3chtml dir\\x3d\"'+d.contentsLangDirection+'\" lang\\x3d\"'+(d.contentsLanguage||f.langCode)+'\"\\x3e\\x3chead\\x3e\\x3ctitle\\x3e'+this._.docTitle+\"\\x3c/title\\x3e\"+n+g+\"\\x3c/head\\x3e\\x3cbody\"+(d.bodyId?' id\\x3d\"'+d.bodyId+'\"':\"\")+(d.bodyClass?' class\\x3d\"'+d.bodyClass+'\"':\"\")+\"\\x3e\"+a+\"\\x3c/body\\x3e\\x3c/html\\x3e\";CKEDITOR.env.gecko&&(a=a.replace(/<body/,'\\x3cbody contenteditable\\x3d\"true\" '),2E4>CKEDITOR.env.version&&\n(a=a.replace(/<body[^>]*>/,\"$\\x26\\x3c!-- cke-content-start --\\x3e\")));d='\\x3cscript id\\x3d\"cke_actscrpt\" type\\x3d\"text/javascript\"'+(CKEDITOR.env.ie?' defer\\x3d\"defer\" ':\"\")+\"\\x3evar wasLoaded\\x3d0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(\"+this._.frameLoadedHandler+\",window);wasLoaded\\x3d1;}\"+(CKEDITOR.env.ie?\"onload();\":'document.addEventListener(\"DOMContentLoaded\", onload, false );')+\"\\x3c/script\\x3e\";CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(d+='\\x3cscript id\\x3d\"cke_shimscrpt\"\\x3ewindow.parent.CKEDITOR.tools.enableHtml5Elements(document)\\x3c/script\\x3e');\nn&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(d+='\\x3cscript id\\x3d\"cke_basetagscrpt\"\\x3evar baseTag \\x3d document.querySelector( \"base\" );baseTag.href \\x3d baseTag.href;\\x3c/script\\x3e');a=a.replace(/(?=\\s*<\\/(:?head)>)/,d);this.clearCustomData();this.clearListeners();f.fire(\"contentDomUnload\");var p=this.getDocument();try{p.write(a)}catch(r){setTimeout(function(){p.write(a)},0)}}},getData:function(a){if(a)return this.getHtml();a=this.editor;var b=a.config,c=b.fullPage,d=c&&a.docType,f=c&&a.xmlDeclaration,\nm=this.getDocument(),c=c?m.getDocumentElement().getOuterHtml():m.getBody().getHtml();CKEDITOR.env.gecko&&b.enterMode!=CKEDITOR.ENTER_BR&&(c=c.replace(/<br>(?=\\s*(:?$|<\\/body>))/,\"\"));c=a.dataProcessor.toDataFormat(c);f&&(c=f+\"\\n\"+c);d&&(c=d+\"\\n\"+c);return c},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:c.baseProto.focus.call(this)},detach:function(){var a=this.editor,b=a.document,f;try{f=a.window.getFrame()}catch(d){}c.baseProto.detach.call(this);this.clearCustomData();b.getDocumentElement().clearCustomData();\nCKEDITOR.tools.removeFunction(this._.frameLoadedHandler);f&&f.getParent()?(f.clearCustomData(),(a=f.removeCustomData(\"onResize\"))&&a.removeListener(),f.remove()):CKEDITOR.warn(\"editor-destroy-iframe\")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins=\"dialogui,dialog,a11yhelp,about,basicstyles,blockquote,button,toolbar,notification,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,wsc,wysiwygarea\",\nCKEDITOR.config.skin=\"moono-lisa\",function(){var a=function(a,b){var c=CKEDITOR.getUrl(\"plugins/\"+b);a=a.split(\",\");for(var e=0;e<a.length;e++)CKEDITOR.skin.icons[a[e]]={path:c,offset:-a[++e],bgsize:a[++e]}};CKEDITOR.env.hidpi?a(\"about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,embed,552,,embedsemantic,576,,find-rtl,600,,find,624,,replace,648,,flash,672,,button,696,,checkbox,720,,form,744,,hiddenfield,768,,imagebutton,792,,radio,816,,select-rtl,840,,select,864,,textarea-rtl,888,,textarea,912,,textfield-rtl,936,,textfield,960,,horizontalrule,984,,iframe,1008,,image,1032,,indent-rtl,1056,,indent,1080,,outdent-rtl,1104,,outdent,1128,,justifyblock,1152,,justifycenter,1176,,justifyleft,1200,,justifyright,1224,,language,1248,,anchor-rtl,1272,,anchor,1296,,link,1320,,unlink,1344,,bulletedlist-rtl,1368,,bulletedlist,1392,,numberedlist-rtl,1416,,numberedlist,1440,,mathjax,1464,,maximize,1488,,newpage-rtl,1512,,newpage,1536,,pagebreak-rtl,1560,,pagebreak,1584,,pastefromword-rtl,1608,,pastefromword,1632,,pastetext-rtl,1656,,pastetext,1680,,placeholder,1704,,preview-rtl,1728,,preview,1752,,print,1776,,removeformat,1800,,save,1824,,scayt,1848,,selectall,1872,,showblocks-rtl,1896,,showblocks,1920,,smiley,1944,,source-rtl,1968,,source,1992,,sourcedialog-rtl,2016,,sourcedialog,2040,,specialchar,2064,,table,2088,,templates-rtl,2112,,templates,2136,,uicolor,2160,,redo-rtl,2184,,redo,2208,,undo-rtl,2232,,undo,2256,,simplebox,4560,auto,spellchecker,2304,\",\n\"icons_hidpi.png\"):a(\"about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,embed,552,auto,embedsemantic,576,auto,find-rtl,600,auto,find,624,auto,replace,648,auto,flash,672,auto,button,696,auto,checkbox,720,auto,form,744,auto,hiddenfield,768,auto,imagebutton,792,auto,radio,816,auto,select-rtl,840,auto,select,864,auto,textarea-rtl,888,auto,textarea,912,auto,textfield-rtl,936,auto,textfield,960,auto,horizontalrule,984,auto,iframe,1008,auto,image,1032,auto,indent-rtl,1056,auto,indent,1080,auto,outdent-rtl,1104,auto,outdent,1128,auto,justifyblock,1152,auto,justifycenter,1176,auto,justifyleft,1200,auto,justifyright,1224,auto,language,1248,auto,anchor-rtl,1272,auto,anchor,1296,auto,link,1320,auto,unlink,1344,auto,bulletedlist-rtl,1368,auto,bulletedlist,1392,auto,numberedlist-rtl,1416,auto,numberedlist,1440,auto,mathjax,1464,auto,maximize,1488,auto,newpage-rtl,1512,auto,newpage,1536,auto,pagebreak-rtl,1560,auto,pagebreak,1584,auto,pastefromword-rtl,1608,auto,pastefromword,1632,auto,pastetext-rtl,1656,auto,pastetext,1680,auto,placeholder,1704,auto,preview-rtl,1728,auto,preview,1752,auto,print,1776,auto,removeformat,1800,auto,save,1824,auto,scayt,1848,auto,selectall,1872,auto,showblocks-rtl,1896,auto,showblocks,1920,auto,smiley,1944,auto,source-rtl,1968,auto,source,1992,auto,sourcedialog-rtl,2016,auto,sourcedialog,2040,auto,specialchar,2064,auto,table,2088,auto,templates-rtl,2112,auto,templates,2136,auto,uicolor,2160,auto,redo-rtl,2184,auto,redo,2208,auto,undo-rtl,2232,auto,undo,2256,auto,simplebox,2280,auto,spellchecker,2304,auto\",\n\"icons.png\")}())})();//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2NrZWRpdG9yL2NrZWRpdG9yLmpzPzcyOTQiXSwic291cmNlc0NvbnRlbnQiOlsi77u/LypcbkNvcHlyaWdodCAoYykgMjAwMy0yMDE3LCBDS1NvdXJjZSAtIEZyZWRlcmljbyBLbmFiYmVuLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuRm9yIGxpY2Vuc2luZywgc2VlIExJQ0VOU0UubWQgb3IgaHR0cDovL2NrZWRpdG9yLmNvbS9saWNlbnNlXG4qL1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24ga2EoYSxmKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxmLHtlZGl0b3I6YSxpZDpcImNrZS1cIitDS0VESVRPUi50b29scy5nZXRVbmlxdWVJZCgpLGFyZWE6YS5fLm5vdGlmaWNhdGlvbkFyZWF9KTtmLnR5cGV8fCh0aGlzLnR5cGU9XCJpbmZvXCIpO3RoaXMuZWxlbWVudD10aGlzLl9jcmVhdGVFbGVtZW50KCk7YS5wbHVnaW5zLmNsaXBib2FyZCYmQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KHRoaXMuZWxlbWVudCl9ZnVuY3Rpb24gbGEoYSl7dmFyIGY9dGhpczt0aGlzLmVkaXRvcj1hO3RoaXMubm90aWZpY2F0aW9ucz1bXTt0aGlzLmVsZW1lbnQ9dGhpcy5fY3JlYXRlRWxlbWVudCgpO3RoaXMuX3VpQnVmZmVyPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcigxMCx0aGlzLl9sYXlvdXQsdGhpcyk7dGhpcy5fY2hhbmdlQnVmZmVyPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MDAsdGhpcy5fbGF5b3V0LFxudGhpcyk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe2YuX3JlbW92ZUxpc3RlbmVycygpO2YuZWxlbWVudC5yZW1vdmUoKX0pfXdpbmRvdy5DS0VESVRPUiYmd2luZG93LkNLRURJVE9SLmRvbXx8KHdpbmRvdy5DS0VESVRPUnx8KHdpbmRvdy5DS0VESVRPUj1mdW5jdGlvbigpe3ZhciBhPS8oXnwuKltcXFxcXFwvXSlja2VkaXRvclxcLmpzKD86XFw/Lip8Oy4qKT8kL2ksZj17dGltZXN0YW1wOlwiSDRQRlwiLHZlcnNpb246XCI0LjcuMCAoU3RhbmRhcmQpXCIscmV2aXNpb246XCIzMjAwMTNkNTZcIixybmQ6TWF0aC5mbG9vcig5MDAqTWF0aC5yYW5kb20oKSkrMTAwLF86e3BlbmRpbmc6W10sYmFzZVBhdGhTcmNQYXR0ZXJuOmF9LHN0YXR1czpcInVubG9hZGVkXCIsYmFzZVBhdGg6ZnVuY3Rpb24oKXt2YXIgYz13aW5kb3cuQ0tFRElUT1JfQkFTRVBBVEh8fFwiXCI7aWYoIWMpZm9yKHZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpLGY9MDtmPGIubGVuZ3RoO2YrKyl7dmFyIGQ9XG5iW2ZdLnNyYy5tYXRjaChhKTtpZihkKXtjPWRbMV07YnJlYWt9fS0xPT1jLmluZGV4T2YoXCI6L1wiKSYmXCIvL1wiIT1jLnNsaWNlKDAsMikmJihjPTA9PT1jLmluZGV4T2YoXCIvXCIpP2xvY2F0aW9uLmhyZWYubWF0Y2goL14uKj86XFwvXFwvW15cXC9dKi8pWzBdK2M6bG9jYXRpb24uaHJlZi5tYXRjaCgvXlteXFw/XSpcXC8oPzopLylbMF0rYyk7aWYoIWMpdGhyb3cnVGhlIENLRWRpdG9yIGluc3RhbGxhdGlvbiBwYXRoIGNvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGRldGVjdGVkLiBQbGVhc2Ugc2V0IHRoZSBnbG9iYWwgdmFyaWFibGUgXCJDS0VESVRPUl9CQVNFUEFUSFwiIGJlZm9yZSBjcmVhdGluZyBlZGl0b3IgaW5zdGFuY2VzLic7cmV0dXJuIGN9KCksZ2V0VXJsOmZ1bmN0aW9uKGEpey0xPT1hLmluZGV4T2YoXCI6L1wiKSYmMCE9PWEuaW5kZXhPZihcIi9cIikmJihhPXRoaXMuYmFzZVBhdGgrYSk7dGhpcy50aW1lc3RhbXAmJlwiL1wiIT1hLmNoYXJBdChhLmxlbmd0aC0xKSYmIS9bJj9ddD0vLnRlc3QoYSkmJlxuKGErPSgwPD1hLmluZGV4T2YoXCI/XCIpP1wiXFx4MjZcIjpcIj9cIikrXCJ0XFx4M2RcIit0aGlzLnRpbWVzdGFtcCk7cmV0dXJuIGF9LGRvbVJlYWR5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3RyeXtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyPyhkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGEsITEpLGMoKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJlwiY29tcGxldGVcIj09PWRvY3VtZW50LnJlYWR5U3RhdGUmJihkb2N1bWVudC5kZXRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGEpLGMoKSl9Y2F0Y2goZCl7fX1mdW5jdGlvbiBjKCl7Zm9yKHZhciBhO2E9Yi5zaGlmdCgpOylhKCl9dmFyIGI9W107cmV0dXJuIGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoKXt0cnl7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKFwibGVmdFwiKX1jYXRjaChnKXtzZXRUaW1lb3V0KGMsMSk7cmV0dXJufWEoKX1iLnB1c2goZCk7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmXG5zZXRUaW1lb3V0KGEsMSk7aWYoMT09Yi5sZW5ndGgpaWYoZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcilkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGEsITEpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGEsITEpO2Vsc2UgaWYoZG9jdW1lbnQuYXR0YWNoRXZlbnQpe2RvY3VtZW50LmF0dGFjaEV2ZW50KFwib25yZWFkeXN0YXRlY2hhbmdlXCIsYSk7d2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsYSk7ZD0hMTt0cnl7ZD0hd2luZG93LmZyYW1lRWxlbWVudH1jYXRjaChtKXt9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsJiZkJiZjKCl9fX0oKX0sYj13aW5kb3cuQ0tFRElUT1JfR0VUVVJMO2lmKGIpe3ZhciBjPWYuZ2V0VXJsO2YuZ2V0VXJsPWZ1bmN0aW9uKGEpe3JldHVybiBiLmNhbGwoZixhKXx8Yy5jYWxsKGYsYSl9fXJldHVybiBmfSgpKSxDS0VESVRPUi5ldmVudHx8KENLRURJVE9SLmV2ZW50PWZ1bmN0aW9uKCl7fSxcbkNLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uPWZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLmV2ZW50LnByb3RvdHlwZSxiO2ZvcihiIGluIGYpbnVsbD09YVtiXSYmKGFbYl09ZltiXSl9LENLRURJVE9SLmV2ZW50LnByb3RvdHlwZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGU9Zih0aGlzKTtyZXR1cm4gZVthXXx8KGVbYV09bmV3IGIoYSkpfXZhciBmPWZ1bmN0aW9uKGEpe2E9YS5nZXRQcml2YXRlJiZhLmdldFByaXZhdGUoKXx8YS5ffHwoYS5fPXt9KTtyZXR1cm4gYS5ldmVudHN8fChhLmV2ZW50cz17fSl9LGI9ZnVuY3Rpb24oYSl7dGhpcy5uYW1lPWE7dGhpcy5saXN0ZW5lcnM9W119O2IucHJvdG90eXBlPXtnZXRMaXN0ZW5lckluZGV4OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGY9dGhpcy5saXN0ZW5lcnM7YjxmLmxlbmd0aDtiKyspaWYoZltiXS5mbj09YSlyZXR1cm4gYjtyZXR1cm4tMX19O3JldHVybntkZWZpbmU6ZnVuY3Rpb24oYixlKXt2YXIgZj1hLmNhbGwodGhpcyxcbmIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZChmLGUsITApfSxvbjpmdW5jdGlvbihiLGUsZixrLGQpe2Z1bmN0aW9uIGgoYSxnLGQsaCl7YT17bmFtZTpiLHNlbmRlcjp0aGlzLGVkaXRvcjphLGRhdGE6ZyxsaXN0ZW5lckRhdGE6ayxzdG9wOmQsY2FuY2VsOmgscmVtb3ZlTGlzdGVuZXI6bX07cmV0dXJuITE9PT1lLmNhbGwoZixhKT8hMTphLmRhdGF9ZnVuY3Rpb24gbSgpe24ucmVtb3ZlTGlzdGVuZXIoYixlKX12YXIgZz1hLmNhbGwodGhpcyxiKTtpZigwPmcuZ2V0TGlzdGVuZXJJbmRleChlKSl7Zz1nLmxpc3RlbmVycztmfHwoZj10aGlzKTtpc05hTihkKSYmKGQ9MTApO3ZhciBuPXRoaXM7aC5mbj1lO2gucHJpb3JpdHk9ZDtmb3IodmFyIHA9Zy5sZW5ndGgtMTswPD1wO3AtLSlpZihnW3BdLnByaW9yaXR5PD1kKXJldHVybiBnLnNwbGljZShwKzEsMCxoKSx7cmVtb3ZlTGlzdGVuZXI6bX07Zy51bnNoaWZ0KGgpfXJldHVybntyZW1vdmVMaXN0ZW5lcjptfX0sb25jZTpmdW5jdGlvbigpe3ZhciBhPVxuQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSxiPWFbMV07YVsxXT1mdW5jdGlvbihhKXthLnJlbW92ZUxpc3RlbmVyKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtyZXR1cm4gdGhpcy5vbi5hcHBseSh0aGlzLGEpfSxjYXB0dXJlOmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xO3ZhciBhPXRoaXMub24uYXBwbHkodGhpcyxhcmd1bWVudHMpO0NLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MDtyZXR1cm4gYX0sZmlyZTpmdW5jdGlvbigpe3ZhciBhPTAsYj1mdW5jdGlvbigpe2E9MX0sbD0wLGs9ZnVuY3Rpb24oKXtsPTF9O3JldHVybiBmdW5jdGlvbihkLGgsbSl7dmFyIGc9Zih0aGlzKVtkXTtkPWE7dmFyIG49bDthPWw9MDtpZihnKXt2YXIgcD1nLmxpc3RlbmVycztpZihwLmxlbmd0aClmb3IodmFyIHA9cC5zbGljZSgwKSxyLHg9MDt4PHAubGVuZ3RoO3grKyl7aWYoZy5lcnJvclByb29mKXRyeXtyPXBbeF0uY2FsbCh0aGlzLFxubSxoLGIsayl9Y2F0Y2godil7fWVsc2Ugcj1wW3hdLmNhbGwodGhpcyxtLGgsYixrKTshMT09PXI/bD0xOlwidW5kZWZpbmVkXCIhPXR5cGVvZiByJiYoaD1yKTtpZihhfHxsKWJyZWFrfX1oPWw/ITE6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGg/ITA6aDthPWQ7bD1uO3JldHVybiBofX0oKSxmaXJlT25jZTpmdW5jdGlvbihhLGIsbCl7Yj10aGlzLmZpcmUoYSxiLGwpO2RlbGV0ZSBmKHRoaXMpW2FdO3JldHVybiBifSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhLGIpe3ZhciBsPWYodGhpcylbYV07aWYobCl7dmFyIGs9bC5nZXRMaXN0ZW5lckluZGV4KGIpOzA8PWsmJmwubGlzdGVuZXJzLnNwbGljZShrLDEpfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9Zih0aGlzKSxiO2ZvcihiIGluIGEpZGVsZXRlIGFbYl19LGhhc0xpc3RlbmVyczpmdW5jdGlvbihhKXtyZXR1cm4oYT1mKHRoaXMpW2FdKSYmMDxhLmxpc3RlbmVycy5sZW5ndGh9fX0oKSksQ0tFRElUT1IuZWRpdG9yfHxcbihDS0VESVRPUi5lZGl0b3I9ZnVuY3Rpb24oKXtDS0VESVRPUi5fLnBlbmRpbmcucHVzaChbdGhpcyxhcmd1bWVudHNdKTtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpfSxDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmZpcmU9ZnVuY3Rpb24oYSxmKXthIGlue2luc3RhbmNlUmVhZHk6MSxsb2FkZWQ6MX0mJih0aGlzW2FdPSEwKTtyZXR1cm4gQ0tFRElUT1IuZXZlbnQucHJvdG90eXBlLmZpcmUuY2FsbCh0aGlzLGEsZix0aGlzKX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5maXJlT25jZT1mdW5jdGlvbihhLGYpe2EgaW57aW5zdGFuY2VSZWFkeToxLGxvYWRlZDoxfSYmKHRoaXNbYV09ITApO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUuZmlyZU9uY2UuY2FsbCh0aGlzLGEsZix0aGlzKX0sQ0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSkpLENLRURJVE9SLmVudnx8KENLRURJVE9SLmVudj1mdW5jdGlvbigpe3ZhciBhPVxubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLGY9YS5tYXRjaCgvZWRnZVsgXFwvXShcXGQrLj9cXGQqKS8pLGI9LTE8YS5pbmRleE9mKFwidHJpZGVudC9cIiksYj0hKCFmJiYhYiksYj17aWU6YixlZGdlOiEhZix3ZWJraXQ6IWImJi0xPGEuaW5kZXhPZihcIiBhcHBsZXdlYmtpdC9cIiksYWlyOi0xPGEuaW5kZXhPZihcIiBhZG9iZWFpci9cIiksbWFjOi0xPGEuaW5kZXhPZihcIm1hY2ludG9zaFwiKSxxdWlya3M6XCJCYWNrQ29tcGF0XCI9PWRvY3VtZW50LmNvbXBhdE1vZGUmJighZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwxMD5kb2N1bWVudC5kb2N1bWVudE1vZGUpLG1vYmlsZTotMTxhLmluZGV4T2YoXCJtb2JpbGVcIiksaU9TOi8oaXBhZHxpcGhvbmV8aXBvZCkvLnRlc3QoYSksaXNDdXN0b21Eb21haW46ZnVuY3Rpb24oKXtpZighdGhpcy5pZSlyZXR1cm4hMTt2YXIgYT1kb2N1bWVudC5kb21haW4sYj13aW5kb3cubG9jYXRpb24uaG9zdG5hbWU7cmV0dXJuIGEhPWImJmEhPVwiW1wiK2IrXCJdXCJ9LFxuc2VjdXJlOlwiaHR0cHM6XCI9PWxvY2F0aW9uLnByb3RvY29sfTtiLmdlY2tvPVwiR2Vja29cIj09bmF2aWdhdG9yLnByb2R1Y3QmJiFiLndlYmtpdCYmIWIuaWU7Yi53ZWJraXQmJigtMTxhLmluZGV4T2YoXCJjaHJvbWVcIik/Yi5jaHJvbWU9ITA6Yi5zYWZhcmk9ITApO3ZhciBjPTA7Yi5pZSYmKGM9Zj9wYXJzZUZsb2F0KGZbMV0pOmIucXVpcmtzfHwhZG9jdW1lbnQuZG9jdW1lbnRNb2RlP3BhcnNlRmxvYXQoYS5tYXRjaCgvbXNpZSAoXFxkKykvKVsxXSk6ZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGIuaWU5Q29tcGF0PTk9PWMsYi5pZThDb21wYXQ9OD09YyxiLmllN0NvbXBhdD03PT1jLGIuaWU2Q29tcGF0PTc+Y3x8Yi5xdWlya3MpO2IuZ2Vja28mJihmPWEubWF0Y2goL3J2OihbXFxkXFwuXSspLykpJiYoZj1mWzFdLnNwbGl0KFwiLlwiKSxjPTFFNCpmWzBdKzEwMCooZlsxXXx8MCkrMSooZlsyXXx8MCkpO2IuYWlyJiYoYz1wYXJzZUZsb2F0KGEubWF0Y2goLyBhZG9iZWFpclxcLyhcXGQrKS8pWzFdKSk7XG5iLndlYmtpdCYmKGM9cGFyc2VGbG9hdChhLm1hdGNoKC8gYXBwbGV3ZWJraXRcXC8oXFxkKykvKVsxXSkpO2IudmVyc2lvbj1jO2IuaXNDb21wYXRpYmxlPSEoYi5pZSYmNz5jKSYmIShiLmdlY2tvJiY0RTQ+YykmJiEoYi53ZWJraXQmJjUzND5jKTtiLmhpZHBpPTI8PXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO2IubmVlZHNCckZpbGxlcj1iLmdlY2tvfHxiLndlYmtpdHx8Yi5pZSYmMTA8YztiLm5lZWRzTmJzcEZpbGxlcj1iLmllJiYxMT5jO2IuY3NzQ2xhc3M9XCJja2VfYnJvd3Nlcl9cIisoYi5pZT9cImllXCI6Yi5nZWNrbz9cImdlY2tvXCI6Yi53ZWJraXQ/XCJ3ZWJraXRcIjpcInVua25vd25cIik7Yi5xdWlya3MmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9xdWlya3NcIik7Yi5pZSYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9icm93c2VyX2llXCIrKGIucXVpcmtzP1wiNiBja2VfYnJvd3Nlcl9pZXF1aXJrc1wiOmIudmVyc2lvbikpO2IuYWlyJiYoYi5jc3NDbGFzcys9XCIgY2tlX2Jyb3dzZXJfYWlyXCIpO1xuYi5pT1MmJihiLmNzc0NsYXNzKz1cIiBja2VfYnJvd3Nlcl9pb3NcIik7Yi5oaWRwaSYmKGIuY3NzQ2xhc3MrPVwiIGNrZV9oaWRwaVwiKTtyZXR1cm4gYn0oKSksXCJ1bmxvYWRlZFwiPT1DS0VESVRPUi5zdGF0dXMmJmZ1bmN0aW9uKCl7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IpO0NLRURJVE9SLmxvYWRGdWxsQ29yZT1mdW5jdGlvbigpe2lmKFwiYmFzaWNfcmVhZHlcIiE9Q0tFRElUT1Iuc3RhdHVzKUNLRURJVE9SLmxvYWRGdWxsQ29yZS5fbG9hZD0xO2Vsc2V7ZGVsZXRlIENLRURJVE9SLmxvYWRGdWxsQ29yZTt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2EudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2Euc3JjPUNLRURJVE9SLmJhc2VQYXRoK1wiY2tlZGl0b3IuanNcIjtkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIilbMF0uYXBwZW5kQ2hpbGQoYSl9fTtDS0VESVRPUi5sb2FkRnVsbENvcmVUaW1lb3V0PTA7Q0tFRElUT1IuYWRkPVxuZnVuY3Rpb24oYSl7KHRoaXMuXy5wZW5kaW5nfHwodGhpcy5fLnBlbmRpbmc9W10pKS5wdXNoKGEpfTsoZnVuY3Rpb24oKXtDS0VESVRPUi5kb21SZWFkeShmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmxvYWRGdWxsQ29yZSxmPUNLRURJVE9SLmxvYWRGdWxsQ29yZVRpbWVvdXQ7YSYmKENLRURJVE9SLnN0YXR1cz1cImJhc2ljX3JlYWR5XCIsYSYmYS5fbG9hZD9hKCk6ZiYmc2V0VGltZW91dChmdW5jdGlvbigpe0NLRURJVE9SLmxvYWRGdWxsQ29yZSYmQ0tFRElUT1IubG9hZEZ1bGxDb3JlKCl9LDFFMypmKSl9KX0pKCk7Q0tFRElUT1Iuc3RhdHVzPVwiYmFzaWNfbG9hZGVkXCJ9KCksXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IuVkVSQk9TSVRZX1dBUk49MSxDS0VESVRPUi5WRVJCT1NJVFlfRVJST1I9MixDS0VESVRPUi52ZXJib3NpdHk9Q0tFRElUT1IuVkVSQk9TSVRZX1dBUk58Q0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SLENLRURJVE9SLndhcm49ZnVuY3Rpb24oYSxmKXtDS0VESVRPUi52ZXJib3NpdHkmXG5DS0VESVRPUi5WRVJCT1NJVFlfV0FSTiYmQ0tFRElUT1IuZmlyZShcImxvZ1wiLHt0eXBlOlwid2FyblwiLGVycm9yQ29kZTphLGFkZGl0aW9uYWxEYXRhOmZ9KX0sQ0tFRElUT1IuZXJyb3I9ZnVuY3Rpb24oYSxmKXtDS0VESVRPUi52ZXJib3NpdHkmQ0tFRElUT1IuVkVSQk9TSVRZX0VSUk9SJiZDS0VESVRPUi5maXJlKFwibG9nXCIse3R5cGU6XCJlcnJvclwiLGVycm9yQ29kZTphLGFkZGl0aW9uYWxEYXRhOmZ9KX0sQ0tFRElUT1Iub24oXCJsb2dcIixmdW5jdGlvbihhKXtpZih3aW5kb3cuY29uc29sZSYmd2luZG93LmNvbnNvbGUubG9nKXt2YXIgZj1jb25zb2xlW2EuZGF0YS50eXBlXT9hLmRhdGEudHlwZTpcImxvZ1wiLGI9YS5kYXRhLmVycm9yQ29kZTtpZihhPWEuZGF0YS5hZGRpdGlvbmFsRGF0YSljb25zb2xlW2ZdKFwiW0NLRURJVE9SXSBFcnJvciBjb2RlOiBcIitiK1wiLlwiLGEpO2Vsc2UgY29uc29sZVtmXShcIltDS0VESVRPUl0gRXJyb3IgY29kZTogXCIrYitcIi5cIik7Y29uc29sZVtmXShcIltDS0VESVRPUl0gRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhpcyBlcnJvciBnbyB0byBodHRwOi8vZG9jcy5ja2VkaXRvci5jb20vIyEvZ3VpZGUvZGV2X2Vycm9ycy1zZWN0aW9uLVwiK1xuYil9fSxudWxsLG51bGwsOTk5KSxDS0VESVRPUi5kb209e30sZnVuY3Rpb24oKXt2YXIgYT1bXSxmPUNLRURJVE9SLmVudi5nZWNrbz9cIi1tb3otXCI6Q0tFRElUT1IuZW52LndlYmtpdD9cIi13ZWJraXQtXCI6Q0tFRElUT1IuZW52LmllP1wiLW1zLVwiOlwiXCIsYj0vJi9nLGM9Lz4vZyxlPS88L2csbD0vXCIvZyxrPS8mKGx0fGd0fGFtcHxxdW90fG5ic3B8c2h5fCNcXGR7MSw1fSk7L2csZD17bHQ6XCJcXHgzY1wiLGd0OlwiXFx4M2VcIixhbXA6XCJcXHgyNlwiLHF1b3Q6J1wiJyxuYnNwOlwiwqBcIixzaHk6XCLCrVwifSxoPWZ1bmN0aW9uKGEsZyl7cmV0dXJuXCIjXCI9PWdbMF0/U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChnLnNsaWNlKDEpLDEwKSk6ZFtnXX07Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7YT1bXX0pO0NLRURJVE9SLnRvb2xzPXthcnJheUNvbXBhcmU6ZnVuY3Rpb24oYSxnKXtpZighYSYmIWcpcmV0dXJuITA7aWYoIWF8fCFnfHxhLmxlbmd0aCE9Zy5sZW5ndGgpcmV0dXJuITE7Zm9yKHZhciBkPVxuMDtkPGEubGVuZ3RoO2QrKylpZihhW2RdIT1nW2RdKXJldHVybiExO3JldHVybiEwfSxnZXRJbmRleDpmdW5jdGlvbihhLGcpe2Zvcih2YXIgZD0wO2Q8YS5sZW5ndGg7KytkKWlmKGcoYVtkXSkpcmV0dXJuIGQ7cmV0dXJuLTF9LGNsb25lOmZ1bmN0aW9uKGEpe3ZhciBnO2lmKGEmJmEgaW5zdGFuY2VvZiBBcnJheSl7Zz1bXTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylnW2RdPUNLRURJVE9SLnRvb2xzLmNsb25lKGFbZF0pO3JldHVybiBnfWlmKG51bGw9PT1hfHxcIm9iamVjdFwiIT10eXBlb2YgYXx8YSBpbnN0YW5jZW9mIFN0cmluZ3x8YSBpbnN0YW5jZW9mIE51bWJlcnx8YSBpbnN0YW5jZW9mIEJvb2xlYW58fGEgaW5zdGFuY2VvZiBEYXRlfHxhIGluc3RhbmNlb2YgUmVnRXhwfHxhLm5vZGVUeXBlfHxhLndpbmRvdz09PWEpcmV0dXJuIGE7Zz1uZXcgYS5jb25zdHJ1Y3Rvcjtmb3IoZCBpbiBhKWdbZF09Q0tFRElUT1IudG9vbHMuY2xvbmUoYVtkXSk7cmV0dXJuIGd9LGNhcGl0YWxpemU6ZnVuY3Rpb24oYSxcbmcpe3JldHVybiBhLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpKyhnP2Euc2xpY2UoMSk6YS5zbGljZSgxKS50b0xvd2VyQ2FzZSgpKX0sZXh0ZW5kOmZ1bmN0aW9uKGEpe3ZhciBnPWFyZ3VtZW50cy5sZW5ndGgsZCxiO1wiYm9vbGVhblwiPT10eXBlb2YoZD1hcmd1bWVudHNbZy0xXSk/Zy0tOlwiYm9vbGVhblwiPT10eXBlb2YoZD1hcmd1bWVudHNbZy0yXSkmJihiPWFyZ3VtZW50c1tnLTFdLGctPTIpO2Zvcih2YXIgaD0xO2g8ZztoKyspe3ZhciBjPWFyZ3VtZW50c1toXSxlO2ZvcihlIGluIGMpaWYoITA9PT1kfHxudWxsPT1hW2VdKWlmKCFifHxlIGluIGIpYVtlXT1jW2VdfXJldHVybiBhfSxwcm90b3R5cGVkQ29weTpmdW5jdGlvbihhKXt2YXIgZz1mdW5jdGlvbigpe307Zy5wcm90b3R5cGU9YTtyZXR1cm4gbmV3IGd9LGNvcHk6ZnVuY3Rpb24oYSl7dmFyIGc9e30sZDtmb3IoZCBpbiBhKWdbZF09YVtkXTtyZXR1cm4gZ30saXNBcnJheTpmdW5jdGlvbihhKXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PVxuT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfSxpc0VtcHR5OmZ1bmN0aW9uKGEpe2Zvcih2YXIgZyBpbiBhKWlmKGEuaGFzT3duUHJvcGVydHkoZykpcmV0dXJuITE7cmV0dXJuITB9LGNzc1ZlbmRvclByZWZpeDpmdW5jdGlvbihhLGcsZCl7aWYoZClyZXR1cm4gZithK1wiOlwiK2crXCI7XCIrYStcIjpcIitnO2Q9e307ZFthXT1nO2RbZithXT1nO3JldHVybiBkfSxjc3NTdHlsZVRvRG9tU3R5bGU6ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLnN0eWxlLGc9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEuY3NzRmxvYXQ/XCJjc3NGbG9hdFwiOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnN0eWxlRmxvYXQ/XCJzdHlsZUZsb2F0XCI6XCJmbG9hdFwiO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm5cImZsb2F0XCI9PWE/ZzphLnJlcGxhY2UoLy0uL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3Vic3RyKDEpLnRvVXBwZXJDYXNlKCl9KX19KCksYnVpbGRTdHlsZUh0bWw6ZnVuY3Rpb24oYSl7YT1cbltdLmNvbmNhdChhKTtmb3IodmFyIGcsZD1bXSxiPTA7YjxhLmxlbmd0aDtiKyspaWYoZz1hW2JdKS9AaW1wb3J0fFt7fV0vLnRlc3QoZyk/ZC5wdXNoKFwiXFx4M2NzdHlsZVxceDNlXCIrZytcIlxceDNjL3N0eWxlXFx4M2VcIik6ZC5wdXNoKCdcXHgzY2xpbmsgdHlwZVxceDNkXCJ0ZXh0L2Nzc1wiIHJlbFxceDNkc3R5bGVzaGVldCBocmVmXFx4M2RcIicrZysnXCJcXHgzZScpO3JldHVybiBkLmpvaW4oXCJcIil9LGh0bWxFbmNvZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHZvaWQgMD09PWF8fG51bGw9PT1hP1wiXCI6U3RyaW5nKGEpLnJlcGxhY2UoYixcIlxceDI2YW1wO1wiKS5yZXBsYWNlKGMsXCJcXHgyNmd0O1wiKS5yZXBsYWNlKGUsXCJcXHgyNmx0O1wiKX0saHRtbERlY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGssaCl9LGh0bWxFbmNvZGVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGEpLnJlcGxhY2UobCxcIlxceDI2cXVvdDtcIil9LGh0bWxEZWNvZGVBdHRyOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5odG1sRGVjb2RlKGEpfSxcbnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbDpmdW5jdGlvbihhLGcpe3ZhciBkPWc9PUNLRURJVE9SLkVOVEVSX0JSLGI9dGhpcy5odG1sRW5jb2RlKGEucmVwbGFjZSgvXFxyXFxuL2csXCJcXG5cIikpLGI9Yi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIiksaD1nPT1DS0VESVRPUi5FTlRFUl9QP1wicFwiOlwiZGl2XCI7aWYoIWQpe3ZhciBjPS9cXG57Mn0vZztpZihjLnRlc3QoYikpdmFyIGU9XCJcXHgzY1wiK2grXCJcXHgzZVwiLGY9XCJcXHgzYy9cIitoK1wiXFx4M2VcIixiPWUrYi5yZXBsYWNlKGMsZnVuY3Rpb24oKXtyZXR1cm4gZitlfSkrZn1iPWIucmVwbGFjZSgvXFxuL2csXCJcXHgzY2JyXFx4M2VcIik7ZHx8KGI9Yi5yZXBsYWNlKG5ldyBSZWdFeHAoXCJcXHgzY2JyXFx4M2UoP1xceDNkXFx4M2MvXCIraCtcIlxceDNlKVwiKSxmdW5jdGlvbihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KGEsMil9KSk7Yj1iLnJlcGxhY2UoL14gfCAkL2csXCJcXHgyNm5ic3A7XCIpO3JldHVybiBiPWIucmVwbGFjZSgvKD58XFxzKSAvZyxcbmZ1bmN0aW9uKGEsZyl7cmV0dXJuIGcrXCJcXHgyNm5ic3A7XCJ9KS5yZXBsYWNlKC8gKD89PCkvZyxcIlxceDI2bmJzcDtcIil9LGdldE5leHROdW1iZXI6ZnVuY3Rpb24oKXt2YXIgYT0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybisrYX19KCksZ2V0TmV4dElkOmZ1bmN0aW9uKCl7cmV0dXJuXCJja2VfXCIrdGhpcy5nZXROZXh0TnVtYmVyKCl9LGdldFVuaXF1ZUlkOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVwiZVwiLGc9MDs4Pmc7ZysrKWErPU1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7cmV0dXJuIGF9LG92ZXJyaWRlOmZ1bmN0aW9uKGEsZyl7dmFyIGQ9ZyhhKTtkLnByb3RvdHlwZT1hLnByb3RvdHlwZTtyZXR1cm4gZH0sc2V0VGltZW91dDpmdW5jdGlvbihhLGcsZCxiLGgpe2h8fChoPXdpbmRvdyk7ZHx8KGQ9aCk7cmV0dXJuIGguc2V0VGltZW91dChmdW5jdGlvbigpe2I/YS5hcHBseShkLFtdLmNvbmNhdChiKSk6YS5hcHBseShkKX0sXG5nfHwwKX0sdHJpbTpmdW5jdGlvbigpe3ZhciBhPS8oPzpeWyBcXHRcXG5cXHJdKyl8KD86WyBcXHRcXG5cXHJdKyQpL2c7cmV0dXJuIGZ1bmN0aW9uKGcpe3JldHVybiBnLnJlcGxhY2UoYSxcIlwiKX19KCksbHRyaW06ZnVuY3Rpb24oKXt2YXIgYT0vXlsgXFx0XFxuXFxyXSsvZztyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGcucmVwbGFjZShhLFwiXCIpfX0oKSxydHJpbTpmdW5jdGlvbigpe3ZhciBhPS9bIFxcdFxcblxccl0rJC9nO3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4gZy5yZXBsYWNlKGEsXCJcIil9fSgpLGluZGV4T2Y6ZnVuY3Rpb24oYSxnKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBnKWZvcih2YXIgZD0wLGI9YS5sZW5ndGg7ZDxiO2QrKyl7aWYoZyhhW2RdKSlyZXR1cm4gZH1lbHNle2lmKGEuaW5kZXhPZilyZXR1cm4gYS5pbmRleE9mKGcpO2Q9MDtmb3IoYj1hLmxlbmd0aDtkPGI7ZCsrKWlmKGFbZF09PT1nKXJldHVybiBkfXJldHVybi0xfSxzZWFyY2g6ZnVuY3Rpb24oYSxnKXt2YXIgZD1DS0VESVRPUi50b29scy5pbmRleE9mKGEsXG5nKTtyZXR1cm4gMDw9ZD9hW2RdOm51bGx9LGJpbmQ6ZnVuY3Rpb24oYSxnKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShnLGFyZ3VtZW50cyl9fSxjcmVhdGVDbGFzczpmdW5jdGlvbihhKXt2YXIgZz1hLiQsZD1hLmJhc2UsYj1hLnByaXZhdGVzfHxhLl8saD1hLnByb3RvO2E9YS5zdGF0aWNzOyFnJiYoZz1mdW5jdGlvbigpe2QmJnRoaXMuYmFzZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KTtpZihiKXZhciBjPWcsZz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuX3x8KHRoaXMuXz17fSksZztmb3IoZyBpbiBiKXt2YXIgZD1iW2ddO2FbZ109XCJmdW5jdGlvblwiPT10eXBlb2YgZD9DS0VESVRPUi50b29scy5iaW5kKGQsdGhpcyk6ZH1jLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07ZCYmKGcucHJvdG90eXBlPXRoaXMucHJvdG90eXBlZENvcHkoZC5wcm90b3R5cGUpLGcucHJvdG90eXBlLmNvbnN0cnVjdG9yPWcsZy5iYXNlPWQsZy5iYXNlUHJvdG89ZC5wcm90b3R5cGUsZy5wcm90b3R5cGUuYmFzZT1cbmZ1bmN0aW9uKCl7dGhpcy5iYXNlPWQucHJvdG90eXBlLmJhc2U7ZC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7dGhpcy5iYXNlPWFyZ3VtZW50cy5jYWxsZWV9KTtoJiZ0aGlzLmV4dGVuZChnLnByb3RvdHlwZSxoLCEwKTthJiZ0aGlzLmV4dGVuZChnLGEsITApO3JldHVybiBnfSxhZGRGdW5jdGlvbjpmdW5jdGlvbihkLGcpe3JldHVybiBhLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gZC5hcHBseShnfHx0aGlzLGFyZ3VtZW50cyl9KS0xfSxyZW1vdmVGdW5jdGlvbjpmdW5jdGlvbihkKXthW2RdPW51bGx9LGNhbGxGdW5jdGlvbjpmdW5jdGlvbihkKXt2YXIgZz1hW2RdO3JldHVybiBnJiZnLmFwcGx5KHdpbmRvdyxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSkpfSxjc3NMZW5ndGg6ZnVuY3Rpb24oKXt2YXIgYT0vXi0/XFxkK1xcLj9cXGQqcHgkLyxnO3JldHVybiBmdW5jdGlvbihkKXtnPUNLRURJVE9SLnRvb2xzLnRyaW0oZCtcIlwiKStcInB4XCI7cmV0dXJuIGEudGVzdChnKT9cbmc6ZHx8XCJcIn19KCksY29udmVydFRvUHg6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oZyl7YXx8KGE9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IHN0eWxlXFx4M2RcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweDttYXJnaW46MHB4O3BhZGRpbmc6MHB4O2JvcmRlcjowcHg7XCJcXHgzZVxceDNjL2RpdlxceDNlJyxDS0VESVRPUi5kb2N1bWVudCksQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChhKSk7cmV0dXJuLyUkLy50ZXN0KGcpP2c6KGEuc2V0U3R5bGUoXCJ3aWR0aFwiLGcpLGEuJC5jbGllbnRXaWR0aCl9fSgpLHJlcGVhdDpmdW5jdGlvbihhLGcpe3JldHVybiBBcnJheShnKzEpLmpvaW4oYSl9LHRyeVRoZXNlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhLGc9MCxkPWFyZ3VtZW50cy5sZW5ndGg7ZzxkO2crKyl7dmFyIGI9YXJndW1lbnRzW2ddO3RyeXthPWIoKTticmVha31jYXRjaChoKXt9fXJldHVybiBhfSxcbmdlbktleTpmdW5jdGlvbigpe3JldHVybiBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLmpvaW4oXCItXCIpfSxkZWZlcjpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZz1hcmd1bWVudHMsZD10aGlzO3dpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5hcHBseShkLGcpfSwwKX19LG5vcm1hbGl6ZUNzc1RleHQ6ZnVuY3Rpb24oYSxnKXt2YXIgZD1bXSxiLGg9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGEsITAsZyk7Zm9yKGIgaW4gaClkLnB1c2goYitcIjpcIitoW2JdKTtkLnNvcnQoKTtyZXR1cm4gZC5sZW5ndGg/ZC5qb2luKFwiO1wiKStcIjtcIjpcIlwifSxjb252ZXJ0UmdiVG9IZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKD86cmdiXFwoXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccyosXFxzKihcXGQrKVxccypcXCkpL2dpLGZ1bmN0aW9uKGEsZCxiLGgpe2E9W2QsYixoXTtmb3IoZD0wOzM+ZDtkKyspYVtkXT0oXCIwXCIrcGFyc2VJbnQoYVtkXSwxMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtMik7XG5yZXR1cm5cIiNcIithLmpvaW4oXCJcIil9KX0sbm9ybWFsaXplSGV4OmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyMoKFswLTlhLWZdezN9KXsxLDJ9KSgkfDt8XFxzKykvZ2ksZnVuY3Rpb24oYSxkLGIsaCl7YT1kLnRvTG93ZXJDYXNlKCk7Mz09YS5sZW5ndGgmJihhPWEuc3BsaXQoXCJcIiksYT1bYVswXSxhWzBdLGFbMV0sYVsxXSxhWzJdLGFbMl1dLmpvaW4oXCJcIikpO3JldHVyblwiI1wiK2EraH0pfSxwYXJzZUNzc1RleHQ6ZnVuY3Rpb24oYSxnLGQpe3ZhciBiPXt9O2QmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJzcGFuXCIpKS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGEpLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKTthJiYoYT1DS0VESVRPUi50b29scy5ub3JtYWxpemVIZXgoQ0tFRElUT1IudG9vbHMuY29udmVydFJnYlRvSGV4KGEpKSk7aWYoIWF8fFwiO1wiPT1hKXJldHVybiBiO2EucmVwbGFjZSgvJnF1b3Q7L2csJ1wiJykucmVwbGFjZSgvXFxzKihbXjo7XFxzXSspXFxzKjpcXHMqKFteO10rKVxccyooPz07fCQpL2csXG5mdW5jdGlvbihhLGQsaCl7ZyYmKGQ9ZC50b0xvd2VyQ2FzZSgpLFwiZm9udC1mYW1pbHlcIj09ZCYmKGg9aC5yZXBsYWNlKC9cXHMqLFxccyovZyxcIixcIikpLGg9Q0tFRElUT1IudG9vbHMudHJpbShoKSk7YltkXT1ofSk7cmV0dXJuIGJ9LHdyaXRlQ3NzVGV4dDpmdW5jdGlvbihhLGcpe3ZhciBkLGI9W107Zm9yKGQgaW4gYSliLnB1c2goZCtcIjpcIithW2RdKTtnJiZiLnNvcnQoKTtyZXR1cm4gYi5qb2luKFwiOyBcIil9LG9iamVjdENvbXBhcmU6ZnVuY3Rpb24oYSxnLGQpe3ZhciBiO2lmKCFhJiYhZylyZXR1cm4hMDtpZighYXx8IWcpcmV0dXJuITE7Zm9yKGIgaW4gYSlpZihhW2JdIT1nW2JdKXJldHVybiExO2lmKCFkKWZvcihiIGluIGcpaWYoYVtiXSE9Z1tiXSlyZXR1cm4hMTtyZXR1cm4hMH0sb2JqZWN0S2V5czpmdW5jdGlvbihhKXt2YXIgZz1bXSxkO2ZvcihkIGluIGEpZy5wdXNoKGQpO3JldHVybiBnfSxjb252ZXJ0QXJyYXlUb09iamVjdDpmdW5jdGlvbihhLGcpe3ZhciBkPXt9OzE9PVxuYXJndW1lbnRzLmxlbmd0aCYmKGc9ITApO2Zvcih2YXIgYj0wLGg9YS5sZW5ndGg7YjxoOysrYilkW2FbYl1dPWc7cmV0dXJuIGR9LGZpeERvbWFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYTs7KXRyeXthPXdpbmRvdy5wYXJlbnQuZG9jdW1lbnQuZG9tYWluO2JyZWFrfWNhdGNoKGcpe2E9YT9hLnJlcGxhY2UoLy4rPyg/OlxcLnwkKS8sXCJcIik6ZG9jdW1lbnQuZG9tYWluO2lmKCFhKWJyZWFrO2RvY3VtZW50LmRvbWFpbj1hfXJldHVybiEhYX0sZXZlbnRzQnVmZmVyOmZ1bmN0aW9uKGEsZyxkKXtmdW5jdGlvbiBiKCl7Yz0obmV3IERhdGUpLmdldFRpbWUoKTtoPSExO2Q/Zy5jYWxsKGQpOmcoKX12YXIgaCxjPTA7cmV0dXJue2lucHV0OmZ1bmN0aW9uKCl7aWYoIWgpe3ZhciBnPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWM7ZzxhP2g9c2V0VGltZW91dChiLGEtZyk6YigpfX0scmVzZXQ6ZnVuY3Rpb24oKXtoJiZjbGVhclRpbWVvdXQoaCk7aD1jPTB9fX0sZW5hYmxlSHRtbDVFbGVtZW50czpmdW5jdGlvbihhLFxuZyl7Zm9yKHZhciBkPVwiYWJiciBhcnRpY2xlIGFzaWRlIGF1ZGlvIGJkaSBjYW52YXMgZGF0YSBkYXRhbGlzdCBkZXRhaWxzIGZpZ2NhcHRpb24gZmlndXJlIGZvb3RlciBoZWFkZXIgaGdyb3VwIG1haW4gbWFyayBtZXRlciBuYXYgb3V0cHV0IHByb2dyZXNzIHNlY3Rpb24gc3VtbWFyeSB0aW1lIHZpZGVvXCIuc3BsaXQoXCIgXCIpLGI9ZC5sZW5ndGgsaDtiLS07KWg9YS5jcmVhdGVFbGVtZW50KGRbYl0pLGcmJmEuYXBwZW5kQ2hpbGQoaCl9LGNoZWNrSWZBbnlBcnJheUl0ZW1NYXRjaGVzOmZ1bmN0aW9uKGEsZyl7Zm9yKHZhciBkPTAsYj1hLmxlbmd0aDtkPGI7KytkKWlmKGFbZF0ubWF0Y2goZykpcmV0dXJuITA7cmV0dXJuITF9LGNoZWNrSWZBbnlPYmplY3RQcm9wZXJ0eU1hdGNoZXM6ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGQgaW4gYSlpZihkLm1hdGNoKGcpKXJldHVybiEwO3JldHVybiExfSxrZXlzdHJva2VUb1N0cmluZzpmdW5jdGlvbihhLGcpe3ZhciBkPWcmMTY3MTE2ODAsYj1cbmcmNjU1MzUsaD1DS0VESVRPUi5lbnYubWFjLGM9W10sZT1bXTtkJkNLRURJVE9SLkNUUkwmJihjLnB1c2goaD9cIuKMmFwiOmFbMTddKSxlLnB1c2goaD9hWzIyNF06YVsxN10pKTtkJkNLRURJVE9SLkFMVCYmKGMucHVzaChoP1wi4oylXCI6YVsxOF0pLGUucHVzaChhWzE4XSkpO2QmQ0tFRElUT1IuU0hJRlQmJihjLnB1c2goaD9cIuKHp1wiOmFbMTZdKSxlLnB1c2goYVsxNl0pKTtiJiYoYVtiXT8oYy5wdXNoKGFbYl0pLGUucHVzaChhW2JdKSk6KGMucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGIpKSxlLnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZShiKSkpKTtyZXR1cm57ZGlzcGxheTpjLmpvaW4oXCIrXCIpLGFyaWE6ZS5qb2luKFwiK1wiKX19LHRyYW5zcGFyZW50SW1hZ2VEYXRhOlwiZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFQQUJBUC8vL3dBQUFDSDVCQUVLQUFBQUxBQUFBQUFCQUFFQUFBSUNSQUVBT3dcXHgzZFxceDNkXCIsZ2V0Q29va2llOmZ1bmN0aW9uKGEpe2E9YS50b0xvd2VyQ2FzZSgpO1xuZm9yKHZhciBnPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIiksZCxiLGg9MDtoPGcubGVuZ3RoO2grKylpZihkPWdbaF0uc3BsaXQoXCJcXHgzZFwiKSxiPWRlY29kZVVSSUNvbXBvbmVudChDS0VESVRPUi50b29scy50cmltKGRbMF0pLnRvTG93ZXJDYXNlKCkpLGI9PT1hKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoMTxkLmxlbmd0aD9kWzFdOlwiXCIpO3JldHVybiBudWxsfSxzZXRDb29raWU6ZnVuY3Rpb24oYSxnKXtkb2N1bWVudC5jb29raWU9ZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiXFx4M2RcIitlbmNvZGVVUklDb21wb25lbnQoZykrXCI7cGF0aFxceDNkL1wifSxnZXRDc3JmVG9rZW46ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5nZXRDb29raWUoXCJja0NzcmZUb2tlblwiKTtpZighYXx8NDAhPWEubGVuZ3RoKXt2YXIgYT1bXSxnPVwiXCI7aWYod2luZG93LmNyeXB0byYmd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMpYT1uZXcgVWludDhBcnJheSg0MCksd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoYSk7XG5lbHNlIGZvcih2YXIgZD0wOzQwPmQ7ZCsrKWEucHVzaChNYXRoLmZsb29yKDI1NipNYXRoLnJhbmRvbSgpKSk7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKyl2YXIgYj1cImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLmNoYXJBdChhW2RdJTM2KSxnPWcrKC41PE1hdGgucmFuZG9tKCk/Yi50b1VwcGVyQ2FzZSgpOmIpO2E9ZztDS0VESVRPUi50b29scy5zZXRDb29raWUoXCJja0NzcmZUb2tlblwiLGEpfXJldHVybiBhfSxlc2NhcGVDc3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/d2luZG93LkNTUyYmQ1NTLmVzY2FwZT9DU1MuZXNjYXBlKGEpOmlzTmFOKHBhcnNlSW50KGEuY2hhckF0KDApLDEwKSk/YTpcIlxcXFwzXCIrYS5jaGFyQXQoMCkrXCIgXCIrYS5zdWJzdHJpbmcoMSxhLmxlbmd0aCk6XCJcIn0sc3R5bGU6e3BhcnNlOntfY29sb3JzOnthbGljZWJsdWU6XCIjRjBGOEZGXCIsYW50aXF1ZXdoaXRlOlwiI0ZBRUJEN1wiLGFxdWE6XCIjMDBGRkZGXCIsYXF1YW1hcmluZTpcIiM3RkZGRDRcIixhenVyZTpcIiNGMEZGRkZcIixcbmJlaWdlOlwiI0Y1RjVEQ1wiLGJpc3F1ZTpcIiNGRkU0QzRcIixibGFjazpcIiMwMDAwMDBcIixibGFuY2hlZGFsbW9uZDpcIiNGRkVCQ0RcIixibHVlOlwiIzAwMDBGRlwiLGJsdWV2aW9sZXQ6XCIjOEEyQkUyXCIsYnJvd246XCIjQTUyQTJBXCIsYnVybHl3b29kOlwiI0RFQjg4N1wiLGNhZGV0Ymx1ZTpcIiM1RjlFQTBcIixjaGFydHJldXNlOlwiIzdGRkYwMFwiLGNob2NvbGF0ZTpcIiNEMjY5MUVcIixjb3JhbDpcIiNGRjdGNTBcIixjb3JuZmxvd2VyYmx1ZTpcIiM2NDk1RURcIixjb3Juc2lsazpcIiNGRkY4RENcIixjcmltc29uOlwiI0RDMTQzQ1wiLGN5YW46XCIjMDBGRkZGXCIsZGFya2JsdWU6XCIjMDAwMDhCXCIsZGFya2N5YW46XCIjMDA4QjhCXCIsZGFya2dvbGRlbnJvZDpcIiNCODg2MEJcIixkYXJrZ3JheTpcIiNBOUE5QTlcIixkYXJrZ3JlZW46XCIjMDA2NDAwXCIsZGFya2dyZXk6XCIjQTlBOUE5XCIsZGFya2toYWtpOlwiI0JEQjc2QlwiLGRhcmttYWdlbnRhOlwiIzhCMDA4QlwiLGRhcmtvbGl2ZWdyZWVuOlwiIzU1NkIyRlwiLGRhcmtvcmFuZ2U6XCIjRkY4QzAwXCIsXG5kYXJrb3JjaGlkOlwiIzk5MzJDQ1wiLGRhcmtyZWQ6XCIjOEIwMDAwXCIsZGFya3NhbG1vbjpcIiNFOTk2N0FcIixkYXJrc2VhZ3JlZW46XCIjOEZCQzhGXCIsZGFya3NsYXRlYmx1ZTpcIiM0ODNEOEJcIixkYXJrc2xhdGVncmF5OlwiIzJGNEY0RlwiLGRhcmtzbGF0ZWdyZXk6XCIjMkY0RjRGXCIsZGFya3R1cnF1b2lzZTpcIiMwMENFRDFcIixkYXJrdmlvbGV0OlwiIzk0MDBEM1wiLGRlZXBwaW5rOlwiI0ZGMTQ5M1wiLGRlZXBza3libHVlOlwiIzAwQkZGRlwiLGRpbWdyYXk6XCIjNjk2OTY5XCIsZGltZ3JleTpcIiM2OTY5NjlcIixkb2RnZXJibHVlOlwiIzFFOTBGRlwiLGZpcmVicmljazpcIiNCMjIyMjJcIixmbG9yYWx3aGl0ZTpcIiNGRkZBRjBcIixmb3Jlc3RncmVlbjpcIiMyMjhCMjJcIixmdWNoc2lhOlwiI0ZGMDBGRlwiLGdhaW5zYm9ybzpcIiNEQ0RDRENcIixnaG9zdHdoaXRlOlwiI0Y4RjhGRlwiLGdvbGQ6XCIjRkZENzAwXCIsZ29sZGVucm9kOlwiI0RBQTUyMFwiLGdyYXk6XCIjODA4MDgwXCIsZ3JlZW46XCIjMDA4MDAwXCIsZ3JlZW55ZWxsb3c6XCIjQURGRjJGXCIsXG5ncmV5OlwiIzgwODA4MFwiLGhvbmV5ZGV3OlwiI0YwRkZGMFwiLGhvdHBpbms6XCIjRkY2OUI0XCIsaW5kaWFucmVkOlwiI0NENUM1Q1wiLGluZGlnbzpcIiM0QjAwODJcIixpdm9yeTpcIiNGRkZGRjBcIixraGFraTpcIiNGMEU2OENcIixsYXZlbmRlcjpcIiNFNkU2RkFcIixsYXZlbmRlcmJsdXNoOlwiI0ZGRjBGNVwiLGxhd25ncmVlbjpcIiM3Q0ZDMDBcIixsZW1vbmNoaWZmb246XCIjRkZGQUNEXCIsbGlnaHRibHVlOlwiI0FERDhFNlwiLGxpZ2h0Y29yYWw6XCIjRjA4MDgwXCIsbGlnaHRjeWFuOlwiI0UwRkZGRlwiLGxpZ2h0Z29sZGVucm9keWVsbG93OlwiI0ZBRkFEMlwiLGxpZ2h0Z3JheTpcIiNEM0QzRDNcIixsaWdodGdyZWVuOlwiIzkwRUU5MFwiLGxpZ2h0Z3JleTpcIiNEM0QzRDNcIixsaWdodHBpbms6XCIjRkZCNkMxXCIsbGlnaHRzYWxtb246XCIjRkZBMDdBXCIsbGlnaHRzZWFncmVlbjpcIiMyMEIyQUFcIixsaWdodHNreWJsdWU6XCIjODdDRUZBXCIsbGlnaHRzbGF0ZWdyYXk6XCIjNzc4ODk5XCIsbGlnaHRzbGF0ZWdyZXk6XCIjNzc4ODk5XCIsbGlnaHRzdGVlbGJsdWU6XCIjQjBDNERFXCIsXG5saWdodHllbGxvdzpcIiNGRkZGRTBcIixsaW1lOlwiIzAwRkYwMFwiLGxpbWVncmVlbjpcIiMzMkNEMzJcIixsaW5lbjpcIiNGQUYwRTZcIixtYWdlbnRhOlwiI0ZGMDBGRlwiLG1hcm9vbjpcIiM4MDAwMDBcIixtZWRpdW1hcXVhbWFyaW5lOlwiIzY2Q0RBQVwiLG1lZGl1bWJsdWU6XCIjMDAwMENEXCIsbWVkaXVtb3JjaGlkOlwiI0JBNTVEM1wiLG1lZGl1bXB1cnBsZTpcIiM5MzcwREJcIixtZWRpdW1zZWFncmVlbjpcIiMzQ0IzNzFcIixtZWRpdW1zbGF0ZWJsdWU6XCIjN0I2OEVFXCIsbWVkaXVtc3ByaW5nZ3JlZW46XCIjMDBGQTlBXCIsbWVkaXVtdHVycXVvaXNlOlwiIzQ4RDFDQ1wiLG1lZGl1bXZpb2xldHJlZDpcIiNDNzE1ODVcIixtaWRuaWdodGJsdWU6XCIjMTkxOTcwXCIsbWludGNyZWFtOlwiI0Y1RkZGQVwiLG1pc3R5cm9zZTpcIiNGRkU0RTFcIixtb2NjYXNpbjpcIiNGRkU0QjVcIixuYXZham93aGl0ZTpcIiNGRkRFQURcIixuYXZ5OlwiIzAwMDA4MFwiLG9sZGxhY2U6XCIjRkRGNUU2XCIsb2xpdmU6XCIjODA4MDAwXCIsb2xpdmVkcmFiOlwiIzZCOEUyM1wiLFxub3JhbmdlOlwiI0ZGQTUwMFwiLG9yYW5nZXJlZDpcIiNGRjQ1MDBcIixvcmNoaWQ6XCIjREE3MEQ2XCIscGFsZWdvbGRlbnJvZDpcIiNFRUU4QUFcIixwYWxlZ3JlZW46XCIjOThGQjk4XCIscGFsZXR1cnF1b2lzZTpcIiNBRkVFRUVcIixwYWxldmlvbGV0cmVkOlwiI0RCNzA5M1wiLHBhcGF5YXdoaXA6XCIjRkZFRkQ1XCIscGVhY2hwdWZmOlwiI0ZGREFCOVwiLHBlcnU6XCIjQ0Q4NTNGXCIscGluazpcIiNGRkMwQ0JcIixwbHVtOlwiI0REQTBERFwiLHBvd2RlcmJsdWU6XCIjQjBFMEU2XCIscHVycGxlOlwiIzgwMDA4MFwiLHJlYmVjY2FwdXJwbGU6XCIjNjYzMzk5XCIscmVkOlwiI0ZGMDAwMFwiLHJvc3licm93bjpcIiNCQzhGOEZcIixyb3lhbGJsdWU6XCIjNDE2OUUxXCIsc2FkZGxlYnJvd246XCIjOEI0NTEzXCIsc2FsbW9uOlwiI0ZBODA3MlwiLHNhbmR5YnJvd246XCIjRjRBNDYwXCIsc2VhZ3JlZW46XCIjMkU4QjU3XCIsc2Vhc2hlbGw6XCIjRkZGNUVFXCIsc2llbm5hOlwiI0EwNTIyRFwiLHNpbHZlcjpcIiNDMEMwQzBcIixza3libHVlOlwiIzg3Q0VFQlwiLHNsYXRlYmx1ZTpcIiM2QTVBQ0RcIixcbnNsYXRlZ3JheTpcIiM3MDgwOTBcIixzbGF0ZWdyZXk6XCIjNzA4MDkwXCIsc25vdzpcIiNGRkZBRkFcIixzcHJpbmdncmVlbjpcIiMwMEZGN0ZcIixzdGVlbGJsdWU6XCIjNDY4MkI0XCIsdGFuOlwiI0QyQjQ4Q1wiLHRlYWw6XCIjMDA4MDgwXCIsdGhpc3RsZTpcIiNEOEJGRDhcIix0b21hdG86XCIjRkY2MzQ3XCIsdHVycXVvaXNlOlwiIzQwRTBEMFwiLHZpb2xldDpcIiNFRTgyRUVcIix3aGVhdDpcIiNGNURFQjNcIix3aGl0ZTpcIiNGRkZGRkZcIix3aGl0ZXNtb2tlOlwiI0Y1RjVGNVwiLHllbGxvdzpcIiNGRkZGMDBcIix5ZWxsb3dncmVlbjpcIiM5QUNEMzJcIn0sX3JnYmFSZWdFeHA6L3JnYmE/XFwoXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyosXFxzKlxcZCslP1xccyooPzosXFxzKlswLTkuXStcXHMqKT9cXCkvZ2ksX2hzbGFSZWdFeHA6L2hzbGE/XFwoXFxzKlswLTkuXStcXHMqLFxccypcXGQrJVxccyosXFxzKlxcZCslXFxzKig/OixcXHMqWzAtOS5dK1xccyopP1xcKS9naSxiYWNrZ3JvdW5kOmZ1bmN0aW9uKGEpe3ZhciBnPXt9LGQ9dGhpcy5fZmluZENvbG9yKGEpO1xuZC5sZW5ndGgmJihnLmNvbG9yPWRbMF0sQ0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChkLGZ1bmN0aW9uKGcpe2E9YS5yZXBsYWNlKGcsXCJcIil9KSk7aWYoYT1DS0VESVRPUi50b29scy50cmltKGEpKWcudW5wcm9jZXNzZWQ9YTtyZXR1cm4gZ30sbWFyZ2luOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGcoYSl7ZC50b3A9YlthWzBdXTtkLnJpZ2h0PWJbYVsxXV07ZC5ib3R0b209YlthWzJdXTtkLmxlZnQ9YlthWzNdXX12YXIgZD17fSxiPWEubWF0Y2goLyg/OlxcLT9bXFwuXFxkXSsoPzolfFxcdyopfGF1dG98aW5oZXJpdHxpbml0aWFsfHVuc2V0KS9nKXx8W1wiMHB4XCJdO3N3aXRjaChiLmxlbmd0aCl7Y2FzZSAxOmcoWzAsMCwwLDBdKTticmVhaztjYXNlIDI6ZyhbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpnKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmcoWzAsMSwyLDNdKX1yZXR1cm4gZH0sX2ZpbmRDb2xvcjpmdW5jdGlvbihhKXt2YXIgZz1bXSxkPUNLRURJVE9SLnRvb2xzLmFycmF5LGc9XG5nLmNvbmNhdChhLm1hdGNoKHRoaXMuX3JnYmFSZWdFeHApfHxbXSksZz1nLmNvbmNhdChhLm1hdGNoKHRoaXMuX2hzbGFSZWdFeHApfHxbXSk7cmV0dXJuIGc9Zy5jb25jYXQoZC5maWx0ZXIoYS5zcGxpdCgvXFxzKy8pLGZ1bmN0aW9uKGEpe3JldHVybiBhLm1hdGNoKC9eXFwjW2EtZjAtOV17M30oPzpbYS1mMC05XXszfSk/JC9naSk/ITA6YS50b0xvd2VyQ2FzZSgpaW4gQ0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2UuX2NvbG9yc30pKX19fSxhcnJheTp7ZmlsdGVyOmZ1bmN0aW9uKGEsZyxkKXt2YXIgYj1bXTt0aGlzLmZvckVhY2goYSxmdW5jdGlvbihoLGMpe2cuY2FsbChkLGgsYyxhKSYmYi5wdXNoKGgpfSk7cmV0dXJuIGJ9LGZvckVhY2g6ZnVuY3Rpb24oYSxnLGQpe3ZhciBiPWEubGVuZ3RoLGg7Zm9yKGg9MDtoPGI7aCsrKWcuY2FsbChkLGFbaF0saCxhKX0sbWFwOmZ1bmN0aW9uKGEsZyxkKXtmb3IodmFyIGI9W10saD0wO2g8YS5sZW5ndGg7aCsrKWIucHVzaChnLmNhbGwoZCxcbmFbaF0saCxhKSk7cmV0dXJuIGJ9LHJlZHVjZTpmdW5jdGlvbihhLGcsZCxiKXtmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKylkPWcuY2FsbChiLGQsYVtoXSxoLGEpO3JldHVybiBkfX19O0NLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2Y9Q0tFRElUT1IudG9vbHMuaW5kZXhPZjtDS0VESVRPUi50b29scy5hcnJheS5pc0FycmF5PUNLRURJVE9SLnRvb2xzLmlzQXJyYXl9KCksQ0tFRElUT1IuZHRkPWZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLGY9ZnVuY3Rpb24oYSxnKXtmb3IodmFyIGQ9Q0tFRElUT1IudG9vbHMuY2xvbmUoYSksYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2c9YXJndW1lbnRzW2JdO2Zvcih2YXIgaCBpbiBnKWRlbGV0ZSBkW2hdfXJldHVybiBkfSxiPXt9LGM9e30sZT17YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxkZXRhaWxzOjEsZGl2OjEsZGw6MSxmaWVsZHNldDoxLGZpZ3VyZToxLGZvb3RlcjoxLFxuZm9ybToxLGgxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLGhyOjEsbWFpbjoxLG1lbnU6MSxuYXY6MSxvbDoxLHA6MSxwcmU6MSxzZWN0aW9uOjEsdGFibGU6MSx1bDoxfSxsPXtjb21tYW5kOjEsbGluazoxLG1ldGE6MSxub3NjcmlwdDoxLHNjcmlwdDoxLHN0eWxlOjF9LGs9e30sZD17XCIjXCI6MX0saD17Y2VudGVyOjEsZGlyOjEsbm9mcmFtZXM6MX07YShiLHthOjEsYWJicjoxLGFyZWE6MSxhdWRpbzoxLGI6MSxiZGk6MSxiZG86MSxicjoxLGJ1dHRvbjoxLGNhbnZhczoxLGNpdGU6MSxjb2RlOjEsY29tbWFuZDoxLGRhdGFsaXN0OjEsZGVsOjEsZGZuOjEsZW06MSxlbWJlZDoxLGk6MSxpZnJhbWU6MSxpbWc6MSxpbnB1dDoxLGluczoxLGtiZDoxLGtleWdlbjoxLGxhYmVsOjEsbWFwOjEsbWFyazoxLG1ldGVyOjEsbm9zY3JpcHQ6MSxvYmplY3Q6MSxvdXRwdXQ6MSxwcm9ncmVzczoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzY3JpcHQ6MSxzZWxlY3Q6MSxcbnNtYWxsOjEsc3BhbjoxLHN0cm9uZzoxLHN1YjoxLHN1cDoxLHRleHRhcmVhOjEsdGltZToxLHU6MSxcInZhclwiOjEsdmlkZW86MSx3YnI6MX0sZCx7YWNyb255bToxLGFwcGxldDoxLGJhc2Vmb250OjEsYmlnOjEsZm9udDoxLGlzaW5kZXg6MSxzdHJpa2U6MSxzdHlsZToxLHR0OjF9KTthKGMsZSxiLGgpO2Y9e2E6ZihiLHthOjEsYnV0dG9uOjF9KSxhYmJyOmIsYWRkcmVzczpjLGFyZWE6ayxhcnRpY2xlOmMsYXNpZGU6YyxhdWRpbzphKHtzb3VyY2U6MSx0cmFjazoxfSxjKSxiOmIsYmFzZTprLGJkaTpiLGJkbzpiLGJsb2NrcXVvdGU6Yyxib2R5OmMsYnI6ayxidXR0b246ZihiLHthOjEsYnV0dG9uOjF9KSxjYW52YXM6YixjYXB0aW9uOmMsY2l0ZTpiLGNvZGU6Yixjb2w6ayxjb2xncm91cDp7Y29sOjF9LGNvbW1hbmQ6ayxkYXRhbGlzdDphKHtvcHRpb246MX0sYiksZGQ6YyxkZWw6YixkZXRhaWxzOmEoe3N1bW1hcnk6MX0sYyksZGZuOmIsZGl2OmMsZGw6e2R0OjEsZGQ6MX0sZHQ6YyxcbmVtOmIsZW1iZWQ6ayxmaWVsZHNldDphKHtsZWdlbmQ6MX0sYyksZmlnY2FwdGlvbjpjLGZpZ3VyZTphKHtmaWdjYXB0aW9uOjF9LGMpLGZvb3RlcjpjLGZvcm06YyxoMTpiLGgyOmIsaDM6YixoNDpiLGg1OmIsaDY6YixoZWFkOmEoe3RpdGxlOjEsYmFzZToxfSxsKSxoZWFkZXI6YyxoZ3JvdXA6e2gxOjEsaDI6MSxoMzoxLGg0OjEsaDU6MSxoNjoxfSxocjprLGh0bWw6YSh7aGVhZDoxLGJvZHk6MX0sYyxsKSxpOmIsaWZyYW1lOmQsaW1nOmssaW5wdXQ6ayxpbnM6YixrYmQ6YixrZXlnZW46ayxsYWJlbDpiLGxlZ2VuZDpiLGxpOmMsbGluazprLG1haW46YyxtYXA6YyxtYXJrOmIsbWVudTphKHtsaToxfSxjKSxtZXRhOmssbWV0ZXI6ZihiLHttZXRlcjoxfSksbmF2OmMsbm9zY3JpcHQ6YSh7bGluazoxLG1ldGE6MSxzdHlsZToxfSxiKSxvYmplY3Q6YSh7cGFyYW06MX0sYiksb2w6e2xpOjF9LG9wdGdyb3VwOntvcHRpb246MX0sb3B0aW9uOmQsb3V0cHV0OmIscDpiLHBhcmFtOmsscHJlOmIsXG5wcm9ncmVzczpmKGIse3Byb2dyZXNzOjF9KSxxOmIscnA6YixydDpiLHJ1Ynk6YSh7cnA6MSxydDoxfSxiKSxzOmIsc2FtcDpiLHNjcmlwdDpkLHNlY3Rpb246YyxzZWxlY3Q6e29wdGdyb3VwOjEsb3B0aW9uOjF9LHNtYWxsOmIsc291cmNlOmssc3BhbjpiLHN0cm9uZzpiLHN0eWxlOmQsc3ViOmIsc3VtbWFyeTphKHtoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sYiksc3VwOmIsdGFibGU6e2NhcHRpb246MSxjb2xncm91cDoxLHRoZWFkOjEsdGZvb3Q6MSx0Ym9keToxLHRyOjF9LHRib2R5Ont0cjoxfSx0ZDpjLHRleHRhcmVhOmQsdGZvb3Q6e3RyOjF9LHRoOmMsdGhlYWQ6e3RyOjF9LHRpbWU6ZihiLHt0aW1lOjF9KSx0aXRsZTpkLHRyOnt0aDoxLHRkOjF9LHRyYWNrOmssdTpiLHVsOntsaToxfSxcInZhclwiOmIsdmlkZW86YSh7c291cmNlOjEsdHJhY2s6MX0sYyksd2JyOmssYWNyb255bTpiLGFwcGxldDphKHtwYXJhbToxfSxjKSxiYXNlZm9udDprLGJpZzpiLGNlbnRlcjpjLFxuZGlhbG9nOmssZGlyOntsaToxfSxmb250OmIsaXNpbmRleDprLG5vZnJhbWVzOmMsc3RyaWtlOmIsdHQ6Yn07YShmLHskYmxvY2s6YSh7YXVkaW86MSxkZDoxLGR0OjEsZmlnY2FwdGlvbjoxLGxpOjEsdmlkZW86MX0sZSxoKSwkYmxvY2tMaW1pdDp7YXJ0aWNsZToxLGFzaWRlOjEsYXVkaW86MSxib2R5OjEsY2FwdGlvbjoxLGRldGFpbHM6MSxkaXI6MSxkaXY6MSxkbDoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZpZ3VyZToxLGZvb3RlcjoxLGZvcm06MSxoZWFkZXI6MSxoZ3JvdXA6MSxtYWluOjEsbWVudToxLG5hdjoxLG9sOjEsc2VjdGlvbjoxLHRhYmxlOjEsdGQ6MSx0aDoxLHRyOjEsdWw6MSx2aWRlbzoxfSwkY2RhdGE6e3NjcmlwdDoxLHN0eWxlOjF9LCRlZGl0YWJsZTp7YWRkcmVzczoxLGFydGljbGU6MSxhc2lkZToxLGJsb2NrcXVvdGU6MSxib2R5OjEsZGV0YWlsczoxLGRpdjoxLGZpZWxkc2V0OjEsZmlnY2FwdGlvbjoxLGZvb3RlcjoxLGZvcm06MSxoMToxLGgyOjEsXG5oMzoxLGg0OjEsaDU6MSxoNjoxLGhlYWRlcjoxLGhncm91cDoxLG1haW46MSxuYXY6MSxwOjEscHJlOjEsc2VjdGlvbjoxfSwkZW1wdHk6e2FyZWE6MSxiYXNlOjEsYmFzZWZvbnQ6MSxicjoxLGNvbDoxLGNvbW1hbmQ6MSxkaWFsb2c6MSxlbWJlZDoxLGhyOjEsaW1nOjEsaW5wdXQ6MSxpc2luZGV4OjEsa2V5Z2VuOjEsbGluazoxLG1ldGE6MSxwYXJhbToxLHNvdXJjZToxLHRyYWNrOjEsd2JyOjF9LCRpbmxpbmU6YiwkbGlzdDp7ZGw6MSxvbDoxLHVsOjF9LCRsaXN0SXRlbTp7ZGQ6MSxkdDoxLGxpOjF9LCRub25Cb2R5Q29udGVudDphKHtib2R5OjEsaGVhZDoxLGh0bWw6MX0sZi5oZWFkKSwkbm9uRWRpdGFibGU6e2FwcGxldDoxLGF1ZGlvOjEsYnV0dG9uOjEsZW1iZWQ6MSxpZnJhbWU6MSxtYXA6MSxvYmplY3Q6MSxvcHRpb246MSxwYXJhbToxLHNjcmlwdDoxLHRleHRhcmVhOjEsdmlkZW86MX0sJG9iamVjdDp7YXBwbGV0OjEsYXVkaW86MSxidXR0b246MSxocjoxLGlmcmFtZToxLFxuaW1nOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0YWJsZToxLHRleHRhcmVhOjEsdmlkZW86MX0sJHJlbW92ZUVtcHR5OnthYmJyOjEsYWNyb255bToxLGI6MSxiZGk6MSxiZG86MSxiaWc6MSxjaXRlOjEsY29kZToxLGRlbDoxLGRmbjoxLGVtOjEsZm9udDoxLGk6MSxpbnM6MSxsYWJlbDoxLGtiZDoxLG1hcms6MSxtZXRlcjoxLG91dHB1dDoxLHE6MSxydWJ5OjEsczoxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0aW1lOjEsdHQ6MSx1OjEsXCJ2YXJcIjoxfSwkdGFiSW5kZXg6e2E6MSxhcmVhOjEsYnV0dG9uOjEsaW5wdXQ6MSxvYmplY3Q6MSxzZWxlY3Q6MSx0ZXh0YXJlYToxfSwkdGFibGVDb250ZW50OntjYXB0aW9uOjEsY29sOjEsY29sZ3JvdXA6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX0sJHRyYW5zcGFyZW50OnthOjEsYXVkaW86MSxjYW52YXM6MSxkZWw6MSxpbnM6MSxtYXA6MSxub3NjcmlwdDoxLFxub2JqZWN0OjEsdmlkZW86MX0sJGludGVybWVkaWF0ZTp7Y2FwdGlvbjoxLGNvbGdyb3VwOjEsZGQ6MSxkdDoxLGZpZ2NhcHRpb246MSxsZWdlbmQ6MSxsaToxLG9wdGdyb3VwOjEsb3B0aW9uOjEscnA6MSxydDoxLHN1bW1hcnk6MSx0Ym9keToxLHRkOjEsdGZvb3Q6MSx0aDoxLHRoZWFkOjEsdHI6MX19KTtyZXR1cm4gZn0oKSxDS0VESVRPUi5kb20uZXZlbnQ9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ldmVudC5wcm90b3R5cGU9e2dldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQua2V5Q29kZXx8dGhpcy4kLndoaWNofSxnZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEtleSgpO2lmKHRoaXMuJC5jdHJsS2V5fHx0aGlzLiQubWV0YUtleSlhKz1DS0VESVRPUi5DVFJMO3RoaXMuJC5zaGlmdEtleSYmKGErPUNLRURJVE9SLlNISUZUKTt0aGlzLiQuYWx0S2V5JiYoYSs9Q0tFRElUT1IuQUxUKTtyZXR1cm4gYX0scHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oYSl7dmFyIGY9XG50aGlzLiQ7Zi5wcmV2ZW50RGVmYXVsdD9mLnByZXZlbnREZWZhdWx0KCk6Zi5yZXR1cm5WYWx1ZT0hMTthJiZ0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQ7YS5zdG9wUHJvcGFnYXRpb24/YS5zdG9wUHJvcGFnYXRpb24oKTphLmNhbmNlbEJ1YmJsZT0hMH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLnRhcmdldHx8dGhpcy4kLnNyY0VsZW1lbnQ7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9LGdldFBoYXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5ldmVudFBoYXNlfHwyfSxnZXRQYWdlT2Zmc2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLiQ7cmV0dXJue3g6dGhpcy4kLnBhZ2VYfHx0aGlzLiQuY2xpZW50WCsoYS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnQpLHk6dGhpcy4kLnBhZ2VZfHxcbnRoaXMuJC5jbGllbnRZKyhhLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3ApfX19LENLRURJVE9SLkNUUkw9MTExNDExMixDS0VESVRPUi5TSElGVD0yMjI4MjI0LENLRURJVE9SLkFMVD00NDU2NDQ4LENLRURJVE9SLkVWRU5UX1BIQVNFX0NBUFRVUklORz0xLENLRURJVE9SLkVWRU5UX1BIQVNFX0FUX1RBUkdFVD0yLENLRURJVE9SLkVWRU5UX1BIQVNFX0JVQkJMSU5HPTMsQ0tFRElUT1IuZG9tLmRvbU9iamVjdD1mdW5jdGlvbihhKXthJiYodGhpcy4kPWEpfSxDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZT1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBDS0VESVRPUiYmYS5maXJlKGIsbmV3IENLRURJVE9SLmRvbS5ldmVudChjKSl9fTtyZXR1cm57Z2V0UHJpdmF0ZTpmdW5jdGlvbigpe3ZhciBhOyhhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcIl9cIikpfHx0aGlzLnNldEN1c3RvbURhdGEoXCJfXCIsXG5hPXt9KTtyZXR1cm4gYX0sb246ZnVuY3Rpb24oZil7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIik7Ynx8KGI9e30sdGhpcy5zZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIixiKSk7YltmXXx8KGI9YltmXT1hKHRoaXMsZiksdGhpcy4kLmFkZEV2ZW50TGlzdGVuZXI/dGhpcy4kLmFkZEV2ZW50TGlzdGVuZXIoZixiLCEhQ0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZSk6dGhpcy4kLmF0dGFjaEV2ZW50JiZ0aGlzLiQuYXR0YWNoRXZlbnQoXCJvblwiK2YsYikpO3JldHVybiBDS0VESVRPUi5ldmVudC5wcm90b3R5cGUub24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihhKXtDS0VESVRPUi5ldmVudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmhhc0xpc3RlbmVycyhhKSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksXG5jPWImJmJbYV07YyYmKHRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyP3RoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGEsYywhMSk6dGhpcy4kLmRldGFjaEV2ZW50JiZ0aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2EsYyksZGVsZXRlIGJbYV0pfX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDdXN0b21EYXRhKFwiX2NrZV9uYXRpdmVMaXN0ZW5lcnNcIiksYjtmb3IoYiBpbiBhKXt2YXIgYz1hW2JdO3RoaXMuJC5kZXRhY2hFdmVudD90aGlzLiQuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6dGhpcy4kLnJlbW92ZUV2ZW50TGlzdGVuZXImJnRoaXMuJC5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSk7ZGVsZXRlIGFbYl19Q0tFRElUT1IuZXZlbnQucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycy5jYWxsKHRoaXMpfX19KCksZnVuY3Rpb24oYSl7dmFyIGY9e307Q0tFRElUT1Iub24oXCJyZXNldFwiLGZ1bmN0aW9uKCl7Zj17fX0pO2EuZXF1YWxzPWZ1bmN0aW9uKGEpe3RyeXtyZXR1cm4gYSYmXG5hLiQ9PT10aGlzLiR9Y2F0Y2goYyl7cmV0dXJuITF9fTthLnNldEN1c3RvbURhdGE9ZnVuY3Rpb24oYSxjKXt2YXIgZT10aGlzLmdldFVuaXF1ZUlkKCk7KGZbZV18fChmW2VdPXt9KSlbYV09YztyZXR1cm4gdGhpc307YS5nZXRDdXN0b21EYXRhPWZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl07cmV0dXJuKGM9YyYmZltjXSkmJmEgaW4gYz9jW2FdOm51bGx9O2EucmVtb3ZlQ3VzdG9tRGF0YT1mdW5jdGlvbihhKXt2YXIgYz10aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdLGM9YyYmZltjXSxlLGw7YyYmKGU9Y1thXSxsPWEgaW4gYyxkZWxldGUgY1thXSk7cmV0dXJuIGw/ZTpudWxsfTthLmNsZWFyQ3VzdG9tRGF0YT1mdW5jdGlvbigpe3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7dmFyIGE9dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTthJiZkZWxldGUgZlthXX07YS5nZXRVbmlxdWVJZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdfHxcbih0aGlzLiRbXCJkYXRhLWNrZS1leHBhbmRvXCJdPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKSl9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKGEpfShDS0VESVRPUi5kb20uZG9tT2JqZWN0LnByb3RvdHlwZSksQ0tFRElUT1IuZG9tLm5vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbVthLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP1wiZG9jdW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/XCJlbGVtZW50XCI6YS5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP1widGV4dFwiOmEubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVD9cImNvbW1lbnRcIjphLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UP1wiZG9jdW1lbnRGcmFnbWVudFwiOlwiZG9tT2JqZWN0XCJdKGEpOnRoaXN9LENLRURJVE9SLmRvbS5ub2RlLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLmRvbU9iamVjdCxDS0VESVRPUi5OT0RFX0VMRU1FTlQ9XG4xLENLRURJVE9SLk5PREVfRE9DVU1FTlQ9OSxDS0VESVRPUi5OT0RFX1RFWFQ9MyxDS0VESVRPUi5OT0RFX0NPTU1FTlQ9OCxDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UPTExLENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTD0wLENLRURJVE9SLlBPU0lUSU9OX0RJU0NPTk5FQ1RFRD0xLENLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lORz0yLENLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORz00LENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRD04LENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TPTE2LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ubm9kZS5wcm90b3R5cGUse2FwcGVuZFRvOmZ1bmN0aW9uKGEsZil7YS5hcHBlbmQodGhpcyxmKTtyZXR1cm4gYX0sY2xvbmU6ZnVuY3Rpb24oYSxmKXtmdW5jdGlvbiBiKGMpe2NbXCJkYXRhLWNrZS1leHBhbmRvXCJdJiYoY1tcImRhdGEtY2tlLWV4cGFuZG9cIl09ITEpO2lmKGMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XG5jLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKWlmKGZ8fGMubm9kZVR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8Yy5yZW1vdmVBdHRyaWJ1dGUoXCJpZFwiLCExKSxhKXtjPWMuY2hpbGROb2Rlcztmb3IodmFyIGU9MDtlPGMubGVuZ3RoO2UrKyliKGNbZV0pfX1mdW5jdGlvbiBjKGIpe2lmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpe2lmKGIudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGU9Yi5nZXROYW1lKCk7XCI6XCI9PWVbMF0mJmIucmVuYW1lTm9kZShlLnN1YnN0cmluZygxKSl9aWYoYSlmb3IoZT0wO2U8Yi5nZXRDaGlsZENvdW50KCk7ZSsrKWMoYi5nZXRDaGlsZChlKSl9fXZhciBlPXRoaXMuJC5jbG9uZU5vZGUoYSk7YihlKTtlPW5ldyBDS0VESVRPUi5kb20ubm9kZShlKTtDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24mJlxuKHRoaXMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHx0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpJiZjKGUpO3JldHVybiBlfSxoYXNQcmV2aW91czpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLnByZXZpb3VzU2libGluZ30saGFzTmV4dDpmdW5jdGlvbigpe3JldHVybiEhdGhpcy4kLm5leHRTaWJsaW5nfSxpbnNlcnRBZnRlcjpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJC5uZXh0U2libGluZyk7cmV0dXJuIGF9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXthLiQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy4kLGEuJCk7cmV0dXJuIGF9LGluc2VydEJlZm9yZU1lOmZ1bmN0aW9uKGEpe3RoaXMuJC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLiQsdGhpcy4kKTtyZXR1cm4gYX0sZ2V0QWRkcmVzczpmdW5jdGlvbihhKXtmb3IodmFyIGY9W10sYj10aGlzLmdldERvY3VtZW50KCkuJC5kb2N1bWVudEVsZW1lbnQsXG5jPXRoaXMuJDtjJiZjIT1iOyl7dmFyIGU9Yy5wYXJlbnROb2RlO2UmJmYudW5zaGlmdCh0aGlzLmdldEluZGV4LmNhbGwoeyQ6Y30sYSkpO2M9ZX1yZXR1cm4gZn0sZ2V0RG9jdW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5kb2N1bWVudCh0aGlzLiQub3duZXJEb2N1bWVudHx8dGhpcy4kLnBhcmVudE5vZGUub3duZXJEb2N1bWVudCl9LGdldEluZGV4OmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGYoYSxkKXt2YXIgaD1kP2EubmV4dFNpYmxpbmc6YS5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGgmJmgubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9iKGgpP2YoaCxkKTpoOm51bGx9ZnVuY3Rpb24gYihhKXtyZXR1cm4hYS5ub2RlVmFsdWV8fGEubm9kZVZhbHVlPT1DS0VESVRPUi5kb20uc2VsZWN0aW9uLkZJTExJTkdfQ0hBUl9TRVFVRU5DRX12YXIgYz10aGlzLiQsZT0tMSxsO2lmKCF0aGlzLiQucGFyZW50Tm9kZXx8YSYmYy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZcbmIoYykmJiFmKGMpJiYhZihjLCEwKSlyZXR1cm4tMTtkbyBhJiZjIT10aGlzLiQmJmMubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGx8fGIoYykpfHwoZSsrLGw9Yy5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKTt3aGlsZShjPWMucHJldmlvdXNTaWJsaW5nKTtyZXR1cm4gZX0sZ2V0TmV4dFNvdXJjZU5vZGU6ZnVuY3Rpb24oYSxmLGIpe2lmKGImJiFiLmNhbGwpe3ZhciBjPWI7Yj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMoYyl9fWE9IWEmJnRoaXMuZ2V0Rmlyc3QmJnRoaXMuZ2V0Rmlyc3QoKTt2YXIgZTtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0TmV4dCgpfWZvcig7IWEmJihlPShlfHx0aGlzKS5nZXRQYXJlbnQoKSk7KXtpZihiJiYhMT09PWIoZSwhMCkpcmV0dXJuIG51bGw7YT1lLmdldE5leHQoKX1yZXR1cm4hYXx8YiYmITE9PT1iKGEpP251bGw6XG5mJiZmIT1hLnR5cGU/YS5nZXROZXh0U291cmNlTm9kZSghMSxmLGIpOmF9LGdldFByZXZpb3VzU291cmNlTm9kZTpmdW5jdGlvbihhLGYsYil7aWYoYiYmIWIuY2FsbCl7dmFyIGM9YjtiPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhjKX19YT0hYSYmdGhpcy5nZXRMYXN0JiZ0aGlzLmdldExhc3QoKTt2YXIgZTtpZighYSl7aWYodGhpcy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmImJiExPT09Yih0aGlzLCEwKSlyZXR1cm4gbnVsbDthPXRoaXMuZ2V0UHJldmlvdXMoKX1mb3IoOyFhJiYoZT0oZXx8dGhpcykuZ2V0UGFyZW50KCkpOyl7aWYoYiYmITE9PT1iKGUsITApKXJldHVybiBudWxsO2E9ZS5nZXRQcmV2aW91cygpfXJldHVybiFhfHxiJiYhMT09PWIoYSk/bnVsbDpmJiZhLnR5cGUhPWY/YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsZixiKTphfSxnZXRQcmV2aW91czpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQsYjtkbyBiPShmPWYucHJldmlvdXNTaWJsaW5nKSYmXG4xMCE9Zi5ub2RlVHlwZSYmbmV3IENLRURJVE9SLmRvbS5ub2RlKGYpO3doaWxlKGImJmEmJiFhKGIpKTtyZXR1cm4gYn0sZ2V0TmV4dDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLiQsYjtkbyBiPShmPWYubmV4dFNpYmxpbmcpJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZik7d2hpbGUoYiYmYSYmIWEoYikpO3JldHVybiBifSxnZXRQYXJlbnQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLnBhcmVudE5vZGU7cmV0dXJuIGYmJihmLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEmJmYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQpP25ldyBDS0VESVRPUi5kb20ubm9kZShmKTpudWxsfSxnZXRQYXJlbnRzOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMsYj1bXTtkbyBiW2E/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKGYpO3doaWxlKGY9Zi5nZXRQYXJlbnQoKSk7cmV0dXJuIGJ9LGdldENvbW1vbkFuY2VzdG9yOmZ1bmN0aW9uKGEpe2lmKGEuZXF1YWxzKHRoaXMpKXJldHVybiB0aGlzO1xuaWYoYS5jb250YWlucyYmYS5jb250YWlucyh0aGlzKSlyZXR1cm4gYTt2YXIgZj10aGlzLmNvbnRhaW5zP3RoaXM6dGhpcy5nZXRQYXJlbnQoKTtkbyBpZihmLmNvbnRhaW5zKGEpKXJldHVybiBmO3doaWxlKGY9Zi5nZXRQYXJlbnQoKSk7cmV0dXJuIG51bGx9LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuJCxiPWEuJDtpZihmLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBmLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpO2lmKGY9PWIpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTDtpZih0aGlzLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKGYuY29udGFpbnMpe2lmKGYuY29udGFpbnMoYikpcmV0dXJuIENLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORztpZihiLmNvbnRhaW5zKGYpKXJldHVybiBDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQrXG5DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd9aWYoXCJzb3VyY2VJbmRleFwiaW4gZilyZXR1cm4gMD5mLnNvdXJjZUluZGV4fHwwPmIuc291cmNlSW5kZXg/Q0tFRElUT1IuUE9TSVRJT05fRElTQ09OTkVDVEVEOmYuc291cmNlSW5kZXg8Yi5zb3VyY2VJbmRleD9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HfWY9dGhpcy5nZXRBZGRyZXNzKCk7YT1hLmdldEFkZHJlc3MoKTtmb3IodmFyIGI9TWF0aC5taW4oZi5sZW5ndGgsYS5sZW5ndGgpLGM9MDtjPGI7YysrKWlmKGZbY10hPWFbY10pcmV0dXJuIGZbY108YVtjXT9DS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HO3JldHVybiBmLmxlbmd0aDxhLmxlbmd0aD9DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkc6Q0tFRElUT1IuUE9TSVRJT05fSVNfQ09OVEFJTkVEK0NLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR30sXG5nZXRBc2NlbmRhbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLiQsYyxlO2Z8fChiPWIucGFyZW50Tm9kZSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYT8oZT0hMCxjPWEpOihlPSExLGM9ZnVuY3Rpb24oYil7Yj1cInN0cmluZ1wiPT10eXBlb2YgYi5ub2RlTmFtZT9iLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk6XCJcIjtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9iPT1hOmIgaW4gYX0pO2Zvcig7Yjspe2lmKGMoZT9uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYik6YikpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20ubm9kZShiKTt0cnl7Yj1iLnBhcmVudE5vZGV9Y2F0Y2gobCl7Yj1udWxsfX1yZXR1cm4gbnVsbH0saGFzQXNjZW5kYW50OmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy4kO2Z8fChiPWIucGFyZW50Tm9kZSk7Zm9yKDtiOyl7aWYoYi5ub2RlTmFtZSYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT1hKXJldHVybiEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiExfSxtb3ZlOmZ1bmN0aW9uKGEsZil7YS5hcHBlbmQodGhpcy5yZW1vdmUoKSxcbmYpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLGI9Zi5wYXJlbnROb2RlO2lmKGIpe2lmKGEpZm9yKDthPWYuZmlyc3RDaGlsZDspYi5pbnNlcnRCZWZvcmUoZi5yZW1vdmVDaGlsZChhKSxmKTtiLnJlbW92ZUNoaWxkKGYpfXJldHVybiB0aGlzfSxyZXBsYWNlOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0QmVmb3JlKGEpO2EucmVtb3ZlKCl9LHRyaW06ZnVuY3Rpb24oKXt0aGlzLmx0cmltKCk7dGhpcy5ydHJpbSgpfSxsdHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldEZpcnN0JiYoYT10aGlzLmdldEZpcnN0KCkpOyl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe3ZhciBmPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuZ2V0VGV4dCgpKSxiPWEuZ2V0TGVuZ3RoKCk7aWYoZilmLmxlbmd0aDxiJiYoYS5zcGxpdChiLWYubGVuZ3RoKSx0aGlzLiQucmVtb3ZlQ2hpbGQodGhpcy4kLmZpcnN0Q2hpbGQpKTtlbHNle2EucmVtb3ZlKCk7Y29udGludWV9fWJyZWFrfX0sXG5ydHJpbTpmdW5jdGlvbigpe2Zvcih2YXIgYTt0aGlzLmdldExhc3QmJihhPXRoaXMuZ2V0TGFzdCgpKTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXt2YXIgZj1DS0VESVRPUi50b29scy5ydHJpbShhLmdldFRleHQoKSksYj1hLmdldExlbmd0aCgpO2lmKGYpZi5sZW5ndGg8YiYmKGEuc3BsaXQoZi5sZW5ndGgpLHRoaXMuJC5sYXN0Q2hpbGQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLiQubGFzdENoaWxkKSk7ZWxzZXthLnJlbW92ZSgpO2NvbnRpbnVlfX1icmVha31DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmKGE9dGhpcy4kLmxhc3RDaGlsZCkmJjE9PWEudHlwZSYmXCJiclwiPT1hLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkmJmEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChhKX0saXNSZWFkT25seTpmdW5jdGlvbihhKXt2YXIgZj10aGlzO3RoaXMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZj10aGlzLmdldFBhcmVudCgpKTtDS0VESVRPUi5lbnYuZWRnZSYmXG5mJiZmLmlzKFwidGV4dGFyZWFcIixcImlucHV0XCIpJiYoYT0hMCk7aWYoIWEmJmYmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBmLiQuaXNDb250ZW50RWRpdGFibGUpcmV0dXJuIShmLiQuaXNDb250ZW50RWRpdGFibGV8fGYuZGF0YShcImNrZS1lZGl0YWJsZVwiKSk7Zm9yKDtmOyl7aWYoZi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiExO2lmKGYuaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXJldHVyblwiZmFsc2VcIj09Zi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik7Zj1mLmdldFBhcmVudCgpfXJldHVybiEwfX0pLENLRURJVE9SLmRvbS53aW5kb3c9ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS53aW5kb3cucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20ud2luZG93LnByb3RvdHlwZSx7Zm9jdXM6ZnVuY3Rpb24oKXt0aGlzLiQuZm9jdXMoKX0sXG5nZXRWaWV3UGFuZVNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQuZG9jdW1lbnQsZj1cIkNTUzFDb21wYXRcIj09YS5jb21wYXRNb2RlO3JldHVybnt3aWR0aDooZj9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDphLmJvZHkuY2xpZW50V2lkdGgpfHwwLGhlaWdodDooZj9hLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ6YS5ib2R5LmNsaWVudEhlaWdodCl8fDB9fSxnZXRTY3JvbGxQb3NpdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJDtpZihcInBhZ2VYT2Zmc2V0XCJpbiBhKXJldHVybnt4OmEucGFnZVhPZmZzZXR8fDAseTphLnBhZ2VZT2Zmc2V0fHwwfTthPWEuZG9jdW1lbnQ7cmV0dXJue3g6YS5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdHx8YS5ib2R5LnNjcm9sbExlZnR8fDAseTphLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3B8fGEuYm9keS5zY3JvbGxUb3B8fDB9fSxnZXRGcmFtZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5mcmFtZUVsZW1lbnQ7cmV0dXJuIGE/XG5uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpOm51bGx9fSksQ0tFRElUT1IuZG9tLmRvY3VtZW50PWZ1bmN0aW9uKGEpe0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20uZG9tT2JqZWN0LENLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uZG9jdW1lbnQucHJvdG90eXBlLHt0eXBlOkNLRURJVE9SLk5PREVfRE9DVU1FTlQsYXBwZW5kU3R5bGVTaGVldDpmdW5jdGlvbihhKXtpZih0aGlzLiQuY3JlYXRlU3R5bGVTaGVldCl0aGlzLiQuY3JlYXRlU3R5bGVTaGVldChhKTtlbHNle3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImxpbmtcIik7Zi5zZXRBdHRyaWJ1dGVzKHtyZWw6XCJzdHlsZXNoZWV0XCIsdHlwZTpcInRleHQvY3NzXCIsaHJlZjphfSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGYpfX0sYXBwZW5kU3R5bGVUZXh0OmZ1bmN0aW9uKGEpe2lmKHRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KXt2YXIgZj1cbnRoaXMuJC5jcmVhdGVTdHlsZVNoZWV0KFwiXCIpO2YuY3NzVGV4dD1hfWVsc2V7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3R5bGVcIix0aGlzKTtiLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLnRleHQoYSx0aGlzKSk7dGhpcy5nZXRIZWFkKCkuYXBwZW5kKGIpfXJldHVybiBmfHxiLiQuc2hlZXR9LGNyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oYSxmKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSx0aGlzKTtmJiYoZi5hdHRyaWJ1dGVzJiZiLnNldEF0dHJpYnV0ZXMoZi5hdHRyaWJ1dGVzKSxmLnN0eWxlcyYmYi5zZXRTdHlsZXMoZi5zdHlsZXMpKTtyZXR1cm4gYn0sY3JlYXRlVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS50ZXh0KGEsdGhpcyl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5nZXRXaW5kb3coKS5mb2N1cygpfSxnZXRBY3RpdmU6ZnVuY3Rpb24oKXt2YXIgYTt0cnl7YT10aGlzLiQuYWN0aXZlRWxlbWVudH1jYXRjaChmKXtyZXR1cm4gbnVsbH1yZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpfSxcbmdldEJ5SWQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLmdldEVsZW1lbnRCeUlkKGEpKT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZ2V0QnlBZGRyZXNzOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBiPXRoaXMuJC5kb2N1bWVudEVsZW1lbnQsYz0wO2ImJmM8YS5sZW5ndGg7YysrKXt2YXIgZT1hW2NdO2lmKGYpZm9yKHZhciBsPS0xLGs9MDtrPGIuY2hpbGROb2Rlcy5sZW5ndGg7aysrKXt2YXIgZD1iLmNoaWxkTm9kZXNba107aWYoITAhPT1mfHwzIT1kLm5vZGVUeXBlfHwhZC5wcmV2aW91c1NpYmxpbmd8fDMhPWQucHJldmlvdXNTaWJsaW5nLm5vZGVUeXBlKWlmKGwrKyxsPT1lKXtiPWQ7YnJlYWt9fWVsc2UgYj1iLmNoaWxkTm9kZXNbZV19cmV0dXJuIGI/bmV3IENLRURJVE9SLmRvbS5ub2RlKGIpOm51bGx9LGdldEVsZW1lbnRzQnlUYWc6ZnVuY3Rpb24oYSxmKXtDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZXx8IWZ8fChhPWYrXCI6XCIrXG5hKTtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYSkpfSxnZXRIZWFkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtyZXR1cm4gYT1hP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTp0aGlzLmdldERvY3VtZW50RWxlbWVudCgpLmFwcGVuZChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJoZWFkXCIpLCEwKX0sZ2V0Qm9keTpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQodGhpcy4kLmJvZHkpfSxnZXREb2N1bWVudEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHRoaXMuJC5kb2N1bWVudEVsZW1lbnQpfSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS53aW5kb3codGhpcy4kLnBhcmVudFdpbmRvd3x8dGhpcy4kLmRlZmF1bHRWaWV3KX0sd3JpdGU6ZnVuY3Rpb24oYSl7dGhpcy4kLm9wZW4oXCJ0ZXh0L2h0bWxcIixcblwicmVwbGFjZVwiKTtDS0VESVRPUi5lbnYuaWUmJihhPWEucmVwbGFjZSgvKD86Xlxccyo8IURPQ1RZUEVbXj5dKj8+KXxeL2ksJyRcXHgyNlxcblxceDNjc2NyaXB0IGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiXFx4M2UoJytDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7XFx4M2Mvc2NyaXB0XFx4M2VcIikpO3RoaXMuJC53cml0ZShhKTt0aGlzLiQuY2xvc2UoKX0sZmluZDpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5ub2RlTGlzdCh0aGlzLiQucXVlcnlTZWxlY3RvckFsbChhKSl9LGZpbmRPbmU6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy4kLnF1ZXJ5U2VsZWN0b3IoYSkpP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChhKTpudWxsfSxfZ2V0SHRtbDVTaGl2RnJhZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q3VzdG9tRGF0YShcImh0bWw1U2hpdkZyYWdcIik7YXx8KGE9dGhpcy4kLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxDS0VESVRPUi50b29scy5lbmFibGVIdG1sNUVsZW1lbnRzKGEsXG4hMCksdGhpcy5zZXRDdXN0b21EYXRhKFwiaHRtbDVTaGl2RnJhZ1wiLGEpKTtyZXR1cm4gYX19KSxDS0VESVRPUi5kb20ubm9kZUxpc3Q9ZnVuY3Rpb24oYSl7dGhpcy4kPWF9LENLRURJVE9SLmRvbS5ub2RlTGlzdC5wcm90b3R5cGU9e2NvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5sZW5ndGh9LGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIDA+YXx8YT49dGhpcy4kLmxlbmd0aD9udWxsOihhPXRoaXMuJFthXSk/bmV3IENLRURJVE9SLmRvbS5ub2RlKGEpOm51bGx9fSxDS0VESVRPUi5kb20uZWxlbWVudD1mdW5jdGlvbihhLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZj9mLiQ6ZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoYSkpO0NLRURJVE9SLmRvbS5kb21PYmplY3QuY2FsbCh0aGlzLGEpfSxDS0VESVRPUi5kb20uZWxlbWVudC5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9XCJzdHJpbmdcIj09dHlwZW9mIGE/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSl8fGRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKGEpWzBdOlxuYSkmJihhLiQ/YTpuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSkpfSxDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGU9bmV3IENLRURJVE9SLmRvbS5ub2RlLENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sPWZ1bmN0aW9uKGEsZil7dmFyIGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIsZik7Yi5zZXRIdG1sKGEpO3JldHVybiBiLmdldEZpcnN0KCkucmVtb3ZlKCl9LENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcj1mdW5jdGlvbihhLGYsYixjKXt2YXIgZT1mLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKXx8Zi5zZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfaWRcIixDS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCkpLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxsPWYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpfHxmLnNldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9uYW1lc1wiLHt9KS5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIik7XG5hW2VdPWY7bFtiXT0xO3JldHVybiBmLnNldEN1c3RvbURhdGEoYixjKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZiBpbiBhKUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2VycyhhLGFbZl0sMSl9LENLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyTWFya2Vycz1mdW5jdGlvbihhLGYsYil7dmFyIGM9Zi5nZXRDdXN0b21EYXRhKFwibGlzdF9tYXJrZXJfbmFtZXNcIiksZT1mLmdldEN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxsO2ZvcihsIGluIGMpZi5yZW1vdmVDdXN0b21EYXRhKGwpO2YucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfbWFya2VyX25hbWVzXCIpO2ImJihmLnJlbW92ZUN1c3RvbURhdGEoXCJsaXN0X21hcmtlcl9pZFwiKSxkZWxldGUgYVtlXSl9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3JldHVybi0xPChcIiBcIithK1wiIFwiKS5yZXBsYWNlKGwsXCIgXCIpLmluZGV4T2YoXCIgXCIrYitcIiBcIil9ZnVuY3Rpb24gZihhKXt2YXIgYj1cbiEwO2EuJC5pZHx8KGEuJC5pZD1cImNrZV90bXBfXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGI9ITEpO3JldHVybiBmdW5jdGlvbigpe2J8fGEucmVtb3ZlQXR0cmlidXRlKFwiaWRcIil9fWZ1bmN0aW9uIGIoYSxiKXt2YXIgYz1DS0VESVRPUi50b29scy5lc2NhcGVDc3MoYS4kLmlkKTtyZXR1cm5cIiNcIitjK1wiIFwiK2Iuc3BsaXQoLyxcXHMqLykuam9pbihcIiwgI1wiK2MrXCIgXCIpfWZ1bmN0aW9uIGMoYSl7Zm9yKHZhciBiPTAsYz0wLGc9a1thXS5sZW5ndGg7YzxnO2MrKyliKz1wYXJzZUZsb2F0KHRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShrW2FdW2NdKXx8MCwxMCl8fDA7cmV0dXJuIGJ9dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikuY2xhc3NMaXN0LGU9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBlJiZudWxsIT09U3RyaW5nKGUuYWRkKS5tYXRjaCgvXFxbTmF0aXZlIGNvZGVcXF0vZ2kpLGw9L1tcXG5cXHRcXHJdL2c7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSxcbnt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGRDbGFzczplP2Z1bmN0aW9uKGEpe3RoaXMuJC5jbGFzc0xpc3QuYWRkKGEpO3JldHVybiB0aGlzfTpmdW5jdGlvbihkKXt2YXIgYj10aGlzLiQuY2xhc3NOYW1lO2ImJihhKGIsZCl8fChiKz1cIiBcIitkKSk7dGhpcy4kLmNsYXNzTmFtZT1ifHxkO3JldHVybiB0aGlzfSxyZW1vdmVDbGFzczplP2Z1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJDtiLmNsYXNzTGlzdC5yZW1vdmUoYSk7Yi5jbGFzc05hbWV8fGIucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7cmV0dXJuIHRoaXN9OmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7YiYmYShiLGQpJiYoKGI9Yi5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoPzpefFxcXFxzKylcIitkK1wiKD9cXHgzZFxcXFxzfCQpXCIpLFwiXCIpLnJlcGxhY2UoL15cXHMrLyxcIlwiKSk/dGhpcy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLGIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIikpO3JldHVybiB0aGlzfSxcbmhhc0NsYXNzOmZ1bmN0aW9uKGQpe3JldHVybiBhKHRoaXMuJC5jbGFzc05hbWUsZCl9LGFwcGVuZDpmdW5jdGlvbihhLGIpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT10aGlzLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChhKSk7Yj90aGlzLiQuaW5zZXJ0QmVmb3JlKGEuJCx0aGlzLiQuZmlyc3RDaGlsZCk6dGhpcy4kLmFwcGVuZENoaWxkKGEuJCk7cmV0dXJuIGF9LGFwcGVuZEh0bWw6ZnVuY3Rpb24oYSl7aWYodGhpcy4kLmNoaWxkTm9kZXMubGVuZ3RoKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIix0aGlzLmdldERvY3VtZW50KCkpO2Iuc2V0SHRtbChhKTtiLm1vdmVDaGlsZHJlbih0aGlzKX1lbHNlIHRoaXMuc2V0SHRtbChhKX0sYXBwZW5kVGV4dDpmdW5jdGlvbihhKXtudWxsIT10aGlzLiQudGV4dCYmQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uP3RoaXMuJC50ZXh0Kz1hOnRoaXMuYXBwZW5kKG5ldyBDS0VESVRPUi5kb20udGV4dChhKSl9LFxuYXBwZW5kQm9ndXM6ZnVuY3Rpb24oYSl7aWYoYXx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXIpe2ZvcihhPXRoaXMuZ2V0TGFzdCgpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMucnRyaW0oYS5nZXRUZXh0KCkpOylhPWEuZ2V0UHJldmlvdXMoKTthJiZhLmlzJiZhLmlzKFwiYnJcIil8fChhPXRoaXMuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiYnJcIiksQ0tFRElUT1IuZW52LmdlY2tvJiZhLnNldEF0dHJpYnV0ZShcInR5cGVcIixcIl9tb3pcIiksdGhpcy5hcHBlbmQoYSkpfX0sYnJlYWtQYXJlbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMuZ2V0RG9jdW1lbnQoKSk7Yy5zZXRTdGFydEFmdGVyKHRoaXMpO2Muc2V0RW5kQWZ0ZXIoYSk7dmFyIGc9Yy5leHRyYWN0Q29udGVudHMoITEsYnx8ITEpLGU7Yy5pbnNlcnROb2RlKHRoaXMucmVtb3ZlKCkpO2lmKENLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlKXtmb3IoYz1cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtlPWcuZ2V0Rmlyc3QoKTspZS4kLnN0eWxlLmJhY2tncm91bmRDb2xvciYmKGUuJC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9ZS4kLnN0eWxlLmJhY2tncm91bmRDb2xvciksYy5hcHBlbmQoZSk7Yy5pbnNlcnRBZnRlcih0aGlzKTtjLnJlbW92ZSghMCl9ZWxzZSBnLmluc2VydEFmdGVyTm9kZSh0aGlzKX0sY29udGFpbnM6ZG9jdW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ZnVuY3Rpb24oYSl7cmV0dXJuISEodGhpcy4kLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGEuJCkmMTYpfTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQ7cmV0dXJuIGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2IuY29udGFpbnMoYS5nZXRQYXJlbnQoKS4kKTpiIT1hLiQmJmIuY29udGFpbnMoYS4kKX0sZm9jdXM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dHJ5e3RoaXMuJC5mb2N1cygpfWNhdGNoKGIpe319cmV0dXJuIGZ1bmN0aW9uKGIpe2I/XG5DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGEsMTAwLHRoaXMpOmEuY2FsbCh0aGlzKX19KCksZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJC5pbm5lckhUTUw7cmV0dXJuIENLRURJVE9SLmVudi5pZT9hLnJlcGxhY2UoLzxcXD9bXj5dKj4vZyxcIlwiKTphfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXtpZih0aGlzLiQub3V0ZXJIVE1MKXJldHVybiB0aGlzLiQub3V0ZXJIVE1MLnJlcGxhY2UoLzxcXD9bXj5dKj4vLFwiXCIpO3ZhciBhPXRoaXMuJC5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5hcHBlbmRDaGlsZCh0aGlzLiQuY2xvbmVOb2RlKCEwKSk7cmV0dXJuIGEuaW5uZXJIVE1MfSxnZXRDbGllbnRSZWN0OmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHRoaXMuJC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7IWEud2lkdGgmJihhLndpZHRoPWEucmlnaHQtYS5sZWZ0KTshYS5oZWlnaHQmJihhLmhlaWdodD1hLmJvdHRvbS1hLnRvcCk7XG5yZXR1cm4gYX0sc2V0SHRtbDpDS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24/ZnVuY3Rpb24oYSl7dHJ5e3ZhciBiPXRoaXMuJDtpZih0aGlzLmdldFBhcmVudCgpKXJldHVybiBiLmlubmVySFRNTD1hO3ZhciBjPXRoaXMuZ2V0RG9jdW1lbnQoKS5fZ2V0SHRtbDVTaGl2RnJhZygpO2MuYXBwZW5kQ2hpbGQoYik7Yi5pbm5lckhUTUw9YTtjLnJlbW92ZUNoaWxkKGIpO3JldHVybiBhfWNhdGNoKGcpe3RoaXMuJC5pbm5lckhUTUw9XCJcIjtiPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImJvZHlcIix0aGlzLmdldERvY3VtZW50KCkpO2IuJC5pbm5lckhUTUw9YTtmb3IoYj1iLmdldENoaWxkcmVuKCk7Yi5jb3VudCgpOyl0aGlzLmFwcGVuZChiLmdldEl0ZW0oMCkpO3JldHVybiBhfX06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5pbm5lckhUTUw9YX0sc2V0VGV4dDpmdW5jdGlvbigpe3ZhciBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2EuaW5uZXJIVE1MPVxuXCJ4XCI7YT1hLnRleHRDb250ZW50O3JldHVybiBmdW5jdGlvbihiKXt0aGlzLiRbYT9cInRleHRDb250ZW50XCI6XCJpbm5lclRleHRcIl09Yn19KCksZ2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5nZXRBdHRyaWJ1dGUoYSwyKX07cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGEpe3N3aXRjaChhKXtjYXNlIFwiY2xhc3NcIjphPVwiY2xhc3NOYW1lXCI7YnJlYWs7Y2FzZSBcImh0dHAtZXF1aXZcIjphPVwiaHR0cEVxdWl2XCI7YnJlYWs7Y2FzZSBcIm5hbWVcIjpyZXR1cm4gdGhpcy4kLm5hbWU7Y2FzZSBcInRhYmluZGV4XCI6cmV0dXJuIGE9dGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpLDAhPT1hJiYwPT09dGhpcy4kLnRhYkluZGV4JiYoYT1udWxsKSxhO2Nhc2UgXCJjaGVja2VkXCI6cmV0dXJuIGE9dGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpLChhLnNwZWNpZmllZD9cbmEubm9kZVZhbHVlOnRoaXMuJC5jaGVja2VkKT9cImNoZWNrZWRcIjpudWxsO2Nhc2UgXCJoc3BhY2VcIjpjYXNlIFwidmFsdWVcIjpyZXR1cm4gdGhpcy4kW2FdO2Nhc2UgXCJzdHlsZVwiOnJldHVybiB0aGlzLiQuc3R5bGUuY3NzVGV4dDtjYXNlIFwiY29udGVudGVkaXRhYmxlXCI6Y2FzZSBcImNvbnRlbnRFZGl0YWJsZVwiOnJldHVybiB0aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJjb250ZW50RWRpdGFibGVcIikuc3BlY2lmaWVkP3RoaXMuJC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik6bnVsbH1yZXR1cm4gdGhpcy4kLmdldEF0dHJpYnV0ZShhLDIpfTphfSgpLGdldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSl7dmFyIGI9e30sYz10aGlzLiQuYXR0cmlidXRlcyxnO2E9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhKT9hOltdO2ZvcihnPTA7ZzxjLmxlbmd0aDtnKyspLTE9PT1DS0VESVRPUi50b29scy5pbmRleE9mKGEsY1tnXS5uYW1lKSYmKGJbY1tnXS5uYW1lXT1jW2ddLnZhbHVlKTtcbnJldHVybiBifSxnZXRDaGlsZHJlbjpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5jaGlsZE5vZGVzKX0sZ2V0Q29tcHV0ZWRTdHlsZTpkb2N1bWVudC5kZWZhdWx0VmlldyYmZG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZT9mdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFdpbmRvdygpLiQuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLiQsbnVsbCk7cmV0dXJuIGI/Yi5nZXRQcm9wZXJ0eVZhbHVlKGEpOlwiXCJ9OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQuY3VycmVudFN0eWxlW0NLRURJVE9SLnRvb2xzLmNzc1N0eWxlVG9Eb21TdHlsZShhKV19LGdldER0ZDpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLmR0ZFt0aGlzLmdldE5hbWUoKV07dGhpcy5nZXREdGQ9ZnVuY3Rpb24oKXtyZXR1cm4gYX07cmV0dXJuIGF9LGdldEVsZW1lbnRzQnlUYWc6Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRFbGVtZW50c0J5VGFnLFxuZ2V0VGFiSW5kZXg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQudGFiSW5kZXg7cmV0dXJuIDAhPT1hfHxDS0VESVRPUi5kdGQuJHRhYkluZGV4W3RoaXMuZ2V0TmFtZSgpXXx8MD09PXBhcnNlSW50KHRoaXMuZ2V0QXR0cmlidXRlKFwidGFiaW5kZXhcIiksMTApP2E6LTF9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnRleHRDb250ZW50fHx0aGlzLiQuaW5uZXJUZXh0fHxcIlwifSxnZXRXaW5kb3c6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXREb2N1bWVudCgpLmdldFdpbmRvdygpfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQuaWR8fG51bGx9LGdldE5hbWVBdHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLm5hbWV8fG51bGx9LGdldE5hbWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihDS0VESVRPUi5lbnYuaWUmJjg+PWRvY3VtZW50LmRvY3VtZW50TW9kZSl7dmFyIGI9dGhpcy4kLnNjb3BlTmFtZTtcIkhUTUxcIiE9XG5iJiYoYT1iLnRvTG93ZXJDYXNlKCkrXCI6XCIrYSl9dGhpcy5nZXROYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O3JldHVybiB0aGlzLmdldE5hbWUoKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kLnZhbHVlfSxnZXRGaXJzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQuZmlyc3RDaGlsZDsoYj1iJiZuZXcgQ0tFRElUT1IuZG9tLm5vZGUoYikpJiZhJiYhYShiKSYmKGI9Yi5nZXROZXh0KGEpKTtyZXR1cm4gYn0sZ2V0TGFzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLiQubGFzdENoaWxkOyhiPWImJm5ldyBDS0VESVRPUi5kb20ubm9kZShiKSkmJmEmJiFhKGIpJiYoYj1iLmdldFByZXZpb3VzKGEpKTtyZXR1cm4gYn0sZ2V0U3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldfSxpczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0TmFtZSgpO2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pcmV0dXJuISFhcmd1bWVudHNbMF1bYV07XG5mb3IodmFyIGI9MDtiPGFyZ3VtZW50cy5sZW5ndGg7YisrKWlmKGFyZ3VtZW50c1tiXT09YSlyZXR1cm4hMDtyZXR1cm4hMX0saXNFZGl0YWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5hbWUoKTtyZXR1cm4gdGhpcy5pc1JlYWRPbmx5KCl8fFwibm9uZVwiPT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHxcImhpZGRlblwiPT10aGlzLmdldENvbXB1dGVkU3R5bGUoXCJ2aXNpYmlsaXR5XCIpfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxDS0VESVRPUi5kdGQuJGVtcHR5W2JdfHx0aGlzLmlzKFwiYVwiKSYmKHRoaXMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHx0aGlzLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiYhdGhpcy5nZXRDaGlsZENvdW50KCk/ITE6ITEhPT1hPyhhPUNLRURJVE9SLmR0ZFtiXXx8Q0tFRElUT1IuZHRkLnNwYW4sISghYXx8IWFbXCIjXCJdKSk6ITB9LGlzSWRlbnRpY2FsOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoMCwxKTthPWEuY2xvbmUoMCxcbjEpO2IucmVtb3ZlQXR0cmlidXRlcyhbXCJfbW96X2RpcnR5XCIsXCJkYXRhLWNrZS1leHBhbmRvXCIsXCJkYXRhLWNrZS1zYXZlZC1ocmVmXCIsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKTthLnJlbW92ZUF0dHJpYnV0ZXMoW1wiX21vel9kaXJ0eVwiLFwiZGF0YS1ja2UtZXhwYW5kb1wiLFwiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiXSk7aWYoYi4kLmlzRXF1YWxOb2RlKXJldHVybiBiLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGIuJC5zdHlsZS5jc3NUZXh0KSxhLiQuc3R5bGUuY3NzVGV4dD1DS0VESVRPUi50b29scy5ub3JtYWxpemVDc3NUZXh0KGEuJC5zdHlsZS5jc3NUZXh0KSxiLiQuaXNFcXVhbE5vZGUoYS4kKTtiPWIuZ2V0T3V0ZXJIdG1sKCk7YT1hLmdldE91dGVySHRtbCgpO2lmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmdGhpcy5pcyhcImFcIikpe3ZhciBjPXRoaXMuZ2V0UGFyZW50KCk7XG5jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Yy5jbG9uZSgpLGMuc2V0SHRtbChiKSxiPWMuZ2V0SHRtbCgpLGMuc2V0SHRtbChhKSxhPWMuZ2V0SHRtbCgpKX1yZXR1cm4gYj09YX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7dmFyIGE9KHRoaXMuJC5vZmZzZXRIZWlnaHR8fHRoaXMuJC5vZmZzZXRXaWR0aCkmJlwiaGlkZGVuXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcInZpc2liaWxpdHlcIiksYixjO2EmJkNLRURJVE9SLmVudi53ZWJraXQmJihiPXRoaXMuZ2V0V2luZG93KCksIWIuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpKSYmKGM9Yi4kLmZyYW1lRWxlbWVudCkmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYykpLmlzVmlzaWJsZSgpKSk7cmV0dXJuISFhfSxpc0VtcHR5SW5saW5lUmVtb3ZlYWJsZTpmdW5jdGlvbigpe2lmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3RoaXMuZ2V0TmFtZSgpXSlyZXR1cm4hMTtmb3IodmFyIGE9dGhpcy5nZXRDaGlsZHJlbigpLFxuYj0wLGM9YS5jb3VudCgpO2I8YztiKyspe3ZhciBnPWEuZ2V0SXRlbShiKTtpZihnLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8IWcuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZihnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWcuaXNFbXB0eUlubGluZVJlbW92ZWFibGUoKXx8Zy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJkNLRURJVE9SLnRvb2xzLnRyaW0oZy5nZXRUZXh0KCkpKXJldHVybiExfXJldHVybiEwfSxoYXNBdHRyaWJ1dGVzOkNLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuJC5hdHRyaWJ1dGVzLGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9YVtiXTtzd2l0Y2goYy5ub2RlTmFtZSl7Y2FzZSBcImNsYXNzXCI6aWYodGhpcy5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSlyZXR1cm4hMDtjYXNlIFwiZGF0YS1ja2UtZXhwYW5kb1wiOmNvbnRpbnVlO2RlZmF1bHQ6aWYoYy5zcGVjaWZpZWQpcmV0dXJuITB9fXJldHVybiExfTpcbmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kLmF0dHJpYnV0ZXMsYj1hLmxlbmd0aCxjPXtcImRhdGEtY2tlLWV4cGFuZG9cIjoxLF9tb3pfZGlydHk6MX07cmV0dXJuIDA8YiYmKDI8Ynx8IWNbYVswXS5ub2RlTmFtZV18fDI9PWImJiFjW2FbMV0ubm9kZU5hbWVdKX0saGFzQXR0cmlidXRlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZD10aGlzLiQuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oYik7aWYoXCJpbnB1dFwiPT10aGlzLmdldE5hbWUoKSlzd2l0Y2goYil7Y2FzZSBcImNsYXNzXCI6cmV0dXJuIDA8dGhpcy4kLmNsYXNzTmFtZS5sZW5ndGg7Y2FzZSBcImNoZWNrZWRcIjpyZXR1cm4hIXRoaXMuJC5jaGVja2VkO2Nhc2UgXCJ2YWx1ZVwiOnJldHVybiBiPXRoaXMuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSxcImNoZWNrYm94XCI9PWJ8fFwicmFkaW9cIj09Yj9cIm9uXCIhPXRoaXMuJC52YWx1ZTohIXRoaXMuJC52YWx1ZX1yZXR1cm4gZD9kLnNwZWNpZmllZDohMX1yZXR1cm4gQ0tFRElUT1IuZW52LmllP1xuOD5DS0VESVRPUi5lbnYudmVyc2lvbj9mdW5jdGlvbihiKXtyZXR1cm5cIm5hbWVcIj09Yj8hIXRoaXMuJC5uYW1lOmEuY2FsbCh0aGlzLGIpfTphOmZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy4kLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGEpfX0oKSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LG1vdmVDaGlsZHJlbjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuJDthPWEuJDtpZihjIT1hKXt2YXIgZztpZihiKWZvcig7Zz1jLmxhc3RDaGlsZDspYS5pbnNlcnRCZWZvcmUoYy5yZW1vdmVDaGlsZChnKSxhLmZpcnN0Q2hpbGQpO2Vsc2UgZm9yKDtnPWMuZmlyc3RDaGlsZDspYS5hcHBlbmRDaGlsZChjLnJlbW92ZUNoaWxkKGcpKX19LG1lcmdlU2libGluZ3M6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsZCxnKXtpZihkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7Zm9yKHZhciBjPVtdO2QuZGF0YShcImNrZS1ib29rbWFya1wiKXx8ZC5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpOylpZihjLnB1c2goZCksXG5kPWc/ZC5nZXROZXh0KCk6ZC5nZXRQcmV2aW91cygpLCFkfHxkLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm47aWYoYi5pc0lkZW50aWNhbChkKSl7Zm9yKHZhciBlPWc/Yi5nZXRMYXN0KCk6Yi5nZXRGaXJzdCgpO2MubGVuZ3RoOyljLnNoaWZ0KCkubW92ZShiLCFnKTtkLm1vdmVDaGlsZHJlbihiLCFnKTtkLnJlbW92ZSgpO2UmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLm1lcmdlU2libGluZ3MoKX19fXJldHVybiBmdW5jdGlvbihiKXtpZighMT09PWJ8fENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbdGhpcy5nZXROYW1lKCldfHx0aGlzLmlzKFwiYVwiKSlhKHRoaXMsdGhpcy5nZXROZXh0KCksITApLGEodGhpcyx0aGlzLmdldFByZXZpb3VzKCkpfX0oKSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoe2Rpc3BsYXk6XCJcIix2aXNpYmlsaXR5OlwiXCJ9KX0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt0aGlzLiQuc2V0QXR0cmlidXRlKGEsXG5iKTtyZXR1cm4gdGhpc307cmV0dXJuIENLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpP2Z1bmN0aW9uKGIsYyl7XCJjbGFzc1wiPT1iP3RoaXMuJC5jbGFzc05hbWU9YzpcInN0eWxlXCI9PWI/dGhpcy4kLnN0eWxlLmNzc1RleHQ9YzpcInRhYmluZGV4XCI9PWI/dGhpcy4kLnRhYkluZGV4PWM6XCJjaGVja2VkXCI9PWI/dGhpcy4kLmNoZWNrZWQ9YzpcImNvbnRlbnRlZGl0YWJsZVwiPT1iP2EuY2FsbCh0aGlzLFwiY29udGVudEVkaXRhYmxlXCIsYyk6YS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OkNLRURJVE9SLmVudi5pZThDb21wYXQmJkNLRURJVE9SLmVudi5zZWN1cmU/ZnVuY3Rpb24oYixjKXtpZihcInNyY1wiPT1iJiZjLm1hdGNoKC9eaHR0cDpcXC9cXC8vKSl0cnl7YS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9Y2F0Y2goZyl7fWVsc2UgYS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9OmF9KCksc2V0QXR0cmlidXRlczpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLnNldEF0dHJpYnV0ZShiLFxuYVtiXSk7cmV0dXJuIHRoaXN9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuJC52YWx1ZT1hO3JldHVybiB0aGlzfSxyZW1vdmVBdHRyaWJ1dGU6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt0aGlzLiQucmVtb3ZlQXR0cmlidXRlKGEpfTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiYoQ0tFRElUT1IuZW52LmllN0NvbXBhdHx8Q0tFRElUT1IuZW52LnF1aXJrcyk/ZnVuY3Rpb24oYSl7XCJjbGFzc1wiPT1hP2E9XCJjbGFzc05hbWVcIjpcInRhYmluZGV4XCI9PWE/YT1cInRhYkluZGV4XCI6XCJjb250ZW50ZWRpdGFibGVcIj09YSYmKGE9XCJjb250ZW50RWRpdGFibGVcIik7dGhpcy4kLnJlbW92ZUF0dHJpYnV0ZShhKX06YX0oKSxyZW1vdmVBdHRyaWJ1dGVzOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYSkpZm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspdGhpcy5yZW1vdmVBdHRyaWJ1dGUoYVtiXSk7ZWxzZSBmb3IoYiBpbiBhPWF8fHRoaXMuZ2V0QXR0cmlidXRlcygpLFxuYSlhLmhhc093blByb3BlcnR5KGIpJiZ0aGlzLnJlbW92ZUF0dHJpYnV0ZShiKX0scmVtb3ZlU3R5bGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy4kLnN0eWxlO2lmKGIucmVtb3ZlUHJvcGVydHl8fFwiYm9yZGVyXCIhPWEmJlwibWFyZ2luXCIhPWEmJlwicGFkZGluZ1wiIT1hKWIucmVtb3ZlUHJvcGVydHk/Yi5yZW1vdmVQcm9wZXJ0eShhKTpiLnJlbW92ZUF0dHJpYnV0ZShDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSkpLHRoaXMuJC5zdHlsZS5jc3NUZXh0fHx0aGlzLnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpO2Vsc2V7dmFyIGM9W1widG9wXCIsXCJsZWZ0XCIsXCJyaWdodFwiLFwiYm90dG9tXCJdLGc7XCJib3JkZXJcIj09YSYmKGc9W1wiY29sb3JcIixcInN0eWxlXCIsXCJ3aWR0aFwiXSk7Zm9yKHZhciBiPVtdLGU9MDtlPGMubGVuZ3RoO2UrKylpZihnKWZvcih2YXIgZj0wO2Y8Zy5sZW5ndGg7ZisrKWIucHVzaChbYSxjW2VdLGdbZl1dLmpvaW4oXCItXCIpKTtlbHNlIGIucHVzaChbYSxjW2VdXS5qb2luKFwiLVwiKSk7XG5mb3IoYT0wO2E8Yi5sZW5ndGg7YSsrKXRoaXMucmVtb3ZlU3R5bGUoYlthXSl9fSxzZXRTdHlsZTpmdW5jdGlvbihhLGIpe3RoaXMuJC5zdHlsZVtDS0VESVRPUi50b29scy5jc3NTdHlsZVRvRG9tU3R5bGUoYSldPWI7cmV0dXJuIHRoaXN9LHNldFN0eWxlczpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSl0aGlzLnNldFN0eWxlKGIsYVtiXSk7cmV0dXJuIHRoaXN9LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPyhhPU1hdGgucm91bmQoMTAwKmEpLHRoaXMuc2V0U3R5bGUoXCJmaWx0ZXJcIiwxMDA8PWE/XCJcIjpcInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5BbHBoYShvcGFjaXR5XFx4M2RcIithK1wiKVwiKSk6dGhpcy5zZXRTdHlsZShcIm9wYWNpdHlcIixhKX0sdW5zZWxlY3RhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZXMoQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidXNlci1zZWxlY3RcIixcIm5vbmVcIikpO1xuaWYoQ0tFRElUT1IuZW52LmllKXt0aGlzLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIik7Zm9yKHZhciBhLGI9dGhpcy5nZXRFbGVtZW50c0J5VGFnKFwiKlwiKSxjPTAsZz1iLmNvdW50KCk7YzxnO2MrKylhPWIuZ2V0SXRlbShjKSxhLnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIil9fSxnZXRQb3NpdGlvbmVkQW5jZXN0b3I6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcztcImh0bWxcIiE9YS5nZXROYW1lKCk7KXtpZihcInN0YXRpY1wiIT1hLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9LGdldERvY3VtZW50UG9zaXRpb246ZnVuY3Rpb24oYSl7dmFyIGI9MCxjPTAsZz10aGlzLmdldERvY3VtZW50KCksZT1nLmdldEJvZHkoKSxmPVwiQmFja0NvbXBhdFwiPT1nLiQuY29tcGF0TW9kZTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0JiYoQ0tFRElUT1IuZW52LmllP1xuOCE9PUNLRURJVE9SLmVudi52ZXJzaW9uOjEpKXt2YXIgbD10aGlzLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaz1nLiQuZG9jdW1lbnRFbGVtZW50LHY9ay5jbGllbnRUb3B8fGUuJC5jbGllbnRUb3B8fDAsdT1rLmNsaWVudExlZnR8fGUuJC5jbGllbnRMZWZ0fHwwLHQ9ITA7Q0tFRElUT1IuZW52LmllJiYodD1nLmdldERvY3VtZW50RWxlbWVudCgpLmNvbnRhaW5zKHRoaXMpLGc9Zy5nZXRCb2R5KCkuY29udGFpbnModGhpcyksdD1mJiZnfHwhZiYmdCk7dCYmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTI8PUNLRURJVE9SLmVudi52ZXJzaW9uPyhiPWUuJC5zY3JvbGxMZWZ0fHxrLnNjcm9sbExlZnQsYz1lLiQuc2Nyb2xsVG9wfHxrLnNjcm9sbFRvcCk6KGM9Zj9lLiQ6ayxiPWMuc2Nyb2xsTGVmdCxjPWMuc2Nyb2xsVG9wKSxiPWwubGVmdCtiLXUsYz1sLnRvcCtjLXYpfWVsc2UgZm9yKHY9dGhpcyx1PW51bGw7diYmXCJib2R5XCIhPXYuZ2V0TmFtZSgpJiZcblwiaHRtbFwiIT12LmdldE5hbWUoKTspe2IrPXYuJC5vZmZzZXRMZWZ0LXYuJC5zY3JvbGxMZWZ0O2MrPXYuJC5vZmZzZXRUb3Atdi4kLnNjcm9sbFRvcDt2LmVxdWFscyh0aGlzKXx8KGIrPXYuJC5jbGllbnRMZWZ0fHwwLGMrPXYuJC5jbGllbnRUb3B8fDApO2Zvcig7dSYmIXUuZXF1YWxzKHYpOyliLT11LiQuc2Nyb2xsTGVmdCxjLT11LiQuc2Nyb2xsVG9wLHU9dS5nZXRQYXJlbnQoKTt1PXY7dj0obD12LiQub2Zmc2V0UGFyZW50KT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobCk6bnVsbH1hJiYobD10aGlzLmdldFdpbmRvdygpLHY9YS5nZXRXaW5kb3coKSwhbC5lcXVhbHModikmJmwuJC5mcmFtZUVsZW1lbnQmJihhPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobC4kLmZyYW1lRWxlbWVudCkpLmdldERvY3VtZW50UG9zaXRpb24oYSksYis9YS54LGMrPWEueSkpO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3R8fCFDS0VESVRPUi5lbnYuZ2Vja298fFxuZnx8KGIrPXRoaXMuJC5jbGllbnRMZWZ0PzE6MCxjKz10aGlzLiQuY2xpZW50VG9wPzE6MCk7cmV0dXJue3g6Yix5OmN9fSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldFBhcmVudCgpO2lmKGIpe2RvIGlmKChiLiQuY2xpZW50V2lkdGgmJmIuJC5jbGllbnRXaWR0aDxiLiQuc2Nyb2xsV2lkdGh8fGIuJC5jbGllbnRIZWlnaHQmJmIuJC5jbGllbnRIZWlnaHQ8Yi4kLnNjcm9sbEhlaWdodCkmJiFiLmlzKFwiYm9keVwiKSYmdGhpcy5zY3JvbGxJbnRvUGFyZW50KGIsYSwxKSxiLmlzKFwiaHRtbFwiKSl7dmFyIGM9Yi5nZXRXaW5kb3coKTt0cnl7dmFyIGc9Yy4kLmZyYW1lRWxlbWVudDtnJiYoYj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZykpfWNhdGNoKGUpe319d2hpbGUoYj1iLmdldFBhcmVudCgpKX19LHNjcm9sbEludG9QYXJlbnQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBnLGUsZixsO2Z1bmN0aW9uIGsoYixnKXsvYm9keXxodG1sLy50ZXN0KGEuZ2V0TmFtZSgpKT9cbmEuZ2V0V2luZG93KCkuJC5zY3JvbGxCeShiLGcpOihhLiQuc2Nyb2xsTGVmdCs9YixhLiQuc2Nyb2xsVG9wKz1nKX1mdW5jdGlvbiB2KGEsYil7dmFyIGc9e3g6MCx5OjB9O2lmKCFhLmlzKHQ/XCJib2R5XCI6XCJodG1sXCIpKXt2YXIgYz1hLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7Zy54PWMubGVmdDtnLnk9Yy50b3B9Yz1hLmdldFdpbmRvdygpO2MuZXF1YWxzKGIpfHwoYz12KENLRURJVE9SLmRvbS5lbGVtZW50LmdldChjLiQuZnJhbWVFbGVtZW50KSxiKSxnLngrPWMueCxnLnkrPWMueSk7cmV0dXJuIGd9ZnVuY3Rpb24gdShhLGIpe3JldHVybiBwYXJzZUludChhLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tXCIrYil8fDAsMTApfHwwfSFhJiYoYT10aGlzLmdldFdpbmRvdygpKTtmPWEuZ2V0RG9jdW1lbnQoKTt2YXIgdD1cIkJhY2tDb21wYXRcIj09Zi4kLmNvbXBhdE1vZGU7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS53aW5kb3cmJihhPXQ/Zi5nZXRCb2R5KCk6Zi5nZXREb2N1bWVudEVsZW1lbnQoKSk7XG5DS0VESVRPUi5lbnYud2Via2l0JiYoZj10aGlzLmdldEVkaXRvcighMSkpJiYoZi5fLnByZXZpb3VzU2Nyb2xsVG9wPW51bGwpO2Y9YS5nZXRXaW5kb3coKTtlPXYodGhpcyxmKTt2YXIgeT12KGEsZiksQT10aGlzLiQub2Zmc2V0SGVpZ2h0O2c9dGhpcy4kLm9mZnNldFdpZHRoO3ZhciBxPWEuJC5jbGllbnRIZWlnaHQsdz1hLiQuY2xpZW50V2lkdGg7Zj1lLngtdSh0aGlzLFwibGVmdFwiKS15Lnh8fDA7bD1lLnktdSh0aGlzLFwidG9wXCIpLXkueXx8MDtnPWUueCtnK3UodGhpcyxcInJpZ2h0XCIpLSh5Lngrdyl8fDA7ZT1lLnkrQSt1KHRoaXMsXCJib3R0b21cIiktKHkueStxKXx8MDsoMD5sfHwwPGUpJiZrKDAsITA9PT1iP2w6ITE9PT1iP2U6MD5sP2w6ZSk7YyYmKDA+Znx8MDxnKSYmaygwPmY/ZjpnLDApfSxzZXRTdGF0ZTpmdW5jdGlvbihhLGIsYyl7Yj1ifHxcImNrZVwiO3N3aXRjaChhKXtjYXNlIENLRURJVE9SLlRSSVNUQVRFX09OOnRoaXMuYWRkQ2xhc3MoYitcIl9vblwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXG5cIl9vZmZcIik7dGhpcy5yZW1vdmVDbGFzcyhiK1wiX2Rpc2FibGVkXCIpO2MmJnRoaXMuc2V0QXR0cmlidXRlKFwiYXJpYS1wcmVzc2VkXCIsITApO2MmJnRoaXMucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKTticmVhaztjYXNlIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEOnRoaXMuYWRkQ2xhc3MoYitcIl9kaXNhYmxlZFwiKTt0aGlzLnJlbW92ZUNsYXNzKGIrXCJfb2ZmXCIpO3RoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKTtjJiZ0aGlzLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk7YyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIik7YnJlYWs7ZGVmYXVsdDp0aGlzLmFkZENsYXNzKGIrXCJfb2ZmXCIpLHRoaXMucmVtb3ZlQ2xhc3MoYitcIl9vblwiKSx0aGlzLnJlbW92ZUNsYXNzKGIrXCJfZGlzYWJsZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXByZXNzZWRcIiksYyYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpfX0sXG5nZXRGcmFtZURvY3VtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy4kO3RyeXthLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnR9Y2F0Y2goYil7YS5zcmM9YS5zcmN9cmV0dXJuIGEmJm5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5jb250ZW50V2luZG93LmRvY3VtZW50KX0sY29weUF0dHJpYnV0ZXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLiQuYXR0cmlidXRlcztiPWJ8fHt9O2Zvcih2YXIgZz0wO2c8Yy5sZW5ndGg7ZysrKXt2YXIgZT1jW2ddLGY9ZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGw7aWYoIShmIGluIGIpKWlmKFwiY2hlY2tlZFwiPT1mJiYobD10aGlzLmdldEF0dHJpYnV0ZShmKSkpYS5zZXRBdHRyaWJ1dGUoZixsKTtlbHNlIGlmKCFDS0VESVRPUi5lbnYuaWV8fHRoaXMuaGFzQXR0cmlidXRlKGYpKWw9dGhpcy5nZXRBdHRyaWJ1dGUoZiksbnVsbD09PWwmJihsPWUubm9kZVZhbHVlKSxhLnNldEF0dHJpYnV0ZShmLGwpfVwiXCIhPT10aGlzLiQuc3R5bGUuY3NzVGV4dCYmXG4oYS4kLnN0eWxlLmNzc1RleHQ9dGhpcy4kLnN0eWxlLmNzc1RleHQpfSxyZW5hbWVOb2RlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZ2V0TmFtZSgpIT1hKXt2YXIgYj10aGlzLmdldERvY3VtZW50KCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSxiKTt0aGlzLmNvcHlBdHRyaWJ1dGVzKGEpO3RoaXMubW92ZUNoaWxkcmVuKGEpO3RoaXMuZ2V0UGFyZW50KCEwKSYmdGhpcy4kLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGEuJCx0aGlzLiQpO2EuJFtcImRhdGEtY2tlLWV4cGFuZG9cIl09dGhpcy4kW1wiZGF0YS1ja2UtZXhwYW5kb1wiXTt0aGlzLiQ9YS4kO2RlbGV0ZSB0aGlzLmdldE5hbWV9fSxnZXRDaGlsZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXt2YXIgZz1iLmNoaWxkTm9kZXM7aWYoMDw9YyYmYzxnLmxlbmd0aClyZXR1cm4gZ1tjXX1yZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy4kO2lmKGIuc2xpY2UpZm9yKGI9Yi5zbGljZSgpOzA8Yi5sZW5ndGgmJmM7KWM9YShjLFxuYi5zaGlmdCgpKTtlbHNlIGM9YShjLGIpO3JldHVybiBjP25ldyBDS0VESVRPUi5kb20ubm9kZShjKTpudWxsfX0oKSxnZXRDaGlsZENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJC5jaGlsZE5vZGVzLmxlbmd0aH0sZGlzYWJsZUNvbnRleHRNZW51OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4gYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaGFzQ2xhc3MoXCJja2VfZW5hYmxlX2NvbnRleHRfbWVudVwiKX10aGlzLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihiKXtiLmRhdGEuZ2V0VGFyZ2V0KCkuZ2V0QXNjZW5kYW50KGEsITApfHxiLmRhdGEucHJldmVudERlZmF1bHQoKX0pfSxnZXREaXJlY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5nZXRDb21wdXRlZFN0eWxlKFwiZGlyZWN0aW9uXCIpfHx0aGlzLmdldERpcmVjdGlvbigpfHx0aGlzLmdldFBhcmVudCgpJiZ0aGlzLmdldFBhcmVudCgpLmdldERpcmVjdGlvbigxKXx8dGhpcy5nZXREb2N1bWVudCgpLiQuZGlyfHxcblwibHRyXCI6dGhpcy5nZXRTdHlsZShcImRpcmVjdGlvblwiKXx8dGhpcy5nZXRBdHRyaWJ1dGUoXCJkaXJcIil9LGRhdGE6ZnVuY3Rpb24oYSxiKXthPVwiZGF0YS1cIithO2lmKHZvaWQgMD09PWIpcmV0dXJuIHRoaXMuZ2V0QXR0cmlidXRlKGEpOyExPT09Yj90aGlzLnJlbW92ZUF0dHJpYnV0ZShhKTp0aGlzLnNldEF0dHJpYnV0ZShhLGIpO3JldHVybiBudWxsfSxnZXRFZGl0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuaW5zdGFuY2VzLGMsZyxlO2E9YXx8dm9pZCAwPT09YTtmb3IoYyBpbiBiKWlmKGc9YltjXSxnLmVsZW1lbnQuZXF1YWxzKHRoaXMpJiZnLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE98fCFhJiYoZT1nLmVkaXRhYmxlKCkpJiYoZS5lcXVhbHModGhpcyl8fGUuY29udGFpbnModGhpcykpKXJldHVybiBnO3JldHVybiBudWxsfSxmaW5kOmZ1bmN0aW9uKGEpe3ZhciBjPWYodGhpcyk7YT1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KHRoaXMuJC5xdWVyeVNlbGVjdG9yQWxsKGIodGhpcyxcbmEpKSk7YygpO3JldHVybiBhfSxmaW5kT25lOmZ1bmN0aW9uKGEpe3ZhciBjPWYodGhpcyk7YT10aGlzLiQucXVlcnlTZWxlY3RvcihiKHRoaXMsYSkpO2MoKTtyZXR1cm4gYT9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYSk6bnVsbH0sZm9yRWFjaDpmdW5jdGlvbihhLGIsYyl7aWYoIShjfHxiJiZ0aGlzLnR5cGUhPWIpKXZhciBnPWEodGhpcyk7aWYoITEhPT1nKXtjPXRoaXMuZ2V0Q2hpbGRyZW4oKTtmb3IodmFyIGU9MDtlPGMuY291bnQoKTtlKyspZz1jLmdldEl0ZW0oZSksZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQ/Zy5mb3JFYWNoKGEsYik6YiYmZy50eXBlIT1ifHxhKGcpfX19KTt2YXIgaz17d2lkdGg6W1wiYm9yZGVyLWxlZnQtd2lkdGhcIixcImJvcmRlci1yaWdodC13aWR0aFwiLFwicGFkZGluZy1sZWZ0XCIsXCJwYWRkaW5nLXJpZ2h0XCJdLGhlaWdodDpbXCJib3JkZXItdG9wLXdpZHRoXCIsXCJib3JkZXItYm90dG9tLXdpZHRoXCIsXCJwYWRkaW5nLXRvcFwiLFwicGFkZGluZy1ib3R0b21cIl19O1xuQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLnNldFNpemU9ZnVuY3Rpb24oYSxiLGUpe1wibnVtYmVyXCI9PXR5cGVvZiBiJiYoIWV8fENLRURJVE9SLmVudi5pZSYmQ0tFRElUT1IuZW52LnF1aXJrc3x8KGItPWMuY2FsbCh0aGlzLGEpKSx0aGlzLnNldFN0eWxlKGEsYitcInB4XCIpKX07Q0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oYSxiKXt2YXIgZT1NYXRoLm1heCh0aGlzLiRbXCJvZmZzZXRcIitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSx0aGlzLiRbXCJjbGllbnRcIitDS0VESVRPUi50b29scy5jYXBpdGFsaXplKGEpXSl8fDA7YiYmKGUtPWMuY2FsbCh0aGlzLGEpKTtyZXR1cm4gZX19KCksQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQ9ZnVuY3Rpb24oYSl7YT1hfHxDS0VESVRPUi5kb2N1bWVudDt0aGlzLiQ9YS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UP2EuJC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6YX0sQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50LnByb3RvdHlwZSxcbkNLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGluc2VydEFmdGVyTm9kZTpmdW5jdGlvbihhKXthPWEuJDthLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuJCxhLm5leHRTaWJsaW5nKX0sZ2V0SHRtbDpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTt0aGlzLmNsb25lKDEsMSkuYXBwZW5kVG8oYSk7cmV0dXJuIGEuZ2V0SHRtbCgpLnJlcGxhY2UoL1xccypkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKX19LCEwLHthcHBlbmQ6MSxhcHBlbmRCb2d1czoxLGNsb25lOjEsZ2V0Rmlyc3Q6MSxnZXRIdG1sOjEsZ2V0TGFzdDoxLGdldFBhcmVudDoxLGdldE5leHQ6MSxnZXRQcmV2aW91czoxLGFwcGVuZFRvOjEsbW92ZUNoaWxkcmVuOjEsaW5zZXJ0QmVmb3JlOjEsaW5zZXJ0QWZ0ZXJOb2RlOjEscmVwbGFjZToxLHRyaW06MSx0eXBlOjEsbHRyaW06MSxydHJpbToxLGdldERvY3VtZW50OjEsXG5nZXRDaGlsZENvdW50OjEsZ2V0Q2hpbGQ6MSxnZXRDaGlsZHJlbjoxfSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGc9dGhpcy5yYW5nZTtpZih0aGlzLl8uZW5kKXJldHVybiBudWxsO2lmKCF0aGlzLl8uc3RhcnQpe3RoaXMuXy5zdGFydD0xO2lmKGcuY29sbGFwc2VkKXJldHVybiB0aGlzLmVuZCgpLG51bGw7Zy5vcHRpbWl6ZSgpfXZhciBjLGQ9Zy5zdGFydENvbnRhaW5lcjtjPWcuZW5kQ29udGFpbmVyO3ZhciBlPWcuc3RhcnRPZmZzZXQsZj1nLmVuZE9mZnNldCxoLHE9dGhpcy5ndWFyZCxtPXRoaXMudHlwZSxuPWE/XCJnZXRQcmV2aW91c1NvdXJjZU5vZGVcIjpcImdldE5leHRTb3VyY2VOb2RlXCI7aWYoIWEmJiF0aGlzLl8uZ3VhcmRMVFIpe3ZhciBsPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2M6Yy5nZXRQYXJlbnQoKSxrPWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2MuZ2V0Q2hpbGQoZik6Yy5nZXROZXh0KCk7dGhpcy5fLmd1YXJkTFRSPWZ1bmN0aW9uKGEsXG5iKXtyZXR1cm4oIWJ8fCFsLmVxdWFscyhhKSkmJigha3x8IWEuZXF1YWxzKGspKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGcucm9vdCkpfX1pZihhJiYhdGhpcy5fLmd1YXJkUlRMKXt2YXIgRT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9kOmQuZ2V0UGFyZW50KCksRz1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD9lP2QuZ2V0Q2hpbGQoZS0xKTpudWxsOmQuZ2V0UHJldmlvdXMoKTt0aGlzLl8uZ3VhcmRSVEw9ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIWJ8fCFFLmVxdWFscyhhKSkmJighR3x8IWEuZXF1YWxzKEcpKSYmKGEudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYnx8IWEuZXF1YWxzKGcucm9vdCkpfX12YXIgRj1hP3RoaXMuXy5ndWFyZFJUTDp0aGlzLl8uZ3VhcmRMVFI7aD1xP2Z1bmN0aW9uKGEsYil7cmV0dXJuITE9PT1GKGEsYik/ITE6cShhLGIpfTpGO3RoaXMuY3VycmVudD9jPXRoaXMuY3VycmVudFtuXSghMSxcbm0saCk6KGE/Yy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihjPTA8Zj9jLmdldENoaWxkKGYtMSk6ITE9PT1oKGMsITApP251bGw6Yy5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAsbSxoKSk6KGM9ZCxjLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKChjPWMuZ2V0Q2hpbGQoZSkpfHwoYz0hMT09PWgoZCwhMCk/bnVsbDpkLmdldE5leHRTb3VyY2VOb2RlKCEwLG0saCkpKSksYyYmITE9PT1oKGMpJiYoYz1udWxsKSk7Zm9yKDtjJiYhdGhpcy5fLmVuZDspe3RoaXMuY3VycmVudD1jO2lmKCF0aGlzLmV2YWx1YXRvcnx8ITEhPT10aGlzLmV2YWx1YXRvcihjKSl7aWYoIWIpcmV0dXJuIGN9ZWxzZSBpZihiJiZ0aGlzLmV2YWx1YXRvcilyZXR1cm4hMTtjPWNbbl0oITEsbSxoKX10aGlzLmVuZCgpO3JldHVybiB0aGlzLmN1cnJlbnQ9bnVsbH1mdW5jdGlvbiBmKGIpe2Zvcih2YXIgZyxjPW51bGw7Zz1hLmNhbGwodGhpcyxiKTspYz1nO3JldHVybiBjfUNLRURJVE9SLmRvbS53YWxrZXI9XG5DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihhKXt0aGlzLnJhbmdlPWE7dGhpcy5fPXt9fSxwcm90bzp7ZW5kOmZ1bmN0aW9uKCl7dGhpcy5fLmVuZD0xfSxuZXh0OmZ1bmN0aW9uKCl7cmV0dXJuIGEuY2FsbCh0aGlzKX0scHJldmlvdXM6ZnVuY3Rpb24oKXtyZXR1cm4gYS5jYWxsKHRoaXMsMSl9LGNoZWNrRm9yd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMCwxKX0sY2hlY2tCYWNrd2FyZDpmdW5jdGlvbigpe3JldHVybiExIT09YS5jYWxsKHRoaXMsMSwxKX0sbGFzdEZvcndhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMpfSxsYXN0QmFja3dhcmQ6ZnVuY3Rpb24oKXtyZXR1cm4gZi5jYWxsKHRoaXMsMSl9LHJlc2V0OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuY3VycmVudDt0aGlzLl89e319fX0pO3ZhciBiPXtibG9jazoxLFwibGlzdC1pdGVtXCI6MSx0YWJsZToxLFwidGFibGUtcm93LWdyb3VwXCI6MSxcInRhYmxlLWhlYWRlci1ncm91cFwiOjEsXG5cInRhYmxlLWZvb3Rlci1ncm91cFwiOjEsXCJ0YWJsZS1yb3dcIjoxLFwidGFibGUtY29sdW1uLWdyb3VwXCI6MSxcInRhYmxlLWNvbHVtblwiOjEsXCJ0YWJsZS1jZWxsXCI6MSxcInRhYmxlLWNhcHRpb25cIjoxfSxjPXthYnNvbHV0ZToxLGZpeGVkOjF9O0NLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5pc0Jsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuXCJub25lXCIhPXRoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImZsb2F0XCIpfHx0aGlzLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKWluIGN8fCFiW3RoaXMuZ2V0Q29tcHV0ZWRTdHlsZShcImRpc3BsYXlcIildPyEhKHRoaXMuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fGEmJnRoaXMuaXMoYSkpOiEwfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJsb2NrQm91bmRhcnk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiEoYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuaXNCbG9ja0JvdW5kYXJ5KGEpKX19O0NLRURJVE9SLmRvbS53YWxrZXIubGlzdEl0ZW1Cb3VuZGFyeT1cbmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmxvY2tCb3VuZGFyeSh7YnI6MX0pfTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZyhhKXtyZXR1cm4gYSYmYS5nZXROYW1lJiZcInNwYW5cIj09YS5nZXROYW1lKCkmJmEuZGF0YShcImNrZS1ib29rbWFya1wiKX1yZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQsZTtkPWMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZT1jLmdldFBhcmVudCgpKSYmZyhlKTtkPWE/ZDpkfHxnKGMpO3JldHVybiEhKGJeZCl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgZztiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGc9IUNLRURJVE9SLnRvb2xzLnRyaW0oYi5nZXRUZXh0KCkpfHxDS0VESVRPUi5lbnYud2Via2l0JiZiLmdldFRleHQoKT09Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5GSUxMSU5HX0NIQVJfU0VRVUVOQ0UpO1xucmV0dXJuISEoYV5nKX19O0NLRURJVE9SLmRvbS53YWxrZXIuaW52aXNpYmxlPWZ1bmN0aW9uKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxnPUNLRURJVE9SLmVudi53ZWJraXQ/MTowO3JldHVybiBmdW5jdGlvbihjKXtiKGMpP2M9MTooYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjPWMuZ2V0UGFyZW50KCkpLGM9Yy4kLm9mZnNldFdpZHRoPD1nKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihnKXtyZXR1cm4hIShiXmcudHlwZT09YSl9fTtDS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzPWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7cmV0dXJuIWwoYSkmJiFrKGEpfXJldHVybiBmdW5jdGlvbihnKXt2YXIgYz1DS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9nLmlzJiZnLmlzKFwiYnJcIik6Zy5nZXRUZXh0JiZlLnRlc3QoZy5nZXRUZXh0KCkpO2MmJihjPWcuZ2V0UGFyZW50KCksXG5nPWcuZ2V0TmV4dChiKSxjPWMuaXNCbG9ja0JvdW5kYXJ5KCkmJighZ3x8Zy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXNCbG9ja0JvdW5kYXJ5KCkpKTtyZXR1cm4hIShhXmMpfX07Q0tFRElUT1IuZG9tLndhbGtlci50ZW1wPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI9Yi5nZXRQYXJlbnQoKSk7Yj1iJiZiLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXRlbXBcIik7cmV0dXJuISEoYV5iKX19O3ZhciBlPS9eW1xcdFxcclxcbiBdKig/OiZuYnNwO3xcXHhhMCkkLyxsPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxrPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoKSxkPUNLRURJVE9SLmRvbS53YWxrZXIudGVtcCgpLGg9ZnVuY3Rpb24oYSl7cmV0dXJuIGsoYSl8fGwoYSl8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSl9O1xuQ0tFRElUT1IuZG9tLndhbGtlci5pZ25vcmVkPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPWwoYil8fGsoYil8fGQoYik7cmV0dXJuISEoYV5iKX19O3ZhciBtPUNLRURJVE9SLmRvbS53YWxrZXIuaWdub3JlZCgpO0NLRURJVE9SLmRvbS53YWxrZXIuZW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2Zvcih2YXIgZz0wLGM9Yi5nZXRDaGlsZENvdW50KCk7ZzxjOysrZylpZighbShiLmdldENoaWxkKGcpKSlyZXR1cm4hIWE7cmV0dXJuIWF9fTt2YXIgZz1DS0VESVRPUi5kb20ud2Fsa2VyLmVtcHR5KCksbj1DS0VESVRPUi5kb20ud2Fsa2VyLnZhbGlkRW1wdHlCbG9ja0NvbnRhaW5lcnM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGZ1bmN0aW9uKGEpe3ZhciBiPXt9LGc7Zm9yKGcgaW4gYSlDS0VESVRPUi5kdGRbZ11bXCIjXCJdJiYoYltnXT0xKTtyZXR1cm4gYn0oQ0tFRElUT1IuZHRkLiRibG9jaykse2NhcHRpb246MSx0ZDoxLHRoOjF9KTtDS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlPVxuZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe2I9bShiKT8hMTpiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKXx8Yi5pcyhcImhyXCIpfHxcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpfHwhQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmIuaXMobikmJmcoYikpPyEwOiExO3JldHVybiEhKGFeYil9fTtDS0VESVRPUi5kb20uZWxlbWVudC5wcm90b3R5cGUuZ2V0Qm9ndXM9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2RvIGE9YS5nZXRQcmV2aW91c1NvdXJjZU5vZGUoKTt3aGlsZShoKGEpKTtyZXR1cm4gYSYmKENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP2EuaXMmJmEuaXMoXCJiclwiKTphLmdldFRleHQmJmUudGVzdChhLmdldFRleHQoKSkpP2E6ITF9fSgpLENLRURJVE9SLmRvbS5yYW5nZT1mdW5jdGlvbihhKXt0aGlzLmVuZE9mZnNldD10aGlzLmVuZENvbnRhaW5lcj1cbnRoaXMuc3RhcnRPZmZzZXQ9dGhpcy5zdGFydENvbnRhaW5lcj1udWxsO3RoaXMuY29sbGFwc2VkPSEwO3ZhciBmPWEgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uZG9jdW1lbnQ7dGhpcy5kb2N1bWVudD1mP2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1mP2EuZ2V0Qm9keSgpOmF9LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXthLmNvbGxhcHNlZD1hLnN0YXJ0Q29udGFpbmVyJiZhLmVuZENvbnRhaW5lciYmYS5zdGFydENvbnRhaW5lci5lcXVhbHMoYS5lbmRDb250YWluZXIpJiZhLnN0YXJ0T2Zmc2V0PT1hLmVuZE9mZnNldH1mdW5jdGlvbiBmKGEsYixjLGQsZSl7ZnVuY3Rpb24gZihhLGIsZyxjKXt2YXIgZD1nP2EuZ2V0UHJldmlvdXMoKTphLmdldE5leHQoKTtpZihjJiZsKXJldHVybiBkO3F8fGM/Yi5hcHBlbmQoYS5jbG9uZSghMCxlKSxnKTooYS5yZW1vdmUoKSxrJiZiLmFwcGVuZChhKSk7cmV0dXJuIGR9ZnVuY3Rpb24gaCgpe3ZhciBhLGIsZyxjPU1hdGgubWluKEwubGVuZ3RoLFxuRC5sZW5ndGgpO2ZvcihhPTA7YTxjO2ErKylpZihiPUxbYV0sZz1EW2FdLCFiLmVxdWFscyhnKSlyZXR1cm4gYTtyZXR1cm4gYS0xfWZ1bmN0aW9uIG0oKXt2YXIgYj1ULTEsYz1GJiZKJiYhdy5lcXVhbHMoQik7YjxJLTF8fGI8Ty0xfHxjPyhjP2EubW92ZVRvUG9zaXRpb24oQixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpOk89PWIrMSYmRz9hLm1vdmVUb1Bvc2l0aW9uKERbYl0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk6YS5tb3ZlVG9Qb3NpdGlvbihEW2IrMV0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxkJiYoYj1MW2IrMV0pJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjc3BhbiBkYXRhLWNrZS1ib29rbWFya1xceDNkXCIxXCIgc3R5bGVcXHgzZFwiZGlzcGxheTpub25lXCJcXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2UnLGEuZG9jdW1lbnQpLGMuaW5zZXJ0QWZ0ZXIoYiksXG5iLm1lcmdlU2libGluZ3MoITEpLGEubW92ZVRvQm9va21hcmsoe3N0YXJ0Tm9kZTpjfSkpKTphLmNvbGxhcHNlKCEwKX1hLm9wdGltaXplQm9va21hcmsoKTt2YXIgbD0wPT09YixrPTE9PWIscT0yPT1iO2I9cXx8azt2YXIgdz1hLnN0YXJ0Q29udGFpbmVyLEI9YS5lbmRDb250YWluZXIsej1hLnN0YXJ0T2Zmc2V0LEM9YS5lbmRPZmZzZXQsRSxHLEYsSixILE07aWYocSYmQi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJncuZXF1YWxzKEIpKXc9YS5kb2N1bWVudC5jcmVhdGVUZXh0KHcuc3Vic3RyaW5nKHosQykpLGMuYXBwZW5kKHcpO2Vsc2V7Qi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/cT9NPSEwOkI9Qi5zcGxpdChDKTowPEIuZ2V0Q2hpbGRDb3VudCgpP0M+PUIuZ2V0Q2hpbGRDb3VudCgpPyhCPUIuZ2V0Q2hpbGQoQy0xKSxHPSEwKTpCPUIuZ2V0Q2hpbGQoQyk6Sj1HPSEwO3cudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3E/SD0hMDp3LnNwbGl0KHopOjA8dy5nZXRDaGlsZENvdW50KCk/XG4wPT09ej8odz13LmdldENoaWxkKHopLEU9ITApOnc9dy5nZXRDaGlsZCh6LTEpOkY9RT0hMDtmb3IodmFyIEw9dy5nZXRQYXJlbnRzKCksRD1CLmdldFBhcmVudHMoKSxUPWgoKSxJPUwubGVuZ3RoLTEsTz1ELmxlbmd0aC0xLEs9YyxVLFYsY2EsZmE9LTEsUD1UO1A8PUk7UCsrKXtWPUxbUF07Y2E9Vi5nZXROZXh0KCk7Zm9yKFAhPUl8fFYuZXF1YWxzKERbUF0pJiZJPE8/YiYmKFU9Sy5hcHBlbmQoVi5jbG9uZSgwLGUpKSk6RT9mKFYsSywhMSxGKTpIJiZLLmFwcGVuZChhLmRvY3VtZW50LmNyZWF0ZVRleHQoVi5zdWJzdHJpbmcoeikpKTtjYTspe2lmKGNhLmVxdWFscyhEW1BdKSl7ZmE9UDticmVha31jYT1mKGNhLEspfUs9VX1LPWM7Zm9yKFA9VDtQPD1PO1ArKylpZihjPURbUF0sY2E9Yy5nZXRQcmV2aW91cygpLGMuZXF1YWxzKExbUF0pKWImJihLPUsuZ2V0Q2hpbGQoMCkpO2Vsc2V7UCE9T3x8Yy5lcXVhbHMoTFtQXSkmJk88ST9iJiYoVT1LLmFwcGVuZChjLmNsb25lKDAsZSkpKTpcbkc/ZihjLEssITEsSik6TSYmSy5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVUZXh0KGMuc3Vic3RyaW5nKDAsQykpKTtpZihQPmZhKWZvcig7Y2E7KWNhPWYoY2EsSywhMCk7Sz1VfXF8fG0oKX19ZnVuY3Rpb24gYigpe3ZhciBhPSExLGI9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyayghMCksZD1DS0VESVRPUi5kb20ud2Fsa2VyLmJvZ3VzKCk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBjKGUpfHxiKGUpPyEwOmQoZSkmJiFhP2E9ITA6ZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihlLmhhc0FzY2VuZGFudChcInByZVwiKXx8Q0tFRElUT1IudG9vbHMudHJpbShlLmdldFRleHQoKSkubGVuZ3RoKXx8ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFlLmlzKGwpPyExOiEwfX1mdW5jdGlvbiBjKGEpe3ZhciBiPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxjPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMSk7XG5yZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGMoZCl8fGIoZCk/ITA6IWEmJmsoZCl8fGQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLmlzKENLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHkpfX1mdW5jdGlvbiBlKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBiO3JldHVybiB0aGlzW2E/XCJnZXRQcmV2aW91c05vZGVcIjpcImdldE5leHROb2RlXCJdKGZ1bmN0aW9uKGEpeyFiJiZtKGEpJiYoYj1hKTtyZXR1cm4gaChhKSYmIShrKGEpJiZhLmVxdWFscyhiKSl9KX19dmFyIGw9e2FiYnI6MSxhY3JvbnltOjEsYjoxLGJkbzoxLGJpZzoxLGNpdGU6MSxjb2RlOjEsZGVsOjEsZGZuOjEsZW06MSxmb250OjEsaToxLGluczoxLGxhYmVsOjEsa2JkOjEscToxLHNhbXA6MSxzbWFsbDoxLHNwYW46MSxzdHJpa2U6MSxzdHJvbmc6MSxzdWI6MSxzdXA6MSx0dDoxLHU6MSxcInZhclwiOjF9LGs9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpLGQ9L15bXFx0XFxyXFxuIF0qKD86Jm5ic3A7fFxceGEwKSQvLFxuaD1DS0VESVRPUi5kb20ud2Fsa2VyLmVkaXRhYmxlKCksbT1DS0VESVRPUi5kb20ud2Fsa2VyLmlnbm9yZWQoITApO0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGU9e2Nsb25lOmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2EuX3NldFN0YXJ0Q29udGFpbmVyKHRoaXMuc3RhcnRDb250YWluZXIpO2Euc3RhcnRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldDthLl9zZXRFbmRDb250YWluZXIodGhpcy5lbmRDb250YWluZXIpO2EuZW5kT2Zmc2V0PXRoaXMuZW5kT2Zmc2V0O2EuY29sbGFwc2VkPXRoaXMuY29sbGFwc2VkO3JldHVybiBhfSxjb2xsYXBzZTpmdW5jdGlvbihhKXthPyh0aGlzLl9zZXRFbmRDb250YWluZXIodGhpcy5zdGFydENvbnRhaW5lciksdGhpcy5lbmRPZmZzZXQ9dGhpcy5zdGFydE9mZnNldCk6KHRoaXMuX3NldFN0YXJ0Q29udGFpbmVyKHRoaXMuZW5kQ29udGFpbmVyKSx0aGlzLnN0YXJ0T2Zmc2V0PXRoaXMuZW5kT2Zmc2V0KTtcbnRoaXMuY29sbGFwc2VkPSEwfSxjbG9uZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8Zih0aGlzLDIsYiwhMSxcInVuZGVmaW5lZFwiPT10eXBlb2YgYT8hMDphKTtyZXR1cm4gYn0sZGVsZXRlQ29udGVudHM6ZnVuY3Rpb24oYSl7dGhpcy5jb2xsYXBzZWR8fGYodGhpcywwLG51bGwsYSl9LGV4dHJhY3RDb250ZW50czpmdW5jdGlvbihhLGIpe3ZhciBjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCh0aGlzLmRvY3VtZW50KTt0aGlzLmNvbGxhcHNlZHx8Zih0aGlzLDEsYyxhLFwidW5kZWZpbmVkXCI9PXR5cGVvZiBiPyEwOmIpO3JldHVybiBjfSxjcmVhdGVCb29rbWFyazpmdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmPXRoaXMuY29sbGFwc2VkO2I9dGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtiLmRhdGEoXCJja2UtYm9va21hcmtcIiwxKTtiLnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJub25lXCIpO2Iuc2V0SHRtbChcIlxceDI2bmJzcDtcIik7YSYmKGQ9XCJja2VfYm1fXCIrQ0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGIuc2V0QXR0cmlidXRlKFwiaWRcIixkKyhmP1wiQ1wiOlwiU1wiKSkpO2Z8fChjPWIuY2xvbmUoKSxjLnNldEh0bWwoXCJcXHgyNm5ic3A7XCIpLGEmJmMuc2V0QXR0cmlidXRlKFwiaWRcIixkK1wiRVwiKSxlPXRoaXMuY2xvbmUoKSxlLmNvbGxhcHNlKCksZS5pbnNlcnROb2RlKGMpKTtlPXRoaXMuY2xvbmUoKTtlLmNvbGxhcHNlKCEwKTtlLmluc2VydE5vZGUoYik7Yz8odGhpcy5zZXRTdGFydEFmdGVyKGIpLHRoaXMuc2V0RW5kQmVmb3JlKGMpKTp0aGlzLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTtyZXR1cm57c3RhcnROb2RlOmE/ZCsoZj9cIkNcIjpcIlNcIik6YixlbmROb2RlOmE/ZCtcIkVcIjpjLHNlcmlhbGl6YWJsZTphLGNvbGxhcHNlZDpmfX0sY3JlYXRlQm9va21hcmsyOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXt2YXIgZz1cbmIuY29udGFpbmVyLGQ9Yi5vZmZzZXQsZTtlPWc7dmFyIGY9ZDtlPWUudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwwPT09Znx8Zj09ZS5nZXRDaGlsZENvdW50KCk/MDplLmdldENoaWxkKGYtMSkudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiZlLmdldENoaWxkKGYpLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVDtlJiYoZz1nLmdldENoaWxkKGQtMSksZD1nLmdldExlbmd0aCgpKTtpZihnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmMDxkKXthOntmb3IoZT1nO2QtLTspaWYoZj1lLmdldENoaWxkKGQpLmdldEluZGV4KCEwKSwwPD1mKXtkPWY7YnJlYWsgYX1kPS0xfWQrPTF9aWYoZy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpe2U9Zztmb3IoZj0wOyhlPWUuZ2V0UHJldmlvdXMoKSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUOylmKz1lLmdldFRleHQoKS5yZXBsYWNlKENLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFLFwiXCIpLmxlbmd0aDtcbmU9ZjtnLmdldFRleHQoKT9kKz1lOihmPWcuZ2V0UHJldmlvdXMoYyksZT8oZD1lLGc9Zj9mLmdldE5leHQoKTpnLmdldFBhcmVudCgpLmdldEZpcnN0KCkpOihnPWcuZ2V0UGFyZW50KCksZD1mP2YuZ2V0SW5kZXgoITApKzE6MCkpfWIuY29udGFpbmVyPWc7Yi5vZmZzZXQ9ZH1mdW5jdGlvbiBiKGEsZyl7dmFyIGM9Zy5nZXRDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2lmKGMpe3ZhciBkPWEuY29udGFpbmVyO2MuZXF1YWxzKGQpJiYoYS5vZmZzZXQtPUNLRURJVE9SLmRvbS5zZWxlY3Rpb24uRklMTElOR19DSEFSX1NFUVVFTkNFLmxlbmd0aCwwPj1hLm9mZnNldCYmKGEub2Zmc2V0PWQuZ2V0SW5kZXgoKSxhLmNvbnRhaW5lcj1kLmdldFBhcmVudCgpKSl9fXZhciBjPUNLRURJVE9SLmRvbS53YWxrZXIubm9kZVR5cGUoQ0tFRElUT1IuTk9ERV9URVhULCEwKTtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5jb2xsYXBzZWQsZT17Y29udGFpbmVyOnRoaXMuc3RhcnRDb250YWluZXIsXG5vZmZzZXQ6dGhpcy5zdGFydE9mZnNldH0sZj17Y29udGFpbmVyOnRoaXMuZW5kQ29udGFpbmVyLG9mZnNldDp0aGlzLmVuZE9mZnNldH07YyYmKGEoZSksYihlLHRoaXMucm9vdCksZHx8KGEoZiksYihmLHRoaXMucm9vdCkpKTtyZXR1cm57c3RhcnQ6ZS5jb250YWluZXIuZ2V0QWRkcmVzcyhjKSxlbmQ6ZD9udWxsOmYuY29udGFpbmVyLmdldEFkZHJlc3MoYyksc3RhcnRPZmZzZXQ6ZS5vZmZzZXQsZW5kT2Zmc2V0OmYub2Zmc2V0LG5vcm1hbGl6ZWQ6Yyxjb2xsYXBzZWQ6ZCxpczI6ITB9fX0oKSxtb3ZlVG9Cb29rbWFyazpmdW5jdGlvbihhKXtpZihhLmlzMil7dmFyIGI9dGhpcy5kb2N1bWVudC5nZXRCeUFkZHJlc3MoYS5zdGFydCxhLm5vcm1hbGl6ZWQpLGM9YS5zdGFydE9mZnNldCxkPWEuZW5kJiZ0aGlzLmRvY3VtZW50LmdldEJ5QWRkcmVzcyhhLmVuZCxhLm5vcm1hbGl6ZWQpO2E9YS5lbmRPZmZzZXQ7dGhpcy5zZXRTdGFydChiLGMpO2Q/dGhpcy5zZXRFbmQoZCxhKTp0aGlzLmNvbGxhcHNlKCEwKX1lbHNlIGI9XG4oYz1hLnNlcmlhbGl6YWJsZSk/dGhpcy5kb2N1bWVudC5nZXRCeUlkKGEuc3RhcnROb2RlKTphLnN0YXJ0Tm9kZSxhPWM/dGhpcy5kb2N1bWVudC5nZXRCeUlkKGEuZW5kTm9kZSk6YS5lbmROb2RlLHRoaXMuc2V0U3RhcnRCZWZvcmUoYiksYi5yZW1vdmUoKSxhPyh0aGlzLnNldEVuZEJlZm9yZShhKSxhLnJlbW92ZSgpKTp0aGlzLmNvbGxhcHNlKCEwKX0sZ2V0Qm91bmRhcnlOb2RlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYj10aGlzLmVuZENvbnRhaW5lcixjPXRoaXMuc3RhcnRPZmZzZXQsZD10aGlzLmVuZE9mZnNldCxlO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKWlmKGU9YS5nZXRDaGlsZENvdW50KCksZT5jKWE9YS5nZXRDaGlsZChjKTtlbHNlIGlmKDE+ZSlhPWEuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7ZWxzZXtmb3IoYT1hLiQ7YS5sYXN0Q2hpbGQ7KWE9YS5sYXN0Q2hpbGQ7YT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYSk7YT1cbmEuZ2V0TmV4dFNvdXJjZU5vZGUoKXx8YX1pZihiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClpZihlPWIuZ2V0Q2hpbGRDb3VudCgpLGU+ZCliPWIuZ2V0Q2hpbGQoZCkuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCEwKTtlbHNlIGlmKDE+ZSliPWIuZ2V0UHJldmlvdXNTb3VyY2VOb2RlKCk7ZWxzZXtmb3IoYj1iLiQ7Yi5sYXN0Q2hpbGQ7KWI9Yi5sYXN0Q2hpbGQ7Yj1uZXcgQ0tFRElUT1IuZG9tLm5vZGUoYil9YS5nZXRQb3NpdGlvbihiKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkcmJihhPWIpO3JldHVybntzdGFydE5vZGU6YSxlbmROb2RlOmJ9fSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuc3RhcnRDb250YWluZXIsZD10aGlzLmVuZENvbnRhaW5lcixjPWMuZXF1YWxzKGQpP2EmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLnN0YXJ0T2Zmc2V0PT10aGlzLmVuZE9mZnNldC0xP2MuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCk6XG5jOmMuZ2V0Q29tbW9uQW5jZXN0b3IoZCk7cmV0dXJuIGImJiFjLmlzP2MuZ2V0UGFyZW50KCk6Y30sb3B0aW1pemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5zdGFydE9mZnNldDthLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI/Yj49YS5nZXRMZW5ndGgoKSYmdGhpcy5zZXRTdGFydEFmdGVyKGEpOnRoaXMuc2V0U3RhcnRCZWZvcmUoYSkpO2E9dGhpcy5lbmRDb250YWluZXI7Yj10aGlzLmVuZE9mZnNldDthLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGI/Yj49YS5nZXRMZW5ndGgoKSYmdGhpcy5zZXRFbmRBZnRlcihhKTp0aGlzLnNldEVuZEJlZm9yZShhKSl9LG9wdGltaXplQm9va21hcms6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0YXJ0Q29udGFpbmVyLGI9dGhpcy5lbmRDb250YWluZXI7YS5pcyYmYS5pcyhcInNwYW5cIikmJmEuZGF0YShcImNrZS1ib29rbWFya1wiKSYmdGhpcy5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtcbmImJmIuaXMmJmIuaXMoXCJzcGFuXCIpJiZiLmRhdGEoXCJja2UtYm9va21hcmtcIikmJnRoaXMuc2V0RW5kQXQoYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpfSx0cmltOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5zdGFydENvbnRhaW5lcixkPXRoaXMuc3RhcnRPZmZzZXQsZT10aGlzLmNvbGxhcHNlZDtpZigoIWF8fGUpJiZjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCl7aWYoZClpZihkPj1jLmdldExlbmd0aCgpKWQ9Yy5nZXRJbmRleCgpKzEsYz1jLmdldFBhcmVudCgpO2Vsc2V7dmFyIGY9Yy5zcGxpdChkKSxkPWMuZ2V0SW5kZXgoKSsxLGM9Yy5nZXRQYXJlbnQoKTt0aGlzLnN0YXJ0Q29udGFpbmVyLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcik/dGhpcy5zZXRFbmQoZix0aGlzLmVuZE9mZnNldC10aGlzLnN0YXJ0T2Zmc2V0KTpjLmVxdWFscyh0aGlzLmVuZENvbnRhaW5lcikmJih0aGlzLmVuZE9mZnNldCs9MSl9ZWxzZSBkPWMuZ2V0SW5kZXgoKSxjPWMuZ2V0UGFyZW50KCk7XG50aGlzLnNldFN0YXJ0KGMsZCk7aWYoZSl7dGhpcy5jb2xsYXBzZSghMCk7cmV0dXJufX1jPXRoaXMuZW5kQ29udGFpbmVyO2Q9dGhpcy5lbmRPZmZzZXQ7Ynx8ZXx8IWN8fGMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUfHwoZD8oZD49Yy5nZXRMZW5ndGgoKXx8Yy5zcGxpdChkKSxkPWMuZ2V0SW5kZXgoKSsxKTpkPWMuZ2V0SW5kZXgoKSxjPWMuZ2V0UGFyZW50KCksdGhpcy5zZXRFbmQoYyxkKSl9LGVubGFyZ2U6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBhJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/bnVsbDphfXZhciBkPW5ldyBSZWdFeHAoL1teXFxzXFx1ZmVmZl0vKTtzd2l0Y2goYSl7Y2FzZSBDS0VESVRPUi5FTkxBUkdFX0lOTElORTp2YXIgZT0xO2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UOnZhciBmPWZ1bmN0aW9uKGEsYil7dmFyIGM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShtKTtcbmMuc2V0U3RhcnQoYSxiKTtjLnNldEVuZEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7dmFyIGM9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoYyksZztmb3IoYy5ndWFyZD1mdW5jdGlvbihhKXtyZXR1cm4hKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzQmxvY2tCb3VuZGFyeSgpKX07Zz1jLm5leHQoKTspe2lmKGcudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiExO0U9ZyE9YT9nLmdldFRleHQoKTpnLnN1YnN0cmluZyhiKTtpZihkLnRlc3QoRSkpcmV0dXJuITF9cmV0dXJuITB9O2lmKHRoaXMuY29sbGFwc2VkKWJyZWFrO3ZhciBoPXRoaXMuZ2V0Q29tbW9uQW5jZXN0b3IoKSxtPXRoaXMucm9vdCxsLGsscSx3LEIsej0hMSxDLEU7Qz10aGlzLnN0YXJ0Q29udGFpbmVyO3ZhciBHPXRoaXMuc3RhcnRPZmZzZXQ7Qy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/KEcmJihDPSFDS0VESVRPUi50b29scy50cmltKEMuc3Vic3RyaW5nKDAsRykpLmxlbmd0aCYmXG5DLHo9ISFDKSxDJiYoKHc9Qy5nZXRQcmV2aW91cygpKXx8KHE9Qy5nZXRQYXJlbnQoKSkpKTooRyYmKHc9Qy5nZXRDaGlsZChHLTEpfHxDLmdldExhc3QoKSksd3x8KHE9QykpO2ZvcihxPWMocSk7cXx8dzspe2lmKHEmJiF3KXshQiYmcS5lcXVhbHMoaCkmJihCPSEwKTtpZihlP3EuaXNCbG9ja0JvdW5kYXJ5KCk6IW0uY29udGFpbnMocSkpYnJlYWs7eiYmXCJpbmxpbmVcIj09cS5nZXRDb21wdXRlZFN0eWxlKFwiZGlzcGxheVwiKXx8KHo9ITEsQj9sPXE6dGhpcy5zZXRTdGFydEJlZm9yZShxKSk7dz1xLmdldFByZXZpb3VzKCl9Zm9yKDt3OylpZihDPSExLHcudHlwZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UKXc9dy5nZXRQcmV2aW91cygpO2Vsc2V7aWYody50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpRT13LmdldFRleHQoKSxkLnRlc3QoRSkmJih3PW51bGwpLEM9L1tcXHNcXHVmZWZmXSQvLnRlc3QoRSk7ZWxzZSBpZigody4kLm9mZnNldFdpZHRoPihDS0VESVRPUi5lbnYud2Via2l0PzE6XG4wKXx8YiYmdy5pcyhcImJyXCIpKSYmIXcuZGF0YShcImNrZS1ib29rbWFya1wiKSlpZih6JiZDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3cuZ2V0TmFtZSgpXSl7RT13LmdldFRleHQoKTtpZihkLnRlc3QoRSkpdz1udWxsO2Vsc2UgZm9yKHZhciBHPXcuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksRj0wLEo7Sj1HW0YrK107KWlmKCFDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W0oubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pe3c9bnVsbDticmVha313JiYoQz0hIUUubGVuZ3RoKX1lbHNlIHc9bnVsbDtDJiYoej9CP2w9cTpxJiZ0aGlzLnNldFN0YXJ0QmVmb3JlKHEpOno9ITApO2lmKHcpe0M9dy5nZXRQcmV2aW91cygpO2lmKCFxJiYhQyl7cT13O3c9bnVsbDticmVha313PUN9ZWxzZSBxPW51bGx9cSYmKHE9YyhxLmdldFBhcmVudCgpKSl9Qz10aGlzLmVuZENvbnRhaW5lcjtHPXRoaXMuZW5kT2Zmc2V0O3E9dz1udWxsO0I9ej0hMTtDLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVD9cbkNLRURJVE9SLnRvb2xzLnRyaW0oQy5zdWJzdHJpbmcoRykpLmxlbmd0aD96PSEwOih6PSFDLmdldExlbmd0aCgpLEc9PUMuZ2V0TGVuZ3RoKCk/KHc9Qy5nZXROZXh0KCkpfHwocT1DLmdldFBhcmVudCgpKTpmKEMsRykmJihxPUMuZ2V0UGFyZW50KCkpKToodz1DLmdldENoaWxkKEcpKXx8KHE9Qyk7Zm9yKDtxfHx3Oyl7aWYocSYmIXcpeyFCJiZxLmVxdWFscyhoKSYmKEI9ITApO2lmKGU/cS5pc0Jsb2NrQm91bmRhcnkoKTohbS5jb250YWlucyhxKSlicmVhazt6JiZcImlubGluZVwiPT1xLmdldENvbXB1dGVkU3R5bGUoXCJkaXNwbGF5XCIpfHwoej0hMSxCP2s9cTpxJiZ0aGlzLnNldEVuZEFmdGVyKHEpKTt3PXEuZ2V0TmV4dCgpfWZvcig7dzspe0M9ITE7aWYody50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQpRT13LmdldFRleHQoKSxmKHcsMCl8fCh3PW51bGwpLEM9L15bXFxzXFx1ZmVmZl0vLnRlc3QoRSk7ZWxzZSBpZih3LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7aWYoKDA8dy4kLm9mZnNldFdpZHRofHxcbmImJncuaXMoXCJiclwiKSkmJiF3LmRhdGEoXCJja2UtYm9va21hcmtcIikpaWYoeiYmQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVt3LmdldE5hbWUoKV0pe0U9dy5nZXRUZXh0KCk7aWYoZC50ZXN0KEUpKXc9bnVsbDtlbHNlIGZvcihHPXcuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcIipcIiksRj0wO0o9R1tGKytdOylpZighQ0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVtKLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKXt3PW51bGw7YnJlYWt9dyYmKEM9ISFFLmxlbmd0aCl9ZWxzZSB3PW51bGx9ZWxzZSBDPTE7QyYmeiYmKEI/az1xOnRoaXMuc2V0RW5kQWZ0ZXIocSkpO2lmKHcpe0M9dy5nZXROZXh0KCk7aWYoIXEmJiFDKXtxPXc7dz1udWxsO2JyZWFrfXc9Q31lbHNlIHE9bnVsbH1xJiYocT1jKHEuZ2V0UGFyZW50KCkpKX1sJiZrJiYoaD1sLmNvbnRhaW5zKGspP2s6bCx0aGlzLnNldFN0YXJ0QmVmb3JlKGgpLHRoaXMuc2V0RW5kQWZ0ZXIoaCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUzpjYXNlIENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOnE9XG5uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7bT10aGlzLnJvb3Q7cS5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO3Euc2V0RW5kKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5zdGFydE9mZnNldCk7cT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihxKTt2YXIgSCxNLEw9Q0tFRElUT1IuZG9tLndhbGtlci5ibG9ja0JvdW5kYXJ5KGE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTP3ticjoxfTpudWxsKSxEPW51bGwsVD1mdW5jdGlvbihhKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlpZihEKXtpZihELmVxdWFscyhhKSl7RD1udWxsO3JldHVybn19ZWxzZSBEPWE7ZWxzZSBpZihEKXJldHVybjt2YXIgYj1MKGEpO2J8fChIPWEpO3JldHVybiBifSxlPWZ1bmN0aW9uKGEpe3ZhciBiPVQoYSk7IWImJmEuaXMmJmEuaXMoXCJiclwiKSYmXG4oTT1hKTtyZXR1cm4gYn07cS5ndWFyZD1UO3E9cS5sYXN0QmFja3dhcmQoKTtIPUh8fG07dGhpcy5zZXRTdGFydEF0KEgsIUguaXMoXCJiclwiKSYmKCFxJiZ0aGlzLmNoZWNrU3RhcnRPZkJsb2NrKCl8fHEmJkguY29udGFpbnMocSkpP0NLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUOkNLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7aWYoYT09Q0tFRElUT1IuRU5MQVJHRV9MSVNUX0lURU1fQ09OVEVOVFMpe3E9dGhpcy5jbG9uZSgpO3E9bmV3IENLRURJVE9SLmRvbS53YWxrZXIocSk7dmFyIEk9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpLE89Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpO3EuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiFJKGEpJiYhTyhhKX07aWYoKHE9cS5wcmV2aW91cygpKSYmcS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnEuaXMoXCJiclwiKSlicmVha31xPXRoaXMuY2xvbmUoKTtxLmNvbGxhcHNlKCk7cS5zZXRFbmRBdChtLFxuQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7cT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihxKTtxLmd1YXJkPWE9PUNLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTP2U6VDtIPUQ9TT1udWxsO3E9cS5sYXN0Rm9yd2FyZCgpO0g9SHx8bTt0aGlzLnNldEVuZEF0KEgsIXEmJnRoaXMuY2hlY2tFbmRPZkJsb2NrKCl8fHEmJkguY29udGFpbnMocSk/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO00mJnRoaXMuc2V0RW5kQWZ0ZXIoTSl9fSxzaHJpbms6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPVwiYm9vbGVhblwiPT09dHlwZW9mIGM/YzpjJiZcImJvb2xlYW5cIj09PXR5cGVvZiBjLnNocmlua09uQmxvY2tCb3VuZGFyeT9jLnNocmlua09uQmxvY2tCb3VuZGFyeTohMCxlPWMmJmMuc2tpcEJvZ3VzO2lmKCF0aGlzLmNvbGxhcHNlZCl7YT1hfHxDS0VESVRPUi5TSFJJTktfVEVYVDt2YXIgZj10aGlzLmNsb25lKCksaD1cbnRoaXMuc3RhcnRDb250YWluZXIsbT10aGlzLmVuZENvbnRhaW5lcixsPXRoaXMuc3RhcnRPZmZzZXQsaz10aGlzLmVuZE9mZnNldCxxPWM9MTtoJiZoLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGw/bD49aC5nZXRMZW5ndGgoKT9mLnNldFN0YXJ0QWZ0ZXIoaCk6KGYuc2V0U3RhcnRCZWZvcmUoaCksYz0wKTpmLnNldFN0YXJ0QmVmb3JlKGgpKTttJiZtLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGs/az49bS5nZXRMZW5ndGgoKT9mLnNldEVuZEFmdGVyKG0pOihmLnNldEVuZEFmdGVyKG0pLHE9MCk6Zi5zZXRFbmRCZWZvcmUobSkpO3ZhciBmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGYpLHc9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpLEI9Q0tFRElUT1IuZG9tLndhbGtlci5ib2d1cygpO2YuZXZhbHVhdG9yPWZ1bmN0aW9uKGIpe3JldHVybiBiLnR5cGU9PShhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVD9DS0VESVRPUi5OT0RFX0VMRU1FTlQ6Q0tFRElUT1IuTk9ERV9URVhUKX07XG52YXIgejtmLmd1YXJkPWZ1bmN0aW9uKGIsYyl7aWYoZSYmQihiKXx8dyhiKSlyZXR1cm4hMDtpZihhPT1DS0VESVRPUi5TSFJJTktfRUxFTUVOVCYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR8fGMmJmIuZXF1YWxzKHopfHwhMT09PWQmJmIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZiLmlzQmxvY2tCb3VuZGFyeSgpfHxiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuITE7Y3x8Yi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCh6PWIpO3JldHVybiEwfTtjJiYoaD1mW2E9PUNLRURJVE9SLlNIUklOS19FTEVNRU5UP1wibGFzdEZvcndhcmRcIjpcIm5leHRcIl0oKSkmJnRoaXMuc2V0U3RhcnRBdChoLGI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtxJiYoZi5yZXNldCgpLChmPWZbYT09Q0tFRElUT1IuU0hSSU5LX0VMRU1FTlQ/XG5cImxhc3RCYWNrd2FyZFwiOlwicHJldmlvdXNcIl0oKSkmJnRoaXMuc2V0RW5kQXQoZixiP0NLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7cmV0dXJuISghYyYmIXEpfX0saW5zZXJ0Tm9kZTpmdW5jdGlvbihhKXt0aGlzLm9wdGltaXplQm9va21hcmsoKTt0aGlzLnRyaW0oITEsITApO3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz1iLmdldENoaWxkKHRoaXMuc3RhcnRPZmZzZXQpO2M/YS5pbnNlcnRCZWZvcmUoYyk6Yi5hcHBlbmQoYSk7YS5nZXRQYXJlbnQoKSYmYS5nZXRQYXJlbnQoKS5lcXVhbHModGhpcy5lbmRDb250YWluZXIpJiZ0aGlzLmVuZE9mZnNldCsrO3RoaXMuc2V0U3RhcnRCZWZvcmUoYSl9LG1vdmVUb1Bvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGFydEF0KGEsYik7dGhpcy5jb2xsYXBzZSghMCl9LG1vdmVUb1JhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYS5zdGFydENvbnRhaW5lcixhLnN0YXJ0T2Zmc2V0KTtcbnRoaXMuc2V0RW5kKGEuZW5kQ29udGFpbmVyLGEuZW5kT2Zmc2V0KX0sc2VsZWN0Tm9kZUNvbnRlbnRzOmZ1bmN0aW9uKGEpe3RoaXMuc2V0U3RhcnQoYSwwKTt0aGlzLnNldEVuZChhLGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP2EuZ2V0TGVuZ3RoKCk6YS5nZXRDaGlsZENvdW50KCkpfSxzZXRTdGFydDpmdW5jdGlvbihiLGMpe2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2IuZ2V0TmFtZSgpXSYmKGM9Yi5nZXRJbmRleCgpLGI9Yi5nZXRQYXJlbnQoKSk7dGhpcy5fc2V0U3RhcnRDb250YWluZXIoYik7dGhpcy5zdGFydE9mZnNldD1jO3RoaXMuZW5kQ29udGFpbmVyfHwodGhpcy5fc2V0RW5kQ29udGFpbmVyKGIpLHRoaXMuZW5kT2Zmc2V0PWMpO2EodGhpcyl9LHNldEVuZDpmdW5jdGlvbihiLGMpe2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZDS0VESVRPUi5kdGQuJGVtcHR5W2IuZ2V0TmFtZSgpXSYmKGM9Yi5nZXRJbmRleCgpK1xuMSxiPWIuZ2V0UGFyZW50KCkpO3RoaXMuX3NldEVuZENvbnRhaW5lcihiKTt0aGlzLmVuZE9mZnNldD1jO3RoaXMuc3RhcnRDb250YWluZXJ8fCh0aGlzLl9zZXRTdGFydENvbnRhaW5lcihiKSx0aGlzLnN0YXJ0T2Zmc2V0PWMpO2EodGhpcyl9LHNldFN0YXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSsxKX0sc2V0U3RhcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRTdGFydChhLmdldFBhcmVudCgpLGEuZ2V0SW5kZXgoKSl9LHNldEVuZEFmdGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2V0RW5kKGEuZ2V0UGFyZW50KCksYS5nZXRJbmRleCgpKzEpfSxzZXRFbmRCZWZvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRFbmQoYS5nZXRQYXJlbnQoKSxhLmdldEluZGV4KCkpfSxzZXRTdGFydEF0OmZ1bmN0aW9uKGIsYyl7c3dpdGNoKGMpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRTdGFydChiLDApO1xuYnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EOmIudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUP3RoaXMuc2V0U3RhcnQoYixiLmdldExlbmd0aCgpKTp0aGlzLnNldFN0YXJ0KGIsYi5nZXRDaGlsZENvdW50KCkpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUOnRoaXMuc2V0U3RhcnRCZWZvcmUoYik7YnJlYWs7Y2FzZSBDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6dGhpcy5zZXRTdGFydEFmdGVyKGIpfWEodGhpcyl9LHNldEVuZEF0OmZ1bmN0aW9uKGIsYyl7c3dpdGNoKGMpe2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6dGhpcy5zZXRFbmQoYiwwKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQ6Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQ/dGhpcy5zZXRFbmQoYixiLmdldExlbmd0aCgpKTp0aGlzLnNldEVuZChiLGIuZ2V0Q2hpbGRDb3VudCgpKTticmVhaztjYXNlIENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVDp0aGlzLnNldEVuZEJlZm9yZShiKTtcbmJyZWFrO2Nhc2UgQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOnRoaXMuc2V0RW5kQWZ0ZXIoYil9YSh0aGlzKX0sZml4QmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmNyZWF0ZUJvb2ttYXJrKCksZD10aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYik7dGhpcy5jb2xsYXBzZShhKTt0aGlzLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUyk7dGhpcy5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhkKTtkLnRyaW0oKTt0aGlzLmluc2VydE5vZGUoZCk7dmFyIGU9ZC5nZXRCb2d1cygpO2UmJmUucmVtb3ZlKCk7ZC5hcHBlbmRCb2d1cygpO3RoaXMubW92ZVRvQm9va21hcmsoYyk7cmV0dXJuIGR9LHNwbGl0QmxvY2s6ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5lbmRDb250YWluZXIsdGhpcy5yb290KSxcbmU9Yy5ibG9jayxmPWQuYmxvY2ssaD1udWxsO2lmKCFjLmJsb2NrTGltaXQuZXF1YWxzKGQuYmxvY2tMaW1pdCkpcmV0dXJuIG51bGw7XCJiclwiIT1hJiYoZXx8KGU9dGhpcy5maXhCbG9jayghMCxhKSxmPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCkpLmJsb2NrKSxmfHwoZj10aGlzLmZpeEJsb2NrKCExLGEpKSk7Yz1lJiZ0aGlzLmNoZWNrU3RhcnRPZkJsb2NrKCk7ZD1mJiZ0aGlzLmNoZWNrRW5kT2ZCbG9jaygpO3RoaXMuZGVsZXRlQ29udGVudHMoKTtlJiZlLmVxdWFscyhmKSYmKGQ/KGg9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLHRoaXMucm9vdCksdGhpcy5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZj1udWxsKTpjPyhoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgodGhpcy5zdGFydENvbnRhaW5lcix0aGlzLnJvb3QpLHRoaXMubW92ZVRvUG9zaXRpb24oZSxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZT1udWxsKTooZj10aGlzLnNwbGl0RWxlbWVudChlLGJ8fCExKSxlLmlzKFwidWxcIixcIm9sXCIpfHxlLmFwcGVuZEJvZ3VzKCkpKTtyZXR1cm57cHJldmlvdXNCbG9jazplLG5leHRCbG9jazpmLHdhc1N0YXJ0T2ZCbG9jazpjLHdhc0VuZE9mQmxvY2s6ZCxlbGVtZW50UGF0aDpofX0sc3BsaXRFbGVtZW50OmZ1bmN0aW9uKGEsYil7aWYoIXRoaXMuY29sbGFwc2VkKXJldHVybiBudWxsO3RoaXMuc2V0RW5kQXQoYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTt2YXIgYz10aGlzLmV4dHJhY3RDb250ZW50cyghMSxifHwhMSksZD1hLmNsb25lKCExLGJ8fCExKTtjLmFwcGVuZFRvKGQpO2QuaW5zZXJ0QWZ0ZXIoYSk7dGhpcy5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCk7cmV0dXJuIGR9LHJlbW92ZUVtcHR5QmxvY2tzQXRFbmQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGcpe3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYihhKXx8XG5jKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pc0VtcHR5SW5saW5lUmVtb3ZlYWJsZSgpfHxnLmlzKFwidGFibGVcIikmJmEuaXMoXCJjYXB0aW9uXCIpPyExOiEwfX12YXIgYj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksYz1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExKTtyZXR1cm4gZnVuY3Rpb24oYil7Zm9yKHZhciBjPXRoaXMuY3JlYXRlQm9va21hcmsoKSxkPXRoaXNbYj9cImVuZFBhdGhcIjpcInN0YXJ0UGF0aFwiXSgpLGU9ZC5ibG9ja3x8ZC5ibG9ja0xpbWl0LGY7ZSYmIWUuZXF1YWxzKGQucm9vdCkmJiFlLmdldEZpcnN0KGEoZSkpOylmPWUuZ2V0UGFyZW50KCksdGhpc1tiP1wic2V0RW5kQXRcIjpcInNldFN0YXJ0QXRcIl0oZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpLGUucmVtb3ZlKDEpLGU9Zjt0aGlzLm1vdmVUb0Jvb2ttYXJrKGMpfX0oKSxzdGFydFBhdGg6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLnN0YXJ0Q29udGFpbmVyLFxudGhpcy5yb290KX0sZW5kUGF0aDpmdW5jdGlvbigpe3JldHVybiBuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuZW5kQ29udGFpbmVyLHRoaXMucm9vdCl9LGNoZWNrQm91bmRhcnlPZkVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1iPT1DS0VESVRPUi5TVEFSVCxlPXRoaXMuY2xvbmUoKTtlLmNvbGxhcHNlKGQpO2VbZD9cInNldFN0YXJ0QXRcIjpcInNldEVuZEF0XCJdKGEsZD9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO2UuZXZhbHVhdG9yPWMoZCk7cmV0dXJuIGVbZD9cImNoZWNrQmFja3dhcmRcIjpcImNoZWNrRm9yd2FyZFwiXSgpfSxjaGVja1N0YXJ0T2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLnN0YXJ0T2Zmc2V0O0NLRURJVE9SLmVudi5pZSYmYyYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihhPUNLRURJVE9SLnRvb2xzLmx0cmltKGEuc3Vic3RyaW5nKDAsXG5jKSksZC50ZXN0KGEpJiZ0aGlzLnRyaW0oMCwxKSk7dGhpcy50cmltKCk7YT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHRoaXMuc3RhcnRDb250YWluZXIsdGhpcy5yb290KTtjPXRoaXMuY2xvbmUoKTtjLmNvbGxhcHNlKCEwKTtjLnNldFN0YXJ0QXQoYS5ibG9ja3x8YS5ibG9ja0xpbWl0LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTthPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGMpO2EuZXZhbHVhdG9yPWIoKTtyZXR1cm4gYS5jaGVja0JhY2t3YXJkKCl9LGNoZWNrRW5kT2ZCbG9jazpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZW5kQ29udGFpbmVyLGM9dGhpcy5lbmRPZmZzZXQ7Q0tFRElUT1IuZW52LmllJiZhLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGE9Q0tFRElUT1IudG9vbHMucnRyaW0oYS5zdWJzdHJpbmcoYykpLGQudGVzdChhKSYmdGhpcy50cmltKDEsMCkpO3RoaXMudHJpbSgpO2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aCh0aGlzLmVuZENvbnRhaW5lcixcbnRoaXMucm9vdCk7Yz10aGlzLmNsb25lKCk7Yy5jb2xsYXBzZSghMSk7Yy5zZXRFbmRBdChhLmJsb2NrfHxhLmJsb2NrTGltaXQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7YT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKTthLmV2YWx1YXRvcj1iKCk7cmV0dXJuIGEuY2hlY2tGb3J3YXJkKCl9LGdldFByZXZpb3VzTm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoMSk7ZC5zZXRTdGFydEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7Yz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihkKTtjLmV2YWx1YXRvcj1hO2MuZ3VhcmQ9YjtyZXR1cm4gYy5wcmV2aW91cygpfSxnZXROZXh0Tm9kZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jbG9uZSgpO2QuY29sbGFwc2UoKTtkLnNldEVuZEF0KGN8fHRoaXMucm9vdCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtjPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGQpO1xuYy5ldmFsdWF0b3I9YTtjLmd1YXJkPWI7cmV0dXJuIGMubmV4dCgpfSxjaGVja1JlYWRPbmx5OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe2Zvcig7Yjspe2lmKGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXtpZihcImZhbHNlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiYhYi5kYXRhKFwiY2tlLWVkaXRhYmxlXCIpKXJldHVybiAwO2lmKGIuaXMoXCJodG1sXCIpfHxcInRydWVcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIikmJihiLmNvbnRhaW5zKGMpfHxiLmVxdWFscyhjKSkpYnJlYWt9Yj1iLmdldFBhcmVudCgpfXJldHVybiAxfXJldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMuc3RhcnRDb250YWluZXIsYz10aGlzLmVuZENvbnRhaW5lcjtyZXR1cm4hKGEoYixjKSYmYShjLGIpKX19KCksbW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb246ZnVuY3Rpb24oYSxiKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXNFZGl0YWJsZSghMSkpcmV0dXJuIHRoaXMubW92ZVRvUG9zaXRpb24oYSxcbmI/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EOkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksITA7Zm9yKHZhciBjPTA7YTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXtiJiZ0aGlzLmVuZENvbnRhaW5lciYmdGhpcy5jaGVja0VuZE9mQmxvY2soKSYmZC50ZXN0KGEuZ2V0VGV4dCgpKT90aGlzLm1vdmVUb1Bvc2l0aW9uKGEsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTp0aGlzLm1vdmVUb1Bvc2l0aW9uKGEsYj9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtjPTE7YnJlYWt9aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoYS5pc0VkaXRhYmxlKCkpdGhpcy5tb3ZlVG9Qb3NpdGlvbihhLGI/Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORDpDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYz0xO2Vsc2UgaWYoYiYmYS5pcyhcImJyXCIpJiZ0aGlzLmVuZENvbnRhaW5lciYmXG50aGlzLmNoZWNrRW5kT2ZCbG9jaygpKXRoaXMubW92ZVRvUG9zaXRpb24oYSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO2Vsc2UgaWYoXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmYS5pcyhDS0VESVRPUi5kdGQuJGJsb2NrKSlyZXR1cm4gdGhpcy5zZXRTdGFydEJlZm9yZShhKSx0aGlzLnNldEVuZEFmdGVyKGEpLCEwO3ZhciBlPWEsZj1jLGg9dm9pZCAwO2UudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzRWRpdGFibGUoITEpJiYoaD1lW2I/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShtKSk7Znx8aHx8KGg9ZVtiP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0obSkpO2E9aH1yZXR1cm4hIWN9LG1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD0wLGUsZixoPVtDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUXTthPyhjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxcbmMubW92ZVRvUG9zaXRpb24oYSxoW2I/MDoxXSkpOmM9dGhpcy5jbG9uZSgpO2lmKGEmJiFhLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spKWQ9MTtlbHNlIGlmKGU9Y1tiP1wiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiOlwiZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGVcIl0oKSlkPTEsKGY9ZS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpJiZlLmlzKENLRURJVE9SLmR0ZC4kYmxvY2spJiZcImZhbHNlXCI9PWUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhjLnNldFN0YXJ0QXQoZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGMuc2V0RW5kQXQoZSxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9FTkQpKTohQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXImJmYmJmUuaXMoQ0tFRElUT1IuZG9tLndhbGtlci52YWxpZEVtcHR5QmxvY2tDb250YWluZXJzKT8oYy5zZXRFbmQoZSwwKSxjLmNvbGxhcHNlKCkpOmMubW92ZVRvUG9zaXRpb24oZSxoW2I/MTowXSk7ZCYmdGhpcy5tb3ZlVG9SYW5nZShjKTtcbnJldHVybiEhZH0sbW92ZVRvRWxlbWVudEVkaXRTdGFydDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihhKX0sbW92ZVRvRWxlbWVudEVkaXRFbmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oYSwhMCl9LGdldEVuY2xvc2VkTm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2xvbmUoKTthLm9wdGltaXplKCk7aWYoYS5zdGFydENvbnRhaW5lci50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fGEuZW5kQ29udGFpbmVyLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gbnVsbDt2YXIgYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihhKSxiPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGM9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7YS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGMoYSkmJmIoYSl9O3ZhciBkPWEubmV4dCgpO1xuYS5yZXNldCgpO3JldHVybiBkJiZkLmVxdWFscyhhLnByZXZpb3VzKCkpP2Q6bnVsbH0sZ2V0VG91Y2hlZFN0YXJ0Tm9kZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc3RhcnRDb250YWluZXI7cmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5zdGFydE9mZnNldCl8fGF9LGdldFRvdWNoZWRFbmROb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbmRDb250YWluZXI7cmV0dXJuIHRoaXMuY29sbGFwc2VkfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVD9hOmEuZ2V0Q2hpbGQodGhpcy5lbmRPZmZzZXQtMSl8fGF9LGdldE5leHRFZGl0YWJsZU5vZGU6ZSgpLGdldFByZXZpb3VzRWRpdGFibGVOb2RlOmUoMSksX2dldFRhYmxlRWxlbWVudDpmdW5jdGlvbihhKXthPWF8fHt0ZDoxLHRoOjEsdHI6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MSx0YWJsZToxfTt2YXIgYj10aGlzLnN0YXJ0Q29udGFpbmVyLGM9XG50aGlzLmVuZENvbnRhaW5lcixkPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksZT1jLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApO3JldHVybiBDS0VESVRPUi5lbnYuc2FmYXJpJiZkJiZjLmVxdWFscyh0aGlzLnJvb3QpP2IuZ2V0QXNjZW5kYW50KGEsITApOnRoaXMuZ2V0RW5jbG9zZWROb2RlKCk/dGhpcy5nZXRFbmNsb3NlZE5vZGUoKS5nZXRBc2NlbmRhbnQoYSwhMCk6ZCYmZSYmKGQuZXF1YWxzKGUpfHxkLmNvbnRhaW5zKGUpfHxlLmNvbnRhaW5zKGQpKT9iLmdldEFzY2VuZGFudChhLCEwKTpudWxsfSxzY3JvbGxJbnRvVmlldzpmdW5jdGlvbigpe3ZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChcIlxceDNjc3BhblxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVwiLHRoaXMuZG9jdW1lbnQpLGIsYyxkLGU9dGhpcy5jbG9uZSgpO2Uub3B0aW1pemUoKTsoZD1lLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCk/KGM9ZS5zdGFydENvbnRhaW5lci5nZXRUZXh0KCksXG5iPWUuc3RhcnRDb250YWluZXIuc3BsaXQoZS5zdGFydE9mZnNldCksYS5pbnNlcnRBZnRlcihlLnN0YXJ0Q29udGFpbmVyKSk6ZS5pbnNlcnROb2RlKGEpO2Euc2Nyb2xsSW50b1ZpZXcoKTtkJiYoZS5zdGFydENvbnRhaW5lci5zZXRUZXh0KGMpLGIucmVtb3ZlKCkpO2EucmVtb3ZlKCl9LF9zZXRTdGFydENvbnRhaW5lcjpmdW5jdGlvbihhKXt0aGlzLnN0YXJ0Q29udGFpbmVyPWF9LF9zZXRFbmRDb250YWluZXI6ZnVuY3Rpb24oYSl7dGhpcy5lbmRDb250YWluZXI9YX0sX2ZpbmQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbW1vbkFuY2VzdG9yKCksZD10aGlzLmdldEJvdW5kYXJ5Tm9kZXMoKSxlPVtdLGYsaCxtLGw7aWYoYyYmYy5maW5kKWZvcihoPWMuZmluZChhKSxmPTA7ZjxoLmNvdW50KCk7ZisrKWlmKGM9aC5nZXRJdGVtKGYpLGJ8fCFjLmlzUmVhZE9ubHkoKSltPWMuZ2V0UG9zaXRpb24oZC5zdGFydE5vZGUpJkNLRURJVE9SLlBPU0lUSU9OX0ZPTExPV0lOR3x8XG5kLnN0YXJ0Tm9kZS5lcXVhbHMoYyksbD1jLmdldFBvc2l0aW9uKGQuZW5kTm9kZSkmQ0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRHx8ZC5lbmROb2RlLmVxdWFscyhjKSxtJiZsJiZlLnB1c2goYyk7cmV0dXJuIGV9fTtDS0VESVRPUi5kb20ucmFuZ2UubWVyZ2VSYW5nZXM9ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLmFycmF5LnJlZHVjZShhLGZ1bmN0aW9uKGEsYil7dmFyIGM9YVthLmxlbmd0aC0xXSxkPSExO2I9Yi5jbG9uZSgpO2IuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0VMRU1FTlQpO2lmKGMpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYi5yb290KSxkPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpLGc9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcygpO2Uuc2V0U3RhcnQoYy5lbmRDb250YWluZXIsYy5lbmRPZmZzZXQpO2Uuc2V0RW5kKGIuc3RhcnRDb250YWluZXIsYi5zdGFydE9mZnNldCk7XG5mb3IoZT1kLm5leHQoKTtnKGUpfHxiLmVuZENvbnRhaW5lci5lcXVhbHMoZSk7KWU9ZC5uZXh0KCk7ZD0hZX1kP2Muc2V0RW5kKGIuZW5kQ29udGFpbmVyLGIuZW5kT2Zmc2V0KTphLnB1c2goYik7cmV0dXJuIGF9LFtdKX19KCksQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ9MSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EPTIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUPTMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EPTQsQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UPTEsQ0tFRElUT1IuRU5MQVJHRV9CTE9DS19DT05URU5UUz0yLENLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTPTMsQ0tFRElUT1IuRU5MQVJHRV9JTkxJTkU9NCxDS0VESVRPUi5TVEFSVD0xLENLRURJVE9SLkVORD0yLENLRURJVE9SLlNIUklOS19FTEVNRU5UPTEsQ0tFRElUT1IuU0hSSU5LX1RFWFQ9MixcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7MT5cbmFyZ3VtZW50cy5sZW5ndGh8fCh0aGlzLnJhbmdlPWEsdGhpcy5mb3JjZUJyQnJlYWs9MCx0aGlzLmVubGFyZ2VCcj0xLHRoaXMuZW5mb3JjZVJlYWxCbG9ja3M9MCx0aGlzLl98fCh0aGlzLl89e30pKX1mdW5jdGlvbiBmKGEpe3ZhciBiPVtdO2EuZm9yRWFjaChmdW5jdGlvbihhKXtpZihcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuIGIucHVzaChhKSwhMX0sQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKTtyZXR1cm4gYn1mdW5jdGlvbiBiKGEsYyxkLGUpe2E6e251bGw9PWUmJihlPWYoZCkpO2Zvcih2YXIgaDtoPWUuc2hpZnQoKTspaWYoaC5nZXREdGQoKS5wKXtlPXtlbGVtZW50OmgscmVtYWluaW5nOmV9O2JyZWFrIGF9ZT1udWxsfWlmKCFlKXJldHVybiAwO2lmKChoPUNLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbZS5lbGVtZW50LmRhdGEoXCJja2UtZmlsdGVyXCIpXSkmJiFoLmNoZWNrKGMpKXJldHVybiBiKGEsYyxkLGUucmVtYWluaW5nKTtcbmM9bmV3IENLRURJVE9SLmRvbS5yYW5nZShlLmVsZW1lbnQpO2Muc2VsZWN0Tm9kZUNvbnRlbnRzKGUuZWxlbWVudCk7Yz1jLmNyZWF0ZUl0ZXJhdG9yKCk7Yy5lbmxhcmdlQnI9YS5lbmxhcmdlQnI7Yy5lbmZvcmNlUmVhbEJsb2Nrcz1hLmVuZm9yY2VSZWFsQmxvY2tzO2MuYWN0aXZlRmlsdGVyPWMuZmlsdGVyPWg7YS5fLm5lc3RlZEVkaXRhYmxlPXtlbGVtZW50OmUuZWxlbWVudCxjb250YWluZXI6ZCxyZW1haW5pbmc6ZS5yZW1haW5pbmcsaXRlcmF0b3I6Y307cmV0dXJuIDF9ZnVuY3Rpb24gYyhhLGIsYyl7aWYoIWIpcmV0dXJuITE7YT1hLmNsb25lKCk7YS5jb2xsYXBzZSghYyk7cmV0dXJuIGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChiLGM/Q0tFRElUT1IuU1RBUlQ6Q0tFRElUT1IuRU5EKX12YXIgZT0vXltcXHJcXG5cXHQgXSskLyxsPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGs9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCksZD1mdW5jdGlvbihhKXtyZXR1cm4gbChhKSYmXG5rKGEpfSxoPXtkZDoxLGR0OjEsbGk6MX07YS5wcm90b3R5cGU9e2dldE5leHRQYXJhZ3JhcGg6ZnVuY3Rpb24oYSl7dmFyIGcsZixrLHIseDthPWF8fFwicFwiO2lmKHRoaXMuXy5uZXN0ZWRFZGl0YWJsZSl7aWYoZz10aGlzLl8ubmVzdGVkRWRpdGFibGUuaXRlcmF0b3IuZ2V0TmV4dFBhcmFncmFwaChhKSlyZXR1cm4gdGhpcy5hY3RpdmVGaWx0ZXI9dGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmFjdGl2ZUZpbHRlcixnO3RoaXMuYWN0aXZlRmlsdGVyPXRoaXMuZmlsdGVyO2lmKGIodGhpcyxhLHRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5jb250YWluZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLnJlbWFpbmluZykpcmV0dXJuIHRoaXMuYWN0aXZlRmlsdGVyPXRoaXMuXy5uZXN0ZWRFZGl0YWJsZS5pdGVyYXRvci5hY3RpdmVGaWx0ZXIsdGhpcy5fLm5lc3RlZEVkaXRhYmxlLml0ZXJhdG9yLmdldE5leHRQYXJhZ3JhcGgoYSk7dGhpcy5fLm5lc3RlZEVkaXRhYmxlPW51bGx9aWYoIXRoaXMucmFuZ2Uucm9vdC5nZXREdGQoKVthXSlyZXR1cm4gbnVsbDtcbmlmKCF0aGlzLl8uc3RhcnRlZCl7dmFyIHY9dGhpcy5yYW5nZS5jbG9uZSgpO2Y9di5zdGFydFBhdGgoKTt2YXIgdT12LmVuZFBhdGgoKSx0PSF2LmNvbGxhcHNlZCYmYyh2LGYuYmxvY2spLHk9IXYuY29sbGFwc2VkJiZjKHYsdS5ibG9jaywxKTt2LnNocmluayhDS0VESVRPUi5TSFJJTktfRUxFTUVOVCwhMCk7dCYmdi5zZXRTdGFydEF0KGYuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7eSYmdi5zZXRFbmRBdCh1LmJsb2NrLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTtmPXYuZW5kQ29udGFpbmVyLmhhc0FzY2VuZGFudChcInByZVwiLCEwKXx8di5zdGFydENvbnRhaW5lci5oYXNBc2NlbmRhbnQoXCJwcmVcIiwhMCk7di5lbmxhcmdlKHRoaXMuZm9yY2VCckJyZWFrJiYhZnx8IXRoaXMuZW5sYXJnZUJyP0NLRURJVE9SLkVOTEFSR0VfTElTVF9JVEVNX0NPTlRFTlRTOkNLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpO3YuY29sbGFwc2VkfHwoZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcih2LmNsb25lKCkpLFxudT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCEwLCEwKSxmLmV2YWx1YXRvcj11LHRoaXMuXy5uZXh0Tm9kZT1mLm5leHQoKSxmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHYuY2xvbmUoKSksZi5ldmFsdWF0b3I9dSxmPWYucHJldmlvdXMoKSx0aGlzLl8ubGFzdE5vZGU9Zi5nZXROZXh0U291cmNlTm9kZSghMCxudWxsLHYucm9vdCksdGhpcy5fLmxhc3ROb2RlJiZ0aGlzLl8ubGFzdE5vZGUudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbSh0aGlzLl8ubGFzdE5vZGUuZ2V0VGV4dCgpKSYmdGhpcy5fLmxhc3ROb2RlLmdldFBhcmVudCgpLmlzQmxvY2tCb3VuZGFyeSgpJiYodT10aGlzLnJhbmdlLmNsb25lKCksdS5tb3ZlVG9Qb3NpdGlvbih0aGlzLl8ubGFzdE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSx1LmNoZWNrRW5kT2ZCbG9jaygpJiYodT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHUuZW5kQ29udGFpbmVyLFxudS5yb290KSx0aGlzLl8ubGFzdE5vZGU9KHUuYmxvY2t8fHUuYmxvY2tMaW1pdCkuZ2V0TmV4dFNvdXJjZU5vZGUoITApKSksdGhpcy5fLmxhc3ROb2RlJiZ2LnJvb3QuY29udGFpbnModGhpcy5fLmxhc3ROb2RlKXx8KHRoaXMuXy5sYXN0Tm9kZT10aGlzLl8uZG9jRW5kTWFya2VyPXYuZG9jdW1lbnQuY3JlYXRlVGV4dChcIlwiKSx0aGlzLl8ubGFzdE5vZGUuaW5zZXJ0QWZ0ZXIoZikpLHY9bnVsbCk7dGhpcy5fLnN0YXJ0ZWQ9MTtmPXZ9dT10aGlzLl8ubmV4dE5vZGU7dj10aGlzLl8ubGFzdE5vZGU7Zm9yKHRoaXMuXy5uZXh0Tm9kZT1udWxsO3U7KXt2YXIgdD0wLHk9dS5oYXNBc2NlbmRhbnQoXCJwcmVcIiksQT11LnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCxxPTA7aWYoQSl1LnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmZS50ZXN0KHUuZ2V0VGV4dCgpKSYmKEE9MCk7ZWxzZXt2YXIgdz11LmdldE5hbWUoKTtpZihDS0VESVRPUi5kdGQuJGJsb2NrW3ddJiZcImZhbHNlXCI9PXUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKXtnPVxudTtiKHRoaXMsYSxnKTticmVha31lbHNlIGlmKHUuaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYheSYme2JyOjF9KSl7aWYoXCJiclwiPT13KUE9MTtlbHNlIGlmKCFmJiYhdS5nZXRDaGlsZENvdW50KCkmJlwiaHJcIiE9dyl7Zz11O2s9dS5lcXVhbHModik7YnJlYWt9ZiYmKGYuc2V0RW5kQXQodSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLFwiYnJcIiE9dyYmKHRoaXMuXy5uZXh0Tm9kZT11KSk7dD0xfWVsc2V7aWYodS5nZXRGaXJzdCgpKXtmfHwoZj10aGlzLnJhbmdlLmNsb25lKCksZi5zZXRTdGFydEF0KHUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk7dT11LmdldEZpcnN0KCk7Y29udGludWV9QT0xfX1BJiYhZiYmKGY9dGhpcy5yYW5nZS5jbG9uZSgpLGYuc2V0U3RhcnRBdCh1LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCkpO2s9KCF0fHxBKSYmdS5lcXVhbHModik7aWYoZiYmIXQpZm9yKDshdS5nZXROZXh0KGQpJiYhazspe3c9XG51LmdldFBhcmVudCgpO2lmKHcuaXNCbG9ja0JvdW5kYXJ5KHRoaXMuZm9yY2VCckJyZWFrJiYheSYme2JyOjF9KSl7dD0xO0E9MDtrfHx3LmVxdWFscyh2KTtmLnNldEVuZEF0KHcsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCk7YnJlYWt9dT13O0E9MTtrPXUuZXF1YWxzKHYpO3E9MX1BJiZmLnNldEVuZEF0KHUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKTt1PXRoaXMuX2dldE5leHRTb3VyY2VOb2RlKHUscSx2KTtpZigoaz0hdSl8fHQmJmYpYnJlYWt9aWYoIWcpe2lmKCFmKXJldHVybiB0aGlzLl8uZG9jRW5kTWFya2VyJiZ0aGlzLl8uZG9jRW5kTWFya2VyLnJlbW92ZSgpLHRoaXMuXy5uZXh0Tm9kZT1udWxsO2c9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChmLnN0YXJ0Q29udGFpbmVyLGYucm9vdCk7dT1nLmJsb2NrTGltaXQ7dD17ZGl2OjEsdGg6MSx0ZDoxfTtnPWcuYmxvY2s7IWcmJnUmJiF0aGlzLmVuZm9yY2VSZWFsQmxvY2tzJiZ0W3UuZ2V0TmFtZSgpXSYmXG5mLmNoZWNrU3RhcnRPZkJsb2NrKCkmJmYuY2hlY2tFbmRPZkJsb2NrKCkmJiF1LmVxdWFscyhmLnJvb3QpP2c9dTohZ3x8dGhpcy5lbmZvcmNlUmVhbEJsb2NrcyYmZy5pcyhoKT8oZz10aGlzLnJhbmdlLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYSksZi5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhnKSxnLnRyaW0oKSxmLmluc2VydE5vZGUoZykscj14PSEwKTpcImxpXCIhPWcuZ2V0TmFtZSgpP2YuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKXx8KGc9Zy5jbG9uZSghMSksZi5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhnKSxnLnRyaW0oKSx4PWYuc3BsaXRCbG9jaygpLHI9IXgud2FzU3RhcnRPZkJsb2NrLHg9IXgud2FzRW5kT2ZCbG9jayxmLmluc2VydE5vZGUoZykpOmt8fCh0aGlzLl8ubmV4dE5vZGU9Zy5lcXVhbHModik/bnVsbDp0aGlzLl9nZXROZXh0U291cmNlTm9kZShmLmdldEJvdW5kYXJ5Tm9kZXMoKS5lbmROb2RlLDEsdikpfXImJihyPVxuZy5nZXRQcmV2aW91cygpKSYmci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihcImJyXCI9PXIuZ2V0TmFtZSgpP3IucmVtb3ZlKCk6ci5nZXRMYXN0KCkmJlwiYnJcIj09ci5nZXRMYXN0KCkuJC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZyLmdldExhc3QoKS5yZW1vdmUoKSk7eCYmKHI9Zy5nZXRMYXN0KCkpJiZyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmXCJiclwiPT1yLmdldE5hbWUoKSYmKCFDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ci5nZXRQcmV2aW91cyhsKXx8ci5nZXROZXh0KGwpKSYmci5yZW1vdmUoKTt0aGlzLl8ubmV4dE5vZGV8fCh0aGlzLl8ubmV4dE5vZGU9a3x8Zy5lcXVhbHModil8fCF2P251bGw6dGhpcy5fZ2V0TmV4dFNvdXJjZU5vZGUoZywxLHYpKTtyZXR1cm4gZ30sX2dldE5leHRTb3VyY2VOb2RlOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKGEpe3JldHVybiEoYS5lcXVhbHMoYyl8fGEuZXF1YWxzKGUpKX12YXIgZT10aGlzLnJhbmdlLnJvb3Q7XG5mb3IoYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxkKTshbChhKTspYT1hLmdldE5leHRTb3VyY2VOb2RlKGIsbnVsbCxkKTtyZXR1cm4gYX19O0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGUuY3JlYXRlSXRlcmF0b3I9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGEodGhpcyl9fSgpLENLRURJVE9SLmNvbW1hbmQ9ZnVuY3Rpb24oYSxmKXt0aGlzLnVpSXRlbXM9W107dGhpcy5leGVjPWZ1bmN0aW9uKGIpe2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfHwhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4hMTt0aGlzLmVkaXRvckZvY3VzJiZhLmZvY3VzKCk7cmV0dXJuITE9PT10aGlzLmZpcmUoXCJleGVjXCIpPyEwOiExIT09Zi5leGVjLmNhbGwodGhpcyxhLGIpfTt0aGlzLnJlZnJlc2g9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5yZWFkT25seSYmYS5yZWFkT25seSlyZXR1cm4hMDtpZih0aGlzLmNvbnRleHQmJiFiLmlzQ29udGV4dEZvcih0aGlzLmNvbnRleHQpfHxcbiF0aGlzLmNoZWNrQWxsb3dlZCghMCkpcmV0dXJuIHRoaXMuZGlzYWJsZSgpLCEwO3RoaXMuc3RhcnREaXNhYmxlZHx8dGhpcy5lbmFibGUoKTt0aGlzLm1vZGVzJiYhdGhpcy5tb2Rlc1thLm1vZGVdJiZ0aGlzLmRpc2FibGUoKTtyZXR1cm4hMT09PXRoaXMuZmlyZShcInJlZnJlc2hcIix7ZWRpdG9yOmEscGF0aDpifSk/ITA6Zi5yZWZyZXNoJiYhMSE9PWYucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O3ZhciBiO3RoaXMuY2hlY2tBbGxvd2VkPWZ1bmN0aW9uKGMpe3JldHVybiBjfHxcImJvb2xlYW5cIiE9dHlwZW9mIGI/Yj1hLmFjdGl2ZUZpbHRlci5jaGVja0ZlYXR1cmUodGhpcyk6Yn07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsZix7bW9kZXM6e3d5c2l3eWc6MX0sZWRpdG9yRm9jdXM6MSxjb250ZXh0U2Vuc2l0aXZlOiEhZi5jb250ZXh0LHN0YXRlOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEfSk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKX0sQ0tFRElUT1IuY29tbWFuZC5wcm90b3R5cGU9XG57ZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMuY2hlY2tBbGxvd2VkKCkmJnRoaXMuc2V0U3RhdGUodGhpcy5wcmVzZXJ2ZVN0YXRlJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgdGhpcy5wcmV2aW91c1N0YXRlP3RoaXMucHJldmlvdXNTdGF0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RhdGU9PWF8fGEhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYhdGhpcy5jaGVja0FsbG93ZWQoKSlyZXR1cm4hMTt0aGlzLnByZXZpb3VzU3RhdGU9dGhpcy5zdGF0ZTt0aGlzLnN0YXRlPWE7dGhpcy5maXJlKFwic3RhdGVcIik7cmV0dXJuITB9LHRvZ2dsZVN0YXRlOmZ1bmN0aW9uKCl7dGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pOlxudGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJnRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX19LENLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmNvbW1hbmQucHJvdG90eXBlKSxDS0VESVRPUi5FTlRFUl9QPTEsQ0tFRElUT1IuRU5URVJfQlI9MixDS0VESVRPUi5FTlRFUl9ESVY9MyxDS0VESVRPUi5jb25maWc9e2N1c3RvbUNvbmZpZzpcImNvbmZpZy5qc1wiLGF1dG9VcGRhdGVFbGVtZW50OiEwLGxhbmd1YWdlOlwiXCIsZGVmYXVsdExhbmd1YWdlOlwiZW5cIixjb250ZW50c0xhbmdEaXJlY3Rpb246XCJcIixlbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCxmb3JjZUVudGVyTW9kZTohMSxzaGlmdEVudGVyTW9kZTpDS0VESVRPUi5FTlRFUl9CUixkb2NUeXBlOlwiXFx4M2MhRE9DVFlQRSBodG1sXFx4M2VcIixib2R5SWQ6XCJcIixib2R5Q2xhc3M6XCJcIixmdWxsUGFnZTohMSxoZWlnaHQ6MjAwLGNvbnRlbnRzQ3NzOkNLRURJVE9SLmdldFVybChcImNvbnRlbnRzLmNzc1wiKSxcbmV4dHJhUGx1Z2luczpcIlwiLHJlbW92ZVBsdWdpbnM6XCJcIixwcm90ZWN0ZWRTb3VyY2U6W10sdGFiSW5kZXg6MCx3aWR0aDpcIlwiLGJhc2VGbG9hdFpJbmRleDoxRTQsYmxvY2tlZEtleXN0cm9rZXM6W0NLRURJVE9SLkNUUkwrNjYsQ0tFRElUT1IuQ1RSTCs3MyxDS0VESVRPUi5DVFJMKzg1XX0sZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGQsZSl7dmFyIGcsZjthPVtdO2ZvcihnIGluIGIpe2Y9YltnXTtmPVwiYm9vbGVhblwiPT10eXBlb2YgZj97fTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBmP3ttYXRjaDpmfTpGKGYpO1wiJFwiIT1nLmNoYXJBdCgwKSYmKGYuZWxlbWVudHM9Zyk7YyYmKGYuZmVhdHVyZU5hbWU9Yy50b0xvd2VyQ2FzZSgpKTt2YXIgaD1mO2guZWxlbWVudHM9ayhoLmVsZW1lbnRzLC9cXHMrLyl8fG51bGw7aC5wcm9wZXJ0aWVzT25seT1oLnByb3BlcnRpZXNPbmx5fHwhMD09PWguZWxlbWVudHM7dmFyIHE9L1xccyosXFxzKi8sbT12b2lkIDA7Zm9yKG0gaW4gTSl7aFttXT1rKGhbbV0sXG5xKXx8bnVsbDt2YXIgbD1oLHU9TFttXSx3PWsoaFtMW21dXSxxKSxEPWhbbV0sbj1bXSxFPSEwLEk9dm9pZCAwO3c/RT0hMTp3PXt9O2ZvcihJIGluIEQpXCIhXCI9PUkuY2hhckF0KDApJiYoST1JLnNsaWNlKDEpLG4ucHVzaChJKSx3W0ldPSEwLEU9ITEpO2Zvcig7ST1uLnBvcCgpOylEW0ldPURbXCIhXCIrSV0sZGVsZXRlIERbXCIhXCIrSV07bFt1XT0oRT8hMTp3KXx8bnVsbH1oLm1hdGNoPWgubWF0Y2h8fG51bGw7ZC5wdXNoKGYpO2EucHVzaChmKX1iPWUuZWxlbWVudHM7ZT1lLmdlbmVyaWM7dmFyIEI7Yz0wO2ZvcihkPWEubGVuZ3RoO2M8ZDsrK2Mpe2c9RihhW2NdKTtmPSEwPT09Zy5jbGFzc2VzfHwhMD09PWcuc3R5bGVzfHwhMD09PWcuYXR0cmlidXRlcztoPWc7bT11PXE9dm9pZCAwO2ZvcihxIGluIE0paFtxXT10KGhbcV0pO2w9ITA7Zm9yKG0gaW4gTCl7cT1MW21dO3U9aFtxXTt3PVtdO0Q9dm9pZCAwO2ZvcihEIGluIHUpLTE8RC5pbmRleE9mKFwiKlwiKT93LnB1c2gobmV3IFJlZ0V4cChcIl5cIitcbkQucmVwbGFjZSgvXFwqL2csXCIuKlwiKStcIiRcIikpOncucHVzaChEKTt1PXc7dS5sZW5ndGgmJihoW3FdPXUsbD0hMSl9aC5ub3RoaW5nUmVxdWlyZWQ9bDtoLm5vUHJvcGVydGllcz0hKGguYXR0cmlidXRlc3x8aC5jbGFzc2VzfHxoLnN0eWxlcyk7aWYoITA9PT1nLmVsZW1lbnRzfHxudWxsPT09Zy5lbGVtZW50cyllW2Y/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGcpO2Vsc2UgZm9yKEIgaW4gaD1nLmVsZW1lbnRzLGRlbGV0ZSBnLmVsZW1lbnRzLGgpaWYoYltCXSliW0JdW2Y/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKGcpO2Vsc2UgYltCXT1bZ119fWZ1bmN0aW9uIGYoYSxjLGUsZyl7aWYoIWEubWF0Y2h8fGEubWF0Y2goYykpaWYoZ3x8ZChhLGMpKWlmKGEucHJvcGVydGllc09ubHl8fChlLnZhbGlkPSEwKSxlLmFsbEF0dHJpYnV0ZXN8fChlLmFsbEF0dHJpYnV0ZXM9YihhLmF0dHJpYnV0ZXMsYy5hdHRyaWJ1dGVzLGUudmFsaWRBdHRyaWJ1dGVzKSksZS5hbGxTdHlsZXN8fChlLmFsbFN0eWxlcz1iKGEuc3R5bGVzLFxuYy5zdHlsZXMsZS52YWxpZFN0eWxlcykpLCFlLmFsbENsYXNzZXMpe2E9YS5jbGFzc2VzO2M9Yy5jbGFzc2VzO2c9ZS52YWxpZENsYXNzZXM7aWYoYSlpZighMD09PWEpYT0hMDtlbHNle2Zvcih2YXIgZj0wLGg9Yy5sZW5ndGgscTtmPGg7KytmKXE9Y1tmXSxnW3FdfHwoZ1txXT1hKHEpKTthPSExfWVsc2UgYT0hMTtlLmFsbENsYXNzZXM9YX19ZnVuY3Rpb24gYihhLGIsYyl7aWYoIWEpcmV0dXJuITE7aWYoITA9PT1hKXJldHVybiEwO2Zvcih2YXIgZCBpbiBiKWNbZF18fChjW2RdPWEoZCkpO3JldHVybiExfWZ1bmN0aW9uIGMoYSxiLGMpe2lmKCFhLm1hdGNofHxhLm1hdGNoKGIpKXtpZihhLm5vUHJvcGVydGllcylyZXR1cm4hMTtjLmhhZEludmFsaWRBdHRyaWJ1dGU9ZShhLmF0dHJpYnV0ZXMsYi5hdHRyaWJ1dGVzKXx8Yy5oYWRJbnZhbGlkQXR0cmlidXRlO2MuaGFkSW52YWxpZFN0eWxlPWUoYS5zdHlsZXMsYi5zdHlsZXMpfHxjLmhhZEludmFsaWRTdHlsZTthPWEuY2xhc3NlcztcbmI9Yi5jbGFzc2VzO2lmKGEpe2Zvcih2YXIgZD0hMSxnPSEwPT09YSxmPWIubGVuZ3RoO2YtLTspaWYoZ3x8YShiW2ZdKSliLnNwbGljZShmLDEpLGQ9ITA7YT1kfWVsc2UgYT0hMTtjLmhhZEludmFsaWRDbGFzcz1hfHxjLmhhZEludmFsaWRDbGFzc319ZnVuY3Rpb24gZShhLGIpe2lmKCFhKXJldHVybiExO3ZhciBjPSExLGQ9ITA9PT1hLGU7Zm9yKGUgaW4gYilpZihkfHxhKGUpKWRlbGV0ZSBiW2VdLGM9ITA7cmV0dXJuIGN9ZnVuY3Rpb24gbChhLGIsYyl7aWYoYS5kaXNhYmxlZHx8YS5jdXN0b21Db25maWcmJiFjfHwhYilyZXR1cm4hMTthLl8uY2FjaGVkQ2hlY2tzPXt9O3JldHVybiEwfWZ1bmN0aW9uIGsoYSxiKXtpZighYSlyZXR1cm4hMTtpZighMD09PWEpcmV0dXJuIGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGEpcmV0dXJuIGE9SihhKSxcIipcIj09YT8hMDpDS0VESVRPUi50b29scy5jb252ZXJ0QXJyYXlUb09iamVjdChhLnNwbGl0KGIpKTtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXJldHVybiBhLmxlbmd0aD9cbkNLRURJVE9SLnRvb2xzLmNvbnZlcnRBcnJheVRvT2JqZWN0KGEpOiExO3ZhciBjPXt9LGQ9MCxlO2ZvcihlIGluIGEpY1tlXT1hW2VdLGQrKztyZXR1cm4gZD9jOiExfWZ1bmN0aW9uIGQoYSxiKXtpZihhLm5vdGhpbmdSZXF1aXJlZClyZXR1cm4hMDt2YXIgYyxkLGUsZztpZihlPWEucmVxdWlyZWRDbGFzc2VzKWZvcihnPWIuY2xhc3NlcyxjPTA7YzxlLmxlbmd0aDsrK2MpaWYoZD1lW2NdLFwic3RyaW5nXCI9PXR5cGVvZiBkKXtpZigtMT09Q0tFRElUT1IudG9vbHMuaW5kZXhPZihnLGQpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlBcnJheUl0ZW1NYXRjaGVzKGcsZCkpcmV0dXJuITE7cmV0dXJuIGgoYi5zdHlsZXMsYS5yZXF1aXJlZFN0eWxlcykmJmgoYi5hdHRyaWJ1dGVzLGEucmVxdWlyZWRBdHRyaWJ1dGVzKX1mdW5jdGlvbiBoKGEsYil7aWYoIWIpcmV0dXJuITA7Zm9yKHZhciBjPTAsZDtjPGIubGVuZ3RoOysrYylpZihkPWJbY10sXCJzdHJpbmdcIj09XG50eXBlb2YgZCl7aWYoIShkIGluIGEpKXJldHVybiExfWVsc2UgaWYoIUNLRURJVE9SLnRvb2xzLmNoZWNrSWZBbnlPYmplY3RQcm9wZXJ0eU1hdGNoZXMoYSxkKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBtKGEpe2lmKCFhKXJldHVybnt9O2E9YS5zcGxpdCgvXFxzKixcXHMqLykuc29ydCgpO2Zvcih2YXIgYj17fTthLmxlbmd0aDspYlthLnNoaWZ0KCldPVwiY2tlLXRlc3RcIjtyZXR1cm4gYn1mdW5jdGlvbiBnKGEpe3ZhciBiLGMsZCxlLGc9e30sZj0xO2ZvcihhPUooYSk7Yj1hLm1hdGNoKEQpOykoYz1iWzJdKT8oZD1uKGMsXCJzdHlsZXNcIiksZT1uKGMsXCJhdHRyc1wiKSxjPW4oYyxcImNsYXNzZXNcIikpOmQ9ZT1jPW51bGwsZ1tcIiRcIitmKytdPXtlbGVtZW50czpiWzFdLGNsYXNzZXM6YyxzdHlsZXM6ZCxhdHRyaWJ1dGVzOmV9LGE9YS5zbGljZShiWzBdLmxlbmd0aCk7cmV0dXJuIGd9ZnVuY3Rpb24gbihhLGIpe3ZhciBjPWEubWF0Y2goVFtiXSk7cmV0dXJuIGM/SihjWzFdKTpudWxsfVxuZnVuY3Rpb24gcChhKXt2YXIgYj1hLnN0eWxlQmFja3VwPWEuYXR0cmlidXRlcy5zdHlsZSxjPWEuY2xhc3NCYWNrdXA9YS5hdHRyaWJ1dGVzW1wiY2xhc3NcIl07YS5zdHlsZXN8fChhLnN0eWxlcz1DS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYnx8XCJcIiwxKSk7YS5jbGFzc2VzfHwoYS5jbGFzc2VzPWM/Yy5zcGxpdCgvXFxzKy8pOltdKX1mdW5jdGlvbiByKGEsYixkLGUpe3ZhciBnPTAsaDtlLnRvSHRtbCYmKGIubmFtZT1iLm5hbWUucmVwbGFjZShJLFwiJDFcIikpO2lmKGUuZG9DYWxsYmFja3MmJmEuZWxlbWVudENhbGxiYWNrcyl7YTp7aD1hLmVsZW1lbnRDYWxsYmFja3M7Zm9yKHZhciBxPTAsbT1oLmxlbmd0aCxsO3E8bTsrK3EpaWYobD1oW3FdKGIpKXtoPWw7YnJlYWsgYX1oPXZvaWQgMH1pZihoKXJldHVybiBofWlmKGUuZG9UcmFuc2Zvcm0mJihoPWEuXy50cmFuc2Zvcm1hdGlvbnNbYi5uYW1lXSkpe3AoYik7Zm9yKHE9MDtxPGgubGVuZ3RoOysrcSl3KGEsYixoW3FdKTt2KGIpfWlmKGUuZG9GaWx0ZXIpe2E6e3E9XG5iLm5hbWU7bT1hLl87YT1tLmFsbG93ZWRSdWxlcy5lbGVtZW50c1txXTtoPW0uYWxsb3dlZFJ1bGVzLmdlbmVyaWM7cT1tLmRpc2FsbG93ZWRSdWxlcy5lbGVtZW50c1txXTttPW0uZGlzYWxsb3dlZFJ1bGVzLmdlbmVyaWM7bD1lLnNraXBSZXF1aXJlZDt2YXIgaz17dmFsaWQ6ITEsdmFsaWRBdHRyaWJ1dGVzOnt9LHZhbGlkQ2xhc3Nlczp7fSx2YWxpZFN0eWxlczp7fSxhbGxBdHRyaWJ1dGVzOiExLGFsbENsYXNzZXM6ITEsYWxsU3R5bGVzOiExLGhhZEludmFsaWRBdHRyaWJ1dGU6ITEsaGFkSW52YWxpZENsYXNzOiExLGhhZEludmFsaWRTdHlsZTohMX0sdCxEO2lmKGF8fGgpe3AoYik7aWYocSlmb3IodD0wLEQ9cS5sZW5ndGg7dDxEOysrdClpZighMT09PWMocVt0XSxiLGspKXthPW51bGw7YnJlYWsgYX1pZihtKWZvcih0PTAsRD1tLmxlbmd0aDt0PEQ7Kyt0KWMobVt0XSxiLGspO2lmKGEpZm9yKHQ9MCxEPWEubGVuZ3RoO3Q8RDsrK3QpZihhW3RdLGIsayxsKTtpZihoKWZvcih0PVxuMCxEPWgubGVuZ3RoO3Q8RDsrK3QpZihoW3RdLGIsayxsKTthPWt9ZWxzZSBhPW51bGx9aWYoIWF8fCFhLnZhbGlkKXJldHVybiBkLnB1c2goYiksMTtEPWEudmFsaWRBdHRyaWJ1dGVzO3ZhciBMPWEudmFsaWRTdHlsZXM7aD1hLnZhbGlkQ2xhc3Nlczt2YXIgcT1iLmF0dHJpYnV0ZXMsbj1iLnN0eWxlcyxtPWIuY2xhc3NlcztsPWIuY2xhc3NCYWNrdXA7dmFyIEU9Yi5zdHlsZUJhY2t1cCxCLHksej1bXSxrPVtdLEY9L15kYXRhLWNrZS0vO3Q9ITE7ZGVsZXRlIHEuc3R5bGU7ZGVsZXRlIHFbXCJjbGFzc1wiXTtkZWxldGUgYi5jbGFzc0JhY2t1cDtkZWxldGUgYi5zdHlsZUJhY2t1cDtpZighYS5hbGxBdHRyaWJ1dGVzKWZvcihCIGluIHEpRFtCXXx8KEYudGVzdChCKT9CPT0oeT1CLnJlcGxhY2UoL15kYXRhLWNrZS1zYXZlZC0vLFwiXCIpKXx8RFt5XXx8KGRlbGV0ZSBxW0JdLHQ9ITApOihkZWxldGUgcVtCXSx0PSEwKSk7aWYoIWEuYWxsU3R5bGVzfHxhLmhhZEludmFsaWRTdHlsZSl7Zm9yKEIgaW4gbilhLmFsbFN0eWxlc3x8XG5MW0JdP3oucHVzaChCK1wiOlwiK25bQl0pOnQ9ITA7ei5sZW5ndGgmJihxLnN0eWxlPXouc29ydCgpLmpvaW4oXCI7IFwiKSl9ZWxzZSBFJiYocS5zdHlsZT1FKTtpZighYS5hbGxDbGFzc2VzfHxhLmhhZEludmFsaWRDbGFzcyl7Zm9yKEI9MDtCPG0ubGVuZ3RoOysrQikoYS5hbGxDbGFzc2VzfHxoW21bQl1dKSYmay5wdXNoKG1bQl0pO2subGVuZ3RoJiYocVtcImNsYXNzXCJdPWsuc29ydCgpLmpvaW4oXCIgXCIpKTtsJiZrLmxlbmd0aDxsLnNwbGl0KC9cXHMrLykubGVuZ3RoJiYodD0hMCl9ZWxzZSBsJiYocVtcImNsYXNzXCJdPWwpO3QmJihnPTEpO2lmKCFlLnNraXBGaW5hbFZhbGlkYXRpb24mJiF1KGIpKXJldHVybiBkLnB1c2goYiksMX1lLnRvSHRtbCYmKGIubmFtZT1iLm5hbWUucmVwbGFjZShPLFwiY2tlOiQxXCIpKTtyZXR1cm4gZ31mdW5jdGlvbiB4KGEpe3ZhciBiPVtdLGM7Zm9yKGMgaW4gYSktMTxjLmluZGV4T2YoXCIqXCIpJiZiLnB1c2goYy5yZXBsYWNlKC9cXCovZyxcIi4qXCIpKTtyZXR1cm4gYi5sZW5ndGg/XG5uZXcgUmVnRXhwKFwiXig/OlwiK2Iuam9pbihcInxcIikrXCIpJFwiKTpudWxsfWZ1bmN0aW9uIHYoYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLGM7ZGVsZXRlIGIuc3R5bGU7ZGVsZXRlIGJbXCJjbGFzc1wiXTtpZihjPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChhLnN0eWxlcywhMCkpYi5zdHlsZT1jO2EuY2xhc3Nlcy5sZW5ndGgmJihiW1wiY2xhc3NcIl09YS5jbGFzc2VzLnNvcnQoKS5qb2luKFwiIFwiKSl9ZnVuY3Rpb24gdShhKXtzd2l0Y2goYS5uYW1lKXtjYXNlIFwiYVwiOmlmKCEoYS5jaGlsZHJlbi5sZW5ndGh8fGEuYXR0cmlidXRlcy5uYW1lfHxhLmF0dHJpYnV0ZXMuaWQpKXJldHVybiExO2JyZWFrO2Nhc2UgXCJpbWdcIjppZighYS5hdHRyaWJ1dGVzLnNyYylyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB0KGEpe2lmKCFhKXJldHVybiExO2lmKCEwPT09YSlyZXR1cm4hMDt2YXIgYj14KGEpO3JldHVybiBmdW5jdGlvbihjKXtyZXR1cm4gYyBpbiBhfHxiJiZjLm1hdGNoKGIpfX1mdW5jdGlvbiB5KCl7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJiclwiKX1cbmZ1bmN0aW9uIEEoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJiclwiPT1hLm5hbWV8fEcuJGJsb2NrW2EubmFtZV0pfWZ1bmN0aW9uIHEoYSxiLGMpe3ZhciBkPWEubmFtZTtpZihHLiRlbXB0eVtkXXx8IWEuY2hpbGRyZW4ubGVuZ3RoKVwiaHJcIj09ZCYmXCJiclwiPT1iP2EucmVwbGFjZVdpdGgoeSgpKTooYS5wYXJlbnQmJmMucHVzaCh7Y2hlY2s6XCJpdFwiLGVsOmEucGFyZW50fSksYS5yZW1vdmUoKSk7ZWxzZSBpZihHLiRibG9ja1tkXXx8XCJ0clwiPT1kKWlmKFwiYnJcIj09YilhLnByZXZpb3VzJiYhQShhLnByZXZpb3VzKSYmKGI9eSgpLGIuaW5zZXJ0QmVmb3JlKGEpKSxhLm5leHQmJiFBKGEubmV4dCkmJihiPXkoKSxiLmluc2VydEFmdGVyKGEpKSxhLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKTtlbHNle3ZhciBkPWEuY2hpbGRyZW4sZTtiOntlPUdbYl07Zm9yKHZhciBnPTAsZj1kLmxlbmd0aCxoO2c8ZjsrK2cpaWYoaD1kW2ddLGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbiFlW2gubmFtZV0pe2U9ITE7YnJlYWsgYn1lPSEwfWlmKGUpYS5uYW1lPWIsYS5hdHRyaWJ1dGVzPXt9LGMucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOmF9KTtlbHNle2U9YS5wYXJlbnQ7Zm9yKHZhciBnPWUudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8XCJib2R5XCI9PWUubmFtZSxxLG0sZj1kLmxlbmd0aDswPGY7KWg9ZFstLWZdLGcmJihoLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8aC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkcuJGlubGluZVtoLm5hbWVdKT8ocXx8KHE9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChiKSxxLmluc2VydEFmdGVyKGEpLGMucHVzaCh7Y2hlY2s6XCJwYXJlbnQtZG93blwiLGVsOnF9KSkscS5hZGQoaCwwKSk6KHE9bnVsbCxtPUdbZS5uYW1lXXx8Ry5zcGFuLGguaW5zZXJ0QWZ0ZXIoYSksZS50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHxoLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XG5tW2gubmFtZV18fGMucHVzaCh7Y2hlY2s6XCJlbC11cFwiLGVsOmh9KSk7YS5yZW1vdmUoKX19ZWxzZSBkIGlue3N0eWxlOjEsc2NyaXB0OjF9P2EucmVtb3ZlKCk6KGEucGFyZW50JiZjLnB1c2goe2NoZWNrOlwiaXRcIixlbDphLnBhcmVudH0pLGEucmVwbGFjZVdpdGhDaGlsZHJlbigpKX1mdW5jdGlvbiB3KGEsYixjKXt2YXIgZCxlO2ZvcihkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoZT1jW2RdLCEoZS5jaGVjayYmIWEuY2hlY2soZS5jaGVjaywhMSl8fGUubGVmdCYmIWUubGVmdChiKSkpe2UucmlnaHQoYixLKTticmVha319ZnVuY3Rpb24gQihhLGIpe3ZhciBjPWIuZ2V0RGVmaW5pdGlvbigpLGQ9Yy5hdHRyaWJ1dGVzLGU9Yy5zdHlsZXMsZyxmLGgscTtpZihhLm5hbWUhPWMuZWxlbWVudClyZXR1cm4hMTtmb3IoZyBpbiBkKWlmKFwiY2xhc3NcIj09Zylmb3IoYz1kW2ddLnNwbGl0KC9cXHMrLyksaD1hLmNsYXNzZXMuam9pbihcInxcIik7cT1jLnBvcCgpOyl7aWYoLTE9PWguaW5kZXhPZihxKSlyZXR1cm4hMX1lbHNlIGlmKGEuYXR0cmlidXRlc1tnXSE9XG5kW2ddKXJldHVybiExO2ZvcihmIGluIGUpaWYoYS5zdHlsZXNbZl0hPWVbZl0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geihhLGIpe3ZhciBjLGQ7XCJzdHJpbmdcIj09dHlwZW9mIGE/Yz1hOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZT9kPWE6KGM9YVswXSxkPWFbMV0pO3JldHVyblt7ZWxlbWVudDpjLGxlZnQ6ZCxyaWdodDpmdW5jdGlvbihhLGMpe2MudHJhbnNmb3JtKGEsYil9fV19ZnVuY3Rpb24gQyhhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIEIoYixhKX19ZnVuY3Rpb24gRShhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtjW2FdKGIpfX12YXIgRz1DS0VESVRPUi5kdGQsRj1DS0VESVRPUi50b29scy5jb3B5LEo9Q0tFRElUT1IudG9vbHMudHJpbSxIPVtcIlwiLFwicFwiLFwiYnJcIixcImRpdlwiXTtDS0VESVRPUi5GSUxURVJfU0tJUF9UUkVFPTI7Q0tFRElUT1IuZmlsdGVyPWZ1bmN0aW9uKGEpe3RoaXMuYWxsb3dlZENvbnRlbnQ9W107dGhpcy5kaXNhbGxvd2VkQ29udGVudD1cbltdO3RoaXMuZWxlbWVudENhbGxiYWNrcz1udWxsO3RoaXMuZGlzYWJsZWQ9ITE7dGhpcy5lZGl0b3I9bnVsbDt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTt0aGlzLl89e2FsbG93ZWRSdWxlczp7ZWxlbWVudHM6e30sZ2VuZXJpYzpbXX0sZGlzYWxsb3dlZFJ1bGVzOntlbGVtZW50czp7fSxnZW5lcmljOltdfSx0cmFuc2Zvcm1hdGlvbnM6e30sY2FjaGVkVGVzdHM6e319O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXNbdGhpcy5pZF09dGhpcztpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdG9yKXthPXRoaXMuZWRpdG9yPWE7dGhpcy5jdXN0b21Db25maWc9ITA7dmFyIGI9YS5jb25maWcuYWxsb3dlZENvbnRlbnQ7ITA9PT1iP3RoaXMuZGlzYWJsZWQ9ITA6KGJ8fCh0aGlzLmN1c3RvbUNvbmZpZz0hMSksdGhpcy5hbGxvdyhiLFwiY29uZmlnXCIsMSksdGhpcy5hbGxvdyhhLmNvbmZpZy5leHRyYUFsbG93ZWRDb250ZW50LFwiZXh0cmFcIiwxKSx0aGlzLmFsbG93KEhbYS5lbnRlck1vZGVdK1xuXCIgXCIrSFthLnNoaWZ0RW50ZXJNb2RlXSxcImRlZmF1bHRcIiwxKSx0aGlzLmRpc2FsbG93KGEuY29uZmlnLmRpc2FsbG93ZWRDb250ZW50KSl9ZWxzZSB0aGlzLmN1c3RvbUNvbmZpZz0hMSx0aGlzLmFsbG93KGEsXCJkZWZhdWx0XCIsMSl9O0NLRURJVE9SLmZpbHRlci5pbnN0YW5jZXM9e307Q0tFRElUT1IuZmlsdGVyLnByb3RvdHlwZT17YWxsb3c6ZnVuY3Rpb24oYixjLGQpe2lmKCFsKHRoaXMsYixkKSlyZXR1cm4hMTt2YXIgZSxmO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKWI9ZyhiKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBDS0VESVRPUi5zdHlsZSl7aWYoYi50b0FsbG93ZWRDb250ZW50UnVsZXMpcmV0dXJuIHRoaXMuYWxsb3coYi50b0FsbG93ZWRDb250ZW50UnVsZXModGhpcy5lZGl0b3IpLGMsZCk7ZT1iLmdldERlZmluaXRpb24oKTtiPXt9O2Q9ZS5hdHRyaWJ1dGVzO2JbZS5lbGVtZW50XT1lPXtzdHlsZXM6ZS5zdHlsZXMscmVxdWlyZWRTdHlsZXM6ZS5zdHlsZXMmJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoZS5zdHlsZXMpfTtcbmQmJihkPUYoZCksZS5jbGFzc2VzPWRbXCJjbGFzc1wiXT9kW1wiY2xhc3NcIl0uc3BsaXQoL1xccysvKTpudWxsLGUucmVxdWlyZWRDbGFzc2VzPWUuY2xhc3NlcyxkZWxldGUgZFtcImNsYXNzXCJdLGUuYXR0cmlidXRlcz1kLGUucmVxdWlyZWRBdHRyaWJ1dGVzPWQmJkNLRURJVE9SLnRvb2xzLm9iamVjdEtleXMoZCkpfWVsc2UgaWYoQ0tFRElUT1IudG9vbHMuaXNBcnJheShiKSl7Zm9yKGU9MDtlPGIubGVuZ3RoOysrZSlmPXRoaXMuYWxsb3coYltlXSxjLGQpO3JldHVybiBmfWEodGhpcyxiLGMsdGhpcy5hbGxvd2VkQ29udGVudCx0aGlzLl8uYWxsb3dlZFJ1bGVzKTtyZXR1cm4hMH0sYXBwbHlUbzpmdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiExO3ZhciBlPXRoaXMsZz1bXSxmPXRoaXMuZWRpdG9yJiZ0aGlzLmVkaXRvci5jb25maWcucHJvdGVjdGVkU291cmNlLGgsbT0hMSxsPXtkb0ZpbHRlcjohYyxkb1RyYW5zZm9ybTohMCxkb0NhbGxiYWNrczohMCx0b0h0bWw6Yn07XG5hLmZvckVhY2goZnVuY3Rpb24oYSl7aWYoYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2lmKFwib2ZmXCI9PWEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWZpbHRlclwiXSlyZXR1cm4hMTtpZighYnx8XCJzcGFuXCIhPWEubmFtZXx8IX5DS0VESVRPUi50b29scy5vYmplY3RLZXlzKGEuYXR0cmlidXRlcykuam9pbihcInxcIikuaW5kZXhPZihcImRhdGEtY2tlLVwiKSlpZihoPXIoZSxhLGcsbCksaCYxKW09ITA7ZWxzZSBpZihoJjIpcmV0dXJuITF9ZWxzZSBpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfQ09NTUVOVCYmYS52YWx1ZS5tYXRjaCgvXlxce2NrZV9wcm90ZWN0ZWRcXH0oPyFcXHtDXFx9KS8pKXt2YXIgYzthOnt2YXIgZD1kZWNvZGVVUklDb21wb25lbnQoYS52YWx1ZS5yZXBsYWNlKC9eXFx7Y2tlX3Byb3RlY3RlZFxcfS8sXCJcIikpO2M9W107dmFyIHEsayx1O2lmKGYpZm9yKGs9MDtrPGYubGVuZ3RoOysraylpZigodT1kLm1hdGNoKGZba10pKSYmdVswXS5sZW5ndGg9PWQubGVuZ3RoKXtjPSEwO1xuYnJlYWsgYX1kPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoZCk7MT09ZC5jaGlsZHJlbi5sZW5ndGgmJihxPWQuY2hpbGRyZW5bMF0pLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmcihlLHEsYyxsKTtjPSFjLmxlbmd0aH1jfHxnLnB1c2goYSl9fSxudWxsLCEwKTtnLmxlbmd0aCYmKG09ITApO3ZhciBrO2E9W107ZD1IW2R8fCh0aGlzLmVkaXRvcj90aGlzLmVkaXRvci5lbnRlck1vZGU6Q0tFRElUT1IuRU5URVJfUCldO2Zvcih2YXIgdztjPWcucG9wKCk7KWMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3EoYyxkLGEpOmMucmVtb3ZlKCk7Zm9yKDtrPWEucG9wKCk7KWlmKGM9ay5lbCxjLnBhcmVudClzd2l0Y2godz1HW2MucGFyZW50Lm5hbWVdfHxHLnNwYW4say5jaGVjayl7Y2FzZSBcIml0XCI6Ry4kcmVtb3ZlRW1wdHlbYy5uYW1lXSYmIWMuY2hpbGRyZW4ubGVuZ3RoP3EoYyxkLGEpOnUoYyl8fHEoYyxkLGEpO2JyZWFrO2Nhc2UgXCJlbC11cFwiOmMucGFyZW50LnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVHx8d1tjLm5hbWVdfHxxKGMsZCxhKTticmVhaztjYXNlIFwicGFyZW50LWRvd25cIjpjLnBhcmVudC50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UfHx3W2MubmFtZV18fHEoYy5wYXJlbnQsZCxhKX1yZXR1cm4gbX0sY2hlY2tGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fCFhKXJldHVybiEwO2EudG9GZWF0dXJlJiYoYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3JldHVybiFhLnJlcXVpcmVkQ29udGVudHx8dGhpcy5jaGVjayhhLnJlcXVpcmVkQ29udGVudCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPSEwfSxkaXNhbGxvdzpmdW5jdGlvbihiKXtpZighbCh0aGlzLGIsITApKXJldHVybiExO1wic3RyaW5nXCI9PXR5cGVvZiBiJiYoYj1nKGIpKTthKHRoaXMsYixudWxsLHRoaXMuZGlzYWxsb3dlZENvbnRlbnQsdGhpcy5fLmRpc2FsbG93ZWRSdWxlcyk7cmV0dXJuITB9LFxuYWRkQ29udGVudEZvcm1zOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmRpc2FibGVkJiZhKXt2YXIgYixjLGQ9W10sZTtmb3IoYj0wO2I8YS5sZW5ndGgmJiFlOysrYiljPWFbYl0sKFwic3RyaW5nXCI9PXR5cGVvZiBjfHxjIGluc3RhbmNlb2YgQ0tFRElUT1Iuc3R5bGUpJiZ0aGlzLmNoZWNrKGMpJiYoZT1jKTtpZihlKXtmb3IoYj0wO2I8YS5sZW5ndGg7KytiKWQucHVzaCh6KGFbYl0sZSkpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGQpfX19LGFkZEVsZW1lbnRDYWxsYmFjazpmdW5jdGlvbihhKXt0aGlzLmVsZW1lbnRDYWxsYmFja3N8fCh0aGlzLmVsZW1lbnRDYWxsYmFja3M9W10pO3RoaXMuZWxlbWVudENhbGxiYWNrcy5wdXNoKGEpfSxhZGRGZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZGlzYWJsZWR8fCFhKXJldHVybiEwO2EudG9GZWF0dXJlJiYoYT1hLnRvRmVhdHVyZSh0aGlzLmVkaXRvcikpO3RoaXMuYWxsb3coYS5hbGxvd2VkQ29udGVudCxhLm5hbWUpO3RoaXMuYWRkVHJhbnNmb3JtYXRpb25zKGEuY29udGVudFRyYW5zZm9ybWF0aW9ucyk7XG50aGlzLmFkZENvbnRlbnRGb3JtcyhhLmNvbnRlbnRGb3Jtcyk7cmV0dXJuIGEucmVxdWlyZWRDb250ZW50JiYodGhpcy5jdXN0b21Db25maWd8fHRoaXMuZGlzYWxsb3dlZENvbnRlbnQubGVuZ3RoKT90aGlzLmNoZWNrKGEucmVxdWlyZWRDb250ZW50KTohMH0sYWRkVHJhbnNmb3JtYXRpb25zOmZ1bmN0aW9uKGEpe3ZhciBiLGM7aWYoIXRoaXMuZGlzYWJsZWQmJmEpe3ZhciBkPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnMsZTtmb3IoZT0wO2U8YS5sZW5ndGg7KytlKXtiPWFbZV07dmFyIGc9dm9pZCAwLGY9dm9pZCAwLGg9dm9pZCAwLHE9dm9pZCAwLG09dm9pZCAwLGw9dm9pZCAwO2M9W107Zm9yKGY9MDtmPGIubGVuZ3RoOysrZiloPWJbZl0sXCJzdHJpbmdcIj09dHlwZW9mIGg/KGg9aC5zcGxpdCgvXFxzKjpcXHMqLykscT1oWzBdLG09bnVsbCxsPWhbMV0pOihxPWguY2hlY2ssbT1oLmxlZnQsbD1oLnJpZ2h0KSxnfHwoZz1oLGc9Zy5lbGVtZW50P2cuZWxlbWVudDpxP3EubWF0Y2goL14oW2EtejAtOV0rKS9pKVswXTpcbmcubGVmdC5nZXREZWZpbml0aW9uKCkuZWxlbWVudCksbSBpbnN0YW5jZW9mIENLRURJVE9SLnN0eWxlJiYobT1DKG0pKSxjLnB1c2goe2NoZWNrOnE9PWc/bnVsbDpxLGxlZnQ6bSxyaWdodDpcInN0cmluZ1wiPT10eXBlb2YgbD9FKGwpOmx9KTtiPWc7ZFtiXXx8KGRbYl09W10pO2RbYl0ucHVzaChjKX19fSxjaGVjazpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5kaXNhYmxlZClyZXR1cm4hMDtpZihDS0VESVRPUi50b29scy5pc0FycmF5KGEpKXtmb3IodmFyIGQ9YS5sZW5ndGg7ZC0tOylpZih0aGlzLmNoZWNrKGFbZF0sYixjKSlyZXR1cm4hMDtyZXR1cm4hMX12YXIgZSxmO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhKXtmPWErXCJcXHgzY1wiKyghMT09PWI/XCIwXCI6XCIxXCIpKyhjP1wiMVwiOlwiMFwiKStcIlxceDNlXCI7aWYoZiBpbiB0aGlzLl8uY2FjaGVkQ2hlY2tzKXJldHVybiB0aGlzLl8uY2FjaGVkQ2hlY2tzW2ZdO2Q9ZyhhKS4kMTtlPWQuc3R5bGVzO3ZhciBoPWQuY2xhc3NlcztkLm5hbWU9ZC5lbGVtZW50cztcbmQuY2xhc3Nlcz1oPWg/aC5zcGxpdCgvXFxzKixcXHMqLyk6W107ZC5zdHlsZXM9bShlKTtkLmF0dHJpYnV0ZXM9bShkLmF0dHJpYnV0ZXMpO2QuY2hpbGRyZW49W107aC5sZW5ndGgmJihkLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1oLmpvaW4oXCIgXCIpKTtlJiYoZC5hdHRyaWJ1dGVzLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChkLnN0eWxlcykpO2U9ZH1lbHNlIGQ9YS5nZXREZWZpbml0aW9uKCksZT1kLnN0eWxlcyxoPWQuYXR0cmlidXRlc3x8e30sZSYmIUNLRURJVE9SLnRvb2xzLmlzRW1wdHkoZSk/KGU9RihlKSxoLnN0eWxlPUNLRURJVE9SLnRvb2xzLndyaXRlQ3NzVGV4dChlLCEwKSk6ZT17fSxlPXtuYW1lOmQuZWxlbWVudCxhdHRyaWJ1dGVzOmgsY2xhc3NlczpoW1wiY2xhc3NcIl0/aFtcImNsYXNzXCJdLnNwbGl0KC9cXHMrLyk6W10sc3R5bGVzOmUsY2hpbGRyZW46W119O3ZhciBoPUNLRURJVE9SLnRvb2xzLmNsb25lKGUpLHE9W10sbDtpZighMSE9PWImJihsPXRoaXMuXy50cmFuc2Zvcm1hdGlvbnNbZS5uYW1lXSkpe2ZvcihkPVxuMDtkPGwubGVuZ3RoOysrZCl3KHRoaXMsZSxsW2RdKTt2KGUpfXIodGhpcyxoLHEse2RvRmlsdGVyOiEwLGRvVHJhbnNmb3JtOiExIT09Yixza2lwUmVxdWlyZWQ6IWMsc2tpcEZpbmFsVmFsaWRhdGlvbjohY30pO2I9MDxxLmxlbmd0aD8hMTpDS0VESVRPUi50b29scy5vYmplY3RDb21wYXJlKGUuYXR0cmlidXRlcyxoLmF0dHJpYnV0ZXMsITApPyEwOiExO1wic3RyaW5nXCI9PXR5cGVvZiBhJiYodGhpcy5fLmNhY2hlZENoZWNrc1tmXT1iKTtyZXR1cm4gYn0sZ2V0QWxsb3dlZEVudGVyTW9kZTpmdW5jdGlvbigpe3ZhciBhPVtcInBcIixcImRpdlwiLFwiYnJcIl0sYj17cDpDS0VESVRPUi5FTlRFUl9QLGRpdjpDS0VESVRPUi5FTlRFUl9ESVYsYnI6Q0tFRElUT1IuRU5URVJfQlJ9O3JldHVybiBmdW5jdGlvbihjLGQpe3ZhciBlPWEuc2xpY2UoKSxnO2lmKHRoaXMuY2hlY2soSFtjXSkpcmV0dXJuIGM7Zm9yKGR8fChlPWUucmV2ZXJzZSgpKTtnPWUucG9wKCk7KWlmKHRoaXMuY2hlY2soZykpcmV0dXJuIGJbZ107XG5yZXR1cm4gQ0tFRElUT1IuRU5URVJfQlJ9fSgpLGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgQ0tFRElUT1IuZmlsdGVyLmluc3RhbmNlc1t0aGlzLmlkXTtkZWxldGUgdGhpcy5fO2RlbGV0ZSB0aGlzLmFsbG93ZWRDb250ZW50O2RlbGV0ZSB0aGlzLmRpc2FsbG93ZWRDb250ZW50fX07dmFyIE09e3N0eWxlczoxLGF0dHJpYnV0ZXM6MSxjbGFzc2VzOjF9LEw9e3N0eWxlczpcInJlcXVpcmVkU3R5bGVzXCIsYXR0cmlidXRlczpcInJlcXVpcmVkQXR0cmlidXRlc1wiLGNsYXNzZXM6XCJyZXF1aXJlZENsYXNzZXNcIn0sRD0vXihbYS16MC05XFwtKlxcc10rKSgoPzpcXHMqXFx7WyFcXHdcXC0sXFxzXFwqXStcXH1cXHMqfFxccypcXFtbIVxcd1xcLSxcXHNcXCpdK1xcXVxccyp8XFxzKlxcKFshXFx3XFwtLFxcc1xcKl0rXFwpXFxzKil7MCwzfSkoPzo7XFxzKnwkKS9pLFQ9e3N0eWxlczoveyhbXn1dKyl9LyxhdHRyczovXFxbKFteXFxdXSspXFxdLyxjbGFzc2VzOi9cXCgoW15cXCldKylcXCkvfSxJPS9eY2tlOihvYmplY3R8ZW1iZWR8cGFyYW0pJC8sXG5PPS9eKG9iamVjdHxlbWJlZHxwYXJhbSkkLyxLO0s9Q0tFRElUT1IuZmlsdGVyLnRyYW5zZm9ybWF0aW9uc1Rvb2xzPXtzaXplVG9TdHlsZTpmdW5jdGlvbihhKXt0aGlzLmxlbmd0aFRvU3R5bGUoYSxcIndpZHRoXCIpO3RoaXMubGVuZ3RoVG9TdHlsZShhLFwiaGVpZ2h0XCIpfSxzaXplVG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFwid2lkdGhcIik7dGhpcy5sZW5ndGhUb0F0dHJpYnV0ZShhLFwiaGVpZ2h0XCIpfSxsZW5ndGhUb1N0eWxlOmZ1bmN0aW9uKGEsYixjKXtjPWN8fGI7aWYoIShjIGluIGEuc3R5bGVzKSl7dmFyIGQ9YS5hdHRyaWJ1dGVzW2JdO2QmJigvXlxcZCskLy50ZXN0KGQpJiYoZCs9XCJweFwiKSxhLnN0eWxlc1tjXT1kKX1kZWxldGUgYS5hdHRyaWJ1dGVzW2JdfSxsZW5ndGhUb0F0dHJpYnV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1jfHxiO2lmKCEoYyBpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgZD1hLnN0eWxlc1tiXSxlPWQmJmQubWF0Y2goL14oXFxkKykoPzpcXC5cXGQqKT9weCQvKTtcbmU/YS5hdHRyaWJ1dGVzW2NdPWVbMV06XCJja2UtdGVzdFwiPT1kJiYoYS5hdHRyaWJ1dGVzW2NdPVwiY2tlLXRlc3RcIil9ZGVsZXRlIGEuc3R5bGVzW2JdfSxhbGlnbm1lbnRUb1N0eWxlOmZ1bmN0aW9uKGEpe2lmKCEoXCJmbG9hdFwiaW4gYS5zdHlsZXMpKXt2YXIgYj1hLmF0dHJpYnV0ZXMuYWxpZ247aWYoXCJsZWZ0XCI9PWJ8fFwicmlnaHRcIj09YilhLnN0eWxlc1tcImZsb2F0XCJdPWJ9ZGVsZXRlIGEuYXR0cmlidXRlcy5hbGlnbn0sYWxpZ25tZW50VG9BdHRyaWJ1dGU6ZnVuY3Rpb24oYSl7aWYoIShcImFsaWduXCJpbiBhLmF0dHJpYnV0ZXMpKXt2YXIgYj1hLnN0eWxlc1tcImZsb2F0XCJdO2lmKFwibGVmdFwiPT1ifHxcInJpZ2h0XCI9PWIpYS5hdHRyaWJ1dGVzLmFsaWduPWJ9ZGVsZXRlIGEuc3R5bGVzW1wiZmxvYXRcIl19LHNwbGl0Qm9yZGVyU2hvcnRoYW5kOmZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoZCl7YS5zdHlsZXNbXCJib3JkZXItdG9wLXdpZHRoXCJdPWNbZFswXV07YS5zdHlsZXNbXCJib3JkZXItcmlnaHQtd2lkdGhcIl09XG5jW2RbMV1dO2Euc3R5bGVzW1wiYm9yZGVyLWJvdHRvbS13aWR0aFwiXT1jW2RbMl1dO2Euc3R5bGVzW1wiYm9yZGVyLWxlZnQtd2lkdGhcIl09Y1tkWzNdXX1pZihhLnN0eWxlcy5ib3JkZXIpe3ZhciBjPWEuc3R5bGVzLmJvcmRlci5tYXRjaCgvKFtcXC5cXGRdK1xcdyspL2cpfHxbXCIwcHhcIl07c3dpdGNoKGMubGVuZ3RoKXtjYXNlIDE6YS5zdHlsZXNbXCJib3JkZXItd2lkdGhcIl09Y1swXTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1hLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXT1hLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXXx8KGEuc3R5bGVzLmJvcmRlci5tYXRjaCgvKG5vbmV8aGlkZGVufGRvdHRlZHxkYXNoZWR8c29saWR8ZG91YmxlfGdyb292ZXxyaWRnZXxpbnNldHxvdXRzZXR8aW5pdGlhbHxpbmhlcml0KS8pfHxbXSlbMF07YS5zdHlsZXNbXCJib3JkZXItc3R5bGVcIl18fGRlbGV0ZSBhLnN0eWxlc1tcImJvcmRlci1zdHlsZVwiXTtcbmRlbGV0ZSBhLnN0eWxlcy5ib3JkZXJ9fSxsaXN0VHlwZVRvU3R5bGU6ZnVuY3Rpb24oYSl7aWYoYS5hdHRyaWJ1dGVzLnR5cGUpc3dpdGNoKGEuYXR0cmlidXRlcy50eXBlKXtjYXNlIFwiYVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItYWxwaGFcIjticmVhaztjYXNlIFwiQVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwidXBwZXItYWxwaGFcIjticmVhaztjYXNlIFwiaVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwibG93ZXItcm9tYW5cIjticmVhaztjYXNlIFwiSVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwidXBwZXItcm9tYW5cIjticmVhaztjYXNlIFwiMVwiOmEuc3R5bGVzW1wibGlzdC1zdHlsZS10eXBlXCJdPVwiZGVjaW1hbFwiO2JyZWFrO2RlZmF1bHQ6YS5zdHlsZXNbXCJsaXN0LXN0eWxlLXR5cGVcIl09YS5hdHRyaWJ1dGVzLnR5cGV9fSxzcGxpdE1hcmdpblNob3J0aGFuZDpmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGQpe2Euc3R5bGVzW1wibWFyZ2luLXRvcFwiXT1cbmNbZFswXV07YS5zdHlsZXNbXCJtYXJnaW4tcmlnaHRcIl09Y1tkWzFdXTthLnN0eWxlc1tcIm1hcmdpbi1ib3R0b21cIl09Y1tkWzJdXTthLnN0eWxlc1tcIm1hcmdpbi1sZWZ0XCJdPWNbZFszXV19aWYoYS5zdHlsZXMubWFyZ2luKXt2YXIgYz1hLnN0eWxlcy5tYXJnaW4ubWF0Y2goLyhcXC0/W1xcLlxcZF0rXFx3KykvZyl8fFtcIjBweFwiXTtzd2l0Y2goYy5sZW5ndGgpe2Nhc2UgMTphLnN0eWxlcy5tYXJnaW49Y1swXTticmVhaztjYXNlIDI6YihbMCwxLDAsMV0pO2JyZWFrO2Nhc2UgMzpiKFswLDEsMiwxXSk7YnJlYWs7Y2FzZSA0OmIoWzAsMSwyLDNdKX1kZWxldGUgYS5zdHlsZXMubWFyZ2lufX0sbWF0Y2hlc1N0eWxlOkIsdHJhbnNmb3JtOmZ1bmN0aW9uKGEsYil7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpYS5uYW1lPWI7ZWxzZXt2YXIgYz1iLmdldERlZmluaXRpb24oKSxkPWMuc3R5bGVzLGU9Yy5hdHRyaWJ1dGVzLGcsZixoLHE7YS5uYW1lPWMuZWxlbWVudDtmb3IoZyBpbiBlKWlmKFwiY2xhc3NcIj09XG5nKWZvcihjPWEuY2xhc3Nlcy5qb2luKFwifFwiKSxoPWVbZ10uc3BsaXQoL1xccysvKTtxPWgucG9wKCk7KS0xPT1jLmluZGV4T2YocSkmJmEuY2xhc3Nlcy5wdXNoKHEpO2Vsc2UgYS5hdHRyaWJ1dGVzW2ddPWVbZ107Zm9yKGYgaW4gZClhLnN0eWxlc1tmXT1kW2ZdfX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IuZm9jdXNNYW5hZ2VyPWZ1bmN0aW9uKGEpe2lmKGEuZm9jdXNNYW5hZ2VyKXJldHVybiBhLmZvY3VzTWFuYWdlcjt0aGlzLmhhc0ZvY3VzPSExO3RoaXMuY3VycmVudEFjdGl2ZT1udWxsO3RoaXMuXz17ZWRpdG9yOmF9O3JldHVybiB0aGlzfTtDS0VESVRPUi5mb2N1c01hbmFnZXIuXz17Ymx1ckRlbGF5OjIwMH07Q0tFRElUT1IuZm9jdXNNYW5hZ2VyLnByb3RvdHlwZT17Zm9jdXM6ZnVuY3Rpb24oYSl7dGhpcy5fLnRpbWVyJiZjbGVhclRpbWVvdXQodGhpcy5fLnRpbWVyKTthJiYodGhpcy5jdXJyZW50QWN0aXZlPWEpO3RoaXMuaGFzRm9jdXN8fHRoaXMuXy5sb2NrZWR8fCgoYT1cbkNLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSkmJmEuZm9jdXNNYW5hZ2VyLmJsdXIoMSksdGhpcy5oYXNGb2N1cz0hMCwoYT10aGlzLl8uZWRpdG9yLmNvbnRhaW5lcikmJmEuYWRkQ2xhc3MoXCJja2VfZm9jdXNcIiksdGhpcy5fLmVkaXRvci5maXJlKFwiZm9jdXNcIikpfSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5fLmxvY2tlZD0xfSx1bmxvY2s6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLmxvY2tlZH0sYmx1cjpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKCl7dmFyIGE9dGhpcy5fLmVkaXRvcjt0aGlzLmhhc0ZvY3VzJiYodGhpcy5oYXNGb2N1cz0hMSxDS0VESVRPUi5lbnYuY2hyb21lJiZhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FJiZhLndpbmRvdy4kLmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpLChhPXRoaXMuXy5lZGl0b3IuY29udGFpbmVyKSYmYS5yZW1vdmVDbGFzcyhcImNrZV9mb2N1c1wiKSx0aGlzLl8uZWRpdG9yLmZpcmUoXCJibHVyXCIpKX1pZighdGhpcy5fLmxvY2tlZCl7dGhpcy5fLnRpbWVyJiZcbmNsZWFyVGltZW91dCh0aGlzLl8udGltZXIpO3ZhciBiPUNLRURJVE9SLmZvY3VzTWFuYWdlci5fLmJsdXJEZWxheTthfHwhYj9mLmNhbGwodGhpcyk6dGhpcy5fLnRpbWVyPUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnRpbWVyO2YuY2FsbCh0aGlzKX0sYix0aGlzKX19LGFkZDpmdW5jdGlvbihhLGYpe3ZhciBiPWEuZ2V0Q3VzdG9tRGF0YShcImZvY3VzbWFuYWdlclwiKTtpZighYnx8YiE9dGhpcyl7YiYmYi5yZW1vdmUoYSk7dmFyIGI9XCJmb2N1c1wiLGM9XCJibHVyXCI7ZiYmKENLRURJVE9SLmVudi5pZT8oYj1cImZvY3VzaW5cIixjPVwiZm9jdXNvdXRcIik6Q0tFRElUT1IuZXZlbnQudXNlQ2FwdHVyZT0xKTt2YXIgZT17Ymx1cjpmdW5jdGlvbigpe2EuZXF1YWxzKHRoaXMuY3VycmVudEFjdGl2ZSkmJnRoaXMuYmx1cigpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZm9jdXMoYSl9fTthLm9uKGIsZS5mb2N1cyx0aGlzKTthLm9uKGMsZS5ibHVyLHRoaXMpO1xuZiYmKENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9MCk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIsdGhpcyk7YS5zZXRDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyX2hhbmRsZXJzXCIsZSl9fSxyZW1vdmU6ZnVuY3Rpb24oYSl7YS5yZW1vdmVDdXN0b21EYXRhKFwiZm9jdXNtYW5hZ2VyXCIpO3ZhciBmPWEucmVtb3ZlQ3VzdG9tRGF0YShcImZvY3VzbWFuYWdlcl9oYW5kbGVyc1wiKTthLnJlbW92ZUxpc3RlbmVyKFwiYmx1clwiLGYuYmx1cik7YS5yZW1vdmVMaXN0ZW5lcihcImZvY3VzXCIsZi5mb2N1cyl9fX0oKSxDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyPWZ1bmN0aW9uKGEpe2lmKGEua2V5c3Ryb2tlSGFuZGxlcilyZXR1cm4gYS5rZXlzdHJva2VIYW5kbGVyO3RoaXMua2V5c3Ryb2tlcz17fTt0aGlzLmJsb2NrZWRLZXlzdHJva2VzPXt9O3RoaXMuXz17ZWRpdG9yOmF9O3JldHVybiB0aGlzfSxmdW5jdGlvbigpe3ZhciBhLGY9ZnVuY3Rpb24oYil7Yj1iLmRhdGE7dmFyIGU9Yi5nZXRLZXlzdHJva2UoKSxcbmY9dGhpcy5rZXlzdHJva2VzW2VdLGs9dGhpcy5fLmVkaXRvcjthPSExPT09ay5maXJlKFwia2V5XCIse2tleUNvZGU6ZSxkb21FdmVudDpifSk7YXx8KGYmJihhPSExIT09ay5leGVjQ29tbWFuZChmLHtmcm9tOlwia2V5c3Ryb2tlSGFuZGxlclwifSkpLGF8fChhPSEhdGhpcy5ibG9ja2VkS2V5c3Ryb2tlc1tlXSkpO2EmJmIucHJldmVudERlZmF1bHQoITApO3JldHVybiFhfSxiPWZ1bmN0aW9uKGIpe2EmJihhPSExLGIuZGF0YS5wcmV2ZW50RGVmYXVsdCghMCkpfTtDS0VESVRPUi5rZXlzdHJva2VIYW5kbGVyLnByb3RvdHlwZT17YXR0YWNoOmZ1bmN0aW9uKGEpe2Eub24oXCJrZXlkb3duXCIsZix0aGlzKTtpZihDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMpYS5vbihcImtleXByZXNzXCIsYix0aGlzKX19fSgpLGZ1bmN0aW9uKCl7Q0tFRElUT1IubGFuZz17bGFuZ3VhZ2VzOnthZjoxLGFyOjEsYXo6MSxiZzoxLGJuOjEsYnM6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXG5cImRlLWNoXCI6MSxlbDoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVuOjEsZW86MSxlczoxLGV0OjEsZXU6MSxmYToxLGZpOjEsZm86MSxcImZyLWNhXCI6MSxmcjoxLGdsOjEsZ3U6MSxoZToxLGhpOjEsaHI6MSxodToxLGlkOjEsaXM6MSxpdDoxLGphOjEsa2E6MSxrbToxLGtvOjEsa3U6MSxsdDoxLGx2OjEsbWs6MSxtbjoxLG1zOjEsbmI6MSxubDoxLG5vOjEsb2M6MSxwbDoxLFwicHQtYnJcIjoxLHB0OjEscm86MSxydToxLHNpOjEsc2s6MSxzbDoxLHNxOjEsXCJzci1sYXRuXCI6MSxzcjoxLHN2OjEsdGg6MSx0cjoxLHR0OjEsdWc6MSx1azoxLHZpOjEsXCJ6aC1jblwiOjEsemg6MX0scnRsOnthcjoxLGZhOjEsaGU6MSxrdToxLHVnOjF9LGxvYWQ6ZnVuY3Rpb24oYSxmLGIpe2EmJkNLRURJVE9SLmxhbmcubGFuZ3VhZ2VzW2FdfHwoYT10aGlzLmRldGVjdChmLGEpKTt2YXIgYz10aGlzO2Y9ZnVuY3Rpb24oKXtjW2FdLmRpcj1jLnJ0bFthXT9cInJ0bFwiOlwibHRyXCI7YihhLGNbYV0pfTtcbnRoaXNbYV0/ZigpOkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChcImxhbmcvXCIrYStcIi5qc1wiKSxmLHRoaXMpfSxkZXRlY3Q6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLmxhbmd1YWdlcztmPWZ8fG5hdmlnYXRvci51c2VyTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZXx8YTt2YXIgYz1mLnRvTG93ZXJDYXNlKCkubWF0Y2goLyhbYS16XSspKD86LShbYS16XSspKT8vKSxlPWNbMV0sYz1jWzJdO2JbZStcIi1cIitjXT9lPWUrXCItXCIrYzpiW2VdfHwoZT1udWxsKTtDS0VESVRPUi5sYW5nLmRldGVjdD1lP2Z1bmN0aW9uKCl7cmV0dXJuIGV9OmZ1bmN0aW9uKGEpe3JldHVybiBhfTtyZXR1cm4gZXx8YX19fSgpLENLRURJVE9SLnNjcmlwdExvYWRlcj1mdW5jdGlvbigpe3ZhciBhPXt9LGY9e307cmV0dXJue2xvYWQ6ZnVuY3Rpb24oYixjLGUsbCl7dmFyIGs9XCJzdHJpbmdcIj09dHlwZW9mIGI7ayYmKGI9W2JdKTtlfHwoZT1DS0VESVRPUik7dmFyIGQ9Yi5sZW5ndGgsXG5oPVtdLG09W10sZz1mdW5jdGlvbihhKXtjJiYoaz9jLmNhbGwoZSxhKTpjLmNhbGwoZSxoLG0pKX07aWYoMD09PWQpZyghMCk7ZWxzZXt2YXIgbj1mdW5jdGlvbihhLGIpeyhiP2g6bSkucHVzaChhKTswPj0tLWQmJihsJiZDS0VESVRPUi5kb2N1bWVudC5nZXREb2N1bWVudEVsZW1lbnQoKS5yZW1vdmVTdHlsZShcImN1cnNvclwiKSxnKGIpKX0scD1mdW5jdGlvbihiLGMpe2FbYl09MTt2YXIgZD1mW2JdO2RlbGV0ZSBmW2JdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWRbZV0oYixjKX0scj1mdW5jdGlvbihiKXtpZihhW2JdKW4oYiwhMCk7ZWxzZXt2YXIgZD1mW2JdfHwoZltiXT1bXSk7ZC5wdXNoKG4pO2lmKCEoMTxkLmxlbmd0aCkpe3ZhciBlPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNjcmlwdFwiKTtlLnNldEF0dHJpYnV0ZXMoe3R5cGU6XCJ0ZXh0L2phdmFzY3JpcHRcIixzcmM6Yn0pO2MmJihDS0VESVRPUi5lbnYuaWUmJig4Pj1DS0VESVRPUi5lbnYudmVyc2lvbnx8Q0tFRElUT1IuZW52LmllOUNvbXBhdCk/XG5lLiQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoXCJsb2FkZWRcIj09ZS4kLnJlYWR5U3RhdGV8fFwiY29tcGxldGVcIj09ZS4kLnJlYWR5U3RhdGUpZS4kLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHAoYiwhMCl9OihlLiQub25sb2FkPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3AoYiwhMCl9LDApfSxlLiQub25lcnJvcj1mdW5jdGlvbigpe3AoYiwhMSl9KSk7ZS5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRIZWFkKCkpfX19O2wmJkNLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwiY3Vyc29yXCIsXCJ3YWl0XCIpO2Zvcih2YXIgeD0wO3g8ZDt4KyspcihiW3hdKX19LHF1ZXVlOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3ZhciBiOyhiPWNbMF0pJiZ0aGlzLmxvYWQoYi5zY3JpcHRVcmwsYi5jYWxsYmFjayxDS0VESVRPUiwwKX12YXIgYz1bXTtyZXR1cm4gZnVuY3Rpb24oZSxmKXt2YXIgaz10aGlzO2MucHVzaCh7c2NyaXB0VXJsOmUsXG5jYWxsYmFjazpmdW5jdGlvbigpe2YmJmYuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Muc2hpZnQoKTthLmNhbGwoayl9fSk7MT09Yy5sZW5ndGgmJmEuY2FsbCh0aGlzKX19KCl9fSgpLENLRURJVE9SLnJlc291cmNlTWFuYWdlcj1mdW5jdGlvbihhLGYpe3RoaXMuYmFzZVBhdGg9YTt0aGlzLmZpbGVOYW1lPWY7dGhpcy5yZWdpc3RlcmVkPXt9O3RoaXMubG9hZGVkPXt9O3RoaXMuZXh0ZXJuYWxzPXt9O3RoaXMuXz17d2FpdGluZ0xpc3Q6e319fSxDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSxmKXtpZih0aGlzLnJlZ2lzdGVyZWRbYV0pdGhyb3cgRXJyb3IoJ1tDS0VESVRPUi5yZXNvdXJjZU1hbmFnZXIuYWRkXSBUaGUgcmVzb3VyY2UgbmFtZSBcIicrYSsnXCIgaXMgYWxyZWFkeSByZWdpc3RlcmVkLicpO3ZhciBiPXRoaXMucmVnaXN0ZXJlZFthXT1mfHx7fTtiLm5hbWU9YTtiLnBhdGg9dGhpcy5nZXRQYXRoKGEpO0NLRURJVE9SLmZpcmUoYStcbkNLRURJVE9SLnRvb2xzLmNhcGl0YWxpemUodGhpcy5maWxlTmFtZSkrXCJSZWFkeVwiLGIpO3JldHVybiB0aGlzLmdldChhKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlZ2lzdGVyZWRbYV18fG51bGx9LGdldFBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybChmJiZmLmRpcnx8dGhpcy5iYXNlUGF0aCthK1wiL1wiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy5leHRlcm5hbHNbYV07cmV0dXJuIENLRURJVE9SLmdldFVybCh0aGlzLmdldFBhdGgoYSkrKGY/Zi5maWxlOnRoaXMuZmlsZU5hbWUrXCIuanNcIikpfSxhZGRFeHRlcm5hbDpmdW5jdGlvbihhLGYsYil7YT1hLnNwbGl0KFwiLFwiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGU9YVtjXTtifHwoZj1mLnJlcGxhY2UoL1teXFwvXSskLyxmdW5jdGlvbihhKXtiPWE7cmV0dXJuXCJcIn0pKTt0aGlzLmV4dGVybmFsc1tlXT17ZGlyOmYsXG5maWxlOmJ8fHRoaXMuZmlsZU5hbWUrXCIuanNcIn19fSxsb2FkOmZ1bmN0aW9uKGEsZixiKXtDS0VESVRPUi50b29scy5pc0FycmF5KGEpfHwoYT1hP1thXTpbXSk7Zm9yKHZhciBjPXRoaXMubG9hZGVkLGU9dGhpcy5yZWdpc3RlcmVkLGw9W10saz17fSxkPXt9LGg9MDtoPGEubGVuZ3RoO2grKyl7dmFyIG09YVtoXTtpZihtKWlmKGNbbV18fGVbbV0pZFttXT10aGlzLmdldChtKTtlbHNle3ZhciBnPXRoaXMuZ2V0RmlsZVBhdGgobSk7bC5wdXNoKGcpO2cgaW4ga3x8KGtbZ109W10pO2tbZ10ucHVzaChtKX19Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQobCxmdW5jdGlvbihhLGUpe2lmKGUubGVuZ3RoKXRocm93IEVycm9yKCdbQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyLmxvYWRdIFJlc291cmNlIG5hbWUgXCInK2tbZVswXV0uam9pbihcIixcIikrJ1wiIHdhcyBub3QgZm91bmQgYXQgXCInK2VbMF0rJ1wiLicpO2Zvcih2YXIgZz0wO2c8YS5sZW5ndGg7ZysrKWZvcih2YXIgaD1rW2FbZ11dLFxubT0wO208aC5sZW5ndGg7bSsrKXt2YXIgbD1oW21dO2RbbF09dGhpcy5nZXQobCk7Y1tsXT0xfWYuY2FsbChiLGQpfSx0aGlzKX19LENLRURJVE9SLnBsdWdpbnM9bmV3IENLRURJVE9SLnJlc291cmNlTWFuYWdlcihcInBsdWdpbnMvXCIsXCJwbHVnaW5cIiksQ0tFRElUT1IucGx1Z2lucy5sb2FkPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKENLRURJVE9SLnBsdWdpbnMubG9hZCxmdW5jdGlvbihhKXt2YXIgZj17fTtyZXR1cm4gZnVuY3Rpb24oYixjLGUpe3ZhciBsPXt9LGs9ZnVuY3Rpb24oYil7YS5jYWxsKHRoaXMsYixmdW5jdGlvbihhKXtDS0VESVRPUi50b29scy5leHRlbmQobCxhKTt2YXIgYj1bXSxkO2ZvcihkIGluIGEpe3ZhciBuPWFbZF0scD1uJiZuLnJlcXVpcmVzO2lmKCFmW2RdKXtpZihuLmljb25zKWZvcih2YXIgcj1uLmljb25zLnNwbGl0KFwiLFwiKSx4PXIubGVuZ3RoO3gtLTspQ0tFRElUT1Iuc2tpbi5hZGRJY29uKHJbeF0sbi5wYXRoK1wiaWNvbnMvXCIrKENLRURJVE9SLmVudi5oaWRwaSYmXG5uLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrclt4XStcIi5wbmdcIik7ZltkXT0xfWlmKHApZm9yKHAuc3BsaXQmJihwPXAuc3BsaXQoXCIsXCIpKSxuPTA7bjxwLmxlbmd0aDtuKyspbFtwW25dXXx8Yi5wdXNoKHBbbl0pfWlmKGIubGVuZ3RoKWsuY2FsbCh0aGlzLGIpO2Vsc2V7Zm9yKGQgaW4gbCluPWxbZF0sbi5vbkxvYWQmJiFuLm9uTG9hZC5fY2FsbGVkJiYoITE9PT1uLm9uTG9hZCgpJiZkZWxldGUgbFtkXSxuLm9uTG9hZC5fY2FsbGVkPTEpO2MmJmMuY2FsbChlfHx3aW5kb3csbCl9fSx0aGlzKX07ay5jYWxsKHRoaXMsYil9fSksQ0tFRElUT1IucGx1Z2lucy5zZXRMYW5nPWZ1bmN0aW9uKGEsZixiKXt2YXIgYz10aGlzLmdldChhKTthPWMubGFuZ0VudHJpZXN8fChjLmxhbmdFbnRyaWVzPXt9KTtjPWMubGFuZ3x8KGMubGFuZz1bXSk7Yy5zcGxpdCYmKGM9Yy5zcGxpdChcIixcIikpOy0xPT1DS0VESVRPUi50b29scy5pbmRleE9mKGMsZikmJmMucHVzaChmKTthW2ZdPWJ9LENLRURJVE9SLnVpPVxuZnVuY3Rpb24oYSl7aWYoYS51aSlyZXR1cm4gYS51aTt0aGlzLml0ZW1zPXt9O3RoaXMuaW5zdGFuY2VzPXt9O3RoaXMuZWRpdG9yPWE7dGhpcy5fPXtoYW5kbGVyczp7fX07cmV0dXJuIHRoaXN9LENLRURJVE9SLnVpLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsZixiKXtiLm5hbWU9YS50b0xvd2VyQ2FzZSgpO3ZhciBjPXRoaXMuaXRlbXNbYV09e3R5cGU6Zixjb21tYW5kOmIuY29tbWFuZHx8bnVsbCxhcmdzOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKX07Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGMsYil9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbnN0YW5jZXNbYV19LGNyZWF0ZTpmdW5jdGlvbihhKXt2YXIgZj10aGlzLml0ZW1zW2FdLGI9ZiYmdGhpcy5fLmhhbmRsZXJzW2YudHlwZV0sYz1mJiZmLmNvbW1hbmQmJnRoaXMuZWRpdG9yLmdldENvbW1hbmQoZi5jb21tYW5kKSxiPWImJmIuY3JlYXRlLmFwcGx5KHRoaXMsZi5hcmdzKTt0aGlzLmluc3RhbmNlc1thXT1cbmI7YyYmYy51aUl0ZW1zLnB1c2goYik7YiYmIWIudHlwZSYmKGIudHlwZT1mLnR5cGUpO3JldHVybiBifSxhZGRIYW5kbGVyOmZ1bmN0aW9uKGEsZil7dGhpcy5fLmhhbmRsZXJzW2FdPWZ9LHNwYWNlOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuc3BhY2VJZChhKSl9LHNwYWNlSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWRpdG9yLmlkK1wiX1wiK2F9fSxDS0VESVRPUi5ldmVudC5pbXBsZW1lbnRPbihDS0VESVRPUi51aSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZSxnKXtDS0VESVRPUi5ldmVudC5jYWxsKHRoaXMpO2E9YSYmQ0tFRElUT1IudG9vbHMuY2xvbmUoYSk7aWYodm9pZCAwIT09ZSl7aWYoIShlIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQpKXRocm93IEVycm9yKFwiRXhwZWN0IGVsZW1lbnQgb2YgdHlwZSBDS0VESVRPUi5kb20uZWxlbWVudC5cIik7aWYoIWcpdGhyb3cgRXJyb3IoXCJPbmUgb2YgdGhlIGVsZW1lbnQgbW9kZXMgbXVzdCBiZSBzcGVjaWZpZWQuXCIpO1xuaWYoQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzJiZnPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXRocm93IEVycm9yKFwiSW5saW5lIGVsZW1lbnQgbW9kZSBpcyBub3Qgc3VwcG9ydGVkIG9uIElFIHF1aXJrcy5cIik7aWYoIWIoZSxnKSl0aHJvdyBFcnJvcignVGhlIHNwZWNpZmllZCBlbGVtZW50IG1vZGUgaXMgbm90IHN1cHBvcnRlZCBvbiBlbGVtZW50OiBcIicrZS5nZXROYW1lKCkrJ1wiLicpO3RoaXMuZWxlbWVudD1lO3RoaXMuZWxlbWVudE1vZGU9Zzt0aGlzLm5hbWU9dGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPJiYoZS5nZXRJZCgpfHxlLmdldE5hbWVBdHQoKSl9ZWxzZSB0aGlzLmVsZW1lbnRNb2RlPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9OT05FO3RoaXMuXz17fTt0aGlzLmNvbW1hbmRzPXt9O3RoaXMudGVtcGxhdGVzPXt9O3RoaXMubmFtZT10aGlzLm5hbWV8fGYoKTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO1xudGhpcy5zdGF0dXM9XCJ1bmxvYWRlZFwiO3RoaXMuY29uZmlnPUNLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLmNvbmZpZyk7dGhpcy51aT1uZXcgQ0tFRElUT1IudWkodGhpcyk7dGhpcy5mb2N1c01hbmFnZXI9bmV3IENLRURJVE9SLmZvY3VzTWFuYWdlcih0aGlzKTt0aGlzLmtleXN0cm9rZUhhbmRsZXI9bmV3IENLRURJVE9SLmtleXN0cm9rZUhhbmRsZXIodGhpcyk7dGhpcy5vbihcInJlYWRPbmx5XCIsYyk7dGhpcy5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe2wodGhpcyxhLmRhdGEucGF0aCl9KTt0aGlzLm9uKFwiYWN0aXZlRmlsdGVyQ2hhbmdlXCIsZnVuY3Rpb24oKXtsKHRoaXMsdGhpcy5lbGVtZW50UGF0aCgpLCEwKX0pO3RoaXMub24oXCJtb2RlXCIsYyk7dGhpcy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe3RoaXMuY29uZmlnLnN0YXJ0dXBGb2N1cyYmdGhpcy5mb2N1cygpfSk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlQ3JlYXRlZFwiLG51bGwsXG50aGlzKTtDS0VESVRPUi5hZGQodGhpcyk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe1wiZGVzdHJveWVkXCIhPT10aGlzLnN0YXR1cz9kKHRoaXMsYSk6Q0tFRElUT1Iud2FybihcImVkaXRvci1pbmNvcnJlY3QtZGVzdHJveVwiKX0sMCx0aGlzKX1mdW5jdGlvbiBmKCl7ZG8gdmFyIGE9XCJlZGl0b3JcIisgKyt4O3doaWxlKENLRURJVE9SLmluc3RhbmNlc1thXSk7cmV0dXJuIGF9ZnVuY3Rpb24gYihhLGIpe3JldHVybiBiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuaXMoQ0tFRElUT1IuZHRkLiRlZGl0YWJsZSl8fGEuaXMoXCJ0ZXh0YXJlYVwiKTpiPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT8hYS5pcyhDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50KToxfWZ1bmN0aW9uIGMoKXt2YXIgYT10aGlzLmNvbW1hbmRzLGI7Zm9yKGIgaW4gYSllKHRoaXMsYVtiXSl9ZnVuY3Rpb24gZShhLGIpe2JbYi5zdGFydERpc2FibGVkP1wiZGlzYWJsZVwiOmEucmVhZE9ubHkmJlxuIWIucmVhZE9ubHk/XCJkaXNhYmxlXCI6Yi5tb2Rlc1thLm1vZGVdP1wiZW5hYmxlXCI6XCJkaXNhYmxlXCJdKCl9ZnVuY3Rpb24gbChhLGIsYyl7aWYoYil7dmFyIGQsZSxnPWEuY29tbWFuZHM7Zm9yKGUgaW4gZylkPWdbZV0sKGN8fGQuY29udGV4dFNlbnNpdGl2ZSkmJmQucmVmcmVzaChhLGIpfX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuY29uZmlnLmN1c3RvbUNvbmZpZztpZighYilyZXR1cm4hMTt2YXIgYj1DS0VESVRPUi5nZXRVcmwoYiksYz12W2JdfHwodltiXT17fSk7Yy5mbj8oYy5mbi5jYWxsKGEsYS5jb25maWcpLENLRURJVE9SLmdldFVybChhLmNvbmZpZy5jdXN0b21Db25maWcpIT1iJiZrKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpKTpDS0VESVRPUi5zY3JpcHRMb2FkZXIucXVldWUoYixmdW5jdGlvbigpe2MuZm49Q0tFRElUT1IuZWRpdG9yQ29uZmlnP0NLRURJVE9SLmVkaXRvckNvbmZpZzpmdW5jdGlvbigpe307ayhhKX0pO3JldHVybiEwfWZ1bmN0aW9uIGQoYSxcbmIpe2Eub24oXCJjdXN0b21Db25maWdMb2FkZWRcIixmdW5jdGlvbigpe2lmKGIpe2lmKGIub24pZm9yKHZhciBjIGluIGIub24pYS5vbihjLGIub25bY10pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChhLmNvbmZpZyxiLCEwKTtkZWxldGUgYS5jb25maWcub259Yz1hLmNvbmZpZzthLnJlYWRPbmx5PWMucmVhZE9ubHk/ITA6YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT9hLmVsZW1lbnQuaXMoXCJ0ZXh0YXJlYVwiKT9hLmVsZW1lbnQuaGFzQXR0cmlidXRlKFwiZGlzYWJsZWRcIil8fGEuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJyZWFkb25seVwiKTphLmVsZW1lbnQuaXNSZWFkT25seSgpOmEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFP2EuZWxlbWVudC5oYXNBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKXx8YS5lbGVtZW50Lmhhc0F0dHJpYnV0ZShcInJlYWRvbmx5XCIpOiExO2EuYmxvY2tsZXNzPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/XG4hKGEuZWxlbWVudC5pcyhcInRleHRhcmVhXCIpfHxDS0VESVRPUi5kdGRbYS5lbGVtZW50LmdldE5hbWUoKV0ucCk6ITE7YS50YWJJbmRleD1jLnRhYkluZGV4fHxhLmVsZW1lbnQmJmEuZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKXx8MDthLmFjdGl2ZUVudGVyTW9kZT1hLmVudGVyTW9kZT1hLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpjLmVudGVyTW9kZTthLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWEuc2hpZnRFbnRlck1vZGU9YS5ibG9ja2xlc3M/Q0tFRElUT1IuRU5URVJfQlI6Yy5zaGlmdEVudGVyTW9kZTtjLnNraW4mJihDS0VESVRPUi5za2luTmFtZT1jLnNraW4pO2EuZmlyZU9uY2UoXCJjb25maWdMb2FkZWRcIik7YS5kYXRhUHJvY2Vzc29yPW5ldyBDS0VESVRPUi5odG1sRGF0YVByb2Nlc3NvcihhKTthLmZpbHRlcj1hLmFjdGl2ZUZpbHRlcj1uZXcgQ0tFRElUT1IuZmlsdGVyKGEpO2goYSl9KTtiJiZudWxsIT1iLmN1c3RvbUNvbmZpZyYmKGEuY29uZmlnLmN1c3RvbUNvbmZpZz1cbmIuY3VzdG9tQ29uZmlnKTtrKGEpfHxhLmZpcmVPbmNlKFwiY3VzdG9tQ29uZmlnTG9hZGVkXCIpfWZ1bmN0aW9uIGgoYSl7Q0tFRElUT1Iuc2tpbi5sb2FkUGFydChcImVkaXRvclwiLGZ1bmN0aW9uKCl7bShhKX0pfWZ1bmN0aW9uIG0oYSl7Q0tFRElUT1IubGFuZy5sb2FkKGEuY29uZmlnLmxhbmd1YWdlLGEuY29uZmlnLmRlZmF1bHRMYW5ndWFnZSxmdW5jdGlvbihiLGMpe3ZhciBkPWEuY29uZmlnLnRpdGxlO2EubGFuZ0NvZGU9YjthLmxhbmc9Q0tFRElUT1IudG9vbHMucHJvdG90eXBlZENvcHkoYyk7YS50aXRsZT1cInN0cmluZ1wiPT10eXBlb2YgZHx8ITE9PT1kP2Q6W2EubGFuZy5lZGl0b3IsYS5uYW1lXS5qb2luKFwiLCBcIik7YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9ufHwoYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5lbGVtZW50LmdldERpcmVjdGlvbigxKTphLmxhbmcuZGlyKTthLmZpcmUoXCJsYW5nTG9hZGVkXCIpO1xuZyhhKX0pfWZ1bmN0aW9uIGcoYSl7YS5nZXRTdHlsZXNTZXQoZnVuY3Rpb24oYil7YS5vbmNlKFwibG9hZGVkXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJzdHlsZXNTZXRcIix7c3R5bGVzOmJ9KX0sbnVsbCxudWxsLDEpO24oYSl9KX1mdW5jdGlvbiBuKGEpe3ZhciBiPWEuY29uZmlnLGM9Yi5wbHVnaW5zLGQ9Yi5leHRyYVBsdWdpbnMsZT1iLnJlbW92ZVBsdWdpbnM7aWYoZCl2YXIgZz1uZXcgUmVnRXhwKFwiKD86XnwsKSg/OlwiK2QucmVwbGFjZSgvXFxzKixcXHMqL2csXCJ8XCIpK1wiKSg/XFx4M2QsfCQpXCIsXCJnXCIpLGM9Yy5yZXBsYWNlKGcsXCJcIiksYz1jKyhcIixcIitkKTtpZihlKXZhciBmPW5ldyBSZWdFeHAoXCIoPzpefCwpKD86XCIrZS5yZXBsYWNlKC9cXHMqLFxccyovZyxcInxcIikrXCIpKD9cXHgzZCx8JClcIixcImdcIiksYz1jLnJlcGxhY2UoZixcIlwiKTtDS0VESVRPUi5lbnYuYWlyJiYoYys9XCIsYWRvYmVhaXJcIik7Q0tFRElUT1IucGx1Z2lucy5sb2FkKGMuc3BsaXQoXCIsXCIpLGZ1bmN0aW9uKGMpe3ZhciBkPVtdLFxuZT1bXSxnPVtdO2EucGx1Z2lucz1jO2Zvcih2YXIgaCBpbiBjKXt2YXIgcT1jW2hdLG09cS5sYW5nLGw9bnVsbCxrPXEucmVxdWlyZXMsdztDS0VESVRPUi50b29scy5pc0FycmF5KGspJiYoaz1rLmpvaW4oXCIsXCIpKTtpZihrJiYodz1rLm1hdGNoKGYpKSlmb3IoO2s9dy5wb3AoKTspQ0tFRElUT1IuZXJyb3IoXCJlZGl0b3ItcGx1Z2luLXJlcXVpcmVkXCIse3BsdWdpbjprLnJlcGxhY2UoXCIsXCIsXCJcIikscmVxdWlyZWRCeTpofSk7bSYmIWEubGFuZ1toXSYmKG0uc3BsaXQmJihtPW0uc3BsaXQoXCIsXCIpKSwwPD1DS0VESVRPUi50b29scy5pbmRleE9mKG0sYS5sYW5nQ29kZSk/bD1hLmxhbmdDb2RlOihsPWEubGFuZ0NvZGUucmVwbGFjZSgvLS4qLyxcIlwiKSxsPWwhPWEubGFuZ0NvZGUmJjA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxsKT9sOjA8PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxcImVuXCIpP1wiZW5cIjptWzBdKSxxLmxhbmdFbnRyaWVzJiZxLmxhbmdFbnRyaWVzW2xdPyhhLmxhbmdbaF09XG5xLmxhbmdFbnRyaWVzW2xdLGw9bnVsbCk6Zy5wdXNoKENLRURJVE9SLmdldFVybChxLnBhdGgrXCJsYW5nL1wiK2wrXCIuanNcIikpKTtlLnB1c2gobCk7ZC5wdXNoKHEpfUNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGcsZnVuY3Rpb24oKXtmb3IodmFyIGM9W1wiYmVmb3JlSW5pdFwiLFwiaW5pdFwiLFwiYWZ0ZXJJbml0XCJdLGc9MDtnPGMubGVuZ3RoO2crKylmb3IodmFyIGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGg9ZFtmXTswPT09ZyYmZVtmXSYmaC5sYW5nJiZoLmxhbmdFbnRyaWVzJiYoYS5sYW5nW2gubmFtZV09aC5sYW5nRW50cmllc1tlW2ZdXSk7aWYoaFtjW2ddXSloW2NbZ11dKGEpfWEuZmlyZU9uY2UoXCJwbHVnaW5zTG9hZGVkXCIpO2Iua2V5c3Ryb2tlcyYmYS5zZXRLZXlzdHJva2UoYS5jb25maWcua2V5c3Ryb2tlcyk7Zm9yKGY9MDtmPGEuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzLmxlbmd0aDtmKyspYS5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzW2EuY29uZmlnLmJsb2NrZWRLZXlzdHJva2VzW2ZdXT1cbjE7YS5zdGF0dXM9XCJsb2FkZWRcIjthLmZpcmVPbmNlKFwibG9hZGVkXCIpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZUxvYWRlZFwiLG51bGwsYSl9KX0pfWZ1bmN0aW9uIHAoKXt2YXIgYT10aGlzLmVsZW1lbnQ7aWYoYSYmdGhpcy5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPKXt2YXIgYj10aGlzLmdldERhdGEoKTt0aGlzLmNvbmZpZy5odG1sRW5jb2RlT3V0cHV0JiYoYj1DS0VESVRPUi50b29scy5odG1sRW5jb2RlKGIpKTthLmlzKFwidGV4dGFyZWFcIik/YS5zZXRWYWx1ZShiKTphLnNldEh0bWwoYik7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9YS5zdGFydENvbnRhaW5lcixkPWEuZW5kQ29udGFpbmVyO3JldHVybiBiLmlzJiYoYi5pcyhcInRyXCIpfHxiLmlzKFwidGRcIikmJmIuZXF1YWxzKGQpJiZhLmVuZE9mZnNldD09PWIuZ2V0Q2hpbGRDb3VudCgpKT8hMDohMX1mdW5jdGlvbiBkKGEpe3ZhciBiPWEuc3RhcnRDb250YWluZXI7XG5yZXR1cm4gYi5pcyhcInRyXCIpP2EuY2xvbmVDb250ZW50cygpOmIuY2xvbmUoITApfWZvcih2YXIgZT1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQsZyxmLGgsbT0wO208YS5sZW5ndGg7bSsrKXt2YXIgbD1hW21dLGs9bC5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoXCJ0clwiLCEwKTtjKGwpPyhnfHwoZz1rLmdldEFzY2VuZGFudChcInRhYmxlXCIpLmNsb25lKCksZy5hcHBlbmQoay5nZXRBc2NlbmRhbnQoe3RoZWFkOjEsdGJvZHk6MSx0Zm9vdDoxfSkuY2xvbmUoKSksZS5hcHBlbmQoZyksZz1nLmZpbmRPbmUoXCJ0aGVhZCwgdGJvZHksIHRmb290XCIpKSxmJiZmLmVxdWFscyhrKXx8KGY9ayxoPWsuY2xvbmUoKSxnLmFwcGVuZChoKSksaC5hcHBlbmQoZChsKSkpOmUuYXBwZW5kKGwuY2xvbmVDb250ZW50cygpKX1yZXR1cm4gZz9lOmIuZ2V0SHRtbEZyb21SYW5nZShhWzBdKX1hLnByb3RvdHlwZT1DS0VESVRPUi5lZGl0b3IucHJvdG90eXBlO0NLRURJVE9SLmVkaXRvcj1cbmE7dmFyIHg9MCx2PXt9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHthZGRDb21tYW5kOmZ1bmN0aW9uKGEsYil7Yi5uYW1lPWEudG9Mb3dlckNhc2UoKTt2YXIgYz1uZXcgQ0tFRElUT1IuY29tbWFuZCh0aGlzLGIpO3RoaXMubW9kZSYmZSh0aGlzLGMpO3JldHVybiB0aGlzLmNvbW1hbmRzW2FdPWN9LF9hdHRhY2hUb0Zvcm06ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe2MudXBkYXRlRWxlbWVudCgpO2MuXy5yZXF1aXJlZCYmIWQuZ2V0VmFsdWUoKSYmITE9PT1jLmZpcmUoXCJyZXF1aXJlZFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gYihhKXtyZXR1cm4hIShhJiZhLmNhbGwmJmEuYXBwbHkpfXZhciBjPXRoaXMsZD1jLmVsZW1lbnQsZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZC4kLmZvcm0pO2QuaXMoXCJ0ZXh0YXJlYVwiKSYmZSYmKGUub24oXCJzdWJtaXRcIixhKSxiKGUuJC5zdWJtaXQpJiYoZS4kLnN1Ym1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShlLiQuc3VibWl0LFxuZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7YSgpO2IuYXBwbHk/Yi5hcHBseSh0aGlzKTpiKCl9fSkpLGMub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtlLnJlbW92ZUxpc3RlbmVyKFwic3VibWl0XCIsYSl9KSl9LGRlc3Ryb3k6ZnVuY3Rpb24oYSl7dGhpcy5maXJlKFwiYmVmb3JlRGVzdHJveVwiKTshYSYmcC5jYWxsKHRoaXMpO3RoaXMuZWRpdGFibGUobnVsbCk7dGhpcy5maWx0ZXImJih0aGlzLmZpbHRlci5kZXN0cm95KCksZGVsZXRlIHRoaXMuZmlsdGVyKTtkZWxldGUgdGhpcy5hY3RpdmVGaWx0ZXI7dGhpcy5zdGF0dXM9XCJkZXN0cm95ZWRcIjt0aGlzLmZpcmUoXCJkZXN0cm95XCIpO3RoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCk7Q0tFRElUT1IucmVtb3ZlKHRoaXMpO0NLRURJVE9SLmZpcmUoXCJpbnN0YW5jZURlc3Ryb3llZFwiLG51bGwsdGhpcyl9LGVsZW1lbnRQYXRoOmZ1bmN0aW9uKGEpe2lmKCFhKXthPXRoaXMuZ2V0U2VsZWN0aW9uKCk7aWYoIWEpcmV0dXJuIG51bGw7YT1hLmdldFN0YXJ0RWxlbWVudCgpfXJldHVybiBhP1xubmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChhLHRoaXMuZWRpdGFibGUoKSk6bnVsbH0sY3JlYXRlUmFuZ2U6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRhYmxlKCk7cmV0dXJuIGE/bmV3IENLRURJVE9SLmRvbS5yYW5nZShhKTpudWxsfSxleGVjQ29tbWFuZDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Q29tbWFuZChhKSxkPXtuYW1lOmEsY29tbWFuZERhdGE6Ynx8e30sY29tbWFuZDpjfTtyZXR1cm4gYyYmYy5zdGF0ZSE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJiExIT09dGhpcy5maXJlKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixkKSYmKGQucmV0dXJuVmFsdWU9Yy5leGVjKGQuY29tbWFuZERhdGEpLCFjLmFzeW5jJiYhMSE9PXRoaXMuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIixkKSk/ZC5yZXR1cm5WYWx1ZTohMX0sZ2V0Q29tbWFuZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb21tYW5kc1thXX0sZ2V0RGF0YTpmdW5jdGlvbihhKXshYSYmdGhpcy5maXJlKFwiYmVmb3JlR2V0RGF0YVwiKTtcbnZhciBiPXRoaXMuXy5kYXRhO1wic3RyaW5nXCIhPXR5cGVvZiBiJiYoYj0oYj10aGlzLmVsZW1lbnQpJiZ0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRT9iLmlzKFwidGV4dGFyZWFcIik/Yi5nZXRWYWx1ZSgpOmIuZ2V0SHRtbCgpOlwiXCIpO2I9e2RhdGFWYWx1ZTpifTshYSYmdGhpcy5maXJlKFwiZ2V0RGF0YVwiLGIpO3JldHVybiBiLmRhdGFWYWx1ZX0sZ2V0U25hcHNob3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZpcmUoXCJnZXRTbmFwc2hvdFwiKTtcInN0cmluZ1wiIT10eXBlb2YgYSYmKGE9KGE9dGhpcy5lbGVtZW50KSYmdGhpcy5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/YS5pcyhcInRleHRhcmVhXCIpP2EuZ2V0VmFsdWUoKTphLmdldEh0bWwoKTpcIlwiKTtyZXR1cm4gYX0sbG9hZFNuYXBzaG90OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImxvYWRTbmFwc2hvdFwiLGEpfSxzZXREYXRhOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD0hMCxcbmU9YjtiJiZcIm9iamVjdFwiPT10eXBlb2YgYiYmKGM9Yi5pbnRlcm5hbCxlPWIuY2FsbGJhY2ssZD0hYi5ub1NuYXBzaG90KTshYyYmZCYmdGhpcy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2lmKGV8fCFjKXRoaXMub25jZShcImRhdGFSZWFkeVwiLGZ1bmN0aW9uKGEpeyFjJiZkJiZ0aGlzLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZSYmZS5jYWxsKGEuZWRpdG9yKX0pO2E9e2RhdGFWYWx1ZTphfTshYyYmdGhpcy5maXJlKFwic2V0RGF0YVwiLGEpO3RoaXMuXy5kYXRhPWEuZGF0YVZhbHVlOyFjJiZ0aGlzLmZpcmUoXCJhZnRlclNldERhdGFcIixhKX0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7YT1udWxsPT1hfHxhO3RoaXMucmVhZE9ubHkhPWEmJih0aGlzLnJlYWRPbmx5PWEsdGhpcy5rZXlzdHJva2VIYW5kbGVyLmJsb2NrZWRLZXlzdHJva2VzWzhdPSthLHRoaXMuZWRpdGFibGUoKS5zZXRSZWFkT25seShhKSx0aGlzLmZpcmUoXCJyZWFkT25seVwiKSl9LGluc2VydEh0bWw6ZnVuY3Rpb24oYSxiLGMpe3RoaXMuZmlyZShcImluc2VydEh0bWxcIixcbntkYXRhVmFsdWU6YSxtb2RlOmIscmFuZ2U6Y30pfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZShcImluc2VydFRleHRcIixhKX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhKXt0aGlzLmZpcmUoXCJpbnNlcnRFbGVtZW50XCIsYSl9LGdldFNlbGVjdGVkSHRtbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRhYmxlKCksYz10aGlzLmdldFNlbGVjdGlvbigpLGM9YyYmYy5nZXRSYW5nZXMoKTtpZighYnx8IWN8fDA9PT1jLmxlbmd0aClyZXR1cm4gbnVsbDtiPXIoYyxiKTtyZXR1cm4gYT9iLmdldEh0bWwoKTpifSxleHRyYWN0U2VsZWN0ZWRIdG1sOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5lZGl0YWJsZSgpLGQ9dGhpcy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxlPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudCxnO2lmKCFjfHwwPT09ZC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKyllLmFwcGVuZChjLmV4dHJhY3RIdG1sRnJvbVJhbmdlKGRbZ10sXG5iKSk7Ynx8dGhpcy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RbMF1dKTtyZXR1cm4gYT9lLmdldEh0bWwoKTplfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuZmlyZShcImJlZm9yZUZvY3VzXCIpfSxjaGVja0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuXCJyZWFkeVwiPT10aGlzLnN0YXR1cyYmdGhpcy5fLnByZXZpb3VzVmFsdWUhPT10aGlzLmdldFNuYXBzaG90KCl9LHJlc2V0RGlydHk6ZnVuY3Rpb24oKXt0aGlzLl8ucHJldmlvdXNWYWx1ZT10aGlzLmdldFNuYXBzaG90KCl9LHVwZGF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gcC5jYWxsKHRoaXMpfSxzZXRLZXlzdHJva2U6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5rZXlzdHJva2VIYW5kbGVyLmtleXN0cm9rZXMsYj1DS0VESVRPUi50b29scy5pc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOltbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKV0sYyxkLGU9Yi5sZW5ndGg7ZS0tOyljPWJbZV0sZD0wLENLRURJVE9SLnRvb2xzLmlzQXJyYXkoYykmJlxuKGQ9Y1sxXSxjPWNbMF0pLGQ/YVtjXT1kOmRlbGV0ZSBhW2NdfSxnZXRDb21tYW5kS2V5c3Ryb2tlOmZ1bmN0aW9uKGEpe2lmKGE9XCJzdHJpbmdcIj09PXR5cGVvZiBhP3RoaXMuZ2V0Q29tbWFuZChhKTphKXt2YXIgYj1hJiZhLm5hbWUsYz10aGlzLmtleXN0cm9rZUhhbmRsZXIua2V5c3Ryb2tlcyxkO2lmKGEuZmFrZUtleXN0cm9rZSlyZXR1cm4gYS5mYWtlS2V5c3Ryb2tlO2ZvcihkIGluIGMpaWYoYy5oYXNPd25Qcm9wZXJ0eShkKSYmY1tkXT09YilyZXR1cm4gZH1yZXR1cm4gbnVsbH0sYWRkRmVhdHVyZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXIuYWRkRmVhdHVyZShhKX0sc2V0QWN0aXZlRmlsdGVyOmZ1bmN0aW9uKGEpe2F8fChhPXRoaXMuZmlsdGVyKTt0aGlzLmFjdGl2ZUZpbHRlciE9PWEmJih0aGlzLmFjdGl2ZUZpbHRlcj1hLHRoaXMuZmlyZShcImFjdGl2ZUZpbHRlckNoYW5nZVwiKSxhPT09dGhpcy5maWx0ZXI/dGhpcy5zZXRBY3RpdmVFbnRlck1vZGUobnVsbCxcbm51bGwpOnRoaXMuc2V0QWN0aXZlRW50ZXJNb2RlKGEuZ2V0QWxsb3dlZEVudGVyTW9kZSh0aGlzLmVudGVyTW9kZSksYS5nZXRBbGxvd2VkRW50ZXJNb2RlKHRoaXMuc2hpZnRFbnRlck1vZGUsITApKSl9LHNldEFjdGl2ZUVudGVyTW9kZTpmdW5jdGlvbihhLGIpe2E9YT90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjphOnRoaXMuZW50ZXJNb2RlO2I9Yj90aGlzLmJsb2NrbGVzcz9DS0VESVRPUi5FTlRFUl9CUjpiOnRoaXMuc2hpZnRFbnRlck1vZGU7aWYodGhpcy5hY3RpdmVFbnRlck1vZGUhPWF8fHRoaXMuYWN0aXZlU2hpZnRFbnRlck1vZGUhPWIpdGhpcy5hY3RpdmVFbnRlck1vZGU9YSx0aGlzLmFjdGl2ZVNoaWZ0RW50ZXJNb2RlPWIsdGhpcy5maXJlKFwiYWN0aXZlRW50ZXJNb2RlQ2hhbmdlXCIpfSxzaG93Tm90aWZpY2F0aW9uOmZ1bmN0aW9uKGEpe2FsZXJ0KGEpfX0pfSgpLENLRURJVE9SLkVMRU1FTlRfTU9ERV9OT05FPTAsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U9XG4xLENLRURJVE9SLkVMRU1FTlRfTU9ERV9BUFBFTkRUTz0yLENLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU9MyxDS0VESVRPUi5odG1sUGFyc2VyPWZ1bmN0aW9uKCl7dGhpcy5fPXtodG1sUGFydHNSZWdleDovPCg/Oig/OlxcLyhbXj5dKyk+KXwoPzohLS0oW1xcU3xcXHNdKj8pLS1cXHgzZSl8KD86KFteXFwvXFxzPl0rKSgoPzpcXHMrW1xcd1xcLTouXSsoPzpcXHMqPVxccyo/KD86KD86XCJbXlwiXSpcIil8KD86J1teJ10qJyl8W15cXHNcIidcXC8+XSspKT8pKilbXFxTXFxzXSo/KFxcLz8pPikpL2d9fSxmdW5jdGlvbigpe3ZhciBhPS8oW1xcd1xcLTouXSspKD86KD86XFxzKj1cXHMqKD86KD86XCIoW15cIl0qKVwiKXwoPzonKFteJ10qKScpfChbXlxccz5dKykpKXwoPz1cXHN8JCkpL2csZj17Y2hlY2tlZDoxLGNvbXBhY3Q6MSxkZWNsYXJlOjEsZGVmZXI6MSxkaXNhYmxlZDoxLGlzbWFwOjEsbXVsdGlwbGU6MSxub2hyZWY6MSxub3Jlc2l6ZToxLG5vc2hhZGU6MSxub3dyYXA6MSxyZWFkb25seToxLHNlbGVjdGVkOjF9O1xuQ0tFRElUT1IuaHRtbFBhcnNlci5wcm90b3R5cGU9e29uVGFnT3BlbjpmdW5jdGlvbigpe30sb25UYWdDbG9zZTpmdW5jdGlvbigpe30sb25UZXh0OmZ1bmN0aW9uKCl7fSxvbkNEQVRBOmZ1bmN0aW9uKCl7fSxvbkNvbW1lbnQ6ZnVuY3Rpb24oKXt9LHBhcnNlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxlLGw9MCxrO2M9dGhpcy5fLmh0bWxQYXJ0c1JlZ2V4LmV4ZWMoYik7KXtlPWMuaW5kZXg7aWYoZT5sKWlmKGw9Yi5zdWJzdHJpbmcobCxlKSxrKWsucHVzaChsKTtlbHNlIHRoaXMub25UZXh0KGwpO2w9dGhpcy5fLmh0bWxQYXJ0c1JlZ2V4Lmxhc3RJbmRleDtpZihlPWNbMV0paWYoZT1lLnRvTG93ZXJDYXNlKCksayYmQ0tFRElUT1IuZHRkLiRjZGF0YVtlXSYmKHRoaXMub25DREFUQShrLmpvaW4oXCJcIikpLGs9bnVsbCksIWspe3RoaXMub25UYWdDbG9zZShlKTtjb250aW51ZX1pZihrKWsucHVzaChjWzBdKTtlbHNlIGlmKGU9Y1szXSl7aWYoZT1lLnRvTG93ZXJDYXNlKCksIS89XCIvLnRlc3QoZSkpe3ZhciBkPVxue30saCxtPWNbNF07Yz0hIWNbNV07aWYobSlmb3IoO2g9YS5leGVjKG0pOyl7dmFyIGc9aFsxXS50b0xvd2VyQ2FzZSgpO2g9aFsyXXx8aFszXXx8aFs0XXx8XCJcIjtkW2ddPSFoJiZmW2ddP2c6Q0tFRElUT1IudG9vbHMuaHRtbERlY29kZUF0dHIoaCl9dGhpcy5vblRhZ09wZW4oZSxkLGMpOyFrJiZDS0VESVRPUi5kdGQuJGNkYXRhW2VdJiYoaz1bXSl9fWVsc2UgaWYoZT1jWzJdKXRoaXMub25Db21tZW50KGUpfWlmKGIubGVuZ3RoPmwpdGhpcy5vblRleHQoYi5zdWJzdHJpbmcobCxiLmxlbmd0aCkpfX19KCksQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbigpe3RoaXMuXz17b3V0cHV0OltdfX0scHJvdG86e29wZW5UYWc6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2NcIixhKX0sb3BlblRhZ0Nsb3NlOmZ1bmN0aW9uKGEsZil7Zj90aGlzLl8ub3V0cHV0LnB1c2goXCIgL1xceDNlXCIpOnRoaXMuXy5vdXRwdXQucHVzaChcIlxceDNlXCIpfSxcbmF0dHJpYnV0ZTpmdW5jdGlvbihhLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBmJiYoZj1DS0VESVRPUi50b29scy5odG1sRW5jb2RlQXR0cihmKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiIFwiLGEsJ1xceDNkXCInLGYsJ1wiJyl9LGNsb3NlVGFnOmZ1bmN0aW9uKGEpe3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjL1wiLGEsXCJcXHgzZVwiKX0sdGV4dDpmdW5jdGlvbihhKXt0aGlzLl8ub3V0cHV0LnB1c2goYSl9LGNvbW1lbnQ6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MhLS1cIixhLFwiLS1cXHgzZVwiKX0sd3JpdGU6ZnVuY3Rpb24oYSl7dGhpcy5fLm91dHB1dC5wdXNoKGEpfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5vdXRwdXQ9W107dGhpcy5fLmluZGVudD0hMX0sZ2V0SHRtbDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLl8ub3V0cHV0LmpvaW4oXCJcIik7YSYmdGhpcy5yZXNldCgpO3JldHVybiBmfX19KSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIubm9kZT1cbmZ1bmN0aW9uKCl7fTtDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUucHJvdG90eXBlPXtyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudC5jaGlsZHJlbixmPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYSx0aGlzKSxiPXRoaXMucHJldmlvdXMsYz10aGlzLm5leHQ7YiYmKGIubmV4dD1jKTtjJiYoYy5wcmV2aW91cz1iKTthLnNwbGljZShmLDEpO3RoaXMucGFyZW50PW51bGx9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMucGFyZW50LmNoaWxkcmVuLGI9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihmLHRoaXMpLGM9YS5wcmV2aW91cz10aGlzLnByZXZpb3VzLGU9YS5uZXh0PXRoaXMubmV4dDtjJiYoYy5uZXh0PWEpO2UmJihlLnByZXZpb3VzPWEpO2ZbYl09YTthLnBhcmVudD10aGlzLnBhcmVudDt0aGlzLnBhcmVudD1udWxsfSxpbnNlcnRBZnRlcjpmdW5jdGlvbihhKXt2YXIgZj1hLnBhcmVudC5jaGlsZHJlbixiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZixcbmEpLGM9YS5uZXh0O2Yuc3BsaWNlKGIrMSwwLHRoaXMpO3RoaXMubmV4dD1hLm5leHQ7dGhpcy5wcmV2aW91cz1hO2EubmV4dD10aGlzO2MmJihjLnByZXZpb3VzPXRoaXMpO3RoaXMucGFyZW50PWEucGFyZW50fSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYSl7dmFyIGY9YS5wYXJlbnQuY2hpbGRyZW4sYj1DS0VESVRPUi50b29scy5pbmRleE9mKGYsYSk7Zi5zcGxpY2UoYiwwLHRoaXMpO3RoaXMubmV4dD1hOyh0aGlzLnByZXZpb3VzPWEucHJldmlvdXMpJiYoYS5wcmV2aW91cy5uZXh0PXRoaXMpO2EucHJldmlvdXM9dGhpczt0aGlzLnBhcmVudD1hLnBhcmVudH0sZ2V0QXNjZW5kYW50OmZ1bmN0aW9uKGEpe3ZhciBmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGE/YTpcInN0cmluZ1wiPT10eXBlb2YgYT9mdW5jdGlvbihiKXtyZXR1cm4gYi5uYW1lPT1hfTpmdW5jdGlvbihiKXtyZXR1cm4gYi5uYW1lIGluIGF9LGI9dGhpcy5wYXJlbnQ7Zm9yKDtiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVDspe2lmKGYoYikpcmV0dXJuIGI7XG5iPWIucGFyZW50fXJldHVybiBudWxsfSx3cmFwV2l0aDpmdW5jdGlvbihhKXt0aGlzLnJlcGxhY2VXaXRoKGEpO2EuYWRkKHRoaXMpO3JldHVybiBhfSxnZXRJbmRleDpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMucGFyZW50LmNoaWxkcmVuLHRoaXMpfSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3JldHVybiBhfHx7fX19fSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudD1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWE7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMX19LENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9DT01NRU5ULGZpbHRlcjpmdW5jdGlvbihhLGYpe3ZhciBiPXRoaXMudmFsdWU7aWYoIShiPWEub25Db21tZW50KGYsYix0aGlzKSkpcmV0dXJuIHRoaXMucmVtb3ZlKCksXG4hMTtpZihcInN0cmluZ1wiIT10eXBlb2YgYilyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChiKSwhMTt0aGlzLnZhbHVlPWI7cmV0dXJuITB9LHdyaXRlSHRtbDpmdW5jdGlvbihhLGYpe2YmJnRoaXMuZmlsdGVyKGYpO2EuY29tbWVudCh0aGlzLnZhbHVlKX19KSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dD1mdW5jdGlvbihhKXt0aGlzLnZhbHVlPWE7dGhpcy5fPXtpc0Jsb2NrTGlrZTohMX19O0NLRURJVE9SLmh0bWxQYXJzZXIudGV4dC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGUse3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULGZpbHRlcjpmdW5jdGlvbihhLGYpe2lmKCEodGhpcy52YWx1ZT1hLm9uVGV4dChmLHRoaXMudmFsdWUsdGhpcykpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExfSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSxmKXtmJiZ0aGlzLmZpbHRlcihmKTthLnRleHQodGhpcy52YWx1ZSl9fSl9KCksXG5cInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe0NLRURJVE9SLmh0bWxQYXJzZXIuY2RhdGE9ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hfTtDS0VESVRPUi5odG1sUGFyc2VyLmNkYXRhLnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIubm9kZSx7dHlwZTpDS0VESVRPUi5OT0RFX1RFWFQsZmlsdGVyOmZ1bmN0aW9uKCl7fSx3cml0ZUh0bWw6ZnVuY3Rpb24oYSl7YS53cml0ZSh0aGlzLnZhbHVlKX19KX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50PWZ1bmN0aW9uKCl7dGhpcy5jaGlsZHJlbj1bXTt0aGlzLnBhcmVudD1udWxsO3RoaXMuXz17aXNCbG9ja0xpa2U6ITAsaGFzSW5saW5lU3RhcnRlZDohMX19LGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2Utc3Vydml2ZVwiXT8hMTpcImFcIj09YS5uYW1lJiZhLmF0dHJpYnV0ZXMuaHJlZnx8Q0tFRElUT1IuZHRkLiRyZW1vdmVFbXB0eVthLm5hbWVdfVxudmFyIGY9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt0YWJsZToxLHVsOjEsb2w6MSxkbDoxfSxDS0VESVRPUi5kdGQudGFibGUsQ0tFRElUT1IuZHRkLnVsLENLRURJVE9SLmR0ZC5vbCxDS0VESVRPUi5kdGQuZGwpLGI9e29sOjEsdWw6MX0sYz1DS0VESVRPUi50b29scy5leHRlbmQoe30se2h0bWw6MX0sQ0tFRElUT1IuZHRkLmh0bWwsQ0tFRElUT1IuZHRkLmJvZHksQ0tFRElUT1IuZHRkLmhlYWQse3N0eWxlOjEsc2NyaXB0OjF9KSxlPXt1bDpcImxpXCIsb2w6XCJsaVwiLGRsOlwiZGRcIix0YWJsZTpcInRib2R5XCIsdGJvZHk6XCJ0clwiLHRoZWFkOlwidHJcIix0Zm9vdDpcInRyXCIsdHI6XCJ0ZFwifTtDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sPWZ1bmN0aW9uKGwsayxkKXtmdW5jdGlvbiBoKGEpe3ZhciBiO2lmKDA8dS5sZW5ndGgpZm9yKHZhciBjPTA7Yzx1Lmxlbmd0aDtjKyspe3ZhciBkPXVbY10sZT1kLm5hbWUsZz1DS0VESVRPUi5kdGRbZV0sZj15Lm5hbWUmJkNLRURJVE9SLmR0ZFt5Lm5hbWVdO1xuZiYmIWZbZV18fGEmJmcmJiFnW2FdJiZDS0VESVRPUi5kdGRbYV0/ZT09eS5uYW1lJiYobih5LHkucGFyZW50LDEpLGMtLSk6KGJ8fChtKCksYj0xKSxkPWQuY2xvbmUoKSxkLnBhcmVudD15LHk9ZCx1LnNwbGljZShjLDEpLGMtLSl9fWZ1bmN0aW9uIG0oKXtmb3IoO3QubGVuZ3RoOyluKHQuc2hpZnQoKSx5KX1mdW5jdGlvbiBnKGEpe2lmKGEuXy5pc0Jsb2NrTGlrZSYmXCJwcmVcIiE9YS5uYW1lJiZcInRleHRhcmVhXCIhPWEubmFtZSl7dmFyIGI9YS5jaGlsZHJlbi5sZW5ndGgsYz1hLmNoaWxkcmVuW2ItMV0sZDtjJiZjLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKChkPUNLRURJVE9SLnRvb2xzLnJ0cmltKGMudmFsdWUpKT9jLnZhbHVlPWQ6YS5jaGlsZHJlbi5sZW5ndGg9Yi0xKX19ZnVuY3Rpb24gbihiLGMsZSl7Yz1jfHx5fHx2O3ZhciBmPXk7dm9pZCAwPT09Yi5wcmV2aW91cyYmKHAoYyxiKSYmKHk9Yyx4Lm9uVGFnT3BlbihkLHt9KSxiLnJldHVyblBvaW50PWM9eSksZyhiKSxcbmEoYikmJiFiLmNoaWxkcmVuLmxlbmd0aHx8Yy5hZGQoYiksXCJwcmVcIj09Yi5uYW1lJiYocT0hMSksXCJ0ZXh0YXJlYVwiPT1iLm5hbWUmJihBPSExKSk7Yi5yZXR1cm5Qb2ludD8oeT1iLnJldHVyblBvaW50LGRlbGV0ZSBiLnJldHVyblBvaW50KTp5PWU/YzpmfWZ1bmN0aW9uIHAoYSxiKXtpZigoYT09dnx8XCJib2R5XCI9PWEubmFtZSkmJmQmJighYS5uYW1lfHxDS0VESVRPUi5kdGRbYS5uYW1lXVtkXSkpe3ZhciBjLGU7cmV0dXJuKGM9Yi5hdHRyaWJ1dGVzJiYoZT1iLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXSk/ZTpiLm5hbWUpJiZjIGluIENLRURJVE9SLmR0ZC4kaW5saW5lJiYhKGMgaW4gQ0tFRElUT1IuZHRkLmhlYWQpJiYhYi5pc09ycGhhbnx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFR9fWZ1bmN0aW9uIHIoYSxiKXtyZXR1cm4gYSBpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtfHxhIGluIENLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50P2E9PWJ8fFxuXCJkdFwiPT1hJiZcImRkXCI9PWJ8fFwiZGRcIj09YSYmXCJkdFwiPT1iOiExfXZhciB4PW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLHY9ayBpbnN0YW5jZW9mIENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudD9rOlwic3RyaW5nXCI9PXR5cGVvZiBrP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoayk6bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQsdT1bXSx0PVtdLHk9dixBPVwidGV4dGFyZWFcIj09di5uYW1lLHE9XCJwcmVcIj09di5uYW1lO3gub25UYWdPcGVuPWZ1bmN0aW9uKGQsZSxnLGwpe2U9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChkLGUpO2UuaXNVbmtub3duJiZnJiYoZS5pc0VtcHR5PSEwKTtlLmlzT3B0aW9uYWxDbG9zZT1sO2lmKGEoZSkpdS5wdXNoKGUpO2Vsc2V7aWYoXCJwcmVcIj09ZClxPSEwO2Vsc2V7aWYoXCJiclwiPT1kJiZxKXt5LmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KFwiXFxuXCIpKTtyZXR1cm59XCJ0ZXh0YXJlYVwiPT1kJiYoQT0hMCl9aWYoXCJiclwiPT1cbmQpdC5wdXNoKGUpO2Vsc2V7Zm9yKDshKGw9KGc9eS5uYW1lKT9DS0VESVRPUi5kdGRbZ118fCh5Ll8uaXNCbG9ja0xpa2U/Q0tFRElUT1IuZHRkLmRpdjpDS0VESVRPUi5kdGQuc3Bhbik6YyxlLmlzVW5rbm93bnx8eS5pc1Vua25vd258fGxbZF0pOylpZih5LmlzT3B0aW9uYWxDbG9zZSl4Lm9uVGFnQ2xvc2UoZyk7ZWxzZSBpZihkIGluIGImJmcgaW4gYilnPXkuY2hpbGRyZW4sKGc9Z1tnLmxlbmd0aC0xXSkmJlwibGlcIj09Zy5uYW1lfHxuKGc9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChcImxpXCIpLHkpLCFlLnJldHVyblBvaW50JiYoZS5yZXR1cm5Qb2ludD15KSx5PWc7ZWxzZSBpZihkIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0mJiFyKGQsZykpeC5vblRhZ09wZW4oXCJsaVwiPT1kP1widWxcIjpcImRsXCIse30sMCwxKTtlbHNlIGlmKGcgaW4gZiYmIXIoZCxnKSkhZS5yZXR1cm5Qb2ludCYmKGUucmV0dXJuUG9pbnQ9eSkseT15LnBhcmVudDtlbHNlIGlmKGcgaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJlxudS51bnNoaWZ0KHkpLHkucGFyZW50KW4oeSx5LnBhcmVudCwxKTtlbHNle2UuaXNPcnBoYW49MTticmVha31oKGQpO20oKTtlLnBhcmVudD15O2UuaXNFbXB0eT9uKGUpOnk9ZX19fTt4Lm9uVGFnQ2xvc2U9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPXUubGVuZ3RoLTE7MDw9YjtiLS0paWYoYT09dVtiXS5uYW1lKXt1LnNwbGljZShiLDEpO3JldHVybn1mb3IodmFyIGM9W10sZT1bXSxnPXk7ZyE9diYmZy5uYW1lIT1hOylnLl8uaXNCbG9ja0xpa2V8fGUudW5zaGlmdChnKSxjLnB1c2goZyksZz1nLnJldHVyblBvaW50fHxnLnBhcmVudDtpZihnIT12KXtmb3IoYj0wO2I8Yy5sZW5ndGg7YisrKXt2YXIgZj1jW2JdO24oZixmLnBhcmVudCl9eT1nO2cuXy5pc0Jsb2NrTGlrZSYmbSgpO24oZyxnLnBhcmVudCk7Zz09eSYmKHk9eS5wYXJlbnQpO3U9dS5jb25jYXQoZSl9XCJib2R5XCI9PWEmJihkPSExKX07eC5vblRleHQ9ZnVuY3Rpb24oYSl7aWYoISh5Ll8uaGFzSW5saW5lU3RhcnRlZCYmIXQubGVuZ3RofHxcbnF8fEEpJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhKSwwPT09YS5sZW5ndGgpKXJldHVybjt2YXIgYj15Lm5hbWUsZz1iP0NLRURJVE9SLmR0ZFtiXXx8KHkuXy5pc0Jsb2NrTGlrZT9DS0VESVRPUi5kdGQuZGl2OkNLRURJVE9SLmR0ZC5zcGFuKTpjO2lmKCFBJiYhZ1tcIiNcIl0mJmIgaW4gZil4Lm9uVGFnT3BlbihlW2JdfHxcIlwiKSx4Lm9uVGV4dChhKTtlbHNle20oKTtoKCk7cXx8QXx8KGE9YS5yZXBsYWNlKC9bXFx0XFxyXFxuIF17Mix9fFtcXHRcXHJcXG5dL2csXCIgXCIpKTthPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoYSk7aWYocCh5LGEpKXRoaXMub25UYWdPcGVuKGQse30sMCwxKTt5LmFkZChhKX19O3gub25DREFUQT1mdW5jdGlvbihhKXt5LmFkZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5jZGF0YShhKSl9O3gub25Db21tZW50PWZ1bmN0aW9uKGEpe20oKTtoKCk7eS5hZGQobmV3IENLRURJVE9SLmh0bWxQYXJzZXIuY29tbWVudChhKSl9O3gucGFyc2UobCk7Zm9yKG0oKTt5IT1cbnY7KW4oeSx5LnBhcmVudCwxKTtnKHYpO3JldHVybiB2fTtDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LnByb3RvdHlwZT17dHlwZTpDS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5ULGFkZDpmdW5jdGlvbihhLGIpe2lzTmFOKGIpJiYoYj10aGlzLmNoaWxkcmVuLmxlbmd0aCk7dmFyIGM9MDxiP3RoaXMuY2hpbGRyZW5bYi0xXTpudWxsO2lmKGMpe2lmKGEuXy5pc0Jsb2NrTGlrZSYmYy50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihjLnZhbHVlPUNLRURJVE9SLnRvb2xzLnJ0cmltKGMudmFsdWUpLDA9PT1jLnZhbHVlLmxlbmd0aCkpe3RoaXMuY2hpbGRyZW4ucG9wKCk7dGhpcy5hZGQoYSk7cmV0dXJufWMubmV4dD1hfWEucHJldmlvdXM9YzthLnBhcmVudD10aGlzO3RoaXMuY2hpbGRyZW4uc3BsaWNlKGIsMCxhKTt0aGlzLl8uaGFzSW5saW5lU3RhcnRlZHx8KHRoaXMuXy5oYXNJbmxpbmVTdGFydGVkPWEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUfHxhLnR5cGU9PVxuQ0tFRElUT1IuTk9ERV9FTEVNRU5UJiYhYS5fLmlzQmxvY2tMaWtlKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7Yj10aGlzLmdldEZpbHRlckNvbnRleHQoYik7YS5vblJvb3QoYix0aGlzKTt0aGlzLmZpbHRlckNoaWxkcmVuKGEsITEsYil9LGZpbHRlckNoaWxkcmVuOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmNoaWxkcmVuRmlsdGVyZWRCeSE9YS5pZCl7Yz10aGlzLmdldEZpbHRlckNvbnRleHQoYyk7aWYoYiYmIXRoaXMucGFyZW50KWEub25Sb290KGMsdGhpcyk7dGhpcy5jaGlsZHJlbkZpbHRlcmVkQnk9YS5pZDtmb3IoYj0wO2I8dGhpcy5jaGlsZHJlbi5sZW5ndGg7YisrKSExPT09dGhpcy5jaGlsZHJlbltiXS5maWx0ZXIoYSxjKSYmYi0tfX0sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsYil7YiYmdGhpcy5maWx0ZXIoYik7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKX0sd3JpdGVDaGlsZHJlbkh0bWw6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlPXRoaXMuZ2V0RmlsdGVyQ29udGV4dCgpO1xuaWYoYyYmIXRoaXMucGFyZW50JiZiKWIub25Sb290KGUsdGhpcyk7YiYmdGhpcy5maWx0ZXJDaGlsZHJlbihiLCExLGUpO2I9MDtjPXRoaXMuY2hpbGRyZW47Zm9yKGU9Yy5sZW5ndGg7YjxlO2IrKyljW2JdLndyaXRlSHRtbChhKX0sZm9yRWFjaDpmdW5jdGlvbihhLGIsYyl7aWYoIShjfHxiJiZ0aGlzLnR5cGUhPWIpKXZhciBlPWEodGhpcyk7aWYoITEhPT1lKXtjPXRoaXMuY2hpbGRyZW47Zm9yKHZhciBmPTA7ZjxjLmxlbmd0aDtmKyspZT1jW2ZdLGUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP2UuZm9yRWFjaChhLGIpOmImJmUudHlwZSE9Ynx8YShlKX19LGdldEZpbHRlckNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGF8fHt9fX19KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dGhpcy5ydWxlcz1bXX1mdW5jdGlvbiBmKGIsYyxlLGYpe3ZhciBrLGQ7Zm9yKGsgaW4gYykoZD1iW2tdKXx8KGQ9YltrXT1uZXcgYSksZC5hZGQoY1trXSxlLGYpfUNLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYil7dGhpcy5pZD1DS0VESVRPUi50b29scy5nZXROZXh0TnVtYmVyKCk7dGhpcy5lbGVtZW50TmFtZVJ1bGVzPW5ldyBhO3RoaXMuYXR0cmlidXRlTmFtZVJ1bGVzPW5ldyBhO3RoaXMuZWxlbWVudHNSdWxlcz17fTt0aGlzLmF0dHJpYnV0ZXNSdWxlcz17fTt0aGlzLnRleHRSdWxlcz1uZXcgYTt0aGlzLmNvbW1lbnRSdWxlcz1uZXcgYTt0aGlzLnJvb3RSdWxlcz1uZXcgYTtiJiZ0aGlzLmFkZFJ1bGVzKGIsMTApfSxwcm90bzp7YWRkUnVsZXM6ZnVuY3Rpb24oYSxjKXt2YXIgZTtcIm51bWJlclwiPT10eXBlb2YgYz9lPWM6YyYmXCJwcmlvcml0eVwiaW4gYyYmKGU9Yy5wcmlvcml0eSk7XCJudW1iZXJcIiE9dHlwZW9mIGUmJihlPTEwKTtcIm9iamVjdFwiIT10eXBlb2YgYyYmKGM9e30pO2EuZWxlbWVudE5hbWVzJiZ0aGlzLmVsZW1lbnROYW1lUnVsZXMuYWRkTWFueShhLmVsZW1lbnROYW1lcyxlLGMpO2EuYXR0cmlidXRlTmFtZXMmJlxudGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuYWRkTWFueShhLmF0dHJpYnV0ZU5hbWVzLGUsYyk7YS5lbGVtZW50cyYmZih0aGlzLmVsZW1lbnRzUnVsZXMsYS5lbGVtZW50cyxlLGMpO2EuYXR0cmlidXRlcyYmZih0aGlzLmF0dHJpYnV0ZXNSdWxlcyxhLmF0dHJpYnV0ZXMsZSxjKTthLnRleHQmJnRoaXMudGV4dFJ1bGVzLmFkZChhLnRleHQsZSxjKTthLmNvbW1lbnQmJnRoaXMuY29tbWVudFJ1bGVzLmFkZChhLmNvbW1lbnQsZSxjKTthLnJvb3QmJnRoaXMucm9vdFJ1bGVzLmFkZChhLnJvb3QsZSxjKX0sYXBwbHlUbzpmdW5jdGlvbihhKXthLmZpbHRlcih0aGlzKX0sb25FbGVtZW50TmFtZTpmdW5jdGlvbihhLGMpe3JldHVybiB0aGlzLmVsZW1lbnROYW1lUnVsZXMuZXhlY09uTmFtZShhLGMpfSxvbkF0dHJpYnV0ZU5hbWU6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5hdHRyaWJ1dGVOYW1lUnVsZXMuZXhlY09uTmFtZShhLGMpfSxvblRleHQ6ZnVuY3Rpb24oYSxjLGUpe3JldHVybiB0aGlzLnRleHRSdWxlcy5leGVjKGEsXG5jLGUpfSxvbkNvbW1lbnQ6ZnVuY3Rpb24oYSxjLGUpe3JldHVybiB0aGlzLmNvbW1lbnRSdWxlcy5leGVjKGEsYyxlKX0sb25Sb290OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMucm9vdFJ1bGVzLmV4ZWMoYSxjKX0sb25FbGVtZW50OmZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBlPVt0aGlzLmVsZW1lbnRzUnVsZXNbXCJeXCJdLHRoaXMuZWxlbWVudHNSdWxlc1tjLm5hbWVdLHRoaXMuZWxlbWVudHNSdWxlcy4kXSxmLGs9MDszPms7aysrKWlmKGY9ZVtrXSl7Zj1mLmV4ZWMoYSxjLHRoaXMpO2lmKCExPT09ZilyZXR1cm4gbnVsbDtpZihmJiZmIT1jKXJldHVybiB0aGlzLm9uTm9kZShhLGYpO2lmKGMucGFyZW50JiYhYy5uYW1lKWJyZWFrfXJldHVybiBjfSxvbk5vZGU6ZnVuY3Rpb24oYSxjKXt2YXIgZT1jLnR5cGU7cmV0dXJuIGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVD90aGlzLm9uRWxlbWVudChhLGMpOmU9PUNLRURJVE9SLk5PREVfVEVYVD9uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KHRoaXMub25UZXh0KGEsXG5jLnZhbHVlKSk6ZT09Q0tFRElUT1IuTk9ERV9DT01NRU5UP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLmNvbW1lbnQodGhpcy5vbkNvbW1lbnQoYSxjLnZhbHVlKSk6bnVsbH0sb25BdHRyaWJ1dGU6ZnVuY3Rpb24oYSxjLGUsZil7cmV0dXJuKGU9dGhpcy5hdHRyaWJ1dGVzUnVsZXNbZV0pP2UuZXhlYyhhLGYsYyx0aGlzKTpmfX19KTtDS0VESVRPUi5odG1sUGFyc2VyLmZpbHRlclJ1bGVzR3JvdXA9YTthLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGEsYyxlKXt0aGlzLnJ1bGVzLnNwbGljZSh0aGlzLmZpbmRJbmRleChjKSwwLHt2YWx1ZTphLHByaW9yaXR5OmMsb3B0aW9uczplfSl9LGFkZE1hbnk6ZnVuY3Rpb24oYSxjLGUpe2Zvcih2YXIgZj1bdGhpcy5maW5kSW5kZXgoYyksMF0saz0wLGQ9YS5sZW5ndGg7azxkO2srKylmLnB1c2goe3ZhbHVlOmFba10scHJpb3JpdHk6YyxvcHRpb25zOmV9KTt0aGlzLnJ1bGVzLnNwbGljZS5hcHBseSh0aGlzLnJ1bGVzLGYpfSxmaW5kSW5kZXg6ZnVuY3Rpb24oYSl7Zm9yKHZhciBjPVxudGhpcy5ydWxlcyxlPWMubGVuZ3RoLTE7MDw9ZSYmYTxjW2VdLnByaW9yaXR5OyllLS07cmV0dXJuIGUrMX0sZXhlYzpmdW5jdGlvbihhLGMpe3ZhciBlPWMgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLm5vZGV8fGMgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LGY9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLGs9dGhpcy5ydWxlcyxkPWsubGVuZ3RoLGgsbSxnLG47Zm9yKG49MDtuPGQ7bisrKWlmKGUmJihoPWMudHlwZSxtPWMubmFtZSksZz1rW25dLCEoYS5ub25FZGl0YWJsZSYmIWcub3B0aW9ucy5hcHBseVRvQWxsfHxhLm5lc3RlZEVkaXRhYmxlJiZnLm9wdGlvbnMuZXhjbHVkZU5lc3RlZEVkaXRhYmxlKSl7Zz1nLnZhbHVlLmFwcGx5KG51bGwsZik7aWYoITE9PT1nfHxlJiZnJiYoZy5uYW1lIT1tfHxnLnR5cGUhPWgpKXJldHVybiBnO251bGwhPWcmJihmWzBdPWM9Zyl9cmV0dXJuIGN9LGV4ZWNPbk5hbWU6ZnVuY3Rpb24oYSxcbmMpe2Zvcih2YXIgZT0wLGY9dGhpcy5ydWxlcyxrPWYubGVuZ3RoLGQ7YyYmZTxrO2UrKylkPWZbZV0sYS5ub25FZGl0YWJsZSYmIWQub3B0aW9ucy5hcHBseVRvQWxsfHxhLm5lc3RlZEVkaXRhYmxlJiZkLm9wdGlvbnMuZXhjbHVkZU5lc3RlZEVkaXRhYmxlfHwoYz1jLnJlcGxhY2UoZC52YWx1ZVswXSxkLnZhbHVlWzFdKSk7cmV0dXJuIGN9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkKXtmdW5jdGlvbiBnKGEpe3JldHVybiBhfHxDS0VESVRPUi5lbnYubmVlZHNOYnNwRmlsbGVyP25ldyBDS0VESVRPUi5odG1sUGFyc2VyLnRleHQoXCLCoFwiKTpuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50KFwiYnJcIix7XCJkYXRhLWNrZS1ib2d1c1wiOjF9KX1mdW5jdGlvbiBmKGEsZCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKGUudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl7dmFyIGY9W10scT1iKGUpLG0saztpZihxKWZvcihoKHEsMSkmJmYucHVzaChxKTtxOylsKHEpJiZcbihtPWMocSkpJiZoKG0pJiYoKGs9YyhtKSkmJiFsKGspP2YucHVzaChtKTooZyhEKS5pbnNlcnRBZnRlcihtKSxtLnJlbW92ZSgpKSkscT1xLnByZXZpb3VzO2ZvcihxPTA7cTxmLmxlbmd0aDtxKyspZltxXS5yZW1vdmUoKTtpZihmPSFhfHwhMSE9PShcImZ1bmN0aW9uXCI9PXR5cGVvZiBkP2QoZSk6ZCkpRHx8Q0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXJ8fGUudHlwZSE9Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVD9EfHxDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcnx8ISg3PGRvY3VtZW50LmRvY3VtZW50TW9kZXx8ZS5uYW1lIGluIENLRURJVE9SLmR0ZC50cnx8ZS5uYW1lIGluIENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pPyhmPWIoZSksZj0hZnx8XCJmb3JtXCI9PWUubmFtZSYmXCJpbnB1dFwiPT1mLm5hbWUpOmY9ITE6Zj0hMTtmJiZlLmFkZChnKGEpKX19fWZ1bmN0aW9uIGgoYSxiKXtpZigoIUR8fENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuXCJiclwiPT1hLm5hbWUmJiFhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1lb2xcIl0pcmV0dXJuITA7dmFyIGM7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYz1hLnZhbHVlLm1hdGNoKHUpKSYmKGMuaW5kZXgmJigobmV3IENLRURJVE9SLmh0bWxQYXJzZXIudGV4dChhLnZhbHVlLnN1YnN0cmluZygwLGMuaW5kZXgpKSkuaW5zZXJ0QmVmb3JlKGEpLGEudmFsdWU9Y1swXSksIUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiZEJiYoIWJ8fGEucGFyZW50Lm5hbWUgaW4gTCl8fCFEJiYoKGM9YS5wcmV2aW91cykmJlwiYnJcIj09Yy5uYW1lfHwhY3x8bChjKSkpPyEwOiExfXZhciBtPXtlbGVtZW50czp7fX0sRD1cImh0bWxcIj09ZCxMPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxxKSx3O2Zvcih3IGluIEwpXCIjXCJpbiB5W3ddfHxkZWxldGUgTFt3XTtmb3IodyBpbiBMKW0uZWxlbWVudHNbd109ZihELGEuY29uZmlnLmZpbGxFbXB0eUJsb2Nrcyk7bS5yb290PWYoRCwhMSk7bS5lbGVtZW50cy5icj1cbmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtpZihiLnBhcmVudC50eXBlIT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UKXt2YXIgZD1iLmF0dHJpYnV0ZXM7aWYoXCJkYXRhLWNrZS1ib2d1c1wiaW4gZHx8XCJkYXRhLWNrZS1lb2xcImluIGQpZGVsZXRlIGRbXCJkYXRhLWNrZS1ib2d1c1wiXTtlbHNle2ZvcihkPWIubmV4dDtkJiZlKGQpOylkPWQubmV4dDt2YXIgZj1jKGIpOyFkJiZsKGIucGFyZW50KT9rKGIucGFyZW50LGcoYSkpOmwoZCkmJmYmJiFsKGYpJiZnKGEpLmluc2VydEJlZm9yZShkKX19fX0oRCk7cmV0dXJuIG19ZnVuY3Rpb24gZihhLGIpe3JldHVybiBhIT1DS0VESVRPUi5FTlRFUl9CUiYmITEhPT1iP2E9PUNLRURJVE9SLkVOVEVSX0RJVj9cImRpdlwiOlwicFwiOiExfWZ1bmN0aW9uIGIoYSl7Zm9yKGE9YS5jaGlsZHJlblthLmNoaWxkcmVuLmxlbmd0aC0xXTthJiZlKGEpOylhPWEucHJldmlvdXM7cmV0dXJuIGF9ZnVuY3Rpb24gYyhhKXtmb3IoYT1hLnByZXZpb3VzO2EmJlxuZShhKTspYT1hLnByZXZpb3VzO3JldHVybiBhfWZ1bmN0aW9uIGUoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYhQ0tFRElUT1IudG9vbHMudHJpbShhLnZhbHVlKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuYXR0cmlidXRlc1tcImRhdGEtY2tlLWJvb2ttYXJrXCJdfWZ1bmN0aW9uIGwoYSl7cmV0dXJuIGEmJihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5uYW1lIGluIHF8fGEudHlwZT09Q0tFRElUT1IuTk9ERV9ET0NVTUVOVF9GUkFHTUVOVCl9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPWEuY2hpbGRyZW5bYS5jaGlsZHJlbi5sZW5ndGgtMV07YS5jaGlsZHJlbi5wdXNoKGIpO2IucGFyZW50PWE7YyYmKGMubmV4dD1iLGIucHJldmlvdXM9Yyl9ZnVuY3Rpb24gZChhKXthPWEuYXR0cmlidXRlcztcImZhbHNlXCIhPWEuY29udGVudGVkaXRhYmxlJiYoYVtcImRhdGEtY2tlLWVkaXRhYmxlXCJdPWEuY29udGVudGVkaXRhYmxlP1widHJ1ZVwiOjEpO1xuYS5jb250ZW50ZWRpdGFibGU9XCJmYWxzZVwifWZ1bmN0aW9uIGgoYSl7YT1hLmF0dHJpYnV0ZXM7c3dpdGNoKGFbXCJkYXRhLWNrZS1lZGl0YWJsZVwiXSl7Y2FzZSBcInRydWVcIjphLmNvbnRlbnRlZGl0YWJsZT1cInRydWVcIjticmVhaztjYXNlIFwiMVwiOmRlbGV0ZSBhLmNvbnRlbnRlZGl0YWJsZX19ZnVuY3Rpb24gbShhKXtyZXR1cm4gYS5yZXBsYWNlKEUsZnVuY3Rpb24oYSxiLGMpe3JldHVyblwiXFx4M2NcIitiK2MucmVwbGFjZShHLGZ1bmN0aW9uKGEsYil7cmV0dXJuIEYudGVzdChiKSYmLTE9PWMuaW5kZXhPZihcImRhdGEtY2tlLXNhdmVkLVwiK2IpP1wiIGRhdGEtY2tlLXNhdmVkLVwiK2ErXCIgZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLVwiK2E6YX0pK1wiXFx4M2VcIn0pfWZ1bmN0aW9uIGcoYSxiKXtyZXR1cm4gYS5yZXBsYWNlKGIsZnVuY3Rpb24oYSxiLGMpezA9PT1hLmluZGV4T2YoXCJcXHgzY3RleHRhcmVhXCIpJiYoYT1iK3IoYykucmVwbGFjZSgvPC9nLFwiXFx4MjZsdDtcIikucmVwbGFjZSgvPi9nLFxuXCJcXHgyNmd0O1wiKStcIlxceDNjL3RleHRhcmVhXFx4M2VcIik7cmV0dXJuXCJcXHgzY2NrZTplbmNvZGVkXFx4M2VcIitlbmNvZGVVUklDb21wb25lbnQoYSkrXCJcXHgzYy9ja2U6ZW5jb2RlZFxceDNlXCJ9KX1mdW5jdGlvbiBuKGEpe3JldHVybiBhLnJlcGxhY2UoTSxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiBwKGEpe3JldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tKD8he2NrZV9wcm90ZWN0ZWR9KVtcXHNcXFNdKz8tLVxceDNlL2csZnVuY3Rpb24oYSl7cmV0dXJuXCJcXHgzYyEtLVwiK3QrXCJ7Q31cIitlbmNvZGVVUklDb21wb25lbnQoYSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pfWZ1bmN0aW9uIHIoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFx4M2MhLS1cXHtja2VfcHJvdGVjdGVkXFx9XFx7Q1xcfShbXFxzXFxTXSs/KS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KX1mdW5jdGlvbiB4KGEsYil7dmFyIGM9Yi5fLmRhdGFTdG9yZTtcbnJldHVybiBhLnJlcGxhY2UoL1xceDNjIS0tXFx7Y2tlX3Byb3RlY3RlZFxcfShbXFxzXFxTXSs/KS0tXFx4M2UvZyxmdW5jdGlvbihhLGIpe3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoYil9KS5yZXBsYWNlKC9cXHtja2VfcHJvdGVjdGVkXyhcXGQrKVxcfS9nLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGMmJmNbYl18fFwiXCJ9KX1mdW5jdGlvbiB2KGEsYil7dmFyIGM9W10sZD1iLmNvbmZpZy5wcm90ZWN0ZWRTb3VyY2UsZT1iLl8uZGF0YVN0b3JlfHwoYi5fLmRhdGFTdG9yZT17aWQ6MX0pLGc9LzxcXCEtLVxce2NrZV90ZW1wKGNvbW1lbnQpP1xcfShcXGQqPyktLVxceDNlL2csZD1bLzxzY3JpcHRbXFxzXFxTXSo/KDxcXC9zY3JpcHQ+fCQpL2dpLC88bm9zY3JpcHRbXFxzXFxTXSo/PFxcL25vc2NyaXB0Pi9naSwvPG1ldGFbXFxzXFxTXSo/XFwvPz4vZ2ldLmNvbmNhdChkKTthPWEucmVwbGFjZSgvXFx4M2MhLS1bXFxzXFxTXSo/LS1cXHgzZS9nLGZ1bmN0aW9uKGEpe3JldHVyblwiXFx4M2MhLS17Y2tlX3RlbXBjb21tZW50fVwiKyhjLnB1c2goYSktXG4xKStcIi0tXFx4M2VcIn0pO2Zvcih2YXIgZj0wO2Y8ZC5sZW5ndGg7ZisrKWE9YS5yZXBsYWNlKGRbZl0sZnVuY3Rpb24oYSl7YT1hLnJlcGxhY2UoZyxmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGNbZF19KTtyZXR1cm4vY2tlX3RlbXAoY29tbWVudCk/Ly50ZXN0KGEpP2E6XCJcXHgzYyEtLXtja2VfdGVtcH1cIisoYy5wdXNoKGEpLTEpK1wiLS1cXHgzZVwifSk7YT1hLnJlcGxhY2UoZyxmdW5jdGlvbihhLGIsZCl7cmV0dXJuXCJcXHgzYyEtLVwiK3QrKGI/XCJ7Q31cIjpcIlwiKStlbmNvZGVVUklDb21wb25lbnQoY1tkXSkucmVwbGFjZSgvLS0vZyxcIiUyRCUyRFwiKStcIi0tXFx4M2VcIn0pO2E9YS5yZXBsYWNlKC88XFx3Kyg/OlxccysoPzooPzpbXlxccz0+XStcXHMqPVxccyooPzpbXidcIlxccz5dK3wnW14nXSonfFwiW15cIl0qXCIpKXxbXlxccz1cXC8+XSspKStcXHMqXFwvPz4vZyxmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHgzYyEtLVxce2NrZV9wcm90ZWN0ZWRcXH0oW14+XSopLS1cXHgzZS9nLGZ1bmN0aW9uKGEsYil7ZVtlLmlkXT1cbmRlY29kZVVSSUNvbXBvbmVudChiKTtyZXR1cm5cIntja2VfcHJvdGVjdGVkX1wiK2UuaWQrKyArXCJ9XCJ9KX0pO3JldHVybiBhPWEucmVwbGFjZSgvPCh0aXRsZXxpZnJhbWV8dGV4dGFyZWEpKFtePl0qKT4oW1xcc1xcU10qPyk8XFwvXFwxPi9nLGZ1bmN0aW9uKGEsYyxkLGUpe3JldHVyblwiXFx4M2NcIitjK2QrXCJcXHgzZVwiK3gocihlKSxiKStcIlxceDNjL1wiK2MrXCJcXHgzZVwifSl9Q0tFRElUT1IuaHRtbERhdGFQcm9jZXNzb3I9ZnVuY3Rpb24oYil7dmFyIGMsZCxlPXRoaXM7dGhpcy5lZGl0b3I9Yjt0aGlzLmRhdGFGaWx0ZXI9Yz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5maWx0ZXI7dGhpcy5odG1sRmlsdGVyPWQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZmlsdGVyO3RoaXMud3JpdGVyPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2MuYWRkUnVsZXModyk7Yy5hZGRSdWxlcyhCLHthcHBseVRvQWxsOiEwfSk7Yy5hZGRSdWxlcyhhKGIsXCJkYXRhXCIpLHthcHBseVRvQWxsOiEwfSk7XG5kLmFkZFJ1bGVzKHopO2QuYWRkUnVsZXMoQyx7YXBwbHlUb0FsbDohMH0pO2QuYWRkUnVsZXMoYShiLFwiaHRtbFwiKSx7YXBwbHlUb0FsbDohMH0pO2Iub24oXCJ0b0h0bWxcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYz1hLmRhdGFWYWx1ZSxkLGM9dihjLGIpLGM9ZyhjLEgpLGM9bShjKSxjPWcoYyxKKSxjPWMucmVwbGFjZShMLFwiJDFja2U6JDJcIiksYz1jLnJlcGxhY2UoVCxcIlxceDNjY2tlOiQxJDJcXHgzZVxceDNjL2NrZTokMVxceDNlXCIpLGM9Yy5yZXBsYWNlKC8oPHByZVxcYltePl0qPikoXFxyXFxufFxcbikvZyxcIiQxJDIkMlwiKSxjPWMucmVwbGFjZSgvKFteYS16MC05PFxcLV0pKG9uXFx3ezMsfSkoPyE+KS9naSxcIiQxZGF0YS1ja2UtXCIrQ0tFRElUT1Iucm5kK1wiLSQyXCIpO2Q9YS5jb250ZXh0fHxiLmVkaXRhYmxlKCkuZ2V0TmFtZSgpO3ZhciBlO0NLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmXCJwcmVcIj09ZCYmKGQ9XCJkaXZcIixjPVwiXFx4M2NwcmVcXHgzZVwiK2MrXCJcXHgzYy9wcmVcXHgzZVwiLFxuZT0xKTtkPWIuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkKTtkLnNldEh0bWwoXCJhXCIrYyk7Yz1kLmdldEh0bWwoKS5zdWJzdHIoMSk7Yz1jLnJlcGxhY2UobmV3IFJlZ0V4cChcImRhdGEtY2tlLVwiK0NLRURJVE9SLnJuZCtcIi1cIixcImlnXCIpLFwiXCIpO2UmJihjPWMucmVwbGFjZSgvXjxwcmU+fDxcXC9wcmU+JC9naSxcIlwiKSk7Yz1jLnJlcGxhY2UoRCxcIiQxJDJcIik7Yz1uKGMpO2M9cihjKTtkPSExPT09YS5maXhGb3JCb2R5PyExOmYoYS5lbnRlck1vZGUsYi5jb25maWcuYXV0b1BhcmFncmFwaCk7Yz1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGMsYS5jb250ZXh0LGQpO2QmJihlPWMsIWUuY2hpbGRyZW4ubGVuZ3RoJiZDS0VESVRPUi5kdGRbZS5uYW1lXVtkXSYmKGQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudChkKSxlLmFkZChkKSkpO2EuZGF0YVZhbHVlPWN9LG51bGwsbnVsbCw1KTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YS5kYXRhLmZpbHRlci5hcHBseVRvKGEuZGF0YS5kYXRhVmFsdWUsXG4hMCxhLmRhdGEuZG9udEZpbHRlcixhLmRhdGEuZW50ZXJNb2RlKSYmYi5maXJlKFwiZGF0YUZpbHRlcmVkXCIpfSxudWxsLG51bGwsNik7Yi5vbihcInRvSHRtbFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5kYXRhVmFsdWUuZmlsdGVyQ2hpbGRyZW4oZS5kYXRhRmlsdGVyLCEwKX0sbnVsbCxudWxsLDEwKTtiLm9uKFwidG9IdG1sXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGI9YS5kYXRhVmFsdWUsYz1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjtiLndyaXRlQ2hpbGRyZW5IdG1sKGMpO2I9Yy5nZXRIdG1sKCEwKTthLmRhdGFWYWx1ZT1wKGIpfSxudWxsLG51bGwsMTUpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXt2YXIgYz1hLmRhdGEuZGF0YVZhbHVlO2EuZGF0YS5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoYz1jLnJlcGxhY2UoL148YnIgKlxcLz8+L2ksXCJcIikpO2EuZGF0YS5kYXRhVmFsdWU9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5mcm9tSHRtbChjLFxuYS5kYXRhLmNvbnRleHQsZihhLmRhdGEuZW50ZXJNb2RlLGIuY29uZmlnLmF1dG9QYXJhZ3JhcGgpKX0sbnVsbCxudWxsLDUpO2Iub24oXCJ0b0RhdGFGb3JtYXRcIixmdW5jdGlvbihhKXthLmRhdGEuZGF0YVZhbHVlLmZpbHRlckNoaWxkcmVuKGUuaHRtbEZpbHRlciwhMCl9LG51bGwsbnVsbCwxMCk7Yi5vbihcInRvRGF0YUZvcm1hdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5maWx0ZXIuYXBwbHlUbyhhLmRhdGEuZGF0YVZhbHVlLCExLCEwKX0sbnVsbCxudWxsLDExKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5kYXRhLmRhdGFWYWx1ZSxkPWUud3JpdGVyO2QucmVzZXQoKTtjLndyaXRlQ2hpbGRyZW5IdG1sKGQpO2M9ZC5nZXRIdG1sKCEwKTtjPXIoYyk7Yz14KGMsYik7YS5kYXRhLmRhdGFWYWx1ZT1jfSxudWxsLG51bGwsMTUpfTtDS0VESVRPUi5odG1sRGF0YVByb2Nlc3Nvci5wcm90b3R5cGU9e3RvSHRtbDpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT10aGlzLmVkaXRvcixcbmcsZixoLHE7YiYmXCJvYmplY3RcIj09dHlwZW9mIGI/KGc9Yi5jb250ZXh0LGM9Yi5maXhGb3JCb2R5LGQ9Yi5kb250RmlsdGVyLGY9Yi5maWx0ZXIsaD1iLmVudGVyTW9kZSxxPWIucHJvdGVjdGVkV2hpdGVzcGFjZXMpOmc9YjtnfHxudWxsPT09Z3x8KGc9ZS5lZGl0YWJsZSgpLmdldE5hbWUoKSk7cmV0dXJuIGUuZmlyZShcInRvSHRtbFwiLHtkYXRhVmFsdWU6YSxjb250ZXh0OmcsZml4Rm9yQm9keTpjLGRvbnRGaWx0ZXI6ZCxmaWx0ZXI6Znx8ZS5maWx0ZXIsZW50ZXJNb2RlOmh8fGUuZW50ZXJNb2RlLHByb3RlY3RlZFdoaXRlc3BhY2VzOnF9KS5kYXRhVmFsdWV9LHRvRGF0YUZvcm1hdDpmdW5jdGlvbihhLGIpe3ZhciBjLGQsZTtiJiYoYz1iLmNvbnRleHQsZD1iLmZpbHRlcixlPWIuZW50ZXJNb2RlKTtjfHxudWxsPT09Y3x8KGM9dGhpcy5lZGl0b3IuZWRpdGFibGUoKS5nZXROYW1lKCkpO3JldHVybiB0aGlzLmVkaXRvci5maXJlKFwidG9EYXRhRm9ybWF0XCIse2RhdGFWYWx1ZTphLFxuZmlsdGVyOmR8fHRoaXMuZWRpdG9yLmZpbHRlcixjb250ZXh0OmMsZW50ZXJNb2RlOmV8fHRoaXMuZWRpdG9yLmVudGVyTW9kZX0pLmRhdGFWYWx1ZX19O3ZhciB1PS8oPzombmJzcDt8XFx4YTApJC8sdD1cIntja2VfcHJvdGVjdGVkfVwiLHk9Q0tFRElUT1IuZHRkLEE9XCJjYXB0aW9uIGNvbGdyb3VwIGNvbCB0aGVhZCB0Zm9vdCB0Ym9keVwiLnNwbGl0KFwiIFwiKSxxPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx5LiRibG9ja0xpbWl0LHkuJGJsb2NrKSx3PXtlbGVtZW50czp7aW5wdXQ6ZCx0ZXh0YXJlYTpkfX0sQj17YXR0cmlidXRlTmFtZXM6W1svXm9uLyxcImRhdGEtY2tlLXBhLW9uXCJdLFsvXnNyY2RvYy8sXCJkYXRhLWNrZS1wYS1zcmNkb2NcIl0sWy9eZGF0YS1ja2UtZXhwYW5kbyQvLFwiXCJdXSxlbGVtZW50czp7aWZyYW1lOmZ1bmN0aW9uKGEpe2lmKGEuYXR0cmlidXRlcyYmYS5hdHRyaWJ1dGVzLnNyYyl7dmFyIGI9YS5hdHRyaWJ1dGVzLnNyYy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1teYS16XS9naSxcblwiXCIpO2lmKDA9PT1iLmluZGV4T2YoXCJqYXZhc2NyaXB0XCIpfHwwPT09Yi5pbmRleE9mKFwiZGF0YVwiKSlhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1wYS1zcmNcIl09YS5hdHRyaWJ1dGVzLnNyYyxkZWxldGUgYS5hdHRyaWJ1dGVzLnNyY319fX0sej17ZWxlbWVudHM6e2VtYmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50O2lmKGImJlwib2JqZWN0XCI9PWIubmFtZSl7dmFyIGM9Yi5hdHRyaWJ1dGVzLndpZHRoLGI9Yi5hdHRyaWJ1dGVzLmhlaWdodDtjJiYoYS5hdHRyaWJ1dGVzLndpZHRoPWMpO2ImJihhLmF0dHJpYnV0ZXMuaGVpZ2h0PWIpfX0sYTpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXM7aWYoIShhLmNoaWxkcmVuLmxlbmd0aHx8Yi5uYW1lfHxiLmlkfHxhLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdKSlyZXR1cm4hMX19fSxDPXtlbGVtZW50TmFtZXM6W1svXmNrZTovLFwiXCJdLFsvXlxcP3htbDpuYW1lc3BhY2UkLyxcIlwiXV0sYXR0cmlidXRlTmFtZXM6W1svXmRhdGEtY2tlLShzYXZlZHxwYSktLyxcblwiXCJdLFsvXmRhdGEtY2tlLS4qLyxcIlwiXSxbXCJoaWRlZm9jdXNcIixcIlwiXV0sZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzO2lmKGIpe2lmKGJbXCJkYXRhLWNrZS10ZW1wXCJdKXJldHVybiExO2Zvcih2YXIgYz1bXCJuYW1lXCIsXCJocmVmXCIsXCJzcmNcIl0sZCxlPTA7ZTxjLmxlbmd0aDtlKyspZD1cImRhdGEtY2tlLXNhdmVkLVwiK2NbZV0sZCBpbiBiJiZkZWxldGUgYltjW2VdXX1yZXR1cm4gYX0sdGFibGU6ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbi5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGEsYil7dmFyIGMsZDthLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi50eXBlPT1hLnR5cGUmJihjPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoQSxhLm5hbWUpLGQ9Q0tFRElUT1IudG9vbHMuaW5kZXhPZihBLGIubmFtZSkpOy0xPGMmJi0xPGQmJmMhPWR8fChjPWEucGFyZW50P2EuZ2V0SW5kZXgoKTotMSxkPWIucGFyZW50P2IuZ2V0SW5kZXgoKTotMSk7cmV0dXJuIGM+ZD9cbjE6LTF9KX0scGFyYW06ZnVuY3Rpb24oYSl7YS5jaGlsZHJlbj1bXTthLmlzRW1wdHk9ITA7cmV0dXJuIGF9LHNwYW46ZnVuY3Rpb24oYSl7XCJBcHBsZS1zdHlsZS1zcGFuXCI9PWEuYXR0cmlidXRlc1tcImNsYXNzXCJdJiZkZWxldGUgYS5uYW1lfSxodG1sOmZ1bmN0aW9uKGEpe2RlbGV0ZSBhLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlO2RlbGV0ZSBhLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXX0sYm9keTpmdW5jdGlvbihhKXtkZWxldGUgYS5hdHRyaWJ1dGVzLnNwZWxsY2hlY2s7ZGVsZXRlIGEuYXR0cmlidXRlcy5jb250ZW50ZWRpdGFibGV9LHN0eWxlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuY2hpbGRyZW5bMF07YiYmYi52YWx1ZSYmKGIudmFsdWU9Q0tFRElUT1IudG9vbHMudHJpbShiLnZhbHVlKSk7YS5hdHRyaWJ1dGVzLnR5cGV8fChhLmF0dHJpYnV0ZXMudHlwZT1cInRleHQvY3NzXCIpfSx0aXRsZTpmdW5jdGlvbihhKXt2YXIgYj1hLmNoaWxkcmVuWzBdOyFiJiZrKGEsYj1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci50ZXh0KTtcbmIudmFsdWU9YS5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtdGl0bGVcIl18fFwiXCJ9LGlucHV0OmgsdGV4dGFyZWE6aH0sYXR0cmlidXRlczp7XCJjbGFzc1wiOmZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5sdHJpbShhLnJlcGxhY2UoLyg/Ol58XFxzKylja2VfW15cXHNdKi9nLFwiXCIpKXx8ITF9fX07Q0tFRElUT1IuZW52LmllJiYoQy5hdHRyaWJ1dGVzLnN0eWxlPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoLyhefDspKFteXFw6XSspL2csZnVuY3Rpb24oYSl7cmV0dXJuIGEudG9Mb3dlckNhc2UoKX0pfSk7dmFyIEU9LzwoYXxhcmVhfGltZ3xpbnB1dHxzb3VyY2UpXFxiKFtePl0qKT4vZ2ksRz0vKFtcXHctOl0rKVxccyo9XFxzKig/Oig/OlwiW15cIl0qXCIpfCg/OidbXiddKicpfCg/OlteIFwiJz5dKykpL2dpLEY9L14oaHJlZnxzcmN8bmFtZSkkL2ksSj0vKD86PHN0eWxlKD89WyA+XSlbXj5dKj5bXFxzXFxTXSo/PFxcL3N0eWxlPil8KD86PCg6P2xpbmt8bWV0YXxiYXNlKVtePl0qPikvZ2ksXG5IPS8oPHRleHRhcmVhKD89WyA+XSlbXj5dKj4pKFtcXHNcXFNdKj8pKD86PFxcL3RleHRhcmVhPikvZ2ksTT0vPGNrZTplbmNvZGVkPihbXjxdKik8XFwvY2tlOmVuY29kZWQ+L2dpLEw9Lyg8XFwvPykoKD86b2JqZWN0fGVtYmVkfHBhcmFtfGh0bWx8Ym9keXxoZWFkfHRpdGxlKVtePl0qPikvZ2ksRD0vKDxcXC8/KWNrZTooKD86aHRtbHxib2R5fGhlYWR8dGl0bGUpW14+XSo+KS9naSxUPS88Y2tlOihwYXJhbXxlbWJlZCkoW14+XSo/KVxcLz8+KD8hXFxzKjxcXC9ja2U6XFwxKS9naX0oKSxcInVzZSBzdHJpY3RcIixDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ9ZnVuY3Rpb24oYSxmKXt0aGlzLm5hbWU9YTt0aGlzLmF0dHJpYnV0ZXM9Znx8e307dGhpcy5jaGlsZHJlbj1bXTt2YXIgYj1hfHxcIlwiLGM9Yi5tYXRjaCgvXmNrZTooLiopLyk7YyYmKGI9Y1sxXSk7Yj0hIShDS0VESVRPUi5kdGQuJG5vbkJvZHlDb250ZW50W2JdfHxDS0VESVRPUi5kdGQuJGJsb2NrW2JdfHxDS0VESVRPUi5kdGQuJGxpc3RJdGVtW2JdfHxcbkNLRURJVE9SLmR0ZC4kdGFibGVDb250ZW50W2JdfHxDS0VESVRPUi5kdGQuJG5vbkVkaXRhYmxlW2JdfHxcImJyXCI9PWIpO3RoaXMuaXNFbXB0eT0hIUNLRURJVE9SLmR0ZC4kZW1wdHlbYV07dGhpcy5pc1Vua25vd249IUNLRURJVE9SLmR0ZFthXTt0aGlzLl89e2lzQmxvY2tMaWtlOmIsaGFzSW5saW5lU3RhcnRlZDp0aGlzLmlzRW1wdHl8fCFifX0sQ0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZT1mdW5jdGlvbihhKXt2YXIgZj17fTsoKGEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlOmEpfHxcIlwiKS5yZXBsYWNlKC8mcXVvdDsvZywnXCInKS5yZXBsYWNlKC9cXHMqKFteIDo7XSspXFxzKjpcXHMqKFteO10rKVxccyooPz07fCQpL2csZnVuY3Rpb24oYSxjLGUpe1wiZm9udC1mYW1pbHlcIj09YyYmKGU9ZS5yZXBsYWNlKC9bXCInXS9nLFwiXCIpKTtmW2MudG9Mb3dlckNhc2UoKV09ZX0pO3JldHVybntydWxlczpmLHBvcHVsYXRlOmZ1bmN0aW9uKGEpe3ZhciBjPVxudGhpcy50b1N0cmluZygpO2MmJihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ/YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGMpOmEgaW5zdGFuY2VvZiBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQ/YS5hdHRyaWJ1dGVzLnN0eWxlPWM6YS5zdHlsZT1jKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT1bXSxjO2ZvcihjIGluIGYpZltjXSYmYS5wdXNoKGMsXCI6XCIsZltjXSxcIjtcIik7cmV0dXJuIGEuam9pbihcIlwiKX19fSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKFwic3RyaW5nXCI9PXR5cGVvZiBhP2IubmFtZT09YTpiLm5hbWUgaW4gYSl9fXZhciBmPWZ1bmN0aW9uKGEsYil7YT1hWzBdO2I9YlswXTtyZXR1cm4gYTxiPy0xOmE+Yj8xOjB9LGI9Q0tFRElUT1IuaHRtbFBhcnNlci5mcmFnbWVudC5wcm90b3R5cGU7Q0tFRElUT1IuaHRtbFBhcnNlci5lbGVtZW50LnByb3RvdHlwZT1cbkNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5ub2RlLHt0eXBlOkNLRURJVE9SLk5PREVfRUxFTUVOVCxhZGQ6Yi5hZGQsY2xvbmU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmh0bWxQYXJzZXIuZWxlbWVudCh0aGlzLm5hbWUsdGhpcy5hdHRyaWJ1dGVzKX0sZmlsdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGY9dGhpcyxrLGQ7Yj1mLmdldEZpbHRlckNvbnRleHQoYik7aWYoYi5vZmYpcmV0dXJuITA7aWYoIWYucGFyZW50KWEub25Sb290KGIsZik7Zm9yKDs7KXtrPWYubmFtZTtpZighKGQ9YS5vbkVsZW1lbnROYW1lKGIsaykpKXJldHVybiB0aGlzLnJlbW92ZSgpLCExO2YubmFtZT1kO2lmKCEoZj1hLm9uRWxlbWVudChiLGYpKSlyZXR1cm4gdGhpcy5yZW1vdmUoKSwhMTtpZihmIT09dGhpcylyZXR1cm4gdGhpcy5yZXBsYWNlV2l0aChmKSwhMTtpZihmLm5hbWU9PWspYnJlYWs7aWYoZi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIHRoaXMucmVwbGFjZVdpdGgoZiksXG4hMTtpZighZi5uYW1lKXJldHVybiB0aGlzLnJlcGxhY2VXaXRoQ2hpbGRyZW4oKSwhMX1rPWYuYXR0cmlidXRlczt2YXIgaCxtO2ZvcihoIGluIGspe2ZvcihkPWtbaF07OylpZihtPWEub25BdHRyaWJ1dGVOYW1lKGIsaCkpaWYobSE9aClkZWxldGUga1toXSxoPW07ZWxzZSBicmVhaztlbHNle2RlbGV0ZSBrW2hdO2JyZWFrfW0mJighMT09PShkPWEub25BdHRyaWJ1dGUoYixmLG0sZCkpP2RlbGV0ZSBrW21dOmtbbV09ZCl9Zi5pc0VtcHR5fHx0aGlzLmZpbHRlckNoaWxkcmVuKGEsITEsYik7cmV0dXJuITB9LGZpbHRlckNoaWxkcmVuOmIuZmlsdGVyQ2hpbGRyZW4sd3JpdGVIdG1sOmZ1bmN0aW9uKGEsYil7YiYmdGhpcy5maWx0ZXIoYik7dmFyIGw9dGhpcy5uYW1lLGs9W10sZD10aGlzLmF0dHJpYnV0ZXMsaCxtO2Eub3BlblRhZyhsLGQpO2ZvcihoIGluIGQpay5wdXNoKFtoLGRbaF1dKTthLnNvcnRBdHRyaWJ1dGVzJiZrLnNvcnQoZik7aD0wO2ZvcihtPWsubGVuZ3RoO2g8bTtoKyspZD1cbmtbaF0sYS5hdHRyaWJ1dGUoZFswXSxkWzFdKTthLm9wZW5UYWdDbG9zZShsLHRoaXMuaXNFbXB0eSk7dGhpcy53cml0ZUNoaWxkcmVuSHRtbChhKTt0aGlzLmlzRW1wdHl8fGEuY2xvc2VUYWcobCl9LHdyaXRlQ2hpbGRyZW5IdG1sOmIud3JpdGVDaGlsZHJlbkh0bWwscmVwbGFjZVdpdGhDaGlsZHJlbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmNoaWxkcmVuLGI9YS5sZW5ndGg7YjspYVstLWJdLmluc2VydEFmdGVyKHRoaXMpO3RoaXMucmVtb3ZlKCl9LGZvckVhY2g6Yi5mb3JFYWNoLGdldEZpcnN0OmZ1bmN0aW9uKGIpe2lmKCFiKXJldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aD90aGlzLmNoaWxkcmVuWzBdOm51bGw7XCJmdW5jdGlvblwiIT10eXBlb2YgYiYmKGI9YShiKSk7Zm9yKHZhciBlPTAsZj10aGlzLmNoaWxkcmVuLmxlbmd0aDtlPGY7KytlKWlmKGIodGhpcy5jaGlsZHJlbltlXSkpcmV0dXJuIHRoaXMuY2hpbGRyZW5bZV07cmV0dXJuIG51bGx9LGdldEh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1cbm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO3RoaXMud3JpdGVDaGlsZHJlbkh0bWwoYSk7cmV0dXJuIGEuZ2V0SHRtbCgpfSxzZXRIdG1sOmZ1bmN0aW9uKGEpe2E9dGhpcy5jaGlsZHJlbj1DS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGEpLmNoaWxkcmVuO2Zvcih2YXIgYj0wLGY9YS5sZW5ndGg7YjxmOysrYilhW2JdLnBhcmVudD10aGlzfSxnZXRPdXRlckh0bWw6ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ0tFRElUT1IuaHRtbFBhcnNlci5iYXNpY1dyaXRlcjt0aGlzLndyaXRlSHRtbChhKTtyZXR1cm4gYS5nZXRIdG1sKCl9LHNwbGl0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj10aGlzLmNoaWxkcmVuLnNwbGljZShhLHRoaXMuY2hpbGRyZW4ubGVuZ3RoLWEpLGY9dGhpcy5jbG9uZSgpLGs9MDtrPGIubGVuZ3RoOysrayliW2tdLnBhcmVudD1mO2YuY2hpbGRyZW49YjtiWzBdJiYoYlswXS5wcmV2aW91cz1udWxsKTswPGEmJih0aGlzLmNoaWxkcmVuW2EtXG4xXS5uZXh0PW51bGwpO3RoaXMucGFyZW50LmFkZChmLHRoaXMuZ2V0SW5kZXgoKSsxKTtyZXR1cm4gZn0sZmluZDpmdW5jdGlvbihhLGIpe3ZvaWQgMD09PWImJihiPSExKTt2YXIgZj1bXSxrO2ZvcihrPTA7azx0aGlzLmNoaWxkcmVuLmxlbmd0aDtrKyspe3ZhciBkPXRoaXMuY2hpbGRyZW5ba107XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmYShkKT9mLnB1c2goZCk6XCJzdHJpbmdcIj09dHlwZW9mIGEmJmQubmFtZT09PWEmJmYucHVzaChkKTtiJiZkLmZpbmQmJihmPWYuY29uY2F0KGQuZmluZChhLGIpKSl9cmV0dXJuIGZ9LGFkZENsYXNzOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmhhc0NsYXNzKGEpKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXXx8XCJcIjt0aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iKyhiP1wiIFwiOlwiXCIpK2F9fSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXTtiJiYoKGI9Q0tFRElUT1IudG9vbHMudHJpbShiLnJlcGxhY2UobmV3IFJlZ0V4cChcIig/OlxcXFxzK3xeKVwiK1xuYStcIig/OlxcXFxzK3wkKVwiKSxcIiBcIikpKT90aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXT1iOmRlbGV0ZSB0aGlzLmF0dHJpYnV0ZXNbXCJjbGFzc1wiXSl9LGhhc0NsYXNzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYXR0cmlidXRlc1tcImNsYXNzXCJdO3JldHVybiBiPyhuZXcgUmVnRXhwKFwiKD86XnxcXFxccylcIithK1wiKD9cXHgzZFxcXFxzfCQpXCIpKS50ZXN0KGIpOiExfSxnZXRGaWx0ZXJDb250ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPVtdO2F8fChhPXtvZmY6ITEsbm9uRWRpdGFibGU6ITEsbmVzdGVkRWRpdGFibGU6ITF9KTthLm9mZnx8XCJvZmZcIiE9dGhpcy5hdHRyaWJ1dGVzW1wiZGF0YS1ja2UtcHJvY2Vzc29yXCJdfHxiLnB1c2goXCJvZmZcIiwhMCk7YS5ub25FZGl0YWJsZXx8XCJmYWxzZVwiIT10aGlzLmF0dHJpYnV0ZXMuY29udGVudGVkaXRhYmxlP2Eubm9uRWRpdGFibGUmJiFhLm5lc3RlZEVkaXRhYmxlJiZcInRydWVcIj09dGhpcy5hdHRyaWJ1dGVzLmNvbnRlbnRlZGl0YWJsZSYmYi5wdXNoKFwibmVzdGVkRWRpdGFibGVcIixcbiEwKTpiLnB1c2goXCJub25FZGl0YWJsZVwiLCEwKTtpZihiLmxlbmd0aCl7YT1DS0VESVRPUi50b29scy5jb3B5KGEpO2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7Zis9MilhW2JbZl1dPWJbZisxXX1yZXR1cm4gYX19LCEwKX0oKSxmdW5jdGlvbigpe3ZhciBhPS97KFtefV0rKX0vZztDS0VESVRPUi50ZW1wbGF0ZT1mdW5jdGlvbihhKXt0aGlzLnNvdXJjZT1TdHJpbmcoYSl9O0NLRURJVE9SLnRlbXBsYXRlLnByb3RvdHlwZS5vdXRwdXQ9ZnVuY3Rpb24oZixiKXt2YXIgYz10aGlzLnNvdXJjZS5yZXBsYWNlKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdm9pZCAwIT09ZltiXT9mW2JdOmF9KTtyZXR1cm4gYj9iLnB1c2goYyk6Y319KCksZGVsZXRlIENLRURJVE9SLmxvYWRGdWxsQ29yZSxDS0VESVRPUi5pbnN0YW5jZXM9e30sQ0tFRElUT1IuZG9jdW1lbnQ9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudChkb2N1bWVudCksQ0tFRElUT1IuYWRkPWZ1bmN0aW9uKGEpe0NLRURJVE9SLmluc3RhbmNlc1thLm5hbWVdPVxuYTthLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe0NLRURJVE9SLmN1cnJlbnRJbnN0YW5jZSE9YSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1hLENLRURJVE9SLmZpcmUoXCJjdXJyZW50SW5zdGFuY2VcIikpfSk7YS5vbihcImJsdXJcIixmdW5jdGlvbigpe0NLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT09YSYmKENLRURJVE9SLmN1cnJlbnRJbnN0YW5jZT1udWxsLENLRURJVE9SLmZpcmUoXCJjdXJyZW50SW5zdGFuY2VcIikpfSk7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlXCIsbnVsbCxhKX0sQ0tFRElUT1IucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSBDS0VESVRPUi5pbnN0YW5jZXNbYS5uYW1lXX0sZnVuY3Rpb24oKXt2YXIgYT17fTtDS0VESVRPUi5hZGRUZW1wbGF0ZT1mdW5jdGlvbihmLGIpe3ZhciBjPWFbZl07aWYoYylyZXR1cm4gYztjPXtuYW1lOmYsc291cmNlOmJ9O0NLRURJVE9SLmZpcmUoXCJ0ZW1wbGF0ZVwiLGMpO3JldHVybiBhW2ZdPW5ldyBDS0VESVRPUi50ZW1wbGF0ZShjLnNvdXJjZSl9O1xuQ0tFRElUT1IuZ2V0VGVtcGxhdGU9ZnVuY3Rpb24oZil7cmV0dXJuIGFbZl19fSgpLGZ1bmN0aW9uKCl7dmFyIGE9W107Q0tFRElUT1IuYWRkQ3NzPWZ1bmN0aW9uKGYpe2EucHVzaChmKX07Q0tFRElUT1IuZ2V0Q3NzPWZ1bmN0aW9uKCl7cmV0dXJuIGEuam9pbihcIlxcblwiKX19KCksQ0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuaXNFbXB0eSh0aGlzLmluc3RhbmNlcykmJkNLRURJVE9SLmZpcmUoXCJyZXNldFwiKX0pLENLRURJVE9SLlRSSVNUQVRFX09OPTEsQ0tFRElUT1IuVFJJU1RBVEVfT0ZGPTIsQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ9MCxmdW5jdGlvbigpe0NLRURJVE9SLmlubGluZT1mdW5jdGlvbihhLGYpe2lmKCFDS0VESVRPUi5lbnYuaXNDb21wYXRpYmxlKXJldHVybiBudWxsO2E9Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpO2lmKGEuZ2V0RWRpdG9yKCkpdGhyb3cnVGhlIGVkaXRvciBpbnN0YW5jZSBcIicrXG5hLmdldEVkaXRvcigpLm5hbWUrJ1wiIGlzIGFscmVhZHkgYXR0YWNoZWQgdG8gdGhlIHByb3ZpZGVkIGVsZW1lbnQuJzt2YXIgYj1uZXcgQ0tFRElUT1IuZWRpdG9yKGYsYSxDS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKSxjPWEuaXMoXCJ0ZXh0YXJlYVwiKT9hOm51bGw7Yz8oYi5zZXREYXRhKGMuZ2V0VmFsdWUoKSxudWxsLCEwKSxhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjb250ZW50ZWRpdGFibGVcXHgzZFwiJyshIWIucmVhZE9ubHkrJ1wiIGNsYXNzXFx4M2RcImNrZV90ZXh0YXJlYV9pbmxpbmVcIlxceDNlJytjLmdldFZhbHVlKCkrXCJcXHgzYy9kaXZcXHgzZVwiLENLRURJVE9SLmRvY3VtZW50KSxhLmluc2VydEFmdGVyKGMpLGMuaGlkZSgpLGMuJC5mb3JtJiZiLl9hdHRhY2hUb0Zvcm0oKSk6Yi5zZXREYXRhKGEuZ2V0SHRtbCgpLG51bGwsITApO2Iub24oXCJsb2FkZWRcIixmdW5jdGlvbigpe2IuZmlyZShcInVpUmVhZHlcIik7Yi5lZGl0YWJsZShhKTtiLmNvbnRhaW5lcj1cbmE7Yi51aS5jb250ZW50c0VsZW1lbnQ9YTtiLnNldERhdGEoYi5nZXREYXRhKDEpKTtiLnJlc2V0RGlydHkoKTtiLmZpcmUoXCJjb250ZW50RG9tXCIpO2IubW9kZT1cInd5c2l3eWdcIjtiLmZpcmUoXCJtb2RlXCIpO2Iuc3RhdHVzPVwicmVhZHlcIjtiLmZpcmVPbmNlKFwiaW5zdGFuY2VSZWFkeVwiKTtDS0VESVRPUi5maXJlKFwiaW5zdGFuY2VSZWFkeVwiLG51bGwsYil9LG51bGwsbnVsbCwxRTQpO2Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtjJiYoYi5jb250YWluZXIuY2xlYXJDdXN0b21EYXRhKCksYi5jb250YWluZXIucmVtb3ZlKCksYy5zaG93KCkpO2IuZWxlbWVudC5jbGVhckN1c3RvbURhdGEoKTtkZWxldGUgYi5lbGVtZW50fSk7cmV0dXJuIGJ9O0NLRURJVE9SLmlubGluZUFsbD1mdW5jdGlvbigpe3ZhciBhLGYsYjtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGVkaXRhYmxlKWZvcih2YXIgYz1DS0VESVRPUi5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGIpLGU9MCxsPWMuY291bnQoKTtlPFxubDtlKyspYT1jLmdldEl0ZW0oZSksXCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiYoZj17ZWxlbWVudDphLGNvbmZpZzp7fX0sITEhPT1DS0VESVRPUi5maXJlKFwiaW5saW5lXCIsZikmJkNLRURJVE9SLmlubGluZShhLGYuY29uZmlnKSl9O0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7IUNLRURJVE9SLmRpc2FibGVBdXRvSW5saW5lJiZDS0VESVRPUi5pbmxpbmVBbGwoKX0pfSgpLENLRURJVE9SLnJlcGxhY2VDbGFzcz1cImNrZWRpdG9yXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZSxsLGspe2lmKCFDS0VESVRPUi5lbnYuaXNDb21wYXRpYmxlKXJldHVybiBudWxsO2E9Q0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGEpO2lmKGEuZ2V0RWRpdG9yKCkpdGhyb3cnVGhlIGVkaXRvciBpbnN0YW5jZSBcIicrYS5nZXRFZGl0b3IoKS5uYW1lKydcIiBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRoZSBwcm92aWRlZCBlbGVtZW50Lic7dmFyIGQ9bmV3IENLRURJVE9SLmVkaXRvcihlLFxuYSxrKTtrPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmKGEuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJoaWRkZW5cIiksZC5fLnJlcXVpcmVkPWEuaGFzQXR0cmlidXRlKFwicmVxdWlyZWRcIiksYS5yZW1vdmVBdHRyaWJ1dGUoXCJyZXF1aXJlZFwiKSk7bCYmZC5zZXREYXRhKGwsbnVsbCwhMCk7ZC5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YihkKTtrPT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmZC5jb25maWcuYXV0b1VwZGF0ZUVsZW1lbnQmJmEuJC5mb3JtJiZkLl9hdHRhY2hUb0Zvcm0oKTtkLnNldE1vZGUoZC5jb25maWcuc3RhcnR1cE1vZGUsZnVuY3Rpb24oKXtkLnJlc2V0RGlydHkoKTtkLnN0YXR1cz1cInJlYWR5XCI7ZC5maXJlT25jZShcImluc3RhbmNlUmVhZHlcIik7Q0tFRElUT1IuZmlyZShcImluc3RhbmNlUmVhZHlcIixudWxsLGQpfSl9KTtkLm9uKFwiZGVzdHJveVwiLGYpO3JldHVybiBkfWZ1bmN0aW9uIGYoKXt2YXIgYT10aGlzLmNvbnRhaW5lcixiPXRoaXMuZWxlbWVudDtcbmEmJihhLmNsZWFyQ3VzdG9tRGF0YSgpLGEucmVtb3ZlKCkpO2ImJihiLmNsZWFyQ3VzdG9tRGF0YSgpLHRoaXMuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9SRVBMQUNFJiYoYi5zaG93KCksdGhpcy5fLnJlcXVpcmVkJiZiLnNldEF0dHJpYnV0ZShcInJlcXVpcmVkXCIsXCJyZXF1aXJlZFwiKSksZGVsZXRlIHRoaXMuZWxlbWVudCl9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLm5hbWUsZj1hLmVsZW1lbnQsaz1hLmVsZW1lbnRNb2RlLGQ9YS5maXJlKFwidWlTcGFjZVwiLHtzcGFjZTpcInRvcFwiLGh0bWw6XCJcIn0pLmh0bWwsaD1hLmZpcmUoXCJ1aVNwYWNlXCIse3NwYWNlOlwiYm90dG9tXCIsaHRtbDpcIlwifSkuaHRtbCxtPW5ldyBDS0VESVRPUi50ZW1wbGF0ZSgnXFx4M2N7b3V0ZXJFbH0gaWRcXHgzZFwiY2tlX3tuYW1lfVwiIGNsYXNzXFx4M2RcIntpZH0gY2tlIGNrZV9yZXNldCBja2VfY2hyb21lIGNrZV9lZGl0b3Jfe25hbWV9IGNrZV97bGFuZ0Rpcn0gJytDS0VESVRPUi5lbnYuY3NzQ2xhc3MrXG4nXCIgIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImFwcGxpY2F0aW9uXCInKyhhLnRpdGxlPycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcImNrZV97bmFtZX1fYXJpYWxibFwiJzpcIlwiKStcIlxceDNlXCIrKGEudGl0bGU/J1xceDNjc3BhbiBpZFxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNle3ZvaWNlTGFiZWx9XFx4M2Mvc3BhblxceDNlJzpcIlwiKSsnXFx4M2N7b3V0ZXJFbH0gY2xhc3NcXHgzZFwiY2tlX2lubmVyIGNrZV9yZXNldFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZXt0b3BIdG1sfVxceDNje291dGVyRWx9IGlkXFx4M2RcIntjb250ZW50SWR9XCIgY2xhc3NcXHgzZFwiY2tlX2NvbnRlbnRzIGNrZV9yZXNldFwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjL3tvdXRlckVsfVxceDNle2JvdHRvbUh0bWx9XFx4M2Mve291dGVyRWx9XFx4M2VcXHgzYy97b3V0ZXJFbH1cXHgzZScpLGI9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwobS5vdXRwdXQoe2lkOmEuaWQsXG5uYW1lOmIsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsdm9pY2VMYWJlbDphLnRpdGxlLHRvcEh0bWw6ZD8nXFx4M2NzcGFuIGlkXFx4M2RcIicrYS51aS5zcGFjZUlkKFwidG9wXCIpKydcIiBjbGFzc1xceDNkXCJja2VfdG9wIGNrZV9yZXNldF9hbGxcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIHN0eWxlXFx4M2RcImhlaWdodDphdXRvXCJcXHgzZScrZCtcIlxceDNjL3NwYW5cXHgzZVwiOlwiXCIsY29udGVudElkOmEudWkuc3BhY2VJZChcImNvbnRlbnRzXCIpLGJvdHRvbUh0bWw6aD8nXFx4M2NzcGFuIGlkXFx4M2RcIicrYS51aS5zcGFjZUlkKFwiYm90dG9tXCIpKydcIiBjbGFzc1xceDNkXCJja2VfYm90dG9tIGNrZV9yZXNldF9hbGxcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2UnK2grXCJcXHgzYy9zcGFuXFx4M2VcIjpcIlwiLG91dGVyRWw6Q0tFRElUT1IuZW52LmllP1wic3BhblwiOlwiZGl2XCJ9KSk7az09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0U/KGYuaGlkZSgpLGIuaW5zZXJ0QWZ0ZXIoZikpOlxuZi5hcHBlbmQoYik7YS5jb250YWluZXI9YjthLnVpLmNvbnRlbnRzRWxlbWVudD1hLnVpLnNwYWNlKFwiY29udGVudHNcIik7ZCYmYS51aS5zcGFjZShcInRvcFwiKS51bnNlbGVjdGFibGUoKTtoJiZhLnVpLnNwYWNlKFwiYm90dG9tXCIpLnVuc2VsZWN0YWJsZSgpO2Y9YS5jb25maWcud2lkdGg7az1hLmNvbmZpZy5oZWlnaHQ7ZiYmYi5zZXRTdHlsZShcIndpZHRoXCIsQ0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGYpKTtrJiZhLnVpLnNwYWNlKFwiY29udGVudHNcIikuc2V0U3R5bGUoXCJoZWlnaHRcIixDS0VESVRPUi50b29scy5jc3NMZW5ndGgoaykpO2IuZGlzYWJsZUNvbnRleHRNZW51KCk7Q0tFRElUT1IuZW52LndlYmtpdCYmYi5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXthLmZvY3VzKCl9KTthLmZpcmVPbmNlKFwidWlSZWFkeVwiKX1DS0VESVRPUi5yZXBsYWNlPWZ1bmN0aW9uKGIsZSl7cmV0dXJuIGEoYixlLG51bGwsQ0tFRElUT1IuRUxFTUVOVF9NT0RFX1JFUExBQ0UpfTtDS0VESVRPUi5hcHBlbmRUbz1cbmZ1bmN0aW9uKGIsZSxmKXtyZXR1cm4gYShiLGUsZixDS0VESVRPUi5FTEVNRU5UX01PREVfQVBQRU5EVE8pfTtDS0VESVRPUi5yZXBsYWNlQWxsPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGV4dGFyZWFcIiksYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgZj1udWxsLGs9YVtiXTtpZihrLm5hbWV8fGsuaWQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBhcmd1bWVudHNbMF0pe2lmKCEobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIrYXJndW1lbnRzWzBdK1wiKD86JHxcXFxccylcIikpLnRlc3Qoay5jbGFzc05hbWUpKWNvbnRpbnVlfWVsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgYXJndW1lbnRzWzBdJiYoZj17fSwhMT09PWFyZ3VtZW50c1swXShrLGYpKSljb250aW51ZTt0aGlzLnJlcGxhY2UoayxmKX19fTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZE1vZGU9ZnVuY3Rpb24oYSxiKXsodGhpcy5fLm1vZGVzfHwodGhpcy5fLm1vZGVzPXt9KSlbYV09XG5ifTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNldE1vZGU9ZnVuY3Rpb24oYSxiKXt2YXIgZj10aGlzLGs9dGhpcy5fLm1vZGVzO2lmKGEhPWYubW9kZSYmayYma1thXSl7Zi5maXJlKFwiYmVmb3JlU2V0TW9kZVwiLGEpO2lmKGYubW9kZSl7dmFyIGQ9Zi5jaGVja0RpcnR5KCksaz1mLl8ucHJldmlvdXNNb2RlRGF0YSxoLG09MDtmLmZpcmUoXCJiZWZvcmVNb2RlVW5sb2FkXCIpO2YuZWRpdGFibGUoMCk7Zi5fLnByZXZpb3VzTW9kZT1mLm1vZGU7Zi5fLnByZXZpb3VzTW9kZURhdGE9aD1mLmdldERhdGEoMSk7XCJzb3VyY2VcIj09Zi5tb2RlJiZrPT1oJiYoZi5maXJlKFwibG9ja1NuYXBzaG90XCIse2ZvcmNlVXBkYXRlOiEwfSksbT0xKTtmLnVpLnNwYWNlKFwiY29udGVudHNcIikuc2V0SHRtbChcIlwiKTtmLm1vZGU9XCJcIn1lbHNlIGYuXy5wcmV2aW91c01vZGVEYXRhPWYuZ2V0RGF0YSgxKTt0aGlzLl8ubW9kZXNbYV0oZnVuY3Rpb24oKXtmLm1vZGU9YTt2b2lkIDAhPT1kJiYhZCYmZi5yZXNldERpcnR5KCk7XG5tP2YuZmlyZShcInVubG9ja1NuYXBzaG90XCIpOlwid3lzaXd5Z1wiPT1hJiZmLmZpcmUoXCJzYXZlU25hcHNob3RcIik7c2V0VGltZW91dChmdW5jdGlvbigpe2YuZmlyZShcIm1vZGVcIik7YiYmYi5jYWxsKGYpfSwwKX0pfX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oYSxiLGYsayl7dmFyIGQ9dGhpcy5jb250YWluZXIsaD10aGlzLnVpLnNwYWNlKFwiY29udGVudHNcIiksbT1DS0VESVRPUi5lbnYud2Via2l0JiZ0aGlzLmRvY3VtZW50JiZ0aGlzLmRvY3VtZW50LmdldFdpbmRvdygpLiQuZnJhbWVFbGVtZW50O2s9az90aGlzLmNvbnRhaW5lci5nZXRGaXJzdChmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaGFzQ2xhc3MoXCJja2VfaW5uZXJcIil9KTpkO2suc2V0U2l6ZShcIndpZHRoXCIsYSwhMCk7bSYmKG0uc3R5bGUud2lkdGg9XCIxJVwiKTt2YXIgZz0oay4kLm9mZnNldEhlaWdodHx8MCktKGguJC5jbGllbnRIZWlnaHR8fFxuMCksZD1NYXRoLm1heChiLShmPzA6ZyksMCk7Yj1mP2IrZzpiO2guc2V0U3R5bGUoXCJoZWlnaHRcIixkK1wicHhcIik7bSYmKG0uc3R5bGUud2lkdGg9XCIxMDAlXCIpO3RoaXMuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDpiLGNvbnRlbnRzSGVpZ2h0OmQsb3V0ZXJXaWR0aDphfHxrLmdldFNpemUoXCJ3aWR0aFwiKX0pfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmdldFJlc2l6YWJsZT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLnVpLnNwYWNlKFwiY29udGVudHNcIik6dGhpcy5jb250YWluZXJ9O0NLRURJVE9SLmRvbVJlYWR5KGZ1bmN0aW9uKCl7Q0tFRElUT1IucmVwbGFjZUNsYXNzJiZDS0VESVRPUi5yZXBsYWNlQWxsKENLRURJVE9SLnJlcGxhY2VDbGFzcyl9KX0oKSxDS0VESVRPUi5jb25maWcuc3RhcnR1cE1vZGU9XCJ3eXNpd3lnXCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3ZhciBiPWEuZWRpdG9yLGQ9YS5kYXRhLnBhdGgsZT1kLmJsb2NrTGltaXQsZz1hLmRhdGEuc2VsZWN0aW9uLFxuaD1nLmdldFJhbmdlcygpWzBdLG07aWYoQ0tFRElUT1IuZW52LmdlY2tvfHxDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyKWlmKGc9ZihnLGQpKWcuYXBwZW5kQm9ndXMoKSxtPUNLRURJVE9SLmVudi5pZTtrKGIsZC5ibG9jayxlKSYmaC5jb2xsYXBzZWQmJiFoLmdldENvbW1vbkFuY2VzdG9yKCkuaXNSZWFkT25seSgpJiYoZD1oLmNsb25lKCksZC5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfQkxPQ0tfQ09OVEVOVFMpLGU9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZCksZS5ndWFyZD1mdW5jdGlvbihhKXtyZXR1cm4hYyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0NPTU1FTlR8fGEuaXNSZWFkT25seSgpfSwhZS5jaGVja0ZvcndhcmQoKXx8ZC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZkLmNoZWNrRW5kT2ZCbG9jaygpKSYmKGI9aC5maXhCbG9jayghMCxiLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCIpLENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyfHxcbihiPWIuZ2V0Rmlyc3QoYykpJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmQ0tFRElUT1IudG9vbHMudHJpbShiLmdldFRleHQoKSkubWF0Y2goL14oPzombmJzcDt8XFx4YTApJC8pJiZiLnJlbW92ZSgpLG09MSxhLmNhbmNlbCgpKTttJiZoLnNlbGVjdCgpfWZ1bmN0aW9uIGYoYSxiKXtpZihhLmlzRmFrZSlyZXR1cm4gMDt2YXIgZD1iLmJsb2NrfHxiLmJsb2NrTGltaXQsZT1kJiZkLmdldExhc3QoYyk7aWYoISghZHx8IWQuaXNCbG9ja0JvdW5kYXJ5KCl8fGUmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmlzQmxvY2tCb3VuZGFyeSgpfHxkLmlzKFwicHJlXCIpfHxkLmdldEJvZ3VzKCkpKXJldHVybiBkfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2IuaXMoXCJpbnB1dFwiKSYmKGI9Yi5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpLFwic3VibWl0XCIhPWImJlwicmVzZXRcIiE9Ynx8YS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfWZ1bmN0aW9uIGMoYSl7cmV0dXJuIGcoYSkmJlxubihhKX1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWMuZGF0YS4kLnRvRWxlbWVudHx8Yy5kYXRhLiQuZnJvbUVsZW1lbnR8fGMuZGF0YS4kLnJlbGF0ZWRUYXJnZXQ7KGQ9ZCYmZC5ub2RlVHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChkKTpudWxsKSYmKGIuZXF1YWxzKGQpfHxiLmNvbnRhaW5zKGQpKXx8YS5jYWxsKHRoaXMsYyl9fWZ1bmN0aW9uIGwoYSl7ZnVuY3Rpb24gYihhKXtyZXR1cm4gZnVuY3Rpb24oYixlKXtlJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYi5pcyhnKSYmKGQ9Yik7aWYoIShlfHwhYyhiKXx8YSYmcihiKSkpcmV0dXJuITF9fXZhciBkLGU9YS5nZXRSYW5nZXMoKVswXTthPWEucm9vdDt2YXIgZz17dGFibGU6MSx1bDoxLG9sOjEsZGw6MX07aWYoZS5zdGFydFBhdGgoKS5jb250YWlucyhnKSl7dmFyIGY9ZS5jbG9uZSgpO2YuY29sbGFwc2UoMSk7Zi5zZXRTdGFydEF0KGEsXG5DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7YT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKTthLmd1YXJkPWIoKTthLmNoZWNrQmFja3dhcmQoKTtpZihkKXJldHVybiBmPWUuY2xvbmUoKSxmLmNvbGxhcHNlKCksZi5zZXRFbmRBdChkLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksYT1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihmKSxhLmd1YXJkPWIoITApLGQ9ITEsYS5jaGVja0ZvcndhcmQoKSxkfXJldHVybiBudWxsfWZ1bmN0aW9uIGsoYSxiLGMpe3JldHVybiExIT09YS5jb25maWcuYXV0b1BhcmFncmFwaCYmYS5hY3RpdmVFbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoYS5lZGl0YWJsZSgpLmVxdWFscyhjKSYmIWJ8fGImJlwidHJ1ZVwiPT1iLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9ZnVuY3Rpb24gZChhKXtyZXR1cm4gYS5hY3RpdmVFbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYhMSE9PWEuY29uZmlnLmF1dG9QYXJhZ3JhcGg/XG5hLmFjdGl2ZUVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCI6ITF9ZnVuY3Rpb24gaChhKXt2YXIgYj1hLmVkaXRvcjtiLmdldFNlbGVjdGlvbigpLnNjcm9sbEludG9WaWV3KCk7c2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCl9ZnVuY3Rpb24gbShhLGIsYyl7dmFyIGQ9YS5nZXRDb21tb25BbmNlc3RvcihiKTtmb3IoYj1hPWM/YjphOyhhPWEuZ2V0UGFyZW50KCkpJiYhZC5lcXVhbHMoYSkmJjE9PWEuZ2V0Q2hpbGRDb3VudCgpOyliPWE7Yi5yZW1vdmUoKX12YXIgZyxuLHAscix4LHYsdSx0LHksQTtDS0VESVRPUi5lZGl0YWJsZT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5kb20uZWxlbWVudCwkOmZ1bmN0aW9uKGEsYil7dGhpcy5iYXNlKGIuJHx8Yik7dGhpcy5lZGl0b3I9YTt0aGlzLnN0YXR1cz1cInVubG9hZGVkXCI7dGhpcy5oYXNGb2N1cz0hMTt0aGlzLnNldHVwKCl9LHByb3RvOntmb2N1czpmdW5jdGlvbigpe3ZhciBhO1xuaWYoQ0tFRElUT1IuZW52LndlYmtpdCYmIXRoaXMuaGFzRm9jdXMmJihhPXRoaXMuZWRpdG9yLl8ucHJldmlvdXNBY3RpdmV8fHRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRBY3RpdmUoKSx0aGlzLmNvbnRhaW5zKGEpKSl7YS5mb2N1cygpO3JldHVybn1DS0VESVRPUi5lbnYuZWRnZSYmMTQ8Q0tFRElUT1IuZW52LnZlcnNpb24mJiF0aGlzLmhhc0ZvY3VzJiZ0aGlzLmdldERvY3VtZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSYmKHRoaXMuZWRpdG9yLl8ucHJldmlvdXNTY3JvbGxUb3A9dGhpcy4kLnNjcm9sbFRvcCk7dHJ5e2lmKCFDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbnx8IXRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpKWlmKENLRURJVE9SLmVudi5jaHJvbWUpe3ZhciBiPXRoaXMuJC5zY3JvbGxUb3A7dGhpcy4kLmZvY3VzKCk7dGhpcy4kLnNjcm9sbFRvcD1ifWVsc2UgdGhpcy4kLmZvY3VzKCk7XG5lbHNlIHRoaXMuJC5zZXRBY3RpdmUoKX1jYXRjaChjKXtpZighQ0tFRElUT1IuZW52LmllKXRocm93IGM7fUNLRURJVE9SLmVudi5zYWZhcmkmJiF0aGlzLmlzSW5saW5lKCkmJihhPUNLRURJVE9SLmRvY3VtZW50LmdldEFjdGl2ZSgpLGEuZXF1YWxzKHRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKSl8fHRoaXMuZ2V0V2luZG93KCkuZm9jdXMoKSl9LG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO0NLRURJVE9SLmVudi5pZSYmL15mb2N1c3xibHVyJC8uZXhlYyhhKSYmKGE9XCJmb2N1c1wiPT1hP1wiZm9jdXNpblwiOlwiZm9jdXNvdXRcIixiPWUoYix0aGlzKSxjWzBdPWEsY1sxXT1iKTtyZXR1cm4gQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLm9uLmFwcGx5KHRoaXMsYyl9LGF0dGFjaExpc3RlbmVyOmZ1bmN0aW9uKGEpeyF0aGlzLl8ubGlzdGVuZXJzJiYodGhpcy5fLmxpc3RlbmVycz1bXSk7dmFyIGI9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLFxuMSksYj1hLm9uLmFwcGx5KGEsYik7dGhpcy5fLmxpc3RlbmVycy5wdXNoKGIpO3JldHVybiBifSxjbGVhckxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5saXN0ZW5lcnM7dHJ5e2Zvcig7YS5sZW5ndGg7KWEucG9wKCkucmVtb3ZlTGlzdGVuZXIoKX1jYXRjaChiKXt9fSxyZXN0b3JlQXR0cnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uYXR0ckNoYW5nZXMsYixjO2ZvcihjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmKGI9YVtjXSxudWxsIT09Yj90aGlzLnNldEF0dHJpYnV0ZShjLGIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKGMpKX0sYXR0YWNoQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRDdXN0b21EYXRhKFwiY2xhc3Nlc1wiKTt0aGlzLmhhc0NsYXNzKGEpfHwoIWImJihiPVtdKSxiLnB1c2goYSksdGhpcy5zZXRDdXN0b21EYXRhKFwiY2xhc3Nlc1wiLGIpLHRoaXMuYWRkQ2xhc3MoYSkpfSxjaGFuZ2VBdHRyOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy5nZXRBdHRyaWJ1dGUoYSk7XG5iIT09YyYmKCF0aGlzLl8uYXR0ckNoYW5nZXMmJih0aGlzLl8uYXR0ckNoYW5nZXM9e30pLGEgaW4gdGhpcy5fLmF0dHJDaGFuZ2VzfHwodGhpcy5fLmF0dHJDaGFuZ2VzW2FdPWMpLHRoaXMuc2V0QXR0cmlidXRlKGEsYikpfSxpbnNlcnRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuZWRpdG9yLmZvY3VzKCk7dGhpcy5pbnNlcnRIdG1sKHRoaXMudHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sKGEpLFwidGV4dFwiKX0sdHJhbnNmb3JtUGxhaW5UZXh0VG9IdG1sOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWRpdG9yLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpLmhhc0FzY2VuZGFudChcInByZVwiLCEwKT9DS0VESVRPUi5FTlRFUl9CUjp0aGlzLmVkaXRvci5hY3RpdmVFbnRlck1vZGU7cmV0dXJuIENLRURJVE9SLnRvb2xzLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChhLGIpfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD10aGlzLmVkaXRvcjtkLmZvY3VzKCk7ZC5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuY3x8KGM9ZC5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSk7dih0aGlzLGJ8fFwiaHRtbFwiLGEsYyk7Yy5zZWxlY3QoKTtoKHRoaXMpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIix7fSl9LGluc2VydEh0bWxJbnRvUmFuZ2U6ZnVuY3Rpb24oYSxiLGMpe3YodGhpcyxjfHxcImh0bWxcIixhLGIpO3RoaXMuZWRpdG9yLmZpcmUoXCJhZnRlckluc2VydEh0bWxcIix7aW50b1JhbmdlOmJ9KX0saW5zZXJ0RWxlbWVudDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuZWRpdG9yO2QuZm9jdXMoKTtkLmZpcmUoXCJzYXZlU25hcHNob3RcIik7dmFyIGU9ZC5hY3RpdmVFbnRlck1vZGUsZD1kLmdldFNlbGVjdGlvbigpLGc9YS5nZXROYW1lKCksZz1DS0VESVRPUi5kdGQuJGJsb2NrW2ddO2J8fChiPWQuZ2V0UmFuZ2VzKClbMF0pO3RoaXMuaW5zZXJ0RWxlbWVudEludG9SYW5nZShhLGIpJiYoYi5tb3ZlVG9Qb3NpdGlvbihhLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksZyYmKChnPVxuYS5nZXROZXh0KGZ1bmN0aW9uKGEpe3JldHVybiBjKGEpJiYhcihhKX0pKSYmZy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmcuaXMoQ0tFRElUT1IuZHRkLiRibG9jayk/Zy5nZXREdGQoKVtcIiNcIl0/Yi5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGcpOmIubW92ZVRvRWxlbWVudEVkaXRFbmQoYSk6Z3x8ZT09Q0tFRElUT1IuRU5URVJfQlJ8fChnPWIuZml4QmxvY2soITAsZT09Q0tFRElUT1IuRU5URVJfRElWP1wiZGl2XCI6XCJwXCIpLGIubW92ZVRvRWxlbWVudEVkaXRTdGFydChnKSkpKTtkLnNlbGVjdFJhbmdlcyhbYl0pO2godGhpcyl9LGluc2VydEVsZW1lbnRJbnRvU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0RWxlbWVudChhKX0saW5zZXJ0RWxlbWVudEludG9SYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZWRpdG9yLGQ9Yy5jb25maWcuZW50ZXJNb2RlLGU9YS5nZXROYW1lKCksZz1DS0VESVRPUi5kdGQuJGJsb2NrW2VdO2lmKGIuY2hlY2tSZWFkT25seSgpKXJldHVybiExO1xuYi5kZWxldGVDb250ZW50cygxKTtiLnN0YXJ0Q29udGFpbmVyLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGIuc3RhcnRDb250YWluZXIuaXMoe3RyOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MX0pP3UoYik6Yi5zdGFydENvbnRhaW5lci5pcyhDS0VESVRPUi5kdGQuJGxpc3QpJiZ0KGIpKTt2YXIgZixoO2lmKGcpZm9yKDsoZj1iLmdldENvbW1vbkFuY2VzdG9yKDAsMSkpJiYoaD1DS0VESVRPUi5kdGRbZi5nZXROYW1lKCldKSYmKCFofHwhaFtlXSk7KWYuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLnNwYW4/Yi5zcGxpdEVsZW1lbnQoZik6Yi5jaGVja1N0YXJ0T2ZCbG9jaygpJiZiLmNoZWNrRW5kT2ZCbG9jaygpPyhiLnNldFN0YXJ0QmVmb3JlKGYpLGIuY29sbGFwc2UoITApLGYucmVtb3ZlKCkpOmIuc3BsaXRCbG9jayhkPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIixjLmVkaXRhYmxlKCkpO2IuaW5zZXJ0Tm9kZShhKTtyZXR1cm4hMH0sc2V0RGF0YTpmdW5jdGlvbihhLFxuYil7Ynx8KGE9dGhpcy5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSkpO3RoaXMuc2V0SHRtbChhKTt0aGlzLmZpeEluaXRpYWxTZWxlY3Rpb24oKTtcInVubG9hZGVkXCI9PXRoaXMuc3RhdHVzJiYodGhpcy5zdGF0dXM9XCJyZWFkeVwiKTt0aGlzLmVkaXRvci5maXJlKFwiZGF0YVJlYWR5XCIpfSxnZXREYXRhOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0SHRtbCgpO2F8fChiPXRoaXMuZWRpdG9yLmRhdGFQcm9jZXNzb3IudG9EYXRhRm9ybWF0KGIpKTtyZXR1cm4gYn0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7dGhpcy5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIiwhYSl9LGRldGFjaDpmdW5jdGlvbigpe3RoaXMucmVtb3ZlQ2xhc3MoXCJja2VfZWRpdGFibGVcIik7dGhpcy5zdGF0dXM9XCJkZXRhY2hlZFwiO3ZhciBhPXRoaXMuZWRpdG9yO3RoaXMuXy5kZXRhY2goKTtkZWxldGUgYS5kb2N1bWVudDtkZWxldGUgYS53aW5kb3d9LGlzSW5saW5lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpfSxcbmZpeEluaXRpYWxTZWxlY3Rpb246ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7dmFyIGI9Yy5nZXREb2N1bWVudCgpLiQsZD1iLmdldFNlbGVjdGlvbigpLGU7YTppZihkLmFuY2hvck5vZGUmJmQuYW5jaG9yTm9kZT09Yy4kKWU9ITA7ZWxzZXtpZihDS0VESVRPUi5lbnYud2Via2l0JiYoZT1jLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCkpJiZlLmVxdWFscyhjKSYmIWQuYW5jaG9yTm9kZSl7ZT0hMDticmVhayBhfWU9dm9pZCAwfWUmJihlPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyksZS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGMpLGI9Yi5jcmVhdGVSYW5nZSgpLGIuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lci4kLGUuc3RhcnRPZmZzZXQpLGIuY29sbGFwc2UoITApLGQucmVtb3ZlQWxsUmFuZ2VzKCksZC5hZGRSYW5nZShiKSl9ZnVuY3Rpb24gYigpe3ZhciBhPWMuZ2V0RG9jdW1lbnQoKS4kLGQ9YS5zZWxlY3Rpb24sZT1jLmdldERvY3VtZW50KCkuZ2V0QWN0aXZlKCk7XCJOb25lXCI9PVxuZC50eXBlJiZlLmVxdWFscyhjKSYmKGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShjKSxhPWEuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSxkLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoYyksZD1kLnN0YXJ0Q29udGFpbmVyLGQudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZD1kLmdldFBhcmVudCgpKSxhLm1vdmVUb0VsZW1lbnRUZXh0KGQuJCksYS5jb2xsYXBzZSghMCksYS5zZWxlY3QoKSl9dmFyIGM9dGhpcztpZihDS0VESVRPUi5lbnYuaWUmJig5PkNLRURJVE9SLmVudi52ZXJzaW9ufHxDS0VESVRPUi5lbnYucXVpcmtzKSl0aGlzLmhhc0ZvY3VzJiYodGhpcy5mb2N1cygpLGIoKSk7ZWxzZSBpZih0aGlzLmhhc0ZvY3VzKXRoaXMuZm9jdXMoKSxhKCk7ZWxzZSB0aGlzLm9uY2UoXCJmb2N1c1wiLGZ1bmN0aW9uKCl7YSgpfSxudWxsLG51bGwsLTk5OSl9LGdldEh0bWxGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7aWYoYS5jb2xsYXBzZWQpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTtcbmE9e2RvYzp0aGlzLmdldERvY3VtZW50KCkscmFuZ2U6YS5jbG9uZSgpfTt5LmVvbC5kZXRlY3QoYSx0aGlzKTt5LmJvZ3VzLmV4Y2x1ZGUoYSk7eS5jZWxsLnNocmluayhhKTthLmZyYWdtZW50PWEucmFuZ2UuY2xvbmVDb250ZW50cygpO3kudHJlZS5yZWJ1aWxkKGEsdGhpcyk7eS5lb2wuZml4KGEsdGhpcyk7cmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmZyYWdtZW50LiQpfSxleHRyYWN0SHRtbEZyb21SYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBjPUEsZD17cmFuZ2U6YSxkb2M6YS5kb2N1bWVudH0sZT10aGlzLmdldEh0bWxGcm9tUmFuZ2UoYSk7aWYoYS5jb2xsYXBzZWQpcmV0dXJuIGEub3B0aW1pemUoKSxlO2EuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTtjLnRhYmxlLmRldGVjdFB1cmdlKGQpO2QuYm9va21hcms9YS5jcmVhdGVCb29rbWFyaygpO2RlbGV0ZSBkLnJhbmdlO3ZhciBnPXRoaXMuZWRpdG9yLmNyZWF0ZVJhbmdlKCk7XG5nLm1vdmVUb1Bvc2l0aW9uKGQuYm9va21hcmsuc3RhcnROb2RlLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7ZC50YXJnZXRCb29rbWFyaz1nLmNyZWF0ZUJvb2ttYXJrKCk7Yy5saXN0LmRldGVjdE1lcmdlKGQsdGhpcyk7Yy50YWJsZS5kZXRlY3RSYW5nZXMoZCx0aGlzKTtjLmJsb2NrLmRldGVjdE1lcmdlKGQsdGhpcyk7ZC50YWJsZUNvbnRlbnRzUmFuZ2VzPyhjLnRhYmxlLmRlbGV0ZVJhbmdlcyhkKSxhLm1vdmVUb0Jvb2ttYXJrKGQuYm9va21hcmspLGQucmFuZ2U9YSk6KGEubW92ZVRvQm9va21hcmsoZC5ib29rbWFyayksZC5yYW5nZT1hLGEuZXh0cmFjdENvbnRlbnRzKGMuZGV0ZWN0RXh0cmFjdE1lcmdlKGQpKSk7YS5tb3ZlVG9Cb29rbWFyayhkLnRhcmdldEJvb2ttYXJrKTthLm9wdGltaXplKCk7Yy5maXhVbmVkaXRhYmxlUmFuZ2VQb3NpdGlvbihhKTtjLmxpc3QubWVyZ2UoZCx0aGlzKTtjLnRhYmxlLnB1cmdlKGQsdGhpcyk7Yy5ibG9jay5tZXJnZShkLHRoaXMpO1xuaWYoYil7Yz1hLnN0YXJ0UGF0aCgpO2lmKGQ9YS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZhLmNoZWNrRW5kT2ZCbG9jaygpJiZjLmJsb2NrJiYhYS5yb290LmVxdWFscyhjLmJsb2NrKSl7YTp7dmFyIGQ9Yy5ibG9jay5nZXRFbGVtZW50c0J5VGFnKFwic3BhblwiKSxnPTAsZjtpZihkKWZvcig7Zj1kLmdldEl0ZW0oZysrKTspaWYoIW4oZikpe2Q9ITA7YnJlYWsgYX1kPSExfWQ9IWR9ZCYmKGEubW92ZVRvUG9zaXRpb24oYy5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLGMuYmxvY2sucmVtb3ZlKCkpfWVsc2UgYy5hdXRvUGFyYWdyYXBoKHRoaXMuZWRpdG9yLGEpLHAoYS5zdGFydENvbnRhaW5lcikmJmEuc3RhcnRDb250YWluZXIuYXBwZW5kQm9ndXMoKTthLnN0YXJ0Q29udGFpbmVyLm1lcmdlU2libGluZ3MoKTtyZXR1cm4gZX0sc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcjt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJiZWZvcmVHZXREYXRhXCIsZnVuY3Rpb24oKXt2YXIgYj1cbnRoaXMuZ2V0RGF0YSgpO3RoaXMuaXMoXCJ0ZXh0YXJlYVwiKXx8ITEhPT1hLmNvbmZpZy5pZ25vcmVFbXB0eVBhcmFncmFwaCYmKGI9Yi5yZXBsYWNlKHgsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYn0pKTthLnNldERhdGEoYixudWxsLDEpfSx0aGlzKTt0aGlzLmF0dGFjaExpc3RlbmVyKGEsXCJnZXRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe2EuZGF0YT10aGlzLmdldERhdGEoMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImFmdGVyU2V0RGF0YVwiLGZ1bmN0aW9uKCl7dGhpcy5zZXREYXRhKGEuZ2V0RGF0YSgxKSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKGEpe3RoaXMuc2V0RGF0YShhLmRhdGEsMSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZUZvY3VzXCIsZnVuY3Rpb24oKXt2YXIgYj1hLmdldFNlbGVjdGlvbigpOyhiPWImJmIuZ2V0TmF0aXZlKCkpJiZcIkNvbnRyb2xcIj09Yi50eXBlfHx0aGlzLmZvY3VzKCl9LFxudGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0SHRtbFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0SHRtbChhLmRhdGEuZGF0YVZhbHVlLGEuZGF0YS5tb2RlLGEuZGF0YS5yYW5nZSl9LHRoaXMpO3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImluc2VydEVsZW1lbnRcIixmdW5jdGlvbihhKXt0aGlzLmluc2VydEVsZW1lbnQoYS5kYXRhKX0sdGhpcyk7dGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwiaW5zZXJ0VGV4dFwiLGZ1bmN0aW9uKGEpe3RoaXMuaW5zZXJ0VGV4dChhLmRhdGEpfSx0aGlzKTt0aGlzLnNldFJlYWRPbmx5KGEucmVhZE9ubHkpO3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVcIik7YS5lbGVtZW50TW9kZT09Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORT90aGlzLmF0dGFjaENsYXNzKFwiY2tlX2VkaXRhYmxlX2lubGluZVwiKTphLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfUkVQTEFDRSYmYS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0FQUEVORFRPfHxcbnRoaXMuYXR0YWNoQ2xhc3MoXCJja2VfZWRpdGFibGVfdGhlbWVkXCIpO3RoaXMuYXR0YWNoQ2xhc3MoXCJja2VfY29udGVudHNfXCIrYS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uKTthLmtleXN0cm9rZUhhbmRsZXIuYmxvY2tlZEtleXN0cm9rZXNbOF09K2EucmVhZE9ubHk7YS5rZXlzdHJva2VIYW5kbGVyLmF0dGFjaCh0aGlzKTt0aGlzLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7dGhpcy5oYXNGb2N1cz0hMX0sbnVsbCxudWxsLC0xKTt0aGlzLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuaGFzRm9jdXM9ITB9LG51bGwsbnVsbCwtMSk7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl0aGlzLm9uKFwic2Nyb2xsXCIsZnVuY3Rpb24oKXthLl8ucHJldmlvdXNTY3JvbGxUb3A9YS5lZGl0YWJsZSgpLiQuc2Nyb2xsVG9wfSxudWxsLG51bGwsLTEpO2lmKENLRURJVE9SLmVudi5lZGdlJiYxNDxDS0VESVRPUi5lbnYudmVyc2lvbil7dmFyIGQ9ZnVuY3Rpb24oKXt2YXIgYj1hLmVkaXRhYmxlKCk7XG5udWxsIT1hLl8ucHJldmlvdXNTY3JvbGxUb3AmJmIuZ2V0RG9jdW1lbnQoKS5lcXVhbHMoQ0tFRElUT1IuZG9jdW1lbnQpJiYoYi4kLnNjcm9sbFRvcD1hLl8ucHJldmlvdXNTY3JvbGxUb3AsYS5fLnByZXZpb3VzU2Nyb2xsVG9wPW51bGwsdGhpcy5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGQpKX07dGhpcy5vbihcInNjcm9sbFwiLGQpfWEuZm9jdXNNYW5hZ2VyLmFkZCh0aGlzKTt0aGlzLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSkmJih0aGlzLmhhc0ZvY3VzPSEwLGEub25jZShcImNvbnRlbnREb21cIixmdW5jdGlvbigpe2EuZm9jdXNNYW5hZ2VyLmZvY3VzKHRoaXMpfSx0aGlzKSk7dGhpcy5pc0lubGluZSgpJiZ0aGlzLmNoYW5nZUF0dHIoXCJ0YWJpbmRleFwiLGEudGFiSW5kZXgpO2lmKCF0aGlzLmlzKFwidGV4dGFyZWFcIikpe2EuZG9jdW1lbnQ9dGhpcy5nZXREb2N1bWVudCgpO2Eud2luZG93PXRoaXMuZ2V0V2luZG93KCk7dmFyIGU9YS5kb2N1bWVudDt0aGlzLmNoYW5nZUF0dHIoXCJzcGVsbGNoZWNrXCIsXG4hYS5jb25maWcuZGlzYWJsZU5hdGl2ZVNwZWxsQ2hlY2tlcik7dmFyIGY9YS5jb25maWcuY29udGVudHNMYW5nRGlyZWN0aW9uO3RoaXMuZ2V0RGlyZWN0aW9uKDEpIT1mJiZ0aGlzLmNoYW5nZUF0dHIoXCJkaXJcIixmKTt2YXIgaD1DS0VESVRPUi5nZXRDc3MoKTtpZihoKXt2YXIgZj1lLmdldEhlYWQoKSxrPWYuZ2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIik7az9oIT1rLmdldFRleHQoKSYmKENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbj9rLiQuc3R5bGVTaGVldC5jc3NUZXh0PWg6ay5zZXRUZXh0KGgpKTooaD1lLmFwcGVuZFN0eWxlVGV4dChoKSxoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChoLm93bmVyTm9kZXx8aC5vd25pbmdFbGVtZW50KSxmLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0XCIsaCksaC5kYXRhKFwiY2tlLXRlbXBcIiwxKSl9Zj1lLmdldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiKXx8MDtlLnNldEN1c3RvbURhdGEoXCJzdHlsZXNoZWV0X3JlZlwiLFxuZisxKTt0aGlzLnNldEN1c3RvbURhdGEoXCJja2VfaW5jbHVkZVJlYWRvbmx5XCIsIWEuY29uZmlnLmRpc2FibGVSZWFkb25seVN0eWxpbmcpO3RoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGE7dmFyIGI9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRUYXJnZXQoKSx0aGlzKSkuY29udGFpbnMoXCJhXCIpO2ImJjIhPWEuJC5idXR0b24mJmIuaXNSZWFkT25seSgpJiZhLnByZXZlbnREZWZhdWx0KCl9KTt2YXIgbj17ODoxLDQ2OjF9O3RoaXMuYXR0YWNoTGlzdGVuZXIoYSxcImtleVwiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITA7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLGQ7aWYoYyBpbiBuKXtiPWEuZ2V0U2VsZWN0aW9uKCk7dmFyIGUsZj1iLmdldFJhbmdlcygpWzBdLGg9Zi5zdGFydFBhdGgoKSxtLGssdCxjPTg9PWM7Q0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGU9XG5iLmdldFNlbGVjdGVkRWxlbWVudCgpKXx8KGU9bChiKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxmLm1vdmVUb1Bvc2l0aW9uKGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxlLnJlbW92ZSgpLGYuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6Zi5jb2xsYXBzZWQmJigobT1oLmJsb2NrKSYmKHQ9bVtjP1wiZ2V0UHJldmlvdXNcIjpcImdldE5leHRcIl0oZykpJiZ0LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdC5pcyhcInRhYmxlXCIpJiZmW2M/XCJjaGVja1N0YXJ0T2ZCbG9ja1wiOlwiY2hlY2tFbmRPZkJsb2NrXCJdKCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxmW2M/XCJjaGVja0VuZE9mQmxvY2tcIjpcImNoZWNrU3RhcnRPZkJsb2NrXCJdKCkmJm0ucmVtb3ZlKCksZltcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGM/XCJFbmRcIjpcIlN0YXJ0XCIpXSh0KSxmLnNlbGVjdCgpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxkPTEpOmguYmxvY2tMaW1pdCYmaC5ibG9ja0xpbWl0LmlzKFwidGRcIikmJlxuKGs9aC5ibG9ja0xpbWl0LmdldEFzY2VuZGFudChcInRhYmxlXCIpKSYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYodD1rW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShnKSk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxmW1wibW92ZVRvRWxlbWVudEVkaXRcIisoYz9cIkVuZFwiOlwiU3RhcnRcIildKHQpLGYuY2hlY2tTdGFydE9mQmxvY2soKSYmZi5jaGVja0VuZE9mQmxvY2soKT90LnJlbW92ZSgpOmYuc2VsZWN0KCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpLGQ9MSk6KGs9aC5jb250YWlucyhbXCJ0ZFwiLFwidGhcIixcImNhcHRpb25cIl0pKSYmZi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGssYz9DS0VESVRPUi5TVEFSVDpDS0VESVRPUi5FTkQpJiYoZD0xKSl9cmV0dXJuIWR9KTthLmJsb2NrbGVzcyYmQ0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5dXBcIixcbmZ1bmN0aW9uKGIpe2IuZGF0YS5nZXRLZXlzdHJva2UoKWluIG4mJiF0aGlzLmdldEZpcnN0KGMpJiYodGhpcy5hcHBlbmRCb2d1cygpLGI9YS5jcmVhdGVSYW5nZSgpLGIubW92ZVRvUG9zaXRpb24odGhpcyxDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCksYi5zZWxlY3QoKSl9KTt0aGlzLmF0dGFjaExpc3RlbmVyKHRoaXMsXCJkYmxjbGlja1wiLGZ1bmN0aW9uKGIpe2lmKGEucmVhZE9ubHkpcmV0dXJuITE7Yj17ZWxlbWVudDpiLmRhdGEuZ2V0VGFyZ2V0KCl9O2EuZmlyZShcImRvdWJsZWNsaWNrXCIsYil9KTtDS0VESVRPUi5lbnYuaWUmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcImNsaWNrXCIsYik7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2V8fHRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YS5nZXRUYXJnZXQoKTtjLmlzKFwiaW1nXCIsXCJoclwiLFwiaW5wdXRcIixcInRleHRhcmVhXCIsXCJzZWxlY3RcIikmJlxuIWMuaXNSZWFkT25seSgpJiYoYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGMpLGMuaXMoXCJpbnB1dFwiLFwidGV4dGFyZWFcIixcInNlbGVjdFwiKSYmYi5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSk7Q0tFRElUT1IuZW52LmVkZ2UmJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXsoYj1iLmRhdGEuZ2V0VGFyZ2V0KCkpJiZiLmlzKFwiaW1nXCIpJiZhLmdldFNlbGVjdGlvbigpLnNlbGVjdEVsZW1lbnQoYil9KTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuYXR0YWNoTGlzdGVuZXIodGhpcyxcIm1vdXNldXBcIixmdW5jdGlvbihiKXtpZigyPT1iLmRhdGEuJC5idXR0b24mJihiPWIuZGF0YS5nZXRUYXJnZXQoKSwhYi5nZXRPdXRlckh0bWwoKS5yZXBsYWNlKHgsXCJcIikpKXt2YXIgYz1hLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KGIpO2Muc2VsZWN0KCEwKX19KTtDS0VESVRPUi5lbnYud2Via2l0JiYodGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFxuXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJzZWxlY3RcIikmJmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSksdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwibW91c2V1cFwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImlucHV0XCIsXCJ0ZXh0YXJlYVwiKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9KSk7Q0tFRElUT1IuZW52LndlYmtpdCYmdGhpcy5hdHRhY2hMaXN0ZW5lcihhLFwia2V5XCIsZnVuY3Rpb24oYil7aWYoYS5yZWFkT25seSlyZXR1cm4hMDtiPWIuZGF0YS5kb21FdmVudC5nZXRLZXkoKTtpZihiIGluIG4pe3ZhciBjPTg9PWIsZD1hLmdldFNlbGVjdGlvbigpLmdldFJhbmdlcygpWzBdO2I9ZC5zdGFydFBhdGgoKTtpZihkLmNvbGxhcHNlZClhOnt2YXIgZT1iLmJsb2NrO2lmKGUmJmRbYz9cImNoZWNrU3RhcnRPZkJsb2NrXCI6XCJjaGVja0VuZE9mQmxvY2tcIl0oKSYmZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihlLFxuIWMpJiZkLmNvbGxhcHNlZCl7aWYoZC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe3ZhciBnPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldC0oYz8xOjApKTtpZihnJiZnLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZy5pcyhcImhyXCIpKXthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Zy5yZW1vdmUoKTtiPSEwO2JyZWFrIGF9fWQ9ZC5zdGFydFBhdGgoKS5ibG9jaztpZighZHx8ZCYmZC5jb250YWlucyhlKSliPXZvaWQgMDtlbHNle2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTt2YXIgZjsoZj0oYz9kOmUpLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpO2Y9YS5nZXRTZWxlY3Rpb24oKTtnPWYuY3JlYXRlQm9va21hcmtzKCk7KGM/ZTpkKS5tb3ZlQ2hpbGRyZW4oYz9kOmUsITEpO2IubGFzdEVsZW1lbnQubWVyZ2VTaWJsaW5ncygpO20oZSxkLCFjKTtmLnNlbGVjdEJvb2ttYXJrcyhnKTtiPSEwfX1lbHNlIGI9ITF9ZWxzZSBjPWQsXG5mPWIuYmxvY2ssZD1jLmVuZFBhdGgoKS5ibG9jayxmJiZkJiYhZi5lcXVhbHMoZCk/KGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSwoZT1mLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpLGMuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSksYy5kZWxldGVDb250ZW50cygpLGQuZ2V0UGFyZW50KCkmJihkLm1vdmVDaGlsZHJlbihmLCExKSxiLmxhc3RFbGVtZW50Lm1lcmdlU2libGluZ3MoKSxtKGYsZCwhMCkpLGM9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxjLmNvbGxhcHNlKDEpLGMub3B0aW1pemUoKSxcIlwiPT09Yy5zdGFydENvbnRhaW5lci5nZXRIdG1sKCkmJmMuc3RhcnRDb250YWluZXIuYXBwZW5kQm9ndXMoKSxjLnNlbGVjdCgpLGI9ITApOmI9ITE7aWYoIWIpcmV0dXJuO2EuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKTthLmZpcmUoXCJzYXZlU25hcHNob3RcIik7cmV0dXJuITF9fSx0aGlzLG51bGwsMTAwKX19fSxfOntkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvci5zZXREYXRhKHRoaXMuZWRpdG9yLmdldERhdGEoKSxcbjAsMSk7dGhpcy5jbGVhckxpc3RlbmVycygpO3RoaXMucmVzdG9yZUF0dHJzKCk7dmFyIGE7aWYoYT10aGlzLnJlbW92ZUN1c3RvbURhdGEoXCJjbGFzc2VzXCIpKWZvcig7YS5sZW5ndGg7KXRoaXMucmVtb3ZlQ2xhc3MoYS5wb3AoKSk7aWYoIXRoaXMuaXMoXCJ0ZXh0YXJlYVwiKSl7YT10aGlzLmdldERvY3VtZW50KCk7dmFyIGI9YS5nZXRIZWFkKCk7aWYoYi5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldFwiKSl7dmFyIGM9YS5nZXRDdXN0b21EYXRhKFwic3R5bGVzaGVldF9yZWZcIik7LS1jP2Euc2V0Q3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIsYyk6KGEucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRfcmVmXCIpLGIucmVtb3ZlQ3VzdG9tRGF0YShcInN0eWxlc2hlZXRcIikucmVtb3ZlKCkpfX10aGlzLmVkaXRvci5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTtkZWxldGUgdGhpcy5lZGl0b3J9fX0pO0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZWRpdGFibGU9ZnVuY3Rpb24oYSl7dmFyIGI9XG50aGlzLl8uZWRpdGFibGU7aWYoYiYmYSlyZXR1cm4gMDthcmd1bWVudHMubGVuZ3RoJiYoYj10aGlzLl8uZWRpdGFibGU9YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/YTpuZXcgQ0tFRElUT1IuZWRpdGFibGUodGhpcyxhKTooYiYmYi5kZXRhY2goKSxudWxsKSk7cmV0dXJuIGJ9O0NLRURJVE9SLm9uKFwiaW5zdGFuY2VMb2FkZWRcIixmdW5jdGlvbihiKXt2YXIgYz1iLmVkaXRvcjtjLm9uKFwiaW5zZXJ0RWxlbWVudFwiLGZ1bmN0aW9uKGEpe2E9YS5kYXRhO2EudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoYS5pcyhcImlucHV0XCIpfHxhLmlzKFwidGV4dGFyZWFcIikpJiYoXCJmYWxzZVwiIT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSYmYS5kYXRhKFwiY2tlLWVkaXRhYmxlXCIsYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XCJ0cnVlXCI6XCIxXCIpLGEuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpKX0pO2Mub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixcbmZ1bmN0aW9uKGIpe2lmKCFjLnJlYWRPbmx5KXt2YXIgZD1jLmdldFNlbGVjdGlvbigpO2QmJiFkLmlzTG9ja2VkJiYoZD1jLmNoZWNrRGlydHkoKSxjLmZpcmUoXCJsb2NrU25hcHNob3RcIiksYShiKSxjLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKSwhZCYmYy5yZXNldERpcnR5KCkpfX0pfSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUNyZWF0ZWRcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGE9Yi5lZGl0YWJsZSgpO2lmKGEmJmEuaXNJbmxpbmUoKSl7dmFyIGM9Yi50aXRsZTthLmNoYW5nZUF0dHIoXCJyb2xlXCIsXCJ0ZXh0Ym94XCIpO2EuY2hhbmdlQXR0cihcImFyaWEtbGFiZWxcIixjKTtjJiZhLmNoYW5nZUF0dHIoXCJ0aXRsZVwiLGMpO3ZhciBkPWIuZmlyZShcImFyaWFFZGl0b3JIZWxwTGFiZWxcIix7fSkubGFiZWw7aWYoZCYmKGM9dGhpcy51aS5zcGFjZSh0aGlzLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP1widG9wXCI6XG5cImNvbnRlbnRzXCIpKSl7dmFyIGU9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksZD1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NzcGFuIGlkXFx4M2RcIicrZSsnXCIgY2xhc3NcXHgzZFwiY2tlX3ZvaWNlX2xhYmVsXCJcXHgzZScrZCtcIlxceDNjL3NwYW5cXHgzZVwiKTtjLmFwcGVuZChkKTthLmNoYW5nZUF0dHIoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsZSl9fX0pfSk7Q0tFRElUT1IuYWRkQ3NzKFwiLmNrZV9lZGl0YWJsZXtjdXJzb3I6dGV4dH0uY2tlX2VkaXRhYmxlIGltZywuY2tlX2VkaXRhYmxlIGlucHV0LC5ja2VfZWRpdGFibGUgdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO2c9Q0tFRElUT1IuZG9tLndhbGtlci53aGl0ZXNwYWNlcyghMCk7bj1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCExLCEwKTtwPUNLRURJVE9SLmRvbS53YWxrZXIuZW1wdHkoKTtyPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTt4PS8oXnw8Ym9keVxcYltePl0qPilcXHMqPChwfGRpdnxhZGRyZXNzfGhcXGR8Y2VudGVyfHByZSlbXj5dKj5cXHMqKD86PGJyW14+XSo+fCZuYnNwO3xcXHUwMEEwfCYjMTYwOyk/XFxzKig6PzxcXC9cXDI+KT9cXHMqKD89JHw8XFwvYm9keT4pL2dpO1xudj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfWZ1bmN0aW9uIGIoYyxkKXt2YXIgZSxnLGYsaCxtPVtdLGs9ZC5yYW5nZS5zdGFydENvbnRhaW5lcjtlPWQucmFuZ2Uuc3RhcnRQYXRoKCk7Zm9yKHZhciBrPWxbay5nZXROYW1lKCldLG49MCx0PWMuZ2V0Q2hpbGRyZW4oKSx1PXQuY291bnQoKSxFPS0xLHY9LTEseT0wLHA9ZS5jb250YWlucyhsLiRsaXN0KTtuPHU7KytuKWU9dC5nZXRJdGVtKG4pLGEoZSk/KGY9ZS5nZXROYW1lKCkscCYmZiBpbiBDS0VESVRPUi5kdGQuJGxpc3Q/bT1tLmNvbmNhdChiKGUsZCkpOihoPSEha1tmXSxcImJyXCIhPWZ8fCFlLmRhdGEoXCJja2UtZW9sXCIpfHxuJiZuIT11LTF8fCh5PShnPW4/bVtuLTFdLm5vZGU6dC5nZXRJdGVtKG4rMSkpJiYoIWEoZyl8fCFnLmlzKFwiYnJcIikpLGc9ZyYmYShnKSYmbC4kYmxvY2tbZy5nZXROYW1lKCldKSwtMSE9RXx8aHx8KEU9biksaHx8KHY9biksbS5wdXNoKHtpc0VsZW1lbnQ6MSxcbmlzTGluZUJyZWFrOnksaXNCbG9jazplLmlzQmxvY2tCb3VuZGFyeSgpLGhhc0Jsb2NrU2libGluZzpnLG5vZGU6ZSxuYW1lOmYsYWxsb3dlZDpofSksZz15PTApKTptLnB1c2goe2lzRWxlbWVudDowLG5vZGU6ZSxhbGxvd2VkOjF9KTstMTxFJiYobVtFXS5maXJzdE5vdEFsbG93ZWQ9MSk7LTE8diYmKG1bdl0ubGFzdE5vdEFsbG93ZWQ9MSk7cmV0dXJuIG19ZnVuY3Rpb24gZShiLGMpe3ZhciBkPVtdLGc9Yi5nZXRDaGlsZHJlbigpLGY9Zy5jb3VudCgpLGgsbT0wLGs9bFtjXSxuPSFiLmlzKGwuJGlubGluZSl8fGIuaXMoXCJiclwiKTtmb3IobiYmZC5wdXNoKFwiIFwiKTttPGY7bSsrKWg9Zy5nZXRJdGVtKG0pLGEoaCkmJiFoLmlzKGspP2Q9ZC5jb25jYXQoZShoLGMpKTpkLnB1c2goaCk7biYmZC5wdXNoKFwiIFwiKTtyZXR1cm4gZH1mdW5jdGlvbiBmKGIpe3JldHVybiBhKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmdldENoaWxkKGIuc3RhcnRPZmZzZXQtMSl9ZnVuY3Rpb24gZyhiKXtyZXR1cm4gYiYmXG5hKGIpJiYoYi5pcyhsLiRyZW1vdmVFbXB0eSl8fGIuaXMoXCJhXCIpJiYhYi5pc0Jsb2NrQm91bmRhcnkoKSl9ZnVuY3Rpb24gaChiLGMsZCxlKXt2YXIgZz1iLmNsb25lKCksZixtO2cuc2V0RW5kQXQoYyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTsoZj0obmV3IENLRURJVE9SLmRvbS53YWxrZXIoZykpLm5leHQoKSkmJmEoZikmJm5bZi5nZXROYW1lKCldJiYobT1mLmdldFByZXZpb3VzKCkpJiZhKG0pJiYhbS5nZXRQYXJlbnQoKS5lcXVhbHMoYi5zdGFydENvbnRhaW5lcikmJmQuY29udGFpbnMobSkmJmUuY29udGFpbnMoZikmJmYuaXNJZGVudGljYWwobSkmJihmLm1vdmVDaGlsZHJlbihtKSxmLnJlbW92ZSgpLGgoYixjLGQsZSkpfWZ1bmN0aW9uIG0oYixjKXtmdW5jdGlvbiBkKGIsYyl7aWYoYy5pc0Jsb2NrJiZjLmlzRWxlbWVudCYmIWMubm9kZS5pcyhcImJyXCIpJiZhKGIpJiZiLmlzKFwiYnJcIikpcmV0dXJuIGIucmVtb3ZlKCksMX12YXIgZT1jLmVuZENvbnRhaW5lci5nZXRDaGlsZChjLmVuZE9mZnNldCksXG5nPWMuZW5kQ29udGFpbmVyLmdldENoaWxkKGMuZW5kT2Zmc2V0LTEpO2UmJmQoZSxiW2IubGVuZ3RoLTFdKTtnJiZkKGcsYlswXSkmJihjLnNldEVuZChjLmVuZENvbnRhaW5lcixjLmVuZE9mZnNldC0xKSxjLmNvbGxhcHNlKCkpfXZhciBsPUNLRURJVE9SLmR0ZCxuPXtwOjEsZGl2OjEsaDE6MSxoMjoxLGgzOjEsaDQ6MSxoNToxLGg2OjEsdWw6MSxvbDoxLGxpOjEscHJlOjEsZGw6MSxibG9ja3F1b3RlOjF9LHQ9e3A6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MX0sdT1DS0VESVRPUi50b29scy5leHRlbmQoe30sbC4kaW5saW5lKTtkZWxldGUgdS5icjtyZXR1cm4gZnVuY3Rpb24obixELHYseSl7dmFyIHA9bi5lZGl0b3IseD0hMTtcInVuZmlsdGVyZWRfaHRtbFwiPT1EJiYoRD1cImh0bWxcIix4PSEwKTtpZigheS5jaGVja1JlYWRPbmx5KCkpe3ZhciBBPShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKHkuc3RhcnRDb250YWluZXIseS5yb290KSkuYmxvY2tMaW1pdHx8XG55LnJvb3Q7bj17dHlwZTpELGRvbnRGaWx0ZXI6eCxlZGl0YWJsZTpuLGVkaXRvcjpwLHJhbmdlOnksYmxvY2tMaW1pdDpBLG1lcmdlQ2FuZGlkYXRlczpbXSx6b21iaWVzOltdfTtEPW4ucmFuZ2U7eT1uLm1lcmdlQ2FuZGlkYXRlczt2YXIgcixKO1widGV4dFwiPT1uLnR5cGUmJkQuc2hyaW5rKENLRURJVE9SLlNIUklOS19FTEVNRU5ULCEwLCExKSYmKHI9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoXCJcXHgzY3NwYW5cXHgzZVxceDI2bmJzcDtcXHgzYy9zcGFuXFx4M2VcIixELmRvY3VtZW50KSxELmluc2VydE5vZGUociksRC5zZXRTdGFydEFmdGVyKHIpKTt4PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoRC5zdGFydENvbnRhaW5lcik7bi5lbmRQYXRoPUE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChELmVuZENvbnRhaW5lcik7aWYoIUQuY29sbGFwc2VkKXt2YXIgcD1BLmJsb2NrfHxBLmJsb2NrTGltaXQsZmE9RC5nZXRDb21tb25BbmNlc3RvcigpO3AmJiFwLmVxdWFscyhmYSkmJlxuIXAuY29udGFpbnMoZmEpJiZELmNoZWNrRW5kT2ZCbG9jaygpJiZuLnpvbWJpZXMucHVzaChwKTtELmRlbGV0ZUNvbnRlbnRzKCl9Zm9yKDsoSj1mKEQpKSYmYShKKSYmSi5pc0Jsb2NrQm91bmRhcnkoKSYmeC5jb250YWlucyhKKTspRC5tb3ZlVG9Qb3NpdGlvbihKLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2goRCxuLmJsb2NrTGltaXQseCxBKTtyJiYoRC5zZXRFbmRCZWZvcmUociksRC5jb2xsYXBzZSgpLHIucmVtb3ZlKCkpO3I9RC5zdGFydFBhdGgoKTtpZihwPXIuY29udGFpbnMoZywhMSwxKSlELnNwbGl0RWxlbWVudChwKSxuLmlubGluZVN0eWxlc1Jvb3Q9cCxuLmlubGluZVN0eWxlc1BlYWs9ci5sYXN0RWxlbWVudDtyPUQuY3JlYXRlQm9va21hcmsoKTsocD1yLnN0YXJ0Tm9kZS5nZXRQcmV2aW91cyhjKSkmJmEocCkmJmcocCkmJnkucHVzaChwKTsocD1yLnN0YXJ0Tm9kZS5nZXROZXh0KGMpKSYmYShwKSYmZyhwKSYmeS5wdXNoKHApO2ZvcihwPXIuc3RhcnROb2RlOyhwPVxucC5nZXRQYXJlbnQoKSkmJmcocCk7KXkucHVzaChwKTtELm1vdmVUb0Jvb2ttYXJrKHIpO2lmKHI9dil7cj1uLnJhbmdlO2lmKFwidGV4dFwiPT1uLnR5cGUmJm4uaW5saW5lU3R5bGVzUm9vdCl7Sj1uLmlubGluZVN0eWxlc1BlYWs7RD1KLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dChcIntja2UtcGVha31cIik7Zm9yKHk9bi5pbmxpbmVTdHlsZXNSb290LmdldFBhcmVudCgpOyFKLmVxdWFscyh5KTspRD1ELmFwcGVuZFRvKEouY2xvbmUoKSksSj1KLmdldFBhcmVudCgpO3Y9RC5nZXRPdXRlckh0bWwoKS5zcGxpdChcIntja2UtcGVha31cIikuam9pbih2KX1KPW4uYmxvY2tMaW1pdC5nZXROYW1lKCk7aWYoL15cXHMrfFxccyskLy50ZXN0KHYpJiZcInNwYW5cImluIENLRURJVE9SLmR0ZFtKXSl7dmFyIFA9J1xceDNjc3BhbiBkYXRhLWNrZS1tYXJrZXJcXHgzZFwiMVwiXFx4M2VcXHgyNm5ic3A7XFx4M2Mvc3BhblxceDNlJzt2PVArditQfXY9bi5lZGl0b3IuZGF0YVByb2Nlc3Nvci50b0h0bWwodix7Y29udGV4dDpudWxsLFxuZml4Rm9yQm9keTohMSxwcm90ZWN0ZWRXaGl0ZXNwYWNlczohIVAsZG9udEZpbHRlcjpuLmRvbnRGaWx0ZXIsZmlsdGVyOm4uZWRpdG9yLmFjdGl2ZUZpbHRlcixlbnRlck1vZGU6bi5lZGl0b3IuYWN0aXZlRW50ZXJNb2RlfSk7Sj1yLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJib2R5XCIpO0ouc2V0SHRtbCh2KTtQJiYoSi5nZXRGaXJzdCgpLnJlbW92ZSgpLEouZ2V0TGFzdCgpLnJlbW92ZSgpKTtpZigoUD1yLnN0YXJ0UGF0aCgpLmJsb2NrKSYmKDEhPVAuZ2V0Q2hpbGRDb3VudCgpfHwhUC5nZXRCb2d1cygpKSlhOnt2YXIgUTtpZigxPT1KLmdldENoaWxkQ291bnQoKSYmYShRPUouZ2V0Rmlyc3QoKSkmJlEuaXModCkmJiFRLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl7UD1RLmdldEVsZW1lbnRzQnlUYWcoXCIqXCIpO3I9MDtmb3IoeT1QLmNvdW50KCk7cjx5O3IrKylpZihEPVAuZ2V0SXRlbShyKSwhRC5pcyh1KSlicmVhayBhO1EubW92ZUNoaWxkcmVuKFEuZ2V0UGFyZW50KDEpKTtcblEucmVtb3ZlKCl9fW4uZGF0YVdyYXBwZXI9SjtyPXZ9aWYocil7UT1uLnJhbmdlO3I9US5kb2N1bWVudDt2YXIgTjtKPW4uYmxvY2tMaW1pdDt5PTA7dmFyIFMsUD1bXSxSLFk7dj1wPTA7dmFyIFcsWjtEPVEuc3RhcnRDb250YWluZXI7dmFyIHg9bi5lbmRQYXRoLmVsZW1lbnRzWzBdLGFhLEE9eC5nZXRQb3NpdGlvbihEKSxmYT0hIXguZ2V0Q29tbW9uQW5jZXN0b3IoRCkmJkEhPUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTCYmIShBJkNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TK0NLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCk7RD1iKG4uZGF0YVdyYXBwZXIsbik7Zm9yKG0oRCxRKTt5PEQubGVuZ3RoO3krKyl7QT1EW3ldO2lmKE49QS5pc0xpbmVCcmVhayl7Tj1RO1c9Sjt2YXIgWD12b2lkIDAsYmE9dm9pZCAwO0EuaGFzQmxvY2tTaWJsaW5nP049MTooWD1OLnN0YXJ0Q29udGFpbmVyLmdldEFzY2VuZGFudChsLiRibG9jaywxKSkmJlguaXMoe2RpdjoxLHA6MX0pP1xuKGJhPVguZ2V0UG9zaXRpb24oVyksYmE9PUNLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHx8YmE9PUNLRURJVE9SLlBPU0lUSU9OX0NPTlRBSU5TP049MDooVz1OLnNwbGl0RWxlbWVudChYKSxOLm1vdmVUb1Bvc2l0aW9uKFcsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLE49MSkpOk49MH1pZihOKXY9MDx5O2Vsc2V7Tj1RLnN0YXJ0UGF0aCgpOyFBLmlzQmxvY2smJmsobi5lZGl0b3IsTi5ibG9jayxOLmJsb2NrTGltaXQpJiYoWT1kKG4uZWRpdG9yKSkmJihZPXIuY3JlYXRlRWxlbWVudChZKSxZLmFwcGVuZEJvZ3VzKCksUS5pbnNlcnROb2RlKFkpLENLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyJiYoUz1ZLmdldEJvZ3VzKCkpJiZTLnJlbW92ZSgpLFEubW92ZVRvUG9zaXRpb24oWSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSk7aWYoKE49US5zdGFydFBhdGgoKS5ibG9jaykmJiFOLmVxdWFscyhSKSl7aWYoUz1OLmdldEJvZ3VzKCkpUy5yZW1vdmUoKSxQLnB1c2goTik7XG5SPU59QS5maXJzdE5vdEFsbG93ZWQmJihwPTEpO2lmKHAmJkEuaXNFbGVtZW50KXtOPVEuc3RhcnRDb250YWluZXI7Zm9yKFc9bnVsbDtOJiYhbFtOLmdldE5hbWUoKV1bQS5uYW1lXTspe2lmKE4uZXF1YWxzKEopKXtOPW51bGw7YnJlYWt9Vz1OO049Ti5nZXRQYXJlbnQoKX1pZihOKVcmJihaPVEuc3BsaXRFbGVtZW50KFcpLG4uem9tYmllcy5wdXNoKFopLG4uem9tYmllcy5wdXNoKFcpKTtlbHNle1c9Si5nZXROYW1lKCk7YWE9IXk7Tj15PT1ELmxlbmd0aC0xO1c9ZShBLm5vZGUsVyk7Zm9yKHZhciBYPVtdLGJhPVcubGVuZ3RoLGRhPTAsaWE9dm9pZCAwLGphPTAsZWE9LTE7ZGE8YmE7ZGErKylpYT1XW2RhXSxcIiBcIj09aWE/KGphfHxhYSYmIWRhfHwoWC5wdXNoKG5ldyBDS0VESVRPUi5kb20udGV4dChcIiBcIikpLGVhPVgubGVuZ3RoKSxqYT0xKTooWC5wdXNoKGlhKSxqYT0wKTtOJiZlYT09WC5sZW5ndGgmJlgucG9wKCk7YWE9WH19aWYoYWEpe2Zvcig7Tj1hYS5wb3AoKTspUS5pbnNlcnROb2RlKE4pO1xuYWE9MH1lbHNlIFEuaW5zZXJ0Tm9kZShBLm5vZGUpO0EubGFzdE5vdEFsbG93ZWQmJnk8RC5sZW5ndGgtMSYmKChaPWZhP3g6WikmJlEuc2V0RW5kQXQoWixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCkscD0wKTtRLmNvbGxhcHNlKCl9fTEhPUQubGVuZ3RoP1M9ITE6KFM9RFswXSxTPVMuaXNFbGVtZW50JiZcImZhbHNlXCI9PVMubm9kZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpO1MmJih2PSEwLE49RFswXS5ub2RlLFEuc2V0U3RhcnRBdChOLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksUS5zZXRFbmRBdChOLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCkpO24uZG9udE1vdmVDYXJldD12O24uYm9ndXNOZWVkZWRCbG9ja3M9UH1TPW4ucmFuZ2U7dmFyIGdhO1o9bi5ib2d1c05lZWRlZEJsb2Nrcztmb3IoYWE9Uy5jcmVhdGVCb29rbWFyaygpO1I9bi56b21iaWVzLnBvcCgpOylSLmdldFBhcmVudCgpJiYoWT1TLmNsb25lKCksWS5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KFIpLFxuWS5yZW1vdmVFbXB0eUJsb2Nrc0F0RW5kKCkpO2lmKFopZm9yKDtSPVoucG9wKCk7KUNLRURJVE9SLmVudi5uZWVkc0JyRmlsbGVyP1IuYXBwZW5kQm9ndXMoKTpSLmFwcGVuZChTLmRvY3VtZW50LmNyZWF0ZVRleHQoXCLCoFwiKSk7Zm9yKDtSPW4ubWVyZ2VDYW5kaWRhdGVzLnBvcCgpOylSLm1lcmdlU2libGluZ3MoKTtTLm1vdmVUb0Jvb2ttYXJrKGFhKTtpZighbi5kb250TW92ZUNhcmV0KXtmb3IoUj1mKFMpO1ImJmEoUikmJiFSLmlzKGwuJGVtcHR5KTspe2lmKFIuaXNCbG9ja0JvdW5kYXJ5KCkpUy5tb3ZlVG9Qb3NpdGlvbihSLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7aWYoZyhSKSYmUi5nZXRIdG1sKCkubWF0Y2goLyhcXHN8Jm5ic3A7KSQvZykpe2dhPW51bGw7YnJlYWt9Z2E9Uy5jbG9uZSgpO2dhLm1vdmVUb1Bvc2l0aW9uKFIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCl9Uj1SLmdldExhc3QoYyl9Z2EmJlMubW92ZVRvUmFuZ2UoZ2EpfX19fSgpO1xudT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7Yj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihiKTtiLmd1YXJkPWZ1bmN0aW9uKGEsYil7aWYoYilyZXR1cm4hMTtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVClyZXR1cm4gYS5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH07cmV0dXJuIGJ9ZnVuY3Rpb24gYihhLGMsZCl7Yz1hLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChjKTthLmFwcGVuZChjLGQpO3JldHVybiBjfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5jb3VudCgpLGQ7Zm9yKGI7MDxiLS07KWQ9YS5nZXRJdGVtKGIpLENLRURJVE9SLnRvb2xzLnRyaW0oZC5nZXRIdG1sKCkpfHwoZC5hcHBlbmRCb2d1cygpLENLRURJVE9SLmVudi5pZSYmOT5DS0VESVRPUi5lbnYudmVyc2lvbiYmZC5nZXRDaGlsZENvdW50KCkmJmQuZ2V0Rmlyc3QoKS5yZW1vdmUoKSl9XG5yZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9ZC5zdGFydENvbnRhaW5lcixnPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwxKSxmPSExO2MoZy5nZXRFbGVtZW50c0J5VGFnKFwidGRcIikpO2MoZy5nZXRFbGVtZW50c0J5VGFnKFwidGhcIikpO2c9ZC5jbG9uZSgpO2cuc2V0U3RhcnQoZSwwKTtnPWEoZykubGFzdEJhY2t3YXJkKCk7Z3x8KGc9ZC5jbG9uZSgpLGcuc2V0RW5kQXQoZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxnPWEoZykubGFzdEZvcndhcmQoKSxmPSEwKTtnfHwoZz1lKTtnLmlzKFwidGFibGVcIik/KGQuc2V0U3RhcnRBdChnLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZC5jb2xsYXBzZSghMCksZy5yZW1vdmUoKSk6KGcuaXMoe3Rib2R5OjEsdGhlYWQ6MSx0Zm9vdDoxfSkmJihnPWIoZyxcInRyXCIsZikpLGcuaXMoXCJ0clwiKSYmKGc9YihnLGcuZ2V0UGFyZW50KCkuaXMoXCJ0aGVhZFwiKT9cInRoXCI6XCJ0ZFwiLGYpKSwoZT1nLmdldEJvZ3VzKCkpJiZlLnJlbW92ZSgpLFxuZC5tb3ZlVG9Qb3NpdGlvbihnLGY/Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCkpfX0oKTt0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtiPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGIpO2IuZ3VhcmQ9ZnVuY3Rpb24oYSxiKXtpZihiKXJldHVybiExO2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UKXJldHVybiBhLmlzKENLRURJVE9SLmR0ZC4kbGlzdCl8fGEuaXMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSl9O2IuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKX07cmV0dXJuIGJ9cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuc3RhcnRDb250YWluZXIsZD0hMSxlO2U9Yi5jbG9uZSgpO2Uuc2V0U3RhcnQoYywwKTtlPWEoZSkubGFzdEJhY2t3YXJkKCk7ZXx8KGU9Yi5jbG9uZSgpLGUuc2V0RW5kQXQoYyxcbkNLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLGU9YShlKS5sYXN0Rm9yd2FyZCgpLGQ9ITApO2V8fChlPWMpO2UuaXMoQ0tFRElUT1IuZHRkLiRsaXN0KT8oYi5zZXRTdGFydEF0KGUsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxiLmNvbGxhcHNlKCEwKSxlLnJlbW92ZSgpKTooKGM9ZS5nZXRCb2d1cygpKSYmYy5yZW1vdmUoKSxiLm1vdmVUb1Bvc2l0aW9uKGUsZD9DS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVDpDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxiLnNlbGVjdCgpKX19KCk7eT17ZW9sOntkZXRlY3Q6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJhbmdlLGQ9Yy5jbG9uZSgpLGU9Yy5jbG9uZSgpLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLnN0YXJ0Q29udGFpbmVyLGIpLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChjLmVuZENvbnRhaW5lcixiKTtkLmNvbGxhcHNlKDEpO2UuY29sbGFwc2UoKTtnLmJsb2NrJiZkLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZy5ibG9jayxcbkNLRURJVE9SLkVORCkmJihjLnNldFN0YXJ0QWZ0ZXIoZy5ibG9jayksYS5wcmVwZW5kRW9sQnI9MSk7Zi5ibG9jayYmZS5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGYuYmxvY2ssQ0tFRElUT1IuU1RBUlQpJiYoYy5zZXRFbmRCZWZvcmUoZi5ibG9jayksYS5hcHBlbmRFb2xCcj0xKX0sZml4OmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5nZXREb2N1bWVudCgpLGQ7YS5hcHBlbmRFb2xCciYmKGQ9dGhpcy5jcmVhdGVFb2xCcihjKSxhLmZyYWdtZW50LmFwcGVuZChkKSk7IWEucHJlcGVuZEVvbEJyfHxkJiYhZC5nZXRQcmV2aW91cygpfHxhLmZyYWdtZW50LmFwcGVuZCh0aGlzLmNyZWF0ZUVvbEJyKGMpLDEpfSxjcmVhdGVFb2xCcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5jcmVhdGVFbGVtZW50KFwiYnJcIix7YXR0cmlidXRlczp7XCJkYXRhLWNrZS1lb2xcIjoxfX0pfX0sYm9ndXM6e2V4Y2x1ZGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZS5nZXRCb3VuZGFyeU5vZGVzKCksYz1iLnN0YXJ0Tm9kZSxcbmI9Yi5lbmROb2RlOyFifHwhcihiKXx8YyYmYy5lcXVhbHMoYil8fGEucmFuZ2Uuc2V0RW5kQmVmb3JlKGIpfX0sdHJlZTp7cmVidWlsZDpmdW5jdGlvbihhLGIpe3ZhciBjPWEucmFuZ2UsZD1jLmdldENvbW1vbkFuY2VzdG9yKCksZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsYiksZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuc3RhcnRDb250YWluZXIsYiksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGMuZW5kQ29udGFpbmVyLGIpLGY7ZC50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihkPWQuZ2V0UGFyZW50KCkpO2lmKGUuYmxvY2tMaW1pdC5pcyh7dHI6MSx0YWJsZToxfSkpe3ZhciBoPWUuY29udGFpbnMoXCJ0YWJsZVwiKS5nZXRQYXJlbnQoKTtmPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhoKX19ZWxzZSBpZihlLmJsb2NrJiZlLmJsb2NrLmlzKENLRURJVE9SLmR0ZC4kbGlzdEl0ZW0pJiYoZz1nLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksXG5jPWMuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KSwhZy5lcXVhbHMoYykpKXt2YXIgbT1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCkuZ2V0UGFyZW50KCk7Zj1mdW5jdGlvbihhKXtyZXR1cm4hYS5lcXVhbHMobSl9fWZ8fChmPWZ1bmN0aW9uKGEpe3JldHVybiFhLmVxdWFscyhlLmJsb2NrKSYmIWEuZXF1YWxzKGUuYmxvY2tMaW1pdCl9KTt0aGlzLnJlYnVpbGRGcmFnbWVudChhLGIsZCxmKX0scmVidWlsZEZyYWdtZW50OmZ1bmN0aW9uKGEsYixjLGQpe2Zvcih2YXIgZTtjJiYhYy5lcXVhbHMoYikmJmQoYyk7KWU9Yy5jbG9uZSgwLDEpLGEuZnJhZ21lbnQuYXBwZW5kVG8oZSksYS5mcmFnbWVudD1lLGM9Yy5nZXRQYXJlbnQoKX19LGNlbGw6e3NocmluazpmdW5jdGlvbihhKXthPWEucmFuZ2U7dmFyIGI9YS5zdGFydENvbnRhaW5lcixjPWEuZW5kQ29udGFpbmVyLGQ9YS5zdGFydE9mZnNldCxlPWEuZW5kT2Zmc2V0O2IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcbmIuZXF1YWxzKGMpJiZiLmlzKFwidHJcIikmJisrZD09ZSYmYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX1RFWFQpfX19O0E9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyl7dmFyIGQ9Yi5nZXRQYXJlbnQoKTtpZihkLmlzKENLRURJVE9SLmR0ZC4kaW5saW5lKSliW2M/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGQpfWZ1bmN0aW9uIGIoYyxkLGUpe2EoZCk7YShlLDEpO2Zvcih2YXIgZztnPWUuZ2V0TmV4dCgpOylnLmluc2VydEFmdGVyKGQpLGQ9ZztwKGMpJiZjLnJlbW92ZSgpfWZ1bmN0aW9uIGMoYSxiKXt2YXIgZD1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKGEpO2Quc2V0U3RhcnRBZnRlcihiLnN0YXJ0Tm9kZSk7ZC5zZXRFbmRCZWZvcmUoYi5lbmROb2RlKTtyZXR1cm4gZH1yZXR1cm57bGlzdDp7ZGV0ZWN0TWVyZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jKGIsYS5ib29rbWFyayksZT1kLnN0YXJ0UGF0aCgpLGc9ZC5lbmRQYXRoKCksZj1lLmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCksXG5oPWcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0KTthLm1lcmdlTGlzdD1mJiZoJiZmLmdldFBhcmVudCgpLmVxdWFscyhoLmdldFBhcmVudCgpKSYmIWYuZXF1YWxzKGgpO2EubWVyZ2VMaXN0SXRlbXM9ZS5ibG9jayYmZy5ibG9jayYmZS5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmZy5ibG9jay5pcyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKTtpZihhLm1lcmdlTGlzdHx8YS5tZXJnZUxpc3RJdGVtcylkPWQuY2xvbmUoKSxkLnNldFN0YXJ0QmVmb3JlKGEuYm9va21hcmsuc3RhcnROb2RlKSxkLnNldEVuZEFmdGVyKGEuYm9va21hcmsuZW5kTm9kZSksYS5tZXJnZUxpc3RCb29rbWFyaz1kLmNyZWF0ZUJvb2ttYXJrKCl9LG1lcmdlOmZ1bmN0aW9uKGEsYyl7aWYoYS5tZXJnZUxpc3RCb29rbWFyayl7dmFyIGQ9YS5tZXJnZUxpc3RCb29rbWFyay5zdGFydE5vZGUsZT1hLm1lcmdlTGlzdEJvb2ttYXJrLmVuZE5vZGUsZz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGQsXG5jKSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZSxjKTtpZihhLm1lcmdlTGlzdCl7dmFyIGg9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpLG09Zi5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3QpO2guZXF1YWxzKG0pfHwobS5tb3ZlQ2hpbGRyZW4oaCksbS5yZW1vdmUoKSl9YS5tZXJnZUxpc3RJdGVtcyYmKGc9Zy5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSxmPWYuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksZy5lcXVhbHMoZil8fGIoZixkLGUpKTtkLnJlbW92ZSgpO2UucmVtb3ZlKCl9fX0sYmxvY2s6e2RldGVjdE1lcmdlOmZ1bmN0aW9uKGEsYil7aWYoIWEudGFibGVDb250ZW50c1JhbmdlcyYmIWEubWVyZ2VMaXN0Qm9va21hcmspe3ZhciBjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYik7Yy5zZXRTdGFydEJlZm9yZShhLmJvb2ttYXJrLnN0YXJ0Tm9kZSk7Yy5zZXRFbmRBZnRlcihhLmJvb2ttYXJrLmVuZE5vZGUpO2EubWVyZ2VCbG9ja0Jvb2ttYXJrPVxuYy5jcmVhdGVCb29rbWFyaygpfX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXtpZihhLm1lcmdlQmxvY2tCb29rbWFyayYmIWEucHVyZ2VUYWJsZUJvb2ttYXJrKXt2YXIgZD1hLm1lcmdlQmxvY2tCb29rbWFyay5zdGFydE5vZGUsZT1hLm1lcmdlQmxvY2tCb29rbWFyay5lbmROb2RlLGc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChkLGMpLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLGMpLGc9Zy5ibG9jayxmPWYuYmxvY2s7ZyYmZiYmIWcuZXF1YWxzKGYpJiZiKGYsZCxlKTtkLnJlbW92ZSgpO2UucmVtb3ZlKCl9fX0sdGFibGU6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGMpe3ZhciBlPVtdLGcsZj1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxoPWMuc3RhcnRQYXRoKCkuY29udGFpbnMoZCksbT1jLmVuZFBhdGgoKS5jb250YWlucyhkKSxrPXt9O2YuZ3VhcmQ9ZnVuY3Rpb24oYSxmKXtpZihhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCl7dmFyIGw9XCJ2aXNpdGVkX1wiK1xuKGY/XCJvdXRcIjpcImluXCIpO2lmKGEuZ2V0Q3VzdG9tRGF0YShsKSlyZXR1cm47Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGssYSxsLDEpfWlmKGYmJmgmJmEuZXF1YWxzKGgpKWc9Yy5jbG9uZSgpLGcuc2V0RW5kQXQoaCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSxlLnB1c2goZyk7ZWxzZSBpZighZiYmbSYmYS5lcXVhbHMobSkpZz1jLmNsb25lKCksZy5zZXRTdGFydEF0KG0sQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLGUucHVzaChnKTtlbHNle2lmKGw9IWYpbD1hLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5pcyhkKSYmKCFofHxiKGEsaCkpJiYoIW18fGIoYSxtKSk7bCYmKGc9Yy5jbG9uZSgpLGcuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGUucHVzaChnKSl9fTtmLmxhc3RGb3J3YXJkKCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGspO3JldHVybiBlfWZ1bmN0aW9uIGIoYSxjKXt2YXIgZD1DS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUytcbkNLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRCxlPWEuZ2V0UG9zaXRpb24oYyk7cmV0dXJuIGU9PT1DS0VESVRPUi5QT1NJVElPTl9JREVOVElDQUw/ITE6MD09PShlJmQpfXZhciBkPXt0ZDoxLHRoOjEsY2FwdGlvbjoxfTtyZXR1cm57ZGV0ZWN0UHVyZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9YS5yYW5nZSxjPWIuY2xvbmUoKTtjLmVubGFyZ2UoQ0tFRElUT1IuRU5MQVJHRV9FTEVNRU5UKTt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihjKSxlPTA7Yy5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoZCkmJisrZX07Yy5jaGVja0ZvcndhcmQoKTtpZigxPGUpe3ZhciBjPWIuc3RhcnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiKSxnPWIuZW5kUGF0aCgpLmNvbnRhaW5zKFwidGFibGVcIik7YyYmZyYmYi5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KGMsQ0tFRElUT1IuU1RBUlQpJiZiLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoZyxcbkNLRURJVE9SLkVORCkmJihiPWEucmFuZ2UuY2xvbmUoKSxiLnNldFN0YXJ0QmVmb3JlKGMpLGIuc2V0RW5kQWZ0ZXIoZyksYS5wdXJnZVRhYmxlQm9va21hcms9Yi5jcmVhdGVCb29rbWFyaygpKX19LGRldGVjdFJhbmdlczpmdW5jdGlvbihlLGcpe3ZhciBmPWMoZyxlLmJvb2ttYXJrKSxoPWYuY2xvbmUoKSxtLGssbD1mLmdldENvbW1vbkFuY2VzdG9yKCk7bC5pcyhDS0VESVRPUi5kdGQuJHRhYmxlQ29udGVudCkmJiFsLmlzKGQpJiYobD1sLmdldEFzY2VuZGFudChcInRhYmxlXCIsITApKTtrPWw7bD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuc3RhcnRDb250YWluZXIsayk7az1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGYuZW5kQ29udGFpbmVyLGspO2w9bC5jb250YWlucyhcInRhYmxlXCIpO2s9ay5jb250YWlucyhcInRhYmxlXCIpO2lmKGx8fGspbCYmayYmYihsLGspPyhlLnRhYmxlU3Vycm91bmRpbmdSYW5nZT1oLGguc2V0U3RhcnRBdChsLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCksXG5oLnNldEVuZEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSxoPWYuY2xvbmUoKSxoLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxtPWYuY2xvbmUoKSxtLnNldFN0YXJ0QXQoayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpLG09YShoKS5jb25jYXQoYShtKSkpOmw/a3x8KGUudGFibGVTdXJyb3VuZGluZ1JhbmdlPWgsaC5zZXRTdGFydEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxmLnNldEVuZEF0KGwsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk6KGUudGFibGVTdXJyb3VuZGluZ1JhbmdlPWgsaC5zZXRFbmRBdChrLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksZi5zZXRTdGFydEF0KGssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKSxlLnRhYmxlQ29udGVudHNSYW5nZXM9bT9tOmEoZil9LGRlbGV0ZVJhbmdlczpmdW5jdGlvbihhKXtmb3IodmFyIGI7Yj1hLnRhYmxlQ29udGVudHNSYW5nZXMucG9wKCk7KWIuZXh0cmFjdENvbnRlbnRzKCksXG5wKGIuc3RhcnRDb250YWluZXIpJiZiLnN0YXJ0Q29udGFpbmVyLmFwcGVuZEJvZ3VzKCk7YS50YWJsZVN1cnJvdW5kaW5nUmFuZ2UmJmEudGFibGVTdXJyb3VuZGluZ1JhbmdlLmV4dHJhY3RDb250ZW50cygpfSxwdXJnZTpmdW5jdGlvbihhKXtpZihhLnB1cmdlVGFibGVCb29rbWFyayl7dmFyIGI9YS5kb2MsYz1hLnJhbmdlLmNsb25lKCksYj1iLmNyZWF0ZUVsZW1lbnQoXCJwXCIpO2IuaW5zZXJ0QmVmb3JlKGEucHVyZ2VUYWJsZUJvb2ttYXJrLnN0YXJ0Tm9kZSk7Yy5tb3ZlVG9Cb29rbWFyayhhLnB1cmdlVGFibGVCb29rbWFyayk7Yy5kZWxldGVDb250ZW50cygpO2EucmFuZ2UubW92ZVRvUG9zaXRpb24oYixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCl9fX19KCksZGV0ZWN0RXh0cmFjdE1lcmdlOmZ1bmN0aW9uKGEpe3JldHVybiEoYS5yYW5nZS5zdGFydFBhdGgoKS5jb250YWlucyhDS0VESVRPUi5kdGQuJGxpc3RJdGVtKSYmYS5yYW5nZS5lbmRQYXRoKCkuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkpfSxcbmZpeFVuZWRpdGFibGVSYW5nZVBvc2l0aW9uOmZ1bmN0aW9uKGEpe2Euc3RhcnRDb250YWluZXIuZ2V0RHRkKClbXCIjXCJdfHxhLm1vdmVUb0Nsb3Nlc3RFZGl0YWJsZVBvc2l0aW9uKG51bGwsITApfSxhdXRvUGFyYWdyYXBoOmZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5zdGFydFBhdGgoKSxlO2soYSxjLmJsb2NrLGMuYmxvY2tMaW1pdCkmJihlPWQoYSkpJiYoZT1iLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZSksZS5hcHBlbmRCb2d1cygpLGIuaW5zZXJ0Tm9kZShlKSxiLm1vdmVUb1Bvc2l0aW9uKGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKX19fSgpfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2lmKDA9PT1hLmxlbmd0aClyZXR1cm4hMTt2YXIgYyxkO2lmKChjPSFiJiYxPT09YS5sZW5ndGgpJiYhKGM9YVswXS5jb2xsYXBzZWQpKXt2YXIgZT1hWzBdO2M9ZS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO3ZhciBnPWUuZW5kQ29udGFpbmVyLmdldEFzY2VuZGFudCh7dGQ6MSxcbnRoOjF9LCEwKTtkPUNLRURJVE9SLnRvb2xzLnRyaW07YyYmYy5lcXVhbHMoZykmJiFjLmZpbmRPbmUoXCJ0ZCwgdGgsIHRyLCB0Ym9keSwgdGFibGVcIik/KGU9ZS5jbG9uZUNvbnRlbnRzKCksYz1lLmdldEZpcnN0KCk/ZChlLmdldEZpcnN0KCkuZ2V0VGV4dCgpKSE9PWQoYy5nZXRUZXh0KCkpOiEwKTpjPSExfWlmKGMpcmV0dXJuITE7Zm9yKGQ9MDtkPGEubGVuZ3RoO2QrKylpZihjPWFbZF0uX2dldFRhYmxlRWxlbWVudCgpLCFjKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGYoYSl7ZnVuY3Rpb24gYihhKXthPWEuZmluZChcInRkLCB0aFwiKTt2YXIgYz1bXSxkO2ZvcihkPTA7ZDxhLmNvdW50KCk7ZCsrKWMucHVzaChhLmdldEl0ZW0oZCkpO3JldHVybiBjfXZhciBjPVtdLGQsZTtmb3IoZT0wO2U8YS5sZW5ndGg7ZSsrKWQ9YVtlXS5fZ2V0VGFibGVFbGVtZW50KCksZC5pcyYmZC5pcyh7dGQ6MSx0aDoxfSk/Yy5wdXNoKGQpOmM9Yy5jb25jYXQoYihkKSk7cmV0dXJuIGN9ZnVuY3Rpb24gYihhKXthPVxuZihhKTt2YXIgYj1cIlwiLGM9W10sZCxlO2ZvcihlPTA7ZTxhLmxlbmd0aDtlKyspZCYmIWQuZXF1YWxzKGFbZV0uZ2V0QXNjZW5kYW50KFwidHJcIikpPyhiKz1jLmpvaW4oXCJcXHRcIikrXCJcXG5cIixkPWFbZV0uZ2V0QXNjZW5kYW50KFwidHJcIiksYz1bXSk6MD09PWUmJihkPWFbZV0uZ2V0QXNjZW5kYW50KFwidHJcIikpLGMucHVzaChhW2VdLmdldFRleHQoKSk7cmV0dXJuIGIrPWMuam9pbihcIlxcdFwiKX1mdW5jdGlvbiBjKGEpe3ZhciBjPXRoaXMucm9vdC5lZGl0b3IsZD1jLmdldFNlbGVjdGlvbigxKTt0aGlzLnJlc2V0KCk7QT0hMDtkLnJvb3Qub25jZShcInNlbGVjdGlvbmNoYW5nZVwiLGZ1bmN0aW9uKGEpe2EuY2FuY2VsKCl9LG51bGwsbnVsbCwwKTtkLnNlbGVjdFJhbmdlcyhbYVswXV0pO2Q9dGhpcy5fLmNhY2hlO2QucmFuZ2VzPW5ldyBDS0VESVRPUi5kb20ucmFuZ2VMaXN0KGEpO2QudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fVEVYVDtkLnNlbGVjdGVkRWxlbWVudD1hWzBdLl9nZXRUYWJsZUVsZW1lbnQoKTtcbmQuc2VsZWN0ZWRUZXh0PWIoYSk7ZC5uYXRpdmVTZWw9bnVsbDt0aGlzLmlzRmFrZT0xO3RoaXMucmV2PXUrKztjLl8uZmFrZVNlbGVjdGlvbj10aGlzO0E9ITE7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9ZnVuY3Rpb24gZSgpe3ZhciBiPXRoaXMuXy5mYWtlU2VsZWN0aW9uLGM7aWYoYil7Yz10aGlzLmdldFNlbGVjdGlvbigxKTt2YXIgZDtpZighKGQ9IWMpJiYoZD0hYy5pc0hpZGRlbigpKSl7ZD1iO3ZhciBlPWMuZ2V0UmFuZ2VzKCksZz1kLmdldFJhbmdlcygpLGY9ZS5sZW5ndGgmJmVbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZlWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSxoPWcubGVuZ3RoJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZ1swXS5fZ2V0VGFibGVFbGVtZW50KCkuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksbT0xPT09ZS5sZW5ndGgmJmVbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZlWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5pcyhcInRhYmxlXCIpLFxuaz0xPT09Zy5sZW5ndGgmJmdbMF0uX2dldFRhYmxlRWxlbWVudCgpJiZnWzBdLl9nZXRUYWJsZUVsZW1lbnQoKS5pcyhcInRhYmxlXCIpLGw9MT09PWUubGVuZ3RoJiZlWzBdLmNvbGxhcHNlZCxnPWEoZSwhIUNLRURJVE9SLmVudi53ZWJraXQpJiZhKGcpO2Y9ZiYmaD9mLmVxdWFscyhoKXx8aC5jb250YWlucyhmKTohMTtmJiYobHx8Zyk/KG0mJiFrJiZkLnNlbGVjdFJhbmdlcyhlKSxkPSEwKTpkPSExO2Q9IWR9ZCYmKGIucmVzZXQoKSxiPTApfWlmKCFiJiYoYj1jfHx0aGlzLmdldFNlbGVjdGlvbigxKSwhYnx8Yi5nZXRUeXBlKCk9PUNLRURJVE9SLlNFTEVDVElPTl9OT05FKSlyZXR1cm47dGhpcy5maXJlKFwic2VsZWN0aW9uQ2hlY2tcIixiKTtjPXRoaXMuZWxlbWVudFBhdGgoKTtjLmNvbXBhcmUodGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aCl8fChkPXRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGgmJnRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGguYmxvY2tMaW1pdC5lcXVhbHMoYy5ibG9ja0xpbWl0KSxcbkNLRURJVE9SLmVudi53ZWJraXQmJiFkJiYodGhpcy5fLnByZXZpb3VzQWN0aXZlPXRoaXMuZG9jdW1lbnQuZ2V0QWN0aXZlKCkpLHRoaXMuXy5zZWxlY3Rpb25QcmV2aW91c1BhdGg9Yyx0aGlzLmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VcIix7c2VsZWN0aW9uOmIscGF0aDpjfSkpfWZ1bmN0aW9uIGwoKXt3PSEwO3F8fChrLmNhbGwodGhpcykscT1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGssMjAwLHRoaXMpKX1mdW5jdGlvbiBrKCl7cT1udWxsO3cmJihDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGUsMCx0aGlzKSx3PSExKX1mdW5jdGlvbiBkKGEpe3JldHVybiBCKGEpfHxhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmIWEuaXMoQ0tFRElUT1IuZHRkLiRlbXB0eSk/ITA6ITF9ZnVuY3Rpb24gaChhKXtmdW5jdGlvbiBiKGMsZCl7cmV0dXJuIGMmJmMudHlwZSE9Q0tFRElUT1IuTk9ERV9URVhUP2EuY2xvbmUoKVtcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGQ/XCJFbmRcIjpcIlN0YXJ0XCIpXShjKTpcbiExfWlmKCEoYS5yb290IGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGUpKXJldHVybiExO3ZhciBjPWEuc3RhcnRDb250YWluZXIsZT1hLmdldFByZXZpb3VzTm9kZShkLG51bGwsYyksZz1hLmdldE5leHROb2RlKGQsbnVsbCxjKTtyZXR1cm4gYihlKXx8YihnLDEpfHwhKGV8fGd8fGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLmlzQmxvY2tCb3VuZGFyeSgpJiZjLmdldEJvZ3VzKCkpPyEwOiExfWZ1bmN0aW9uIG0oYSl7ZyhhLCExKTt2YXIgYj1hLmdldERvY3VtZW50KCkuY3JlYXRlVGV4dCh0KTthLnNldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIixiKTtyZXR1cm4gYn1mdW5jdGlvbiBnKGEsYil7dmFyIGM9YSYmYS5yZW1vdmVDdXN0b21EYXRhKFwiY2tlLWZpbGxpbmdDaGFyXCIpO2lmKGMpe2lmKCExIT09Yil7dmFyIGQ9YS5nZXREb2N1bWVudCgpLmdldFNlbGVjdGlvbigpLmdldE5hdGl2ZSgpLGU9ZCYmXCJOb25lXCIhPWQudHlwZSYmZC5nZXRSYW5nZUF0KDApLFxuZz10Lmxlbmd0aDtpZihjLmdldExlbmd0aCgpPmcmJmUmJmUuaW50ZXJzZWN0c05vZGUoYy4kKSl7dmFyIGY9W3tub2RlOmQuYW5jaG9yTm9kZSxvZmZzZXQ6ZC5hbmNob3JPZmZzZXR9LHtub2RlOmQuZm9jdXNOb2RlLG9mZnNldDpkLmZvY3VzT2Zmc2V0fV07ZC5hbmNob3JOb2RlPT1jLiQmJmQuYW5jaG9yT2Zmc2V0PmcmJihmWzBdLm9mZnNldC09Zyk7ZC5mb2N1c05vZGU9PWMuJCYmZC5mb2N1c09mZnNldD5nJiYoZlsxXS5vZmZzZXQtPWcpfX1jLnNldFRleHQobihjLmdldFRleHQoKSwxKSk7ZiYmKGM9YS5nZXREb2N1bWVudCgpLiQsZD1jLmdldFNlbGVjdGlvbigpLGM9Yy5jcmVhdGVSYW5nZSgpLGMuc2V0U3RhcnQoZlswXS5ub2RlLGZbMF0ub2Zmc2V0KSxjLmNvbGxhcHNlKCEwKSxkLnJlbW92ZUFsbFJhbmdlcygpLGQuYWRkUmFuZ2UoYyksZC5leHRlbmQoZlsxXS5ub2RlLGZbMV0ub2Zmc2V0KSl9fWZ1bmN0aW9uIG4oYSxiKXtyZXR1cm4gYj9hLnJlcGxhY2UoeSxmdW5jdGlvbihhLFxuYil7cmV0dXJuIGI/XCLCoFwiOlwiXCJ9KTphLnJlcGxhY2UodCxcIlwiKX1mdW5jdGlvbiBwKGEsYil7dmFyIGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjZGl2IGRhdGEtY2tlLWhpZGRlbi1zZWxcXHgzZFwiMVwiIGRhdGEtY2tlLXRlbXBcXHgzZFwiMVwiIHN0eWxlXFx4M2RcIicrKENLRURJVE9SLmVudi5pZSYmMTQ+Q0tFRElUT1IuZW52LnZlcnNpb24/XCJkaXNwbGF5Om5vbmVcIjpcInBvc2l0aW9uOmZpeGVkO3RvcDowO2xlZnQ6LTEwMDBweFwiKSsnXCJcXHgzZScrKGJ8fFwiXFx4MjZuYnNwO1wiKStcIlxceDNjL2RpdlxceDNlXCIsYS5kb2N1bWVudCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2EuZWRpdGFibGUoKS5hcHBlbmQoYyk7dmFyIGQ9YS5nZXRTZWxlY3Rpb24oMSksZT1hLmNyZWF0ZVJhbmdlKCksZz1kLnJvb3Qub24oXCJzZWxlY3Rpb25jaGFuZ2VcIixmdW5jdGlvbihhKXthLmNhbmNlbCgpfSxudWxsLG51bGwsMCk7ZS5zZXRTdGFydEF0KGMsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO1xuZS5zZXRFbmRBdChjLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Quc2VsZWN0UmFuZ2VzKFtlXSk7Zy5yZW1vdmVMaXN0ZW5lcigpO2EuZmlyZShcInVubG9ja1NuYXBzaG90XCIpO2EuXy5oaWRkZW5TZWxlY3Rpb25Db250YWluZXI9Y31mdW5jdGlvbiByKGEpe3ZhciBiPXszNzoxLDM5OjEsODoxLDQ2OjF9O3JldHVybiBmdW5jdGlvbihjKXt2YXIgZD1jLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7aWYoYltkXSl7dmFyIGU9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxnPWVbMF07MT09ZS5sZW5ndGgmJmcuY29sbGFwc2VkJiYoZD1nWzM4PmQ/XCJnZXRQcmV2aW91c0VkaXRhYmxlTm9kZVwiOlwiZ2V0TmV4dEVkaXRhYmxlTm9kZVwiXSgpKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiZmFsc2VcIj09ZC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJihhLmdldFNlbGVjdGlvbigpLmZha2UoZCksYy5kYXRhLnByZXZlbnREZWZhdWx0KCksYy5jYW5jZWwoKSl9fX1cbmZ1bmN0aW9uIHgoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07Yy5nZXRDb21tb25BbmNlc3RvcigpLmlzUmVhZE9ubHkoKSYmYS5zcGxpY2UoYiwxKTtpZighYy5jb2xsYXBzZWQpe2lmKGMuc3RhcnRDb250YWluZXIuaXNSZWFkT25seSgpKWZvcih2YXIgZD1jLnN0YXJ0Q29udGFpbmVyLGU7ZCYmISgoZT1kLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCkmJmQuaXMoXCJib2R5XCIpfHwhZC5pc1JlYWRPbmx5KCkpOyllJiZcImZhbHNlXCI9PWQuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpJiZjLnNldFN0YXJ0QWZ0ZXIoZCksZD1kLmdldFBhcmVudCgpO2Q9Yy5zdGFydENvbnRhaW5lcjtlPWMuZW5kQ29udGFpbmVyO3ZhciBnPWMuc3RhcnRPZmZzZXQsZj1jLmVuZE9mZnNldCxoPWMuY2xvbmUoKTtkJiZkLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGc+PWQuZ2V0TGVuZ3RoKCk/aC5zZXRTdGFydEFmdGVyKGQpOmguc2V0U3RhcnRCZWZvcmUoZCkpO1xuZSYmZS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihmP2guc2V0RW5kQWZ0ZXIoZSk6aC5zZXRFbmRCZWZvcmUoZSkpO2Q9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaCk7ZC5ldmFsdWF0b3I9ZnVuY3Rpb24oZCl7aWYoZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuaXNSZWFkT25seSgpKXt2YXIgZT1jLmNsb25lKCk7Yy5zZXRFbmRCZWZvcmUoZCk7Yy5jb2xsYXBzZWQmJmEuc3BsaWNlKGItLSwxKTtkLmdldFBvc2l0aW9uKGguZW5kQ29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOU3x8KGUuc2V0U3RhcnRBZnRlcihkKSxlLmNvbGxhcHNlZHx8YS5zcGxpY2UoYisxLDAsZSkpO3JldHVybiEwfXJldHVybiExfTtkLm5leHQoKX19cmV0dXJuIGF9dmFyIHY9XCJmdW5jdGlvblwiIT10eXBlb2Ygd2luZG93LmdldFNlbGVjdGlvbix1PTEsdD1DS0VESVRPUi50b29scy5yZXBlYXQoXCLigItcIiw3KSx5PW5ldyBSZWdFeHAodCtcIiggKT9cIixcImdcIiksQSxxLHcsQj1DS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSgxKSxcbno9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIpe3JldHVybiBmdW5jdGlvbihhKXt2YXIgYz1hLmVkaXRvci5jcmVhdGVSYW5nZSgpO2MubW92ZVRvQ2xvc2VzdEVkaXRhYmxlUG9zaXRpb24oYS5zZWxlY3RlZCxiKSYmYS5lZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7cmV0dXJuITF9fWZ1bmN0aW9uIGIoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBjPWIuZWRpdG9yLGQ9Yy5jcmVhdGVSYW5nZSgpLGU7KGU9ZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLGEpKXx8KGU9ZC5tb3ZlVG9DbG9zZXN0RWRpdGFibGVQb3NpdGlvbihiLnNlbGVjdGVkLCFhKSk7ZSYmYy5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTtjLmZpcmUoXCJzYXZlU25hcHNob3RcIik7Yi5zZWxlY3RlZC5yZW1vdmUoKTtlfHwoZC5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihjLmVkaXRhYmxlKCkpLGMuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtkXSkpO1xuYy5maXJlKFwic2F2ZVNuYXBzaG90XCIpO3JldHVybiExfX12YXIgYz1hKCksZD1hKDEpO3JldHVybnszNzpjLDM4OmMsMzk6ZCw0MDpkLDg6YigpLDQ2OmIoMSl9fSgpO0NLRURJVE9SLm9uKFwiaW5zdGFuY2VDcmVhdGVkXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe3ZhciBhPWMuZ2V0U2VsZWN0aW9uKCk7YSYmYS5yZW1vdmVBbGxSYW5nZXMoKX12YXIgYz1hLmVkaXRvcjtjLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe3U9bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYy5nZXRTZWxlY3Rpb24oKSk7dS5sb2NrKCl9ZnVuY3Rpb24gYigpe2gucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsYik7cS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixiKTt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC4kLnNlbGVjdGlvbixjPWEuY3JlYXRlUmFuZ2UoKTtcIk5vbmVcIiE9YS50eXBlJiZjLnBhcmVudEVsZW1lbnQoKS5vd25lckRvY3VtZW50PT1mLiQmJmMuc2VsZWN0KCl9XG5mdW5jdGlvbiBkKGEpe2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGI9KGE9YS5nZXRSYW5nZXMoKVswXSk/YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoXCJmYWxzZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8XCJ0cnVlXCI9PWEuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX0sITApOm51bGw7cmV0dXJuIGEmJlwiZmFsc2VcIj09Yi5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikmJmJ9fXZhciBmPWMuZG9jdW1lbnQsaD1DS0VESVRPUi5kb2N1bWVudCxtPWMuZWRpdGFibGUoKSxrPWYuZ2V0Qm9keSgpLHE9Zi5nZXREb2N1bWVudEVsZW1lbnQoKSxuPW0uaXNJbmxpbmUoKSx0LHU7Q0tFRElUT1IuZW52LmdlY2tvJiZtLmF0dGFjaExpc3RlbmVyKG0sXCJmb2N1c1wiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTswIT09dCYmKGE9Yy5nZXRTZWxlY3Rpb24oKS5nZXROYXRpdmUoKSkmJlxuYS5pc0NvbGxhcHNlZCYmYS5hbmNob3JOb2RlPT1tLiQmJihhPWMuY3JlYXRlUmFuZ2UoKSxhLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQobSksYS5zZWxlY3QoKSl9LG51bGwsbnVsbCwtMik7bS5hdHRhY2hMaXN0ZW5lcihtLENLRURJVE9SLmVudi53ZWJraXQ/XCJET01Gb2N1c0luXCI6XCJmb2N1c1wiLGZ1bmN0aW9uKCl7dCYmQ0tFRElUT1IuZW52LndlYmtpdCYmKHQ9Yy5fLnByZXZpb3VzQWN0aXZlJiZjLl8ucHJldmlvdXNBY3RpdmUuZXF1YWxzKGYuZ2V0QWN0aXZlKCkpKSYmbnVsbCE9Yy5fLnByZXZpb3VzU2Nyb2xsVG9wJiZjLl8ucHJldmlvdXNTY3JvbGxUb3AhPW0uJC5zY3JvbGxUb3AmJihtLiQuc2Nyb2xsVG9wPWMuXy5wcmV2aW91c1Njcm9sbFRvcCk7Yy51bmxvY2tTZWxlY3Rpb24odCk7dD0wfSxudWxsLG51bGwsLTEpO20uYXR0YWNoTGlzdGVuZXIobSxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7dD0wfSk7aWYoQ0tFRElUT1IuZW52LmllfHxuKXY/bS5hdHRhY2hMaXN0ZW5lcihtLFxuXCJiZWZvcmVkZWFjdGl2YXRlXCIsYSxudWxsLG51bGwsLTEpOm0uYXR0YWNoTGlzdGVuZXIoYyxcInNlbGVjdGlvbkNoZWNrXCIsYSxudWxsLG51bGwsLTEpLG0uYXR0YWNoTGlzdGVuZXIobSxDS0VESVRPUi5lbnYud2Via2l0P1wiRE9NRm9jdXNPdXRcIjpcImJsdXJcIixmdW5jdGlvbigpe2MubG9ja1NlbGVjdGlvbih1KTt0PTF9LG51bGwsbnVsbCwtMSksbS5hdHRhY2hMaXN0ZW5lcihtLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt0PTB9KTtpZihDS0VESVRPUi5lbnYuaWUmJiFuKXt2YXIgeTttLmF0dGFjaExpc3RlbmVyKG0sXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXsyPT1hLmRhdGEuJC5idXR0b24mJigoYT1jLmRvY3VtZW50LmdldFNlbGVjdGlvbigpKSYmYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FfHwoeT1jLndpbmRvdy5nZXRTY3JvbGxQb3NpdGlvbigpKSl9KTttLmF0dGFjaExpc3RlbmVyKG0sXCJtb3VzZXVwXCIsZnVuY3Rpb24oYSl7Mj09YS5kYXRhLiQuYnV0dG9uJiZcbnkmJihjLmRvY3VtZW50LiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQ9eS54LGMuZG9jdW1lbnQuJC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wPXkueSk7eT1udWxsfSk7aWYoXCJCYWNrQ29tcGF0XCIhPWYuJC5jb21wYXRNb2RlKXtpZihDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KXt2YXIgcCx3O3Eub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2E9YS5kYXRhLiQ7aWYocCl7dmFyIGM9ay4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtjLm1vdmVUb1BvaW50KGEuY2xpZW50WCxhLmNsaWVudFkpfWNhdGNoKGQpe31wLnNldEVuZFBvaW50KDA+dy5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb1N0YXJ0XCIsYyk/XCJFbmRUb0VuZFwiOlwiU3RhcnRUb1N0YXJ0XCIsYyk7cC5zZWxlY3QoKX19ZnVuY3Rpb24gYygpe3EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTtoLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO3EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZXVwXCIsXG5jKTtwLnNlbGVjdCgpfWE9YS5kYXRhO2lmKGEuZ2V0VGFyZ2V0KCkuaXMoXCJodG1sXCIpJiZhLiQueTxxLiQuY2xpZW50SGVpZ2h0JiZhLiQueDxxLiQuY2xpZW50V2lkdGgpe3A9ay4kLmNyZWF0ZVRleHRSYW5nZSgpO3RyeXtwLm1vdmVUb1BvaW50KGEuJC5jbGllbnRYLGEuJC5jbGllbnRZKX1jYXRjaChkKXt9dz1wLmR1cGxpY2F0ZSgpO3Eub24oXCJtb3VzZW1vdmVcIixiKTtoLm9uKFwibW91c2V1cFwiLGMpO3Eub24oXCJtb3VzZXVwXCIsYyl9fSl9aWYoNzxDS0VESVRPUi5lbnYudmVyc2lvbiYmMTE+Q0tFRElUT1IuZW52LnZlcnNpb24pcS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJihoLm9uKFwibW91c2V1cFwiLGIpLHEub24oXCJtb3VzZXVwXCIsYikpfSl9fW0uYXR0YWNoTGlzdGVuZXIobSxcInNlbGVjdGlvbmNoYW5nZVwiLGUsYyk7bS5hdHRhY2hMaXN0ZW5lcihtLFwia2V5dXBcIixsLGMpO20uYXR0YWNoTGlzdGVuZXIobSxcImtleWRvd25cIixcbmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U2VsZWN0aW9uKDEpO2QoYikmJihiLnNlbGVjdEVsZW1lbnQoZChiKSksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfSxjKTttLmF0dGFjaExpc3RlbmVyKG0sQ0tFRElUT1IuZW52LndlYmtpdD9cIkRPTUZvY3VzSW5cIjpcImZvY3VzXCIsZnVuY3Rpb24oKXtjLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7Yy5zZWxlY3Rpb25DaGFuZ2UoMSl9KTtpZihuJiYoQ0tFRElUT1IuZW52LndlYmtpdHx8Q0tFRElUT1IuZW52LmdlY2tvKSl7dmFyIHg7bS5hdHRhY2hMaXN0ZW5lcihtLFwibW91c2Vkb3duXCIsZnVuY3Rpb24oKXt4PTF9KTttLmF0dGFjaExpc3RlbmVyKGYuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXt4JiZsLmNhbGwoYyk7eD0wfSl9ZWxzZSBtLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmVudi5pZT9tOmYuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJtb3VzZXVwXCIsbCxjKTtDS0VESVRPUi5lbnYud2Via2l0JiZcbm0uYXR0YWNoTGlzdGVuZXIoZixcImtleWRvd25cIixmdW5jdGlvbihhKXtzd2l0Y2goYS5kYXRhLmdldEtleSgpKXtjYXNlIDEzOmNhc2UgMzM6Y2FzZSAzNDpjYXNlIDM1OmNhc2UgMzY6Y2FzZSAzNzpjYXNlIDM5OmNhc2UgODpjYXNlIDQ1OmNhc2UgNDY6bS5oYXNGb2N1cyYmZyhtKX19LG51bGwsbnVsbCwtMSk7bS5hdHRhY2hMaXN0ZW5lcihtLFwia2V5ZG93blwiLHIoYyksbnVsbCxudWxsLC0xKX0pO2Mub24oXCJzZXREYXRhXCIsZnVuY3Rpb24oKXtjLnVubG9ja1NlbGVjdGlvbigpO0NLRURJVE9SLmVudi53ZWJraXQmJmIoKX0pO2Mub24oXCJjb250ZW50RG9tVW5sb2FkXCIsZnVuY3Rpb24oKXtjLnVubG9ja1NlbGVjdGlvbigpfSk7aWYoQ0tFRElUT1IuZW52LmllOUNvbXBhdCljLm9uKFwiYmVmb3JlRGVzdHJveVwiLGIsbnVsbCxudWxsLDkpO2Mub24oXCJkYXRhUmVhZHlcIixmdW5jdGlvbigpe2RlbGV0ZSBjLl8uZmFrZVNlbGVjdGlvbjtkZWxldGUgYy5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjtcbmMuc2VsZWN0aW9uQ2hhbmdlKDEpfSk7Yy5vbihcImxvYWRTbmFwc2hvdFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9tLndhbGtlci5ub2RlVHlwZShDS0VESVRPUi5OT0RFX0VMRU1FTlQpLGI9Yy5lZGl0YWJsZSgpLmdldExhc3QoYSk7YiYmYi5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCIpJiYoYi5yZW1vdmUoKSxDS0VESVRPUi5lbnYuZ2Vja28mJihhPWMuZWRpdGFibGUoKS5nZXRGaXJzdChhKSkmJmEuaXMoXCJiclwiKSYmYS5nZXRBdHRyaWJ1dGUoXCJfbW96X2VkaXRvcl9ib2d1c19ub2RlXCIpJiZhLnJlbW92ZSgpKX0sbnVsbCxudWxsLDEwMCk7Yy5vbihcImtleVwiLGZ1bmN0aW9uKGEpe2lmKFwid3lzaXd5Z1wiPT1jLm1vZGUpe3ZhciBiPWMuZ2V0U2VsZWN0aW9uKCk7aWYoYi5pc0Zha2Upe3ZhciBkPXpbYS5kYXRhLmtleUNvZGVdO2lmKGQpcmV0dXJuIGQoe2VkaXRvcjpjLHNlbGVjdGVkOmIuZ2V0U2VsZWN0ZWRFbGVtZW50KCksc2VsZWN0aW9uOmIsa2V5RXZlbnQ6YX0pfX19KX0pO1xuaWYoQ0tFRElUT1IuZW52LndlYmtpdClDS0VESVRPUi5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbihhKXt2YXIgYj1hLmVkaXRvcjtiLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24oKXt2YXIgYT1iLmVkaXRhYmxlKCksYz1hLmdldEN1c3RvbURhdGEoXCJja2UtZmlsbGluZ0NoYXJcIik7YyYmKGMuZ2V0Q3VzdG9tRGF0YShcInJlYWR5XCIpPyhnKGEpLGEuZWRpdG9yLmZpcmUoXCJzZWxlY3Rpb25DaGVja1wiKSk6Yy5zZXRDdXN0b21EYXRhKFwicmVhZHlcIiwxKSl9LG51bGwsbnVsbCwtMSk7Yi5vbihcImJlZm9yZVNldE1vZGVcIixmdW5jdGlvbigpe2coYi5lZGl0YWJsZSgpKX0sbnVsbCxudWxsLC0xKTtiLm9uKFwiZ2V0U25hcHNob3RcIixmdW5jdGlvbihhKXthLmRhdGEmJihhLmRhdGE9bihhLmRhdGEpKX0sYixudWxsLDIwKTtiLm9uKFwidG9EYXRhRm9ybWF0XCIsZnVuY3Rpb24oYSl7YS5kYXRhLmRhdGFWYWx1ZT1uKGEuZGF0YS5kYXRhVmFsdWUpfSxudWxsLG51bGwsMCl9KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnNlbGVjdGlvbkNoYW5nZT1cbmZ1bmN0aW9uKGEpeyhhP2U6bCkuY2FsbCh0aGlzKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMuXy5zYXZlZFNlbGVjdGlvbiYmIXRoaXMuXy5mYWtlU2VsZWN0aW9ufHxhPyhhPXRoaXMuZWRpdGFibGUoKSkmJlwid3lzaXd5Z1wiPT10aGlzLm1vZGU/bmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24oYSk6bnVsbDp0aGlzLl8uc2F2ZWRTZWxlY3Rpb258fHRoaXMuXy5mYWtlU2VsZWN0aW9ufTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmxvY2tTZWxlY3Rpb249ZnVuY3Rpb24oYSl7YT1hfHx0aGlzLmdldFNlbGVjdGlvbigxKTtyZXR1cm4gYS5nZXRUeXBlKCkhPUNLRURJVE9SLlNFTEVDVElPTl9OT05FPyghYS5pc0xvY2tlZCYmYS5sb2NrKCksdGhpcy5fLnNhdmVkU2VsZWN0aW9uPWEsITApOiExfTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLnVubG9ja1NlbGVjdGlvbj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8uc2F2ZWRTZWxlY3Rpb247XG5yZXR1cm4gYj8oYi51bmxvY2soYSksZGVsZXRlIHRoaXMuXy5zYXZlZFNlbGVjdGlvbiwhMCk6ITF9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuZm9yY2VOZXh0U2VsZWN0aW9uQ2hlY2s9ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5fLnNlbGVjdGlvblByZXZpb3VzUGF0aH07Q0tFRElUT1IuZG9tLmRvY3VtZW50LnByb3RvdHlwZS5nZXRTZWxlY3Rpb249ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IENLRURJVE9SLmRvbS5zZWxlY3Rpb24odGhpcyl9O0NLRURJVE9SLmRvbS5yYW5nZS5wcm90b3R5cGUuc2VsZWN0PWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5yb290IGluc3RhbmNlb2YgQ0tFRElUT1IuZWRpdGFibGU/dGhpcy5yb290LmVkaXRvci5nZXRTZWxlY3Rpb24oKTpuZXcgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbih0aGlzLnJvb3QpO2Euc2VsZWN0UmFuZ2VzKFt0aGlzXSk7cmV0dXJuIGF9O0NLRURJVE9SLlNFTEVDVElPTl9OT05FPTE7Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ9MjtcbkNLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UPTM7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbj1mdW5jdGlvbihhKXtpZihhIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGI9YTthPWEucm9vdH12YXIgYz1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmVsZW1lbnQ7dGhpcy5yZXY9Yj9iLnJldjp1Kys7dGhpcy5kb2N1bWVudD1hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLmRvY3VtZW50P2E6YS5nZXREb2N1bWVudCgpO3RoaXMucm9vdD1jP2E6dGhpcy5kb2N1bWVudC5nZXRCb2R5KCk7dGhpcy5pc0xvY2tlZD0wO3RoaXMuXz17Y2FjaGU6e319O2lmKGIpcmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLl8uY2FjaGUsYi5fLmNhY2hlKSx0aGlzLmlzRmFrZT1iLmlzRmFrZSx0aGlzLmlzTG9ja2VkPWIuaXNMb2NrZWQsdGhpczthPXRoaXMuZ2V0TmF0aXZlKCk7dmFyIGQsZTtpZihhKWlmKGEuZ2V0UmFuZ2VBdClkPShlPWEucmFuZ2VDb3VudCYmYS5nZXRSYW5nZUF0KDApKSYmXG5uZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lcik7ZWxzZXt0cnl7ZT1hLmNyZWF0ZVJhbmdlKCl9Y2F0Y2goZyl7fWQ9ZSYmQ0tFRElUT1IuZG9tLmVsZW1lbnQuZ2V0KGUuaXRlbSYmZS5pdGVtKDApfHxlLnBhcmVudEVsZW1lbnQoKSl9aWYoIWR8fGQudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkLnR5cGUhPUNLRURJVE9SLk5PREVfVEVYVHx8IXRoaXMucm9vdC5lcXVhbHMoZCkmJiF0aGlzLnJvb3QuY29udGFpbnMoZCkpdGhpcy5fLmNhY2hlLnR5cGU9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUsdGhpcy5fLmNhY2hlLnN0YXJ0RWxlbWVudD1udWxsLHRoaXMuXy5jYWNoZS5zZWxlY3RlZEVsZW1lbnQ9bnVsbCx0aGlzLl8uY2FjaGUuc2VsZWN0ZWRUZXh0PVwiXCIsdGhpcy5fLmNhY2hlLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdDtyZXR1cm4gdGhpc307dmFyIEM9e2ltZzoxLGhyOjEsbGk6MSx0YWJsZToxLHRyOjEsdGQ6MSxcbnRoOjEsZW1iZWQ6MSxvYmplY3Q6MSxvbDoxLHVsOjEsYToxLGlucHV0OjEsZm9ybToxLHNlbGVjdDoxLHRleHRhcmVhOjEsYnV0dG9uOjEsZmllbGRzZXQ6MSx0aGVhZDoxLHRmb290OjF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5kb20uc2VsZWN0aW9uLHtfcmVtb3ZlRmlsbGluZ0NoYXJTZXF1ZW5jZVN0cmluZzpuLF9jcmVhdGVGaWxsaW5nQ2hhclNlcXVlbmNlTm9kZTptLEZJTExJTkdfQ0hBUl9TRVFVRU5DRTp0fSk7Q0tFRElUT1IuZG9tLnNlbGVjdGlvbi5wcm90b3R5cGU9e2dldE5hdGl2ZTpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl8uY2FjaGUubmF0aXZlU2VsP3RoaXMuXy5jYWNoZS5uYXRpdmVTZWw6dGhpcy5fLmNhY2hlLm5hdGl2ZVNlbD12P3RoaXMuZG9jdW1lbnQuJC5zZWxlY3Rpb246dGhpcy5kb2N1bWVudC5nZXRXaW5kb3coKS4kLmdldFNlbGVjdGlvbigpfSxnZXRUeXBlOnY/ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYoYS50eXBlKXJldHVybiBhLnR5cGU7XG52YXIgYj1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORTt0cnl7dmFyIGM9dGhpcy5nZXROYXRpdmUoKSxkPWMudHlwZTtcIlRleHRcIj09ZCYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpO1wiQ29udHJvbFwiPT1kJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCk7Yy5jcmVhdGVSYW5nZSgpLnBhcmVudEVsZW1lbnQoKSYmKGI9Q0tFRElUT1IuU0VMRUNUSU9OX1RFWFQpfWNhdGNoKGUpe31yZXR1cm4gYS50eXBlPWJ9OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKGEudHlwZSlyZXR1cm4gYS50eXBlO3ZhciBiPUNLRURJVE9SLlNFTEVDVElPTl9URVhULGM9dGhpcy5nZXROYXRpdmUoKTtpZighY3x8IWMucmFuZ2VDb3VudCliPUNLRURJVE9SLlNFTEVDVElPTl9OT05FO2Vsc2UgaWYoMT09Yy5yYW5nZUNvdW50KXt2YXIgYz1jLmdldFJhbmdlQXQoMCksZD1jLnN0YXJ0Q29udGFpbmVyO2Q9PWMuZW5kQ29udGFpbmVyJiYxPT1kLm5vZGVUeXBlJiYxPT1jLmVuZE9mZnNldC1cbmMuc3RhcnRPZmZzZXQmJkNbZC5jaGlsZE5vZGVzW2Muc3RhcnRPZmZzZXRdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldJiYoYj1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCl9cmV0dXJuIGEudHlwZT1ifSxnZXRSYW5nZXM6ZnVuY3Rpb24oKXt2YXIgYT12P2Z1bmN0aW9uKCl7ZnVuY3Rpb24gYShiKXtyZXR1cm4obmV3IENLRURJVE9SLmRvbS5ub2RlKGIpKS5nZXRJbmRleCgpfXZhciBiPWZ1bmN0aW9uKGIsYyl7Yj1iLmR1cGxpY2F0ZSgpO2IuY29sbGFwc2UoYyk7dmFyIGQ9Yi5wYXJlbnRFbGVtZW50KCk7aWYoIWQuaGFzQ2hpbGROb2RlcygpKXJldHVybntjb250YWluZXI6ZCxvZmZzZXQ6MH07Zm9yKHZhciBlPWQuY2hpbGRyZW4sZyxmLGg9Yi5kdXBsaWNhdGUoKSxtPTAsaz1lLmxlbmd0aC0xLGw9LTEscSxuO208PWs7KWlmKGw9TWF0aC5mbG9vcigobStrKS8yKSxnPWVbbF0saC5tb3ZlVG9FbGVtZW50VGV4dChnKSxxPWguY29tcGFyZUVuZFBvaW50cyhcIlN0YXJ0VG9TdGFydFwiLFxuYiksMDxxKWs9bC0xO2Vsc2UgaWYoMD5xKW09bCsxO2Vsc2UgcmV0dXJue2NvbnRhaW5lcjpkLG9mZnNldDphKGcpfTtpZigtMT09bHx8bD09ZS5sZW5ndGgtMSYmMD5xKXtoLm1vdmVUb0VsZW1lbnRUZXh0KGQpO2guc2V0RW5kUG9pbnQoXCJTdGFydFRvU3RhcnRcIixiKTtoPWgudGV4dC5yZXBsYWNlKC8oXFxyXFxufFxccikvZyxcIlxcblwiKS5sZW5ndGg7ZT1kLmNoaWxkTm9kZXM7aWYoIWgpcmV0dXJuIGc9ZVtlLmxlbmd0aC0xXSxnLm5vZGVUeXBlIT1DS0VESVRPUi5OT0RFX1RFWFQ/e2NvbnRhaW5lcjpkLG9mZnNldDplLmxlbmd0aH06e2NvbnRhaW5lcjpnLG9mZnNldDpnLm5vZGVWYWx1ZS5sZW5ndGh9O2ZvcihkPWUubGVuZ3RoOzA8aCYmMDxkOylmPWVbLS1kXSxmLm5vZGVUeXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJihuPWYsaC09Zi5ub2RlVmFsdWUubGVuZ3RoKTtyZXR1cm57Y29udGFpbmVyOm4sb2Zmc2V0Oi1ofX1oLmNvbGxhcHNlKDA8cT8hMDohMSk7aC5zZXRFbmRQb2ludCgwPFxucT9cIlN0YXJ0VG9TdGFydFwiOlwiRW5kVG9TdGFydFwiLGIpO2g9aC50ZXh0LnJlcGxhY2UoLyhcXHJcXG58XFxyKS9nLFwiXFxuXCIpLmxlbmd0aDtpZighaClyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZykrKDA8cT8wOjEpfTtmb3IoOzA8aDspdHJ5e2Y9Z1swPHE/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdLGYubm9kZVR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGgtPWYubm9kZVZhbHVlLmxlbmd0aCxuPWYpLGc9Zn1jYXRjaCh0KXtyZXR1cm57Y29udGFpbmVyOmQsb2Zmc2V0OmEoZyl9fXJldHVybntjb250YWluZXI6bixvZmZzZXQ6MDxxPy1oOm4ubm9kZVZhbHVlLmxlbmd0aCtofX07cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXROYXRpdmUoKSxjPWEmJmEuY3JlYXRlUmFuZ2UoKSxkPXRoaXMuZ2V0VHlwZSgpO2lmKCFhKXJldHVybltdO2lmKGQ9PUNLRURJVE9SLlNFTEVDVElPTl9URVhUKXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KSxcbmQ9YihjLCEwKSxhLnNldFN0YXJ0KG5ldyBDS0VESVRPUi5kb20ubm9kZShkLmNvbnRhaW5lciksZC5vZmZzZXQpLGQ9YihjKSxhLnNldEVuZChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZC5jb250YWluZXIpLGQub2Zmc2V0KSxhLmVuZENvbnRhaW5lci5nZXRQb3NpdGlvbihhLnN0YXJ0Q29udGFpbmVyKSZDS0VESVRPUi5QT1NJVElPTl9QUkVDRURJTkcmJmEuZW5kT2Zmc2V0PD1hLnN0YXJ0Q29udGFpbmVyLmdldEluZGV4KCkmJmEuY29sbGFwc2UoKSxbYV07aWYoZD09Q0tFRElUT1IuU0VMRUNUSU9OX0VMRU1FTlQpe2Zvcih2YXIgZD1bXSxlPTA7ZTxjLmxlbmd0aDtlKyspe2Zvcih2YXIgZz1jLml0ZW0oZSksZj1nLnBhcmVudE5vZGUsaD0wLGE9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2g8Zi5jaGlsZE5vZGVzLmxlbmd0aCYmZi5jaGlsZE5vZGVzW2hdIT1nO2grKyk7YS5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZiksaCk7YS5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGYpLFxuaCsxKTtkLnB1c2goYSl9cmV0dXJuIGR9cmV0dXJuW119fSgpOmZ1bmN0aW9uKCl7dmFyIGE9W10sYixjPXRoaXMuZ2V0TmF0aXZlKCk7aWYoIWMpcmV0dXJuIGE7Zm9yKHZhciBkPTA7ZDxjLnJhbmdlQ291bnQ7ZCsrKXt2YXIgZT1jLmdldFJhbmdlQXQoZCk7Yj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydChuZXcgQ0tFRElUT1IuZG9tLm5vZGUoZS5zdGFydENvbnRhaW5lciksZS5zdGFydE9mZnNldCk7Yi5zZXRFbmQobmV3IENLRURJVE9SLmRvbS5ub2RlKGUuZW5kQ29udGFpbmVyKSxlLmVuZE9mZnNldCk7YS5wdXNoKGIpfXJldHVybiBhfTtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5fLmNhY2hlLGQ9Yy5yYW5nZXM7ZHx8KGMucmFuZ2VzPWQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZUxpc3QoYS5jYWxsKHRoaXMpKSk7cmV0dXJuIGI/eChuZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChkLnNsaWNlKCkpKTpkfX0oKSxnZXRTdGFydEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT1cbnRoaXMuXy5jYWNoZTtpZih2b2lkIDAhPT1hLnN0YXJ0RWxlbWVudClyZXR1cm4gYS5zdGFydEVsZW1lbnQ7dmFyIGI7c3dpdGNoKHRoaXMuZ2V0VHlwZSgpKXtjYXNlIENLRURJVE9SLlNFTEVDVElPTl9FTEVNRU5UOnJldHVybiB0aGlzLmdldFNlbGVjdGVkRWxlbWVudCgpO2Nhc2UgQ0tFRElUT1IuU0VMRUNUSU9OX1RFWFQ6dmFyIGM9dGhpcy5nZXRSYW5nZXMoKVswXTtpZihjKXtpZihjLmNvbGxhcHNlZCliPWMuc3RhcnRDb250YWluZXIsYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihiPWIuZ2V0UGFyZW50KCkpO2Vsc2V7Zm9yKGMub3B0aW1pemUoKTtiPWMuc3RhcnRDb250YWluZXIsYy5zdGFydE9mZnNldD09KGIuZ2V0Q2hpbGRDb3VudD9iLmdldENoaWxkQ291bnQoKTpiLmdldExlbmd0aCgpKSYmIWIuaXNCbG9ja0JvdW5kYXJ5KCk7KWMuc2V0U3RhcnRBZnRlcihiKTtiPWMuc3RhcnRDb250YWluZXI7aWYoYi50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIGIuZ2V0UGFyZW50KCk7XG5pZigoYj1iLmdldENoaWxkKGMuc3RhcnRPZmZzZXQpKSYmYi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpZm9yKGM9Yi5nZXRGaXJzdCgpO2MmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UOyliPWMsYz1jLmdldEZpcnN0KCk7ZWxzZSBiPWMuc3RhcnRDb250YWluZXJ9Yj1iLiR9fXJldHVybiBhLnN0YXJ0RWxlbWVudD1iP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChiKTpudWxsfSxnZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2FjaGU7aWYodm9pZCAwIT09YS5zZWxlY3RlZEVsZW1lbnQpcmV0dXJuIGEuc2VsZWN0ZWRFbGVtZW50O3ZhciBiPXRoaXMsYz1DS0VESVRPUi50b29scy50cnlUaGVzZShmdW5jdGlvbigpe3JldHVybiBiLmdldE5hdGl2ZSgpLmNyZWF0ZVJhbmdlKCkuaXRlbSgwKX0sZnVuY3Rpb24oKXtmb3IodmFyIGE9Yi5nZXRSYW5nZXMoKVswXS5jbG9uZSgpLGMsZCxlPTI7ZSYmISgoYz1hLmdldEVuY2xvc2VkTm9kZSgpKSYmXG5jLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ1tjLmdldE5hbWUoKV0mJihkPWMpKTtlLS0pYS5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQpO3JldHVybiBkJiZkLiR9KTtyZXR1cm4gYS5zZWxlY3RlZEVsZW1lbnQ9Yz9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyk6bnVsbH0sZ2V0U2VsZWN0ZWRUZXh0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLmNhY2hlO2lmKHZvaWQgMCE9PWEuc2VsZWN0ZWRUZXh0KXJldHVybiBhLnNlbGVjdGVkVGV4dDt2YXIgYj10aGlzLmdldE5hdGl2ZSgpLGI9dj9cIkNvbnRyb2xcIj09Yi50eXBlP1wiXCI6Yi5jcmVhdGVSYW5nZSgpLnRleHQ6Yi50b1N0cmluZygpO3JldHVybiBhLnNlbGVjdGVkVGV4dD1ifSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5nZXRSYW5nZXMoKTt0aGlzLmdldFN0YXJ0RWxlbWVudCgpO3RoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7dGhpcy5nZXRTZWxlY3RlZFRleHQoKTt0aGlzLl8uY2FjaGUubmF0aXZlU2VsPW51bGw7XG50aGlzLmlzTG9ja2VkPTF9LHVubG9jazpmdW5jdGlvbihiKXtpZih0aGlzLmlzTG9ja2VkKXtpZihiKXZhciBkPXRoaXMuZ2V0U2VsZWN0ZWRFbGVtZW50KCksZT10aGlzLmdldFJhbmdlcygpLGc9dGhpcy5pc0Zha2U7dGhpcy5pc0xvY2tlZD0wO3RoaXMucmVzZXQoKTtiJiYoYj1kfHxlWzBdJiZlWzBdLmdldENvbW1vbkFuY2VzdG9yKCkpJiZiLmdldEFzY2VuZGFudChcImJvZHlcIiwxKSYmKGEoZSk/Yy5jYWxsKHRoaXMsZSk6Zz90aGlzLmZha2UoZCk6ZD90aGlzLnNlbGVjdEVsZW1lbnQoZCk6dGhpcy5zZWxlY3RSYW5nZXMoZSkpfX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY2FjaGU9e307dGhpcy5pc0Zha2U9MDt2YXIgYT10aGlzLnJvb3QuZWRpdG9yO2lmKGEmJmEuXy5mYWtlU2VsZWN0aW9uKWlmKHRoaXMucmV2PT1hLl8uZmFrZVNlbGVjdGlvbi5yZXYpe2RlbGV0ZSBhLl8uZmFrZVNlbGVjdGlvbjt2YXIgYj1hLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyO2lmKGIpe3ZhciBjPVxuYS5jaGVja0RpcnR5KCk7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2IucmVtb3ZlKCk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7IWMmJmEucmVzZXREaXJ0eSgpfWRlbGV0ZSBhLl8uaGlkZGVuU2VsZWN0aW9uQ29udGFpbmVyfWVsc2UgQ0tFRElUT1Iud2FybihcInNlbGVjdGlvbi1mYWtlLXJlc2V0XCIpO3RoaXMucmV2PXUrK30sc2VsZWN0RWxlbWVudDpmdW5jdGlvbihhKXt2YXIgYj1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlKHRoaXMucm9vdCk7Yi5zZXRTdGFydEJlZm9yZShhKTtiLnNldEVuZEFmdGVyKGEpO3RoaXMuc2VsZWN0UmFuZ2VzKFtiXSl9LHNlbGVjdFJhbmdlczpmdW5jdGlvbihiKXt2YXIgZD10aGlzLnJvb3QuZWRpdG9yLGU9ZCYmZC5fLmhpZGRlblNlbGVjdGlvbkNvbnRhaW5lcjt0aGlzLnJlc2V0KCk7aWYoZSlmb3IodmFyIGU9dGhpcy5yb290LGYsaz0wO2s8Yi5sZW5ndGg7KytrKWY9YltrXSxmLmVuZENvbnRhaW5lci5lcXVhbHMoZSkmJihmLmVuZE9mZnNldD1NYXRoLm1pbihmLmVuZE9mZnNldCxcbmUuZ2V0Q2hpbGRDb3VudCgpKSk7aWYoYi5sZW5ndGgpaWYodGhpcy5pc0xvY2tlZCl7dmFyIGw9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QWN0aXZlKCk7dGhpcy51bmxvY2soKTt0aGlzLnNlbGVjdFJhbmdlcyhiKTt0aGlzLmxvY2soKTtsJiYhbC5lcXVhbHModGhpcy5yb290KSYmbC5mb2N1cygpfWVsc2V7dmFyIHE7YTp7dmFyIG4sdDtpZigxPT1iLmxlbmd0aCYmISh0PWJbMF0pLmNvbGxhcHNlZCYmKHE9dC5nZXRFbmNsb3NlZE5vZGUoKSkmJnEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYodD10LmNsb25lKCksdC5zaHJpbmsoQ0tFRElUT1IuU0hSSU5LX0VMRU1FTlQsITApLChuPXQuZ2V0RW5jbG9zZWROb2RlKCkpJiZuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKHE9biksXCJmYWxzZVwiPT1xLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkpYnJlYWsgYTtxPXZvaWQgMH1pZihxKXRoaXMuZmFrZShxKTtlbHNlIGlmKGQmJmQucGx1Z2lucy50YWJsZXNlbGVjdGlvbiYmXG5DS0VESVRPUi5wbHVnaW5zLnRhYmxlc2VsZWN0aW9uLmlzU3VwcG9ydGVkRW52aXJvbm1lbnQmJmEoYikmJiFBKWMuY2FsbCh0aGlzLGIpO2Vsc2V7aWYodil7bj1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKTtxPS9cXHVmZWZmfFxcdTAwYTAvO3Q9e3RhYmxlOjEsdGJvZHk6MSx0cjoxfTsxPGIubGVuZ3RoJiYoZD1iW2IubGVuZ3RoLTFdLGJbMF0uc2V0RW5kKGQuZW5kQ29udGFpbmVyLGQuZW5kT2Zmc2V0KSk7ZD1iWzBdO2I9ZC5jb2xsYXBzZWQ7dmFyIHUseSxwO2lmKChlPWQuZ2V0RW5jbG9zZWROb2RlKCkpJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5nZXROYW1lKClpbiBDJiYoIWUuaXMoXCJhXCIpfHwhZS5nZXRUZXh0KCkpKXRyeXtwPWUuJC5jcmVhdGVDb250cm9sUmFuZ2UoKTtwLmFkZEVsZW1lbnQoZS4kKTtwLnNlbGVjdCgpO3JldHVybn1jYXRjaCh3KXt9aWYoZC5zdGFydENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxuZC5zdGFydENvbnRhaW5lci5nZXROYW1lKClpbiB0fHxkLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIHQpZC5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKSxiPWQuY29sbGFwc2VkO3A9ZC5jcmVhdGVCb29rbWFyaygpO3Q9cC5zdGFydE5vZGU7Ynx8KGw9cC5lbmROb2RlKTtwPWQuZG9jdW1lbnQuJC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO3AubW92ZVRvRWxlbWVudFRleHQodC4kKTtwLm1vdmVTdGFydChcImNoYXJhY3RlclwiLDEpO2w/KHE9ZC5kb2N1bWVudC4kLmJvZHkuY3JlYXRlVGV4dFJhbmdlKCkscS5tb3ZlVG9FbGVtZW50VGV4dChsLiQpLHAuc2V0RW5kUG9pbnQoXCJFbmRUb0VuZFwiLHEpLHAubW92ZUVuZChcImNoYXJhY3RlclwiLC0xKSk6KHU9dC5nZXROZXh0KG4pLHk9dC5oYXNBc2NlbmRhbnQoXCJwcmVcIiksdT0hKHUmJnUuZ2V0VGV4dCYmdS5nZXRUZXh0KCkubWF0Y2gocSkpJiYoeXx8XG4hdC5oYXNQcmV2aW91cygpfHx0LmdldFByZXZpb3VzKCkuaXMmJnQuZ2V0UHJldmlvdXMoKS5pcyhcImJyXCIpKSx5PWQuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikseS5zZXRIdG1sKFwiXFx4MjYjNjUyNzk7XCIpLHkuaW5zZXJ0QmVmb3JlKHQpLHUmJmQuZG9jdW1lbnQuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRCZWZvcmUodCkpO2Quc2V0U3RhcnRCZWZvcmUodCk7dC5yZW1vdmUoKTtiPyh1PyhwLm1vdmVTdGFydChcImNoYXJhY3RlclwiLC0xKSxwLnNlbGVjdCgpLGQuZG9jdW1lbnQuJC5zZWxlY3Rpb24uY2xlYXIoKSk6cC5zZWxlY3QoKSxkLm1vdmVUb1Bvc2l0aW9uKHksQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSx5LnJlbW92ZSgpKTooZC5zZXRFbmRCZWZvcmUobCksbC5yZW1vdmUoKSxwLnNlbGVjdCgpKX1lbHNle2w9dGhpcy5nZXROYXRpdmUoKTtpZighbClyZXR1cm47dGhpcy5yZW1vdmVBbGxSYW5nZXMoKTtmb3IocD0wO3A8Yi5sZW5ndGg7cCsrKXtpZihwPFxuYi5sZW5ndGgtMSYmKHU9YltwXSx5PWJbcCsxXSxxPXUuY2xvbmUoKSxxLnNldFN0YXJ0KHUuZW5kQ29udGFpbmVyLHUuZW5kT2Zmc2V0KSxxLnNldEVuZCh5LnN0YXJ0Q29udGFpbmVyLHkuc3RhcnRPZmZzZXQpLCFxLmNvbGxhcHNlZCYmKHEuc2hyaW5rKENLRURJVE9SLk5PREVfRUxFTUVOVCwhMCksZD1xLmdldENvbW1vbkFuY2VzdG9yKCkscT1xLmdldEVuY2xvc2VkTm9kZSgpLGQuaXNSZWFkT25seSgpfHxxJiZxLmlzUmVhZE9ubHkoKSkpKXt5LnNldFN0YXJ0KHUuc3RhcnRDb250YWluZXIsdS5zdGFydE9mZnNldCk7Yi5zcGxpY2UocC0tLDEpO2NvbnRpbnVlfWQ9YltwXTt5PXRoaXMuZG9jdW1lbnQuJC5jcmVhdGVSYW5nZSgpO2QuY29sbGFwc2VkJiZDS0VESVRPUi5lbnYud2Via2l0JiZoKGQpJiYocT1tKHRoaXMucm9vdCksZC5pbnNlcnROb2RlKHEpLCh1PXEuZ2V0TmV4dCgpKSYmIXEuZ2V0UHJldmlvdXMoKSYmdS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwiYnJcIj09XG51LmdldE5hbWUoKT8oZyh0aGlzLnJvb3QpLGQubW92ZVRvUG9zaXRpb24odSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpKTpkLm1vdmVUb1Bvc2l0aW9uKHEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSk7eS5zZXRTdGFydChkLnN0YXJ0Q29udGFpbmVyLiQsZC5zdGFydE9mZnNldCk7dHJ5e3kuc2V0RW5kKGQuZW5kQ29udGFpbmVyLiQsZC5lbmRPZmZzZXQpfWNhdGNoKHgpe2lmKDA8PXgudG9TdHJpbmcoKS5pbmRleE9mKFwiTlNfRVJST1JfSUxMRUdBTF9WQUxVRVwiKSlkLmNvbGxhcHNlKDEpLHkuc2V0RW5kKGQuZW5kQ29udGFpbmVyLiQsZC5lbmRPZmZzZXQpO2Vsc2UgdGhyb3cgeDt9bC5hZGRSYW5nZSh5KX19dGhpcy5yZXNldCgpO3RoaXMucm9vdC5maXJlKFwic2VsZWN0aW9uY2hhbmdlXCIpfX19LGZha2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnJvb3QuZWRpdG9yO3ZvaWQgMD09PWImJmEuaGFzQXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSYmKGI9YS5nZXRBdHRyaWJ1dGUoXCJhcmlhLWxhYmVsXCIpKTtcbnRoaXMucmVzZXQoKTtwKGMsYik7dmFyIGQ9dGhpcy5fLmNhY2hlLGU9bmV3IENLRURJVE9SLmRvbS5yYW5nZSh0aGlzLnJvb3QpO2Uuc2V0U3RhcnRCZWZvcmUoYSk7ZS5zZXRFbmRBZnRlcihhKTtkLnJhbmdlcz1uZXcgQ0tFRElUT1IuZG9tLnJhbmdlTGlzdChlKTtkLnNlbGVjdGVkRWxlbWVudD1kLnN0YXJ0RWxlbWVudD1hO2QudHlwZT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVDtkLnNlbGVjdGVkVGV4dD1kLm5hdGl2ZVNlbD1udWxsO3RoaXMuaXNGYWtlPTE7dGhpcy5yZXY9dSsrO2MuXy5mYWtlU2VsZWN0aW9uPXRoaXM7dGhpcy5yb290LmZpcmUoXCJzZWxlY3Rpb25jaGFuZ2VcIil9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDb21tb25BbmNlc3RvcigpO2EmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoYT1hLmdldFBhcmVudCgpKTtyZXR1cm4hKCFhfHwhYS5kYXRhKFwiY2tlLWhpZGRlbi1zZWxcIikpfSxpc0luVGFibGU6ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzLmdldFJhbmdlcygpKX0sXG5jcmVhdGVCb29rbWFya3M6ZnVuY3Rpb24oYSl7YT10aGlzLmdldFJhbmdlcygpLmNyZWF0ZUJvb2ttYXJrcyhhKTt0aGlzLmlzRmFrZSYmKGEuaXNGYWtlPTEpO3JldHVybiBhfSxjcmVhdGVCb29rbWFya3MyOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRSYW5nZXMoKS5jcmVhdGVCb29rbWFya3MyKGEpO3RoaXMuaXNGYWtlJiYoYS5pc0Zha2U9MSk7cmV0dXJuIGF9LHNlbGVjdEJvb2ttYXJrczpmdW5jdGlvbihiKXtmb3IodmFyIGM9W10sZCxlPTA7ZTxiLmxlbmd0aDtlKyspe3ZhciBnPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UodGhpcy5yb290KTtnLm1vdmVUb0Jvb2ttYXJrKGJbZV0pO2MucHVzaChnKX1iLmlzRmFrZSYmKGQ9YShjKT9jWzBdLl9nZXRUYWJsZUVsZW1lbnQoKTpjWzBdLmdldEVuY2xvc2VkTm9kZSgpLGQmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwoQ0tFRElUT1Iud2FybihcInNlbGVjdGlvbi1ub3QtZmFrZVwiKSxiLmlzRmFrZT0wKSk7Yi5pc0Zha2UmJlxuIWEoYyk/dGhpcy5mYWtlKGQpOnRoaXMuc2VsZWN0UmFuZ2VzKGMpO3JldHVybiB0aGlzfSxnZXRDb21tb25BbmNlc3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0UmFuZ2VzKCk7cmV0dXJuIGEubGVuZ3RoP2FbMF0uc3RhcnRDb250YWluZXIuZ2V0Q29tbW9uQW5jZXN0b3IoYVthLmxlbmd0aC0xXS5lbmRDb250YWluZXIpOm51bGx9LHNjcm9sbEludG9WaWV3OmZ1bmN0aW9uKCl7dGhpcy50eXBlIT1DS0VESVRPUi5TRUxFQ1RJT05fTk9ORSYmdGhpcy5nZXRSYW5nZXMoKVswXS5zY3JvbGxJbnRvVmlldygpfSxyZW1vdmVBbGxSYW5nZXM6ZnVuY3Rpb24oKXtpZih0aGlzLmdldFR5cGUoKSE9Q0tFRElUT1IuU0VMRUNUSU9OX05PTkUpe3ZhciBhPXRoaXMuZ2V0TmF0aXZlKCk7dHJ5e2EmJmFbdj9cImVtcHR5XCI6XCJyZW1vdmVBbGxSYW5nZXNcIl0oKX1jYXRjaChiKXt9dGhpcy5yZXNldCgpfX19fSgpLFwidXNlIHN0cmljdFwiLENLRURJVE9SLlNUWUxFX0JMT0NLPTEsQ0tFRElUT1IuU1RZTEVfSU5MSU5FPVxuMixDS0VESVRPUi5TVFlMRV9PQkpFQ1Q9MyxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmb3IodmFyIGMsZDsoYT1hLmdldFBhcmVudCgpKSYmIWEuZXF1YWxzKGIpOylpZihhLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKSljPWE7ZWxzZSBpZighZCl7dmFyIGU9YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik7XCJmYWxzZVwiPT1lP2M9YTpcInRydWVcIj09ZSYmKGQ9MSl9cmV0dXJuIGN9ZnVuY3Rpb24gZihhLGIsYyxkKXtyZXR1cm4oYS5nZXRQb3NpdGlvbihiKXxkKT09ZCYmKCFjLmNoaWxkUnVsZXx8Yy5jaGlsZFJ1bGUoYSkpfWZ1bmN0aW9uIGIoYyl7dmFyIGQ9Yy5kb2N1bWVudDtpZihjLmNvbGxhcHNlZClkPXQodGhpcyxkKSxjLmluc2VydE5vZGUoZCksYy5tb3ZlVG9Qb3NpdGlvbihkLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpO2Vsc2V7dmFyIGc9dGhpcy5lbGVtZW50LGg9dGhpcy5fLmRlZmluaXRpb24sbSxrPWguaWdub3JlUmVhZG9ubHksbD1cbmt8fGguaW5jbHVkZVJlYWRvbmx5O251bGw9PWwmJihsPWMucm9vdC5nZXRDdXN0b21EYXRhKFwiY2tlX2luY2x1ZGVSZWFkb25seVwiKSk7dmFyIHE9Q0tFRElUT1IuZHRkW2ddO3F8fChtPSEwLHE9Q0tFRElUT1IuZHRkLnNwYW4pO2MuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSwxKTtjLnRyaW0oKTt2YXIgbj1jLmNyZWF0ZUJvb2ttYXJrKCksdT1uLnN0YXJ0Tm9kZSx5PW4uZW5kTm9kZSxwPXUsdjtpZighayl7dmFyIHc9Yy5nZXRDb21tb25BbmNlc3RvcigpLGs9YSh1LHcpLHc9YSh5LHcpO2smJihwPWsuZ2V0TmV4dFNvdXJjZU5vZGUoITApKTt3JiYoeT13KX1mb3IocC5nZXRQb3NpdGlvbih5KT09Q0tFRElUT1IuUE9TSVRJT05fRk9MTE9XSU5HJiYocD0wKTtwOyl7az0hMTtpZihwLmVxdWFscyh5KSlwPW51bGwsaz0hMDtlbHNle3ZhciBBPXAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UP3AuZ2V0TmFtZSgpOm51bGwsdz1BJiZcImZhbHNlXCI9PXAuZ2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIpLFxucj1BJiZwLmdldEF0dHJpYnV0ZShcImRhdGEtbm9zdHlsZVwiKTtpZihBJiZwLmRhdGEoXCJja2UtYm9va21hcmtcIikpe3A9cC5nZXROZXh0U291cmNlTm9kZSghMCk7Y29udGludWV9aWYodyYmbCYmQ0tFRElUT1IuZHRkLiRibG9ja1tBXSlmb3IodmFyIEI9cCx6PWUoQiksQz12b2lkIDAsRT16Lmxlbmd0aCxkYT0wLEI9RSYmbmV3IENLRURJVE9SLmRvbS5yYW5nZShCLmdldERvY3VtZW50KCkpO2RhPEU7KytkYSl7dmFyIEM9eltkYV0sSD1DS0VESVRPUi5maWx0ZXIuaW5zdGFuY2VzW0MuZGF0YShcImNrZS1maWx0ZXJcIildO2lmKEg/SC5jaGVjayh0aGlzKToxKUIuc2VsZWN0Tm9kZUNvbnRlbnRzKEMpLGIuY2FsbCh0aGlzLEIpfXo9QT8hcVtBXXx8cj8wOncmJiFsPzA6ZihwLHksaCxNKToxO2lmKHopaWYoQz1wLmdldFBhcmVudCgpLHo9aCxFPWcsZGE9bSwhQ3x8IShDLmdldER0ZCgpfHxDS0VESVRPUi5kdGQuc3BhbilbRV0mJiFkYXx8ei5wYXJlbnRSdWxlJiYhei5wYXJlbnRSdWxlKEMpKWs9XG4hMDtlbHNle2lmKHZ8fEEmJkNLRURJVE9SLmR0ZC4kcmVtb3ZlRW1wdHlbQV0mJihwLmdldFBvc2l0aW9uKHkpfE0pIT1NfHwodj1jLmNsb25lKCksdi5zZXRTdGFydEJlZm9yZShwKSksQT1wLnR5cGUsQT09Q0tFRElUT1IuTk9ERV9URVhUfHx3fHxBPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJiFwLmdldENoaWxkQ291bnQoKSl7Zm9yKHZhciBBPXAsRzsoaz0hQS5nZXROZXh0KEopKSYmKEc9QS5nZXRQYXJlbnQoKSxxW0cuZ2V0TmFtZSgpXSkmJmYoRyx1LGgsTCk7KUE9Rzt2LnNldEVuZEFmdGVyKEEpfX1lbHNlIGs9ITA7cD1wLmdldE5leHRTb3VyY2VOb2RlKHJ8fHcpfWlmKGsmJnYmJiF2LmNvbGxhcHNlZCl7Zm9yKHZhciBrPXQodGhpcyxkKSx3PWsuaGFzQXR0cmlidXRlcygpLHI9di5nZXRDb21tb25BbmNlc3RvcigpLEE9e30sej17fSxDPXt9LEU9e30sZWEsRixoYTtrJiZyOyl7aWYoci5nZXROYW1lKCk9PWcpe2ZvcihlYSBpbiBoLmF0dHJpYnV0ZXMpIUVbZWFdJiYoaGE9XG5yLmdldEF0dHJpYnV0ZShGKSkmJihrLmdldEF0dHJpYnV0ZShlYSk9PWhhP3pbZWFdPTE6RVtlYV09MSk7Zm9yKEYgaW4gaC5zdHlsZXMpIUNbRl0mJihoYT1yLmdldFN0eWxlKEYpKSYmKGsuZ2V0U3R5bGUoRik9PWhhP0FbRl09MTpDW0ZdPTEpfXI9ci5nZXRQYXJlbnQoKX1mb3IoZWEgaW4geilrLnJlbW92ZUF0dHJpYnV0ZShlYSk7Zm9yKEYgaW4gQSlrLnJlbW92ZVN0eWxlKEYpO3cmJiFrLmhhc0F0dHJpYnV0ZXMoKSYmKGs9bnVsbCk7az8odi5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhrKSx2Lmluc2VydE5vZGUoaykseC5jYWxsKHRoaXMsayksay5tZXJnZVNpYmxpbmdzKCksQ0tFRElUT1IuZW52LmllfHxrLiQubm9ybWFsaXplKCkpOihrPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIiksdi5leHRyYWN0Q29udGVudHMoKS5hcHBlbmRUbyhrKSx2Lmluc2VydE5vZGUoaykseC5jYWxsKHRoaXMsayksay5yZW1vdmUoITApKTt2PW51bGx9fWMubW92ZVRvQm9va21hcmsobik7XG5jLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCk7Yy5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKX19ZnVuY3Rpb24gYyhhKXtmdW5jdGlvbiBiKCl7Zm9yKHZhciBhPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5nZXRQYXJlbnQoKSksYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGwuZ2V0UGFyZW50KCkpLGU9bnVsbCxnPW51bGwsZj0wO2Y8YS5lbGVtZW50cy5sZW5ndGg7ZisrKXt2YXIgaD1hLmVsZW1lbnRzW2ZdO2lmKGg9PWEuYmxvY2t8fGg9PWEuYmxvY2tMaW1pdClicmVhaztuLmNoZWNrRWxlbWVudFJlbW92YWJsZShoLCEwKSYmKGU9aCl9Zm9yKGY9MDtmPGMuZWxlbWVudHMubGVuZ3RoO2YrKyl7aD1jLmVsZW1lbnRzW2ZdO2lmKGg9PWMuYmxvY2t8fGg9PWMuYmxvY2tMaW1pdClicmVhaztuLmNoZWNrRWxlbWVudFJlbW92YWJsZShoLCEwKSYmKGc9aCl9ZyYmbC5icmVha1BhcmVudChnKTtlJiZkLmJyZWFrUGFyZW50KGUpfWEuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0lOTElORSxcbjEpO3ZhciBjPWEuY3JlYXRlQm9va21hcmsoKSxkPWMuc3RhcnROb2RlLGU9dGhpcy5fLmRlZmluaXRpb24uYWx3YXlzUmVtb3ZlRWxlbWVudDtpZihhLmNvbGxhcHNlZCl7Zm9yKHZhciBnPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5nZXRQYXJlbnQoKSxhLnJvb3QpLGYsaD0wLG07aDxnLmVsZW1lbnRzLmxlbmd0aCYmKG09Zy5lbGVtZW50c1toXSkmJm0hPWcuYmxvY2smJm0hPWcuYmxvY2tMaW1pdDtoKyspaWYodGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUobSkpe3ZhciBrOyFlJiZhLmNvbGxhcHNlZCYmKGEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChtLENLRURJVE9SLkVORCl8fChrPWEuY2hlY2tCb3VuZGFyeU9mRWxlbWVudChtLENLRURJVE9SLlNUQVJUKSkpPyhmPW0sZi5tYXRjaD1rP1wic3RhcnRcIjpcImVuZFwiKToobS5tZXJnZVNpYmxpbmdzKCksbS5pcyh0aGlzLmVsZW1lbnQpP3IuY2FsbCh0aGlzLG0pOnYobSxxKHRoaXMpW20uZ2V0TmFtZSgpXSkpfWlmKGYpe2U9XG5kO2ZvcihoPTA7O2grKyl7bT1nLmVsZW1lbnRzW2hdO2lmKG0uZXF1YWxzKGYpKWJyZWFrO2Vsc2UgaWYobS5tYXRjaCljb250aW51ZTtlbHNlIG09bS5jbG9uZSgpO20uYXBwZW5kKGUpO2U9bX1lW1wic3RhcnRcIj09Zi5tYXRjaD9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0oZil9fWVsc2V7dmFyIGw9Yy5lbmROb2RlLG49dGhpcztiKCk7Zm9yKGc9ZDshZy5lcXVhbHMobCk7KWY9Zy5nZXROZXh0U291cmNlTm9kZSgpLGcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZ0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShnKSYmKGcuZ2V0TmFtZSgpPT10aGlzLmVsZW1lbnQ/ci5jYWxsKHRoaXMsZyk6dihnLHEodGhpcylbZy5nZXROYW1lKCldKSxmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5jb250YWlucyhkKSYmKGIoKSxmPWQuZ2V0TmV4dCgpKSksZz1mfWEubW92ZVRvQm9va21hcmsoYyk7YS5zaHJpbmsoQ0tFRElUT1IuTk9ERV9FTEVNRU5ULCEwKX1mdW5jdGlvbiBlKGEpe3ZhciBiPVxuW107YS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT1hLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYi5wdXNoKGEpLCExfSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsITApO3JldHVybiBifWZ1bmN0aW9uIGwoYSl7dmFyIGI9YS5nZXRFbmNsb3NlZE5vZGUoKXx8YS5nZXRDb21tb25BbmNlc3RvcighMSwhMCk7KGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpJiYhYS5pc1JlYWRPbmx5KCkmJnkoYSx0aGlzKX1mdW5jdGlvbiBrKGEpe3ZhciBiPWEuZ2V0Q29tbW9uQW5jZXN0b3IoITAsITApO2lmKGE9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYixhLnJvb3QpKS5jb250YWlucyh0aGlzLmVsZW1lbnQsMSkpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLGM9Yi5hdHRyaWJ1dGVzO2lmKGMpZm9yKHZhciBkIGluIGMpYS5yZW1vdmVBdHRyaWJ1dGUoZCxjW2RdKTtpZihiLnN0eWxlcylmb3IodmFyIGUgaW4gYi5zdHlsZXMpYi5zdHlsZXMuaGFzT3duUHJvcGVydHkoZSkmJlxuYS5yZW1vdmVTdHlsZShlKX19ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKCEwKSxjPWEuY3JlYXRlSXRlcmF0b3IoKTtjLmVuZm9yY2VSZWFsQmxvY2tzPSEwO3RoaXMuXy5lbnRlck1vZGUmJihjLmVubGFyZ2VCcj10aGlzLl8uZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9CUik7Zm9yKHZhciBkLGU9YS5kb2N1bWVudCxnO2Q9Yy5nZXROZXh0UGFyYWdyYXBoKCk7KSFkLmlzUmVhZE9ubHkoKSYmKGMuYWN0aXZlRmlsdGVyP2MuYWN0aXZlRmlsdGVyLmNoZWNrKHRoaXMpOjEpJiYoZz10KHRoaXMsZSxkKSxtKGQsZykpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gaChhKXt2YXIgYj1hLmNyZWF0ZUJvb2ttYXJrKDEpLGM9YS5jcmVhdGVJdGVyYXRvcigpO2MuZW5mb3JjZVJlYWxCbG9ja3M9ITA7Yy5lbmxhcmdlQnI9dGhpcy5fLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlI7Zm9yKHZhciBkLGU7ZD1jLmdldE5leHRQYXJhZ3JhcGgoKTspdGhpcy5jaGVja0VsZW1lbnRSZW1vdmFibGUoZCkmJlxuKGQuaXMoXCJwcmVcIik/KChlPXRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP251bGw6YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpJiZkLmNvcHlBdHRyaWJ1dGVzKGUpLG0oZCxlKSk6ci5jYWxsKHRoaXMsZCkpO2EubW92ZVRvQm9va21hcmsoYil9ZnVuY3Rpb24gbShhLGIpe3ZhciBjPSFiO2MmJihiPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLGEuY29weUF0dHJpYnV0ZXMoYikpO3ZhciBkPWImJmIuaXMoXCJwcmVcIiksZT1hLmlzKFwicHJlXCIpLGY9IWQmJmU7aWYoZCYmIWUpe2U9YjsoZj1hLmdldEJvZ3VzKCkpJiZmLnJlbW92ZSgpO2Y9YS5nZXRIdG1sKCk7Zj1uKGYsLyg/Ol5bIFxcdFxcblxccl0rKXwoPzpbIFxcdFxcblxccl0rJCkvZyxcIlwiKTtmPWYucmVwbGFjZSgvWyBcXHRcXHJcXG5dKig8YnJbXj5dKj4pWyBcXHRcXHJcXG5dKi9naSxcIiQxXCIpO2Y9Zi5yZXBsYWNlKC8oWyBcXHRcXG5cXHJdK3wmbmJzcDspL2csXG5cIiBcIik7Zj1mLnJlcGxhY2UoLzxiclxcYltePl0qPi9naSxcIlxcblwiKTtpZihDS0VESVRPUi5lbnYuaWUpe3ZhciBoPWEuZ2V0RG9jdW1lbnQoKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2guYXBwZW5kKGUpO2UuJC5vdXRlckhUTUw9XCJcXHgzY3ByZVxceDNlXCIrZitcIlxceDNjL3ByZVxceDNlXCI7ZS5jb3B5QXR0cmlidXRlcyhoLmdldEZpcnN0KCkpO2U9aC5nZXRGaXJzdCgpLnJlbW92ZSgpfWVsc2UgZS5zZXRIdG1sKGYpO2I9ZX1lbHNlIGY/Yj1wKGM/W2EuZ2V0SHRtbCgpXTpnKGEpLGIpOmEubW92ZUNoaWxkcmVuKGIpO2IucmVwbGFjZShhKTtpZihkKXt2YXIgYz1iLG07KG09Yy5nZXRQcmV2aW91cyhIKSkmJm0udHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZtLmlzKFwicHJlXCIpJiYoZD1uKG0uZ2V0SHRtbCgpLC9cXG4kLyxcIlwiKStcIlxcblxcblwiK24oYy5nZXRIdG1sKCksL15cXG4vLFwiXCIpLENLRURJVE9SLmVudi5pZT9jLiQub3V0ZXJIVE1MPVwiXFx4M2NwcmVcXHgzZVwiK2QrXCJcXHgzYy9wcmVcXHgzZVwiOlxuYy5zZXRIdG1sKGQpLG0ucmVtb3ZlKCkpfWVsc2UgYyYmdShiKX1mdW5jdGlvbiBnKGEpe3ZhciBiPVtdO24oYS5nZXRPdXRlckh0bWwoKSwvKFxcU1xccyopXFxuKD86XFxzfCg8c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPikpKlxcbig/ISQpL2dpLGZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYitcIlxceDNjL3ByZVxceDNlXCIrYytcIlxceDNjcHJlXFx4M2VcIn0pLnJlcGxhY2UoLzxwcmVcXGIuKj8+KFtcXHNcXFNdKj8pPFxcL3ByZT4vZ2ksZnVuY3Rpb24oYSxjKXtiLnB1c2goYyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBuKGEsYixjKXt2YXIgZD1cIlwiLGU9XCJcIjthPWEucmVwbGFjZSgvKF48c3BhbltePl0rZGF0YS1ja2UtYm9va21hcmsuKj9cXC9zcGFuPil8KDxzcGFuW14+XStkYXRhLWNrZS1ib29rbWFyay4qP1xcL3NwYW4+JCkvZ2ksZnVuY3Rpb24oYSxiLGMpe2ImJihkPWIpO2MmJihlPWMpO3JldHVyblwiXCJ9KTtyZXR1cm4gZCthLnJlcGxhY2UoYixjKStlfWZ1bmN0aW9uIHAoYSxiKXt2YXIgYztcbjE8YS5sZW5ndGgmJihjPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChiLmdldERvY3VtZW50KCkpKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGU9YVtkXSxlPWUucmVwbGFjZSgvKFxcclxcbnxcXHIpL2csXCJcXG5cIiksZT1uKGUsL15bIFxcdF0qXFxuLyxcIlwiKSxlPW4oZSwvXFxuJC8sXCJcIiksZT1uKGUsL15bIFxcdF0rfFsgXFx0XSskL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gMT09YS5sZW5ndGg/XCJcXHgyNm5ic3A7XCI6Yj9cIiBcIitDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgyNm5ic3A7XCIsYS5sZW5ndGgtMSk6Q0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4MjZuYnNwO1wiLGEubGVuZ3RoLTEpK1wiIFwifSksZT1lLnJlcGxhY2UoL1xcbi9nLFwiXFx4M2NiclxceDNlXCIpLGU9ZS5yZXBsYWNlKC9bIFxcdF17Mix9L2csZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLnRvb2xzLnJlcGVhdChcIlxceDI2bmJzcDtcIixhLmxlbmd0aC0xKStcIiBcIn0pO2lmKGMpe3ZhciBnPWIuY2xvbmUoKTtnLnNldEh0bWwoZSk7XG5jLmFwcGVuZChnKX1lbHNlIGIuc2V0SHRtbChlKX1yZXR1cm4gY3x8Yn1mdW5jdGlvbiByKGEsYil7dmFyIGM9dGhpcy5fLmRlZmluaXRpb24sZD1jLmF0dHJpYnV0ZXMsYz1jLnN0eWxlcyxlPXEodGhpcylbYS5nZXROYW1lKCldLGc9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShkKSYmQ0tFRElUT1IudG9vbHMuaXNFbXB0eShjKSxmO2ZvcihmIGluIGQpaWYoXCJjbGFzc1wiIT1mJiYhdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNofHxhLmdldEF0dHJpYnV0ZShmKT09dyhmLGRbZl0pKWImJlwiZGF0YS1cIj09Zi5zbGljZSgwLDUpfHwoZz1hLmhhc0F0dHJpYnV0ZShmKSxhLnJlbW92ZUF0dHJpYnV0ZShmKSk7Zm9yKHZhciBoIGluIGMpdGhpcy5fLmRlZmluaXRpb24uZnVsbE1hdGNoJiZhLmdldFN0eWxlKGgpIT13KGgsY1toXSwhMCl8fChnPWd8fCEhYS5nZXRTdHlsZShoKSxhLnJlbW92ZVN0eWxlKGgpKTt2KGEsZSxDW2EuZ2V0TmFtZSgpXSk7ZyYmKHRoaXMuXy5kZWZpbml0aW9uLmFsd2F5c1JlbW92ZUVsZW1lbnQ/XG51KGEsMSk6IUNLRURJVE9SLmR0ZC4kYmxvY2tbYS5nZXROYW1lKCldfHx0aGlzLl8uZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUiYmIWEuaGFzQXR0cmlidXRlcygpP3UoYSk6YS5yZW5hbWVOb2RlKHRoaXMuXy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikpfWZ1bmN0aW9uIHgoYSl7Zm9yKHZhciBiPXEodGhpcyksYz1hLmdldEVsZW1lbnRzQnlUYWcodGhpcy5lbGVtZW50KSxkLGU9Yy5jb3VudCgpOzA8PS0tZTspZD1jLmdldEl0ZW0oZSksZC5pc1JlYWRPbmx5KCl8fHIuY2FsbCh0aGlzLGQsITApO2Zvcih2YXIgZyBpbiBiKWlmKGchPXRoaXMuZWxlbWVudClmb3IoYz1hLmdldEVsZW1lbnRzQnlUYWcoZyksZT1jLmNvdW50KCktMTswPD1lO2UtLSlkPWMuZ2V0SXRlbShlKSxkLmlzUmVhZE9ubHkoKXx8dihkLGJbZ10pfWZ1bmN0aW9uIHYoYSxiLGMpe2lmKGI9YiYmYi5hdHRyaWJ1dGVzKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7ZCsrKXt2YXIgZT1iW2RdWzBdLFxuZztpZihnPWEuZ2V0QXR0cmlidXRlKGUpKXt2YXIgZj1iW2RdWzFdOyhudWxsPT09Znx8Zi50ZXN0JiZmLnRlc3QoZyl8fFwic3RyaW5nXCI9PXR5cGVvZiBmJiZnPT1mKSYmYS5yZW1vdmVBdHRyaWJ1dGUoZSl9fWN8fHUoYSl9ZnVuY3Rpb24gdShhLGIpe2lmKCFhLmhhc0F0dHJpYnV0ZXMoKXx8YilpZihDS0VESVRPUi5kdGQuJGJsb2NrW2EuZ2V0TmFtZSgpXSl7dmFyIGM9YS5nZXRQcmV2aW91cyhIKSxkPWEuZ2V0TmV4dChIKTshY3x8Yy50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmMuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIiwxKTshZHx8ZC50eXBlIT1DS0VESVRPUi5OT0RFX1RFWFQmJmQuaXNCbG9ja0JvdW5kYXJ5KHticjoxfSl8fGEuYXBwZW5kKFwiYnJcIik7YS5yZW1vdmUoITApfWVsc2UgYz1hLmdldEZpcnN0KCksZD1hLmdldExhc3QoKSxhLnJlbW92ZSghMCksYyYmKGMudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZjLm1lcmdlU2libGluZ3MoKSxcbmQmJiFjLmVxdWFscyhkKSYmZC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmQubWVyZ2VTaWJsaW5ncygpKX1mdW5jdGlvbiB0KGEsYixjKXt2YXIgZDtkPWEuZWxlbWVudDtcIipcIj09ZCYmKGQ9XCJzcGFuXCIpO2Q9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGQsYik7YyYmYy5jb3B5QXR0cmlidXRlcyhkKTtkPXkoZCxhKTtiLmdldEN1c3RvbURhdGEoXCJkb2NfcHJvY2Vzc2luZ19zdHlsZVwiKSYmZC5oYXNBdHRyaWJ1dGUoXCJpZFwiKT9kLnJlbW92ZUF0dHJpYnV0ZShcImlkXCIpOmIuc2V0Q3VzdG9tRGF0YShcImRvY19wcm9jZXNzaW5nX3N0eWxlXCIsMSk7cmV0dXJuIGR9ZnVuY3Rpb24geShhLGIpe3ZhciBjPWIuXy5kZWZpbml0aW9uLGQ9Yy5hdHRyaWJ1dGVzLGM9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpO2lmKGQpZm9yKHZhciBlIGluIGQpYS5zZXRBdHRyaWJ1dGUoZSxkW2VdKTtjJiZhLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYyk7cmV0dXJuIGF9ZnVuY3Rpb24gQShhLFxuYil7Zm9yKHZhciBjIGluIGEpYVtjXT1hW2NdLnJlcGxhY2UoRixmdW5jdGlvbihhLGMpe3JldHVybiBiW2NdfSl9ZnVuY3Rpb24gcShhKXtpZihhLl8ub3ZlcnJpZGVzKXJldHVybiBhLl8ub3ZlcnJpZGVzO3ZhciBiPWEuXy5vdmVycmlkZXM9e30sYz1hLl8uZGVmaW5pdGlvbi5vdmVycmlkZXM7aWYoYyl7Q0tFRElUT1IudG9vbHMuaXNBcnJheShjKXx8KGM9W2NdKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGU9Y1tkXSxnLGY7XCJzdHJpbmdcIj09dHlwZW9mIGU/Zz1lLnRvTG93ZXJDYXNlKCk6KGc9ZS5lbGVtZW50P2UuZWxlbWVudC50b0xvd2VyQ2FzZSgpOmEuZWxlbWVudCxmPWUuYXR0cmlidXRlcyk7ZT1iW2ddfHwoYltnXT17fSk7aWYoZil7dmFyIGU9ZS5hdHRyaWJ1dGVzPWUuYXR0cmlidXRlc3x8W10saDtmb3IoaCBpbiBmKWUucHVzaChbaC50b0xvd2VyQ2FzZSgpLGZbaF1dKX19fXJldHVybiBifWZ1bmN0aW9uIHcoYSxiLGMpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInNwYW5cIik7XG5kW2M/XCJzZXRTdHlsZVwiOlwic2V0QXR0cmlidXRlXCJdKGEsYik7cmV0dXJuIGRbYz9cImdldFN0eWxlXCI6XCJnZXRBdHRyaWJ1dGVcIl0oYSl9ZnVuY3Rpb24gQihhLGIpe2Z1bmN0aW9uIGMoYSxiKXtyZXR1cm5cImZvbnQtZmFtaWx5XCI9PWIudG9Mb3dlckNhc2UoKT9hLnJlcGxhY2UoL1tcIiddL2csXCJcIik6YX1cInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGEpKTtcInN0cmluZ1wiPT10eXBlb2YgYiYmKGI9Q0tFRElUT1IudG9vbHMucGFyc2VDc3NUZXh0KGIsITApKTtmb3IodmFyIGQgaW4gYSlpZighKGQgaW4gYil8fGMoYltkXSxkKSE9YyhhW2RdLGQpJiZcImluaGVyaXRcIiE9YVtkXSYmXCJpbmhlcml0XCIhPWJbZF0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24geihhLGIsYyl7dmFyIGQ9YS5kb2N1bWVudCxlPWEuZ2V0UmFuZ2VzKCk7Yj1iP3RoaXMucmVtb3ZlRnJvbVJhbmdlOnRoaXMuYXBwbHlUb1JhbmdlO3ZhciBnLGY7aWYoYS5pc0Zha2UmJmEuaXNJblRhYmxlKCkpZm9yKGc9XG5bXSxmPTA7ZjxlLmxlbmd0aDtmKyspZy5wdXNoKGVbZl0uY2xvbmUoKSk7Zm9yKHZhciBoPWUuY3JlYXRlSXRlcmF0b3IoKTtmPWguZ2V0TmV4dFJhbmdlKCk7KWIuY2FsbCh0aGlzLGYsYyk7YS5zZWxlY3RSYW5nZXMoZ3x8ZSk7ZC5yZW1vdmVDdXN0b21EYXRhKFwiZG9jX3Byb2Nlc3Npbmdfc3R5bGVcIil9dmFyIEM9e2FkZHJlc3M6MSxkaXY6MSxoMToxLGgyOjEsaDM6MSxoNDoxLGg1OjEsaDY6MSxwOjEscHJlOjEsc2VjdGlvbjoxLGhlYWRlcjoxLGZvb3RlcjoxLG5hdjoxLGFydGljbGU6MSxhc2lkZToxLGZpZ3VyZToxLGRpYWxvZzoxLGhncm91cDoxLHRpbWU6MSxtZXRlcjoxLG1lbnU6MSxjb21tYW5kOjEsa2V5Z2VuOjEsb3V0cHV0OjEscHJvZ3Jlc3M6MSxkZXRhaWxzOjEsZGF0YWdyaWQ6MSxkYXRhbGlzdDoxfSxFPXthOjEsYmxvY2txdW90ZToxLGVtYmVkOjEsaHI6MSxpbWc6MSxsaToxLG9iamVjdDoxLG9sOjEsdGFibGU6MSx0ZDoxLHRyOjEsdGg6MSx1bDoxLGRsOjEsZHQ6MSxcbmRkOjEsZm9ybToxLGF1ZGlvOjEsdmlkZW86MX0sRz0vXFxzKig/OjtcXHMqfCQpLyxGPS8jXFwoKC4rPylcXCkvZyxKPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoMCwxKSxIPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoMSk7Q0tFRElUT1Iuc3R5bGU9ZnVuY3Rpb24oYSxiKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYS50eXBlKXJldHVybiBuZXcgQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbYS50eXBlXShhKTt2YXIgYz1hLmF0dHJpYnV0ZXM7YyYmYy5zdHlsZSYmKGEuc3R5bGVzPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLnN0eWxlcyxDS0VESVRPUi50b29scy5wYXJzZUNzc1RleHQoYy5zdHlsZSkpLGRlbGV0ZSBjLnN0eWxlKTtiJiYoYT1DS0VESVRPUi50b29scy5jbG9uZShhKSxBKGEuYXR0cmlidXRlcyxiKSxBKGEuc3R5bGVzLGIpKTtjPXRoaXMuZWxlbWVudD1hLmVsZW1lbnQ/XCJzdHJpbmdcIj09dHlwZW9mIGEuZWxlbWVudD9hLmVsZW1lbnQudG9Mb3dlckNhc2UoKTpcbmEuZWxlbWVudDpcIipcIjt0aGlzLnR5cGU9YS50eXBlfHwoQ1tjXT9DS0VESVRPUi5TVFlMRV9CTE9DSzpFW2NdP0NLRURJVE9SLlNUWUxFX09CSkVDVDpDS0VESVRPUi5TVFlMRV9JTkxJTkUpO1wib2JqZWN0XCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQmJih0aGlzLnR5cGU9Q0tFRElUT1IuU1RZTEVfT0JKRUNUKTt0aGlzLl89e2RlZmluaXRpb246YX19O0NLRURJVE9SLnN0eWxlLnByb3RvdHlwZT17YXBwbHk6ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5kb2N1bWVudClyZXR1cm4gei5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSk7aWYodGhpcy5jaGVja0FwcGxpY2FibGUoYS5lbGVtZW50UGF0aCgpLGEpKXt2YXIgYj10aGlzLl8uZW50ZXJNb2RlO2J8fCh0aGlzLl8uZW50ZXJNb2RlPWEuYWN0aXZlRW50ZXJNb2RlKTt6LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDAsYSk7dGhpcy5fLmVudGVyTW9kZT1ifX0scmVtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEgaW5zdGFuY2VvZlxuQ0tFRElUT1IuZG9tLmRvY3VtZW50KXJldHVybiB6LmNhbGwodGhpcyxhLmdldFNlbGVjdGlvbigpLDEpO2lmKHRoaXMuY2hlY2tBcHBsaWNhYmxlKGEuZWxlbWVudFBhdGgoKSxhKSl7dmFyIGI9dGhpcy5fLmVudGVyTW9kZTtifHwodGhpcy5fLmVudGVyTW9kZT1hLmFjdGl2ZUVudGVyTW9kZSk7ei5jYWxsKHRoaXMsYS5nZXRTZWxlY3Rpb24oKSwxLGEpO3RoaXMuXy5lbnRlck1vZGU9Yn19LGFwcGx5VG9SYW5nZTpmdW5jdGlvbihhKXt0aGlzLmFwcGx5VG9SYW5nZT10aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0lOTElORT9iOnRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/ZDp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9sOm51bGw7cmV0dXJuIHRoaXMuYXBwbHlUb1JhbmdlKGEpfSxyZW1vdmVGcm9tUmFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVGcm9tUmFuZ2U9dGhpcy50eXBlPT1DS0VESVRPUi5TVFlMRV9JTkxJTkU/Yzp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX0JMT0NLP1xuaDp0aGlzLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9rOm51bGw7cmV0dXJuIHRoaXMucmVtb3ZlRnJvbVJhbmdlKGEpfSxhcHBseVRvT2JqZWN0OmZ1bmN0aW9uKGEpe3koYSx0aGlzKX0sY2hlY2tBY3RpdmU6ZnVuY3Rpb24oYSxiKXtzd2l0Y2godGhpcy50eXBlKXtjYXNlIENLRURJVE9SLlNUWUxFX0JMT0NLOnJldHVybiB0aGlzLmNoZWNrRWxlbWVudFJlbW92YWJsZShhLmJsb2NrfHxhLmJsb2NrTGltaXQsITAsYik7Y2FzZSBDS0VESVRPUi5TVFlMRV9PQkpFQ1Q6Y2FzZSBDS0VESVRPUi5TVFlMRV9JTkxJTkU6Zm9yKHZhciBjPWEuZWxlbWVudHMsZD0wLGU7ZDxjLmxlbmd0aDtkKyspaWYoZT1jW2RdLHRoaXMudHlwZSE9Q0tFRElUT1IuU1RZTEVfSU5MSU5FfHxlIT1hLmJsb2NrJiZlIT1hLmJsb2NrTGltaXQpe2lmKHRoaXMudHlwZT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUKXt2YXIgZz1lLmdldE5hbWUoKTtpZighKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/XG5nPT10aGlzLmVsZW1lbnQ6ZyBpbiB0aGlzLmVsZW1lbnQpKWNvbnRpbnVlfWlmKHRoaXMuY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGUsITAsYikpcmV0dXJuITB9fXJldHVybiExfSxjaGVja0FwcGxpY2FibGU6ZnVuY3Rpb24oYSxiLGMpe2ImJmIgaW5zdGFuY2VvZiBDS0VESVRPUi5maWx0ZXImJihjPWIpO2lmKGMmJiFjLmNoZWNrKHRoaXMpKXJldHVybiExO3N3aXRjaCh0aGlzLnR5cGUpe2Nhc2UgQ0tFRElUT1IuU1RZTEVfT0JKRUNUOnJldHVybiEhYS5jb250YWlucyh0aGlzLmVsZW1lbnQpO2Nhc2UgQ0tFRElUT1IuU1RZTEVfQkxPQ0s6cmV0dXJuISFhLmJsb2NrTGltaXQuZ2V0RHRkKClbdGhpcy5lbGVtZW50XX1yZXR1cm4hMH0sY2hlY2tFbGVtZW50TWF0Y2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl8uZGVmaW5pdGlvbjtpZighYXx8IWMuaWdub3JlUmVhZG9ubHkmJmEuaXNSZWFkT25seSgpKXJldHVybiExO3ZhciBkPWEuZ2V0TmFtZSgpO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0aGlzLmVsZW1lbnQ/XG5kPT10aGlzLmVsZW1lbnQ6ZCBpbiB0aGlzLmVsZW1lbnQpe2lmKCFiJiYhYS5oYXNBdHRyaWJ1dGVzKCkpcmV0dXJuITA7aWYoZD1jLl9BQyljPWQ7ZWxzZXt2YXIgZD17fSxlPTAsZz1jLmF0dHJpYnV0ZXM7aWYoZylmb3IodmFyIGYgaW4gZyllKyssZFtmXT1nW2ZdO2lmKGY9Q0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0KGMpKWQuc3R5bGV8fGUrKyxkLnN0eWxlPWY7ZC5fbGVuZ3RoPWU7Yz1jLl9BQz1kfWlmKGMuX2xlbmd0aCl7Zm9yKHZhciBoIGluIGMpaWYoXCJfbGVuZ3RoXCIhPWgpaWYoZD1hLmdldEF0dHJpYnV0ZShoKXx8XCJcIixcInN0eWxlXCI9PWg/QihjW2hdLGQpOmNbaF09PWQpe2lmKCFiKXJldHVybiEwfWVsc2UgaWYoYilyZXR1cm4hMTtpZihiKXJldHVybiEwfWVsc2UgcmV0dXJuITB9cmV0dXJuITF9LGNoZWNrRWxlbWVudFJlbW92YWJsZTpmdW5jdGlvbihhLGIsYyl7aWYodGhpcy5jaGVja0VsZW1lbnRNYXRjaChhLGIsYykpcmV0dXJuITA7aWYoYj1xKHRoaXMpW2EuZ2V0TmFtZSgpXSl7dmFyIGQ7XG5pZighKGI9Yi5hdHRyaWJ1dGVzKSlyZXR1cm4hMDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKWlmKGQ9YltjXVswXSxkPWEuZ2V0QXR0cmlidXRlKGQpKXt2YXIgZT1iW2NdWzFdO2lmKG51bGw9PT1lKXJldHVybiEwO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtpZihkPT1lKXJldHVybiEwfWVsc2UgaWYoZS50ZXN0KGQpKXJldHVybiEwfX1yZXR1cm4hMX0sYnVpbGRQcmV2aWV3OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5kZWZpbml0aW9uLGM9W10sZD1iLmVsZW1lbnQ7XCJiZG9cIj09ZCYmKGQ9XCJzcGFuXCIpO3ZhciBjPVtcIlxceDNjXCIsZF0sZT1iLmF0dHJpYnV0ZXM7aWYoZSlmb3IodmFyIGcgaW4gZSljLnB1c2goXCIgXCIsZywnXFx4M2RcIicsZVtnXSwnXCInKTsoZT1DS0VESVRPUi5zdHlsZS5nZXRTdHlsZVRleHQoYikpJiZjLnB1c2goJyBzdHlsZVxceDNkXCInLGUsJ1wiJyk7Yy5wdXNoKFwiXFx4M2VcIixhfHxiLm5hbWUsXCJcXHgzYy9cIixkLFwiXFx4M2VcIik7cmV0dXJuIGMuam9pbihcIlwiKX0sZ2V0RGVmaW5pdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZGVmaW5pdGlvbn19O1xuQ0tFRElUT1Iuc3R5bGUuZ2V0U3R5bGVUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPWEuX1NUO2lmKGIpcmV0dXJuIGI7dmFyIGI9YS5zdHlsZXMsYz1hLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy5zdHlsZXx8XCJcIixkPVwiXCI7Yy5sZW5ndGgmJihjPWMucmVwbGFjZShHLFwiO1wiKSk7Zm9yKHZhciBlIGluIGIpe3ZhciBnPWJbZV0sZj0oZStcIjpcIitnKS5yZXBsYWNlKEcsXCI7XCIpO1wiaW5oZXJpdFwiPT1nP2QrPWY6Yys9Zn1jLmxlbmd0aCYmKGM9Q0tFRElUT1IudG9vbHMubm9ybWFsaXplQ3NzVGV4dChjLCEwKSk7cmV0dXJuIGEuX1NUPWMrZH07Q0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnM9e307Q0tFRElUT1Iuc3R5bGUuYWRkQ3VzdG9tSGFuZGxlcj1mdW5jdGlvbihhKXt2YXIgYj1mdW5jdGlvbihhKXt0aGlzLl89e2RlZmluaXRpb246YX07dGhpcy5zZXR1cCYmdGhpcy5zZXR1cChhKX07Yi5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLnRvb2xzLnByb3RvdHlwZWRDb3B5KENLRURJVE9SLnN0eWxlLnByb3RvdHlwZSksXG57YXNzaWduZWRUbzpDS0VESVRPUi5TVFlMRV9PQkpFQ1R9LGEsITApO3JldHVybiB0aGlzLmN1c3RvbUhhbmRsZXJzW2EudHlwZV09Yn07dmFyIE09Q0tFRElUT1IuUE9TSVRJT05fUFJFQ0VESU5HfENLRURJVE9SLlBPU0lUSU9OX0lERU5USUNBTHxDS0VESVRPUi5QT1NJVElPTl9JU19DT05UQUlORUQsTD1DS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkd8Q0tFRElUT1IuUE9TSVRJT05fSURFTlRJQ0FMfENLRURJVE9SLlBPU0lUSU9OX0lTX0NPTlRBSU5FRH0oKSxDS0VESVRPUi5zdHlsZUNvbW1hbmQ9ZnVuY3Rpb24oYSxmKXt0aGlzLnJlcXVpcmVkQ29udGVudD10aGlzLmFsbG93ZWRDb250ZW50PXRoaXMuc3R5bGU9YTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxmLCEwKX0sQ0tFRElUT1Iuc3R5bGVDb21tYW5kLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKGEpe2EuZm9jdXMoKTt0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY/YS5hcHBseVN0eWxlKHRoaXMuc3R5bGUpOlxudGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJmEucmVtb3ZlU3R5bGUodGhpcy5zdHlsZSl9LENLRURJVE9SLnN0eWxlc1NldD1uZXcgQ0tFRElUT1IucmVzb3VyY2VNYW5hZ2VyKFwiXCIsXCJzdHlsZXNTZXRcIiksQ0tFRElUT1IuYWRkU3R5bGVzU2V0PUNLRURJVE9SLnRvb2xzLmJpbmQoQ0tFRElUT1Iuc3R5bGVzU2V0LmFkZCxDS0VESVRPUi5zdHlsZXNTZXQpLENLRURJVE9SLmxvYWRTdHlsZXNTZXQ9ZnVuY3Rpb24oYSxmLGIpe0NLRURJVE9SLnN0eWxlc1NldC5hZGRFeHRlcm5hbChhLGYsXCJcIik7Q0tFRElUT1Iuc3R5bGVzU2V0LmxvYWQoYSxiKX0sQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmVkaXRvci5wcm90b3R5cGUse2F0dGFjaFN0eWxlU3RhdGVDaGFuZ2U6ZnVuY3Rpb24oYSxmKXt2YXIgYj10aGlzLl8uc3R5bGVTdGF0ZUNoYW5nZUNhbGxiYWNrcztifHwoYj10aGlzLl8uc3R5bGVTdGF0ZUNoYW5nZUNhbGxiYWNrcz1bXSx0aGlzLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsXG5mdW5jdGlvbihhKXtmb3IodmFyIGU9MDtlPGIubGVuZ3RoO2UrKyl7dmFyIGY9YltlXSxrPWYuc3R5bGUuY2hlY2tBY3RpdmUoYS5kYXRhLnBhdGgsdGhpcyk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2YuZm4uY2FsbCh0aGlzLGspfX0pKTtiLnB1c2goe3N0eWxlOmEsZm46Zn0pfSxhcHBseVN0eWxlOmZ1bmN0aW9uKGEpe2EuYXBwbHkodGhpcyl9LHJlbW92ZVN0eWxlOmZ1bmN0aW9uKGEpe2EucmVtb3ZlKHRoaXMpfSxnZXRTdHlsZXNTZXQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5fLnN0eWxlc0RlZmluaXRpb25zKWEodGhpcy5fLnN0eWxlc0RlZmluaXRpb25zKTtlbHNle3ZhciBmPXRoaXMsYj1mLmNvbmZpZy5zdHlsZXNDb21ib19zdHlsZXNTZXR8fGYuY29uZmlnLnN0eWxlc1NldDtpZighMT09PWIpYShudWxsKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBBcnJheSlmLl8uc3R5bGVzRGVmaW5pdGlvbnM9YixhKGIpO2Vsc2V7Ynx8KGI9XCJkZWZhdWx0XCIpO1xudmFyIGI9Yi5zcGxpdChcIjpcIiksYz1iWzBdO0NLRURJVE9SLnN0eWxlc1NldC5hZGRFeHRlcm5hbChjLGJbMV0/Yi5zbGljZSgxKS5qb2luKFwiOlwiKTpDS0VESVRPUi5nZXRVcmwoXCJzdHlsZXMuanNcIiksXCJcIik7Q0tFRElUT1Iuc3R5bGVzU2V0LmxvYWQoYyxmdW5jdGlvbihiKXtmLl8uc3R5bGVzRGVmaW5pdGlvbnM9YltjXTthKGYuXy5zdHlsZXNEZWZpbml0aW9ucyl9KX19fX0pLENLRURJVE9SLmRvbS5jb21tZW50PWZ1bmN0aW9uKGEsZil7XCJzdHJpbmdcIj09dHlwZW9mIGEmJihhPShmP2YuJDpkb2N1bWVudCkuY3JlYXRlQ29tbWVudChhKSk7Q0tFRElUT1IuZG9tLmRvbU9iamVjdC5jYWxsKHRoaXMsYSl9LENLRURJVE9SLmRvbS5jb21tZW50LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IuZG9tLm5vZGUsQ0tFRElUT1IudG9vbHMuZXh0ZW5kKENLRURJVE9SLmRvbS5jb21tZW50LnByb3RvdHlwZSx7dHlwZTpDS0VESVRPUi5OT0RFX0NPTU1FTlQsZ2V0T3V0ZXJIdG1sOmZ1bmN0aW9uKCl7cmV0dXJuXCJcXHgzYyEtLVwiK1xudGhpcy4kLm5vZGVWYWx1ZStcIi0tXFx4M2VcIn19KSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe3ZhciBhPXt9LGY9e30sYjtmb3IoYiBpbiBDS0VESVRPUi5kdGQuJGJsb2NrTGltaXQpYiBpbiBDS0VESVRPUi5kdGQuJGxpc3R8fChhW2JdPTEpO2ZvcihiIGluIENLRURJVE9SLmR0ZC4kYmxvY2spYiBpbiBDS0VESVRPUi5kdGQuJGJsb2NrTGltaXR8fGIgaW4gQ0tFRElUT1IuZHRkLiRlbXB0eXx8KGZbYl09MSk7Q0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoPWZ1bmN0aW9uKGIsZSl7dmFyIGw9bnVsbCxrPW51bGwsZD1bXSxoPWIsbTtlPWV8fGIuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCk7ZG8gaWYoaC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpe2QucHVzaChoKTtpZighdGhpcy5sYXN0RWxlbWVudCYmKHRoaXMubGFzdEVsZW1lbnQ9aCxoLmlzKENLRURJVE9SLmR0ZC4kb2JqZWN0KXx8XCJmYWxzZVwiPT1oLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSkpY29udGludWU7XG5pZihoLmVxdWFscyhlKSlicmVhaztpZighayYmKG09aC5nZXROYW1lKCksXCJ0cnVlXCI9PWguZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpP2s9aDohbCYmZlttXSYmKGw9aCksYVttXSkpe2lmKG09IWwmJlwiZGl2XCI9PW0pe2E6e209aC5nZXRDaGlsZHJlbigpO2Zvcih2YXIgZz0wLG49bS5jb3VudCgpO2c8bjtnKyspe3ZhciBwPW0uZ2V0SXRlbShnKTtpZihwLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmQ0tFRElUT1IuZHRkLiRibG9ja1twLmdldE5hbWUoKV0pe209ITA7YnJlYWsgYX19bT0hMX1tPSFtfW0/bD1oOms9aH19d2hpbGUoaD1oLmdldFBhcmVudCgpKTtrfHwoaz1lKTt0aGlzLmJsb2NrPWw7dGhpcy5ibG9ja0xpbWl0PWs7dGhpcy5yb290PWU7dGhpcy5lbGVtZW50cz1kfX0oKSxDS0VESVRPUi5kb20uZWxlbWVudFBhdGgucHJvdG90eXBlPXtjb21wYXJlOmZ1bmN0aW9uKGEpe3ZhciBmPXRoaXMuZWxlbWVudHM7YT1hJiZhLmVsZW1lbnRzO2lmKCFhfHxcbmYubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGI9MDtiPGYubGVuZ3RoO2IrKylpZighZltiXS5lcXVhbHMoYVtiXSkpcmV0dXJuITE7cmV0dXJuITB9LGNvbnRhaW5zOmZ1bmN0aW9uKGEsZixiKXt2YXIgYztcInN0cmluZ1wiPT10eXBlb2YgYSYmKGM9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0TmFtZSgpPT1hfSk7YSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50P2M9ZnVuY3Rpb24oYil7cmV0dXJuIGIuZXF1YWxzKGEpfTpDS0VESVRPUi50b29scy5pc0FycmF5KGEpP2M9ZnVuY3Rpb24oYil7cmV0dXJuLTE8Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLGIuZ2V0TmFtZSgpKX06XCJmdW5jdGlvblwiPT10eXBlb2YgYT9jPWE6XCJvYmplY3RcIj09dHlwZW9mIGEmJihjPWZ1bmN0aW9uKGIpe3JldHVybiBiLmdldE5hbWUoKWluIGF9KTt2YXIgZT10aGlzLmVsZW1lbnRzLGw9ZS5sZW5ndGg7ZiYmbC0tO2ImJihlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUsMCksXG5lLnJldmVyc2UoKSk7Zm9yKGY9MDtmPGw7ZisrKWlmKGMoZVtmXSkpcmV0dXJuIGVbZl07cmV0dXJuIG51bGx9LGlzQ29udGV4dEZvcjpmdW5jdGlvbihhKXt2YXIgZjtyZXR1cm4gYSBpbiBDS0VESVRPUi5kdGQuJGJsb2NrPyhmPXRoaXMuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRpbnRlcm1lZGlhdGUpfHx0aGlzLnJvb3QuZXF1YWxzKHRoaXMuYmxvY2spJiZ0aGlzLmJsb2NrfHx0aGlzLmJsb2NrTGltaXQsISFmLmdldER0ZCgpW2FdKTohMH0sZGlyZWN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuYmxvY2t8fHRoaXMuYmxvY2tMaW1pdHx8dGhpcy5yb290KS5nZXREaXJlY3Rpb24oMSl9fSxDS0VESVRPUi5kb20udGV4dD1mdW5jdGlvbihhLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT0oZj9mLiQ6ZG9jdW1lbnQpLmNyZWF0ZVRleHROb2RlKGEpKTt0aGlzLiQ9YX0sQ0tFRElUT1IuZG9tLnRleHQucHJvdG90eXBlPW5ldyBDS0VESVRPUi5kb20ubm9kZSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZG9tLnRleHQucHJvdG90eXBlLFxue3R5cGU6Q0tFRElUT1IuTk9ERV9URVhULGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQubm9kZVZhbHVlLmxlbmd0aH0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiQubm9kZVZhbHVlfSxzZXRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuJC5ub2RlVmFsdWU9YX0sc3BsaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcy4kLnBhcmVudE5vZGUsYj1mLmNoaWxkTm9kZXMubGVuZ3RoLGM9dGhpcy5nZXRMZW5ndGgoKSxlPXRoaXMuZ2V0RG9jdW1lbnQoKSxsPW5ldyBDS0VESVRPUi5kb20udGV4dCh0aGlzLiQuc3BsaXRUZXh0KGEpLGUpO2YuY2hpbGROb2Rlcy5sZW5ndGg9PWImJihhPj1jPyhsPWUuY3JlYXRlVGV4dChcIlwiKSxsLmluc2VydEFmdGVyKHRoaXMpKTooYT1lLmNyZWF0ZVRleHQoXCJcIiksYS5pbnNlcnRBZnRlcihsKSxhLnJlbW92ZSgpKSk7cmV0dXJuIGx9LHN1YnN0cmluZzpmdW5jdGlvbihhLGYpe3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiBmP3RoaXMuJC5ub2RlVmFsdWUuc3Vic3RyKGEpOlxudGhpcy4kLm5vZGVWYWx1ZS5zdWJzdHJpbmcoYSxmKX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjLGUpe3ZhciBmPWEuc2VyaWFsaXphYmxlLGs9Y1tlP1wiZW5kQ29udGFpbmVyXCI6XCJzdGFydENvbnRhaW5lclwiXSxkPWU/XCJlbmRPZmZzZXRcIjpcInN0YXJ0T2Zmc2V0XCIsaD1mP2MuZG9jdW1lbnQuZ2V0QnlJZChhLnN0YXJ0Tm9kZSk6YS5zdGFydE5vZGU7YT1mP2MuZG9jdW1lbnQuZ2V0QnlJZChhLmVuZE5vZGUpOmEuZW5kTm9kZTtrLmVxdWFscyhoLmdldFByZXZpb3VzKCkpPyhjLnN0YXJ0T2Zmc2V0PWMuc3RhcnRPZmZzZXQtay5nZXRMZW5ndGgoKS1hLmdldFByZXZpb3VzKCkuZ2V0TGVuZ3RoKCksaz1hLmdldE5leHQoKSk6ay5lcXVhbHMoYS5nZXRQcmV2aW91cygpKSYmKGMuc3RhcnRPZmZzZXQtPWsuZ2V0TGVuZ3RoKCksaz1hLmdldE5leHQoKSk7ay5lcXVhbHMoaC5nZXRQYXJlbnQoKSkmJmNbZF0rKztrLmVxdWFscyhhLmdldFBhcmVudCgpKSYmY1tkXSsrO2NbZT9cImVuZENvbnRhaW5lclwiOlxuXCJzdGFydENvbnRhaW5lclwiXT1rO3JldHVybiBjfUNLRURJVE9SLmRvbS5yYW5nZUxpc3Q9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5yYW5nZUxpc3QpcmV0dXJuIGE7YT9hIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnJhbmdlJiYoYT1bYV0pOmE9W107cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChhLGYpfTt2YXIgZj17Y3JlYXRlSXRlcmF0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9Q0tFRElUT1IuZG9tLndhbGtlci5ib29rbWFyaygpLGU9W10sZjtyZXR1cm57Z2V0TmV4dFJhbmdlOmZ1bmN0aW9uKGspe2Y9dm9pZCAwPT09Zj8wOmYrMTt2YXIgZD1hW2ZdO2lmKGQmJjE8YS5sZW5ndGgpe2lmKCFmKWZvcih2YXIgaD1hLmxlbmd0aC0xOzA8PWg7aC0tKWUudW5zaGlmdChhW2hdLmNyZWF0ZUJvb2ttYXJrKCEwKSk7aWYoaylmb3IodmFyIG09MDthW2YrbSsxXTspe3ZhciBnPWQuZG9jdW1lbnQ7az0wO2g9Zy5nZXRCeUlkKGVbbV0uZW5kTm9kZSk7XG5mb3IoZz1nLmdldEJ5SWQoZVttKzFdLnN0YXJ0Tm9kZSk7Oyl7aD1oLmdldE5leHRTb3VyY2VOb2RlKCExKTtpZihnLmVxdWFscyhoKSlrPTE7ZWxzZSBpZihjKGgpfHxoLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmaC5pc0Jsb2NrQm91bmRhcnkoKSljb250aW51ZTticmVha31pZighaylicmVhazttKyt9Zm9yKGQubW92ZVRvQm9va21hcmsoZS5zaGlmdCgpKTttLS07KWg9YVsrK2ZdLGgubW92ZVRvQm9va21hcmsoZS5zaGlmdCgpKSxkLnNldEVuZChoLmVuZENvbnRhaW5lcixoLmVuZE9mZnNldCl9cmV0dXJuIGR9fX0sY3JlYXRlQm9va21hcmtzOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYz1bXSxlLGY9MDtmPHRoaXMubGVuZ3RoO2YrKyl7Yy5wdXNoKGU9dGhpc1tmXS5jcmVhdGVCb29rbWFyayhiLCEwKSk7Zm9yKHZhciBrPWYrMTtrPHRoaXMubGVuZ3RoO2srKyl0aGlzW2tdPWEoZSx0aGlzW2tdKSx0aGlzW2tdPWEoZSx0aGlzW2tdLCEwKX1yZXR1cm4gY30sY3JlYXRlQm9va21hcmtzMjpmdW5jdGlvbihhKXtmb3IodmFyIGM9XG5bXSxlPTA7ZTx0aGlzLmxlbmd0aDtlKyspYy5wdXNoKHRoaXNbZV0uY3JlYXRlQm9va21hcmsyKGEpKTtyZXR1cm4gY30sbW92ZVRvQm9va21hcmtzOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYz0wO2M8dGhpcy5sZW5ndGg7YysrKXRoaXNbY10ubW92ZVRvQm9va21hcmsoYVtjXSl9fX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gQ0tFRElUT1IuZ2V0VXJsKENLRURJVE9SLnNraW5OYW1lLnNwbGl0KFwiLFwiKVsxXXx8XCJza2lucy9cIitDS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0rXCIvXCIpfWZ1bmN0aW9uIGYoYil7dmFyIGM9Q0tFRElUT1Iuc2tpbltcInVhX1wiK2JdLGQ9Q0tFRElUT1IuZW52O2lmKGMpZm9yKHZhciBjPWMuc3BsaXQoXCIsXCIpLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT5iPy0xOjF9KSxlPTAsZjtlPGMubGVuZ3RoO2UrKylpZihmPWNbZV0sZC5pZSYmKGYucmVwbGFjZSgvXmllLyxcIlwiKT09ZC52ZXJzaW9ufHxkLnF1aXJrcyYmXCJpZXF1aXJrc1wiPT1cbmYpJiYoZj1cImllXCIpLGRbZl0pe2IrPVwiX1wiK2NbZV07YnJlYWt9cmV0dXJuIENLRURJVE9SLmdldFVybChhKCkrYitcIi5jc3NcIil9ZnVuY3Rpb24gYihhLGIpe2xbYV18fChDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KGYoYSkpLGxbYV09MSk7YiYmYigpfWZ1bmN0aW9uIGMoYSl7dmFyIGI9YS5nZXRCeUlkKGspO2J8fChiPWEuZ2V0SGVhZCgpLmFwcGVuZChcInN0eWxlXCIpLGIuc2V0QXR0cmlidXRlKFwiaWRcIixrKSxiLnNldEF0dHJpYnV0ZShcInR5cGVcIixcInRleHQvY3NzXCIpKTtyZXR1cm4gYn1mdW5jdGlvbiBlKGEsYixjKXt2YXIgZCxlLGY7aWYoQ0tFRElUT1IuZW52LndlYmtpdClmb3IoYj1iLnNwbGl0KFwifVwiKS5zbGljZSgwLC0xKSxlPTA7ZTxiLmxlbmd0aDtlKyspYltlXT1iW2VdLnNwbGl0KFwie1wiKTtmb3IodmFyIGg9MDtoPGEubGVuZ3RoO2grKylpZihDS0VESVRPUi5lbnYud2Via2l0KWZvcihlPTA7ZTxiLmxlbmd0aDtlKyspe2Y9YltlXVsxXTtmb3IoZD0wO2Q8XG5jLmxlbmd0aDtkKyspZj1mLnJlcGxhY2UoY1tkXVswXSxjW2RdWzFdKTthW2hdLiQuc2hlZXQuYWRkUnVsZShiW2VdWzBdLGYpfWVsc2V7Zj1iO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspZj1mLnJlcGxhY2UoY1tkXVswXSxjW2RdWzFdKTtDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uP2FbaF0uJC5zdHlsZVNoZWV0LmNzc1RleHQrPWY6YVtoXS4kLmlubmVySFRNTCs9Zn19dmFyIGw9e307Q0tFRElUT1Iuc2tpbj17cGF0aDphLGxvYWRQYXJ0OmZ1bmN0aW9uKGMsZCl7Q0tFRElUT1Iuc2tpbi5uYW1lIT1DS0VESVRPUi5za2luTmFtZS5zcGxpdChcIixcIilbMF0/Q0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoQ0tFRElUT1IuZ2V0VXJsKGEoKStcInNraW4uanNcIiksZnVuY3Rpb24oKXtiKGMsZCl9KTpiKGMsZCl9LGdldFBhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmdldFVybChmKGEpKX0saWNvbnM6e30sYWRkSWNvbjpmdW5jdGlvbihhLGIsYyxkKXthPVxuYS50b0xvd2VyQ2FzZSgpO3RoaXMuaWNvbnNbYV18fCh0aGlzLmljb25zW2FdPXtwYXRoOmIsb2Zmc2V0OmN8fDAsYmdzaXplOmR8fFwiMTZweFwifSl9LGdldEljb25TdHlsZTpmdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmO2EmJihhPWEudG9Mb3dlckNhc2UoKSxiJiYoZj10aGlzLmljb25zW2ErXCItcnRsXCJdKSxmfHwoZj10aGlzLmljb25zW2FdKSk7YT1jfHxmJiZmLnBhdGh8fFwiXCI7ZD1kfHxmJiZmLm9mZnNldDtlPWV8fGYmJmYuYmdzaXplfHxcIjE2cHhcIjthJiYoYT1hLnJlcGxhY2UoLycvZyxcIlxcXFwnXCIpKTtyZXR1cm4gYSYmXCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnXCIrQ0tFRElUT1IuZ2V0VXJsKGEpK1wiJyk7YmFja2dyb3VuZC1wb3NpdGlvbjowIFwiK2QrXCJweDtiYWNrZ3JvdW5kLXNpemU6XCIrZStcIjtcIn19O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLHtnZXRVaUNvbG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudWlDb2xvcn0sc2V0VWlDb2xvcjpmdW5jdGlvbihhKXt2YXIgYj1cbmMoQ0tFRElUT1IuZG9jdW1lbnQpO3JldHVybih0aGlzLnNldFVpQ29sb3I9ZnVuY3Rpb24oYSl7dGhpcy51aUNvbG9yPWE7dmFyIGM9Q0tFRElUT1Iuc2tpbi5jaGFtZWxlb24sZj1cIlwiLG09XCJcIjtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYoZj1jKHRoaXMsXCJlZGl0b3JcIiksbT1jKHRoaXMsXCJwYW5lbFwiKSk7YT1bW2gsYV1dO2UoW2JdLGYsYSk7ZShkLG0sYSl9KS5jYWxsKHRoaXMsYSl9fSk7dmFyIGs9XCJja2VfdWlfY29sb3JcIixkPVtdLGg9L1xcJGNvbG9yL2c7Q0tFRElUT1Iub24oXCJpbnN0YW5jZUxvYWRlZFwiLGZ1bmN0aW9uKGEpe2lmKCFDS0VESVRPUi5lbnYuaWV8fCFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYj1hLmVkaXRvcjthPWZ1bmN0aW9uKGEpe2E9KGEuZGF0YVswXXx8YS5kYXRhKS5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJpZnJhbWVcIikuZ2V0SXRlbSgwKS5nZXRGcmFtZURvY3VtZW50KCk7aWYoIWEuZ2V0QnlJZChcImNrZV91aV9jb2xvclwiKSl7YT1jKGEpO2QucHVzaChhKTtcbnZhciBmPWIuZ2V0VWlDb2xvcigpO2YmJmUoW2FdLENLRURJVE9SLnNraW4uY2hhbWVsZW9uKGIsXCJwYW5lbFwiKSxbW2gsZl1dKX19O2Iub24oXCJwYW5lbFNob3dcIixhKTtiLm9uKFwibWVudVNob3dcIixhKTtiLmNvbmZpZy51aUNvbG9yJiZiLnNldFVpQ29sb3IoYi5jb25maWcudWlDb2xvcil9fSl9KCksZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYud2Via2l0KUNLRURJVE9SLmVudi5oYz0hMTtlbHNle3ZhciBhPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBzdHlsZVxceDNkXCJ3aWR0aDowO2hlaWdodDowO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTEwMDAwcHg7Ym9yZGVyOjFweCBzb2xpZDtib3JkZXItY29sb3I6cmVkIGJsdWVcIlxceDNlXFx4M2MvZGl2XFx4M2UnLENLRURJVE9SLmRvY3VtZW50KTthLmFwcGVuZFRvKENLRURJVE9SLmRvY3VtZW50LmdldEhlYWQoKSk7dHJ5e3ZhciBmPWEuZ2V0Q29tcHV0ZWRTdHlsZShcImJvcmRlci10b3AtY29sb3JcIiksXG5iPWEuZ2V0Q29tcHV0ZWRTdHlsZShcImJvcmRlci1yaWdodC1jb2xvclwiKTtDS0VESVRPUi5lbnYuaGM9ISghZnx8ZiE9Yil9Y2F0Y2goYyl7Q0tFRElUT1IuZW52LmhjPSExfWEucmVtb3ZlKCl9Q0tFRElUT1IuZW52LmhjJiYoQ0tFRElUT1IuZW52LmNzc0NsYXNzKz1cIiBja2VfaGNcIik7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVUZXh0KFwiLmNrZXt2aXNpYmlsaXR5OmhpZGRlbjt9XCIpO0NLRURJVE9SLnN0YXR1cz1cImxvYWRlZFwiO0NLRURJVE9SLmZpcmVPbmNlKFwibG9hZGVkXCIpO2lmKGE9Q0tFRElUT1IuXy5wZW5kaW5nKWZvcihkZWxldGUgQ0tFRElUT1IuXy5wZW5kaW5nLGY9MDtmPGEubGVuZ3RoO2YrKylDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmFwcGx5KGFbZl1bMF0sYVtmXVsxXSksQ0tFRElUT1IuYWRkKGFbZl1bMF0pfSgpLENLRURJVE9SLnNraW4ubmFtZT1cIm1vb25vLWxpc2FcIixDS0VESVRPUi5za2luLnVhX2VkaXRvcj1cImllLGllcXVpcmtzLGllOCxnZWNrb1wiLFxuQ0tFRElUT1Iuc2tpbi51YV9kaWFsb2c9XCJpZSxpZXF1aXJrcyxpZThcIixDS0VESVRPUi5za2luLmNoYW1lbGVvbj1mdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYyl7Zm9yKHZhciBlPWEubWF0Y2goL1teI10uL2cpLGY9MDszPmY7ZisrKXt2YXIgaz1mLGQ7ZD1wYXJzZUludChlW2ZdLDE2KTtkPShcIjBcIisoMD5jPzB8ZCooMStjKTowfGQrKDI1NS1kKSpjKS50b1N0cmluZygxNikpLnNsaWNlKC0yKTtlW2tdPWR9cmV0dXJuXCIjXCIrZS5qb2luKFwiXCIpfX0oKSxmPXtlZGl0b3I6bmV3IENLRURJVE9SLnRlbXBsYXRlKFwie2lkfS5ja2VfY2hyb21lIFtib3JkZXItY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX3RvcCBbIGJhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtib3JkZXItYm90dG9tLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9ib3R0b20gW2JhY2tncm91bmQtY29sb3I6e2RlZmF1bHRCYWNrZ3JvdW5kfTtib3JkZXItdG9wLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9yZXNpemVyIFtib3JkZXItcmlnaHQtY29sb3I6e2NrZVJlc2l6ZXJ9XSB7aWR9IC5ja2VfZGlhbG9nX3RpdGxlIFtiYWNrZ3JvdW5kLWNvbG9yOntkZWZhdWx0QmFja2dyb3VuZH07Ym9yZGVyLWJvdHRvbS1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2Zvb3RlciBbYmFja2dyb3VuZC1jb2xvcjp7ZGVmYXVsdEJhY2tncm91bmR9O291dGxpbmUtY29sb3I6e2RlZmF1bHRCb3JkZXJ9O10ge2lkfSAuY2tlX2RpYWxvZ190YWIgW2JhY2tncm91bmQtY29sb3I6e2RpYWxvZ1RhYn07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIHtpZH0gLmNrZV9kaWFsb2dfdGFiOmhvdmVyIFtiYWNrZ3JvdW5kLWNvbG9yOntsaWdodEJhY2tncm91bmR9O10ge2lkfSAuY2tlX2RpYWxvZ19jb250ZW50cyBbYm9yZGVyLXRvcC1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX3RhYl9zZWxlY3RlZCwge2lkfSAuY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWQ6aG92ZXIgW2JhY2tncm91bmQ6e2RpYWxvZ1RhYlNlbGVjdGVkfTtib3JkZXItYm90dG9tLWNvbG9yOntkaWFsb2dUYWJTZWxlY3RlZEJvcmRlcn07XSB7aWR9IC5ja2VfZGlhbG9nX2JvZHkgW2JhY2tncm91bmQ6e2RpYWxvZ0JvZHl9O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSB7aWR9IGEuY2tlX2J1dHRvbl9vZmY6aG92ZXIse2lkfSBhLmNrZV9idXR0b25fb2ZmOmZvY3VzLHtpZH0gYS5ja2VfYnV0dG9uX29mZjphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e2RhcmtCYWNrZ3JvdW5kfTtib3JkZXItY29sb3I6e3Rvb2xiYXJFbGVtZW50c0JvcmRlcn07XSB7aWR9IC5ja2VfYnV0dG9uX29uIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VCdXR0b25Pbn07Ym9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSAuY2tlX3Rvb2xiYXJfc2VwYXJhdG9yLHtpZH0gLmNrZV90b29sZ3JvdXAgYS5ja2VfYnV0dG9uOmxhc3QtY2hpbGQ6YWZ0ZXIse2lkfSAuY2tlX3Rvb2xncm91cCBhLmNrZV9idXR0b24uY2tlX2J1dHRvbl9kaXNhYmxlZDpob3ZlcjpsYXN0LWNoaWxkOmFmdGVyIFtiYWNrZ3JvdW5kLWNvbG9yOiB7dG9vbGJhckVsZW1lbnRzQm9yZGVyfTtib3JkZXItY29sb3I6IHt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSBhLmNrZV9jb21ib19idXR0b246aG92ZXIse2lkfSBhLmNrZV9jb21ib19idXR0b246Zm9jdXMse2lkfSAuY2tlX2NvbWJvX29uIGEuY2tlX2NvbWJvX2J1dHRvbiBbYm9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O2JhY2tncm91bmQtY29sb3I6e2RhcmtCYWNrZ3JvdW5kfTtdIHtpZH0gLmNrZV9jb21ibzphZnRlciBbYm9yZGVyLWNvbG9yOnt0b29sYmFyRWxlbWVudHNCb3JkZXJ9O10ge2lkfSAuY2tlX3BhdGhfaXRlbSBbY29sb3I6e2VsZW1lbnRzUGF0aENvbG9yfTtdIHtpZH0gYS5ja2VfcGF0aF9pdGVtOmhvdmVyLHtpZH0gYS5ja2VfcGF0aF9pdGVtOmZvY3VzLHtpZH0gYS5ja2VfcGF0aF9pdGVtOmFjdGl2ZSBbYmFja2dyb3VuZC1jb2xvcjp7ZGFya0JhY2tncm91bmR9O10ge2lkfS5ja2VfcGFuZWwgW2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIiksXG5wYW5lbDpuZXcgQ0tFRElUT1IudGVtcGxhdGUoXCIuY2tlX3BhbmVsX2dyb3VwdGl0bGUgW2JhY2tncm91bmQtY29sb3I6e2xpZ2h0QmFja2dyb3VuZH07Ym9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIC5ja2VfbWVudWJ1dHRvbl9pY29uIFtiYWNrZ3JvdW5kLWNvbG9yOnttZW51YnV0dG9uSWNvbn07XSAuY2tlX21lbnVidXR0b246aG92ZXIsLmNrZV9tZW51YnV0dG9uOmZvY3VzLC5ja2VfbWVudWJ1dHRvbjphY3RpdmUgW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25Ib3Zlcn07XSAuY2tlX21lbnVidXR0b246aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sIC5ja2VfbWVudWJ1dHRvbjpmb2N1cyAuY2tlX21lbnVidXR0b25faWNvbiwgLmNrZV9tZW51YnV0dG9uOmFjdGl2ZSAuY2tlX21lbnVidXR0b25faWNvbiBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb25Ib3Zlcn07XSAuY2tlX21lbnVidXR0b25fZGlzYWJsZWQ6aG92ZXIgLmNrZV9tZW51YnV0dG9uX2ljb24sLmNrZV9tZW51YnV0dG9uX2Rpc2FibGVkOmZvY3VzIC5ja2VfbWVudWJ1dHRvbl9pY29uLC5ja2VfbWVudWJ1dHRvbl9kaXNhYmxlZDphY3RpdmUgLmNrZV9tZW51YnV0dG9uX2ljb24gW2JhY2tncm91bmQtY29sb3I6e21lbnVidXR0b25JY29ufTtdIC5ja2VfbWVudXNlcGFyYXRvciBbYmFja2dyb3VuZC1jb2xvcjp7bWVudWJ1dHRvbkljb259O10gYTpob3Zlci5ja2VfY29sb3Jib3gsIGE6YWN0aXZlLmNrZV9jb2xvcmJveCBbYm9yZGVyLWNvbG9yOntkZWZhdWx0Qm9yZGVyfTtdIGE6aG92ZXIuY2tlX2NvbG9yYXV0bywgYTpob3Zlci5ja2VfY29sb3Jtb3JlLCBhOmFjdGl2ZS5ja2VfY29sb3JhdXRvLCBhOmFjdGl2ZS5ja2VfY29sb3Jtb3JlIFtiYWNrZ3JvdW5kLWNvbG9yOntja2VDb2xvcmF1dG99O2JvcmRlci1jb2xvcjp7ZGVmYXVsdEJvcmRlcn07XSBcIil9O1xucmV0dXJuIGZ1bmN0aW9uKGIsYyl7dmFyIGU9YShiLnVpQ29sb3IsLjQpLGU9e2lkOlwiLlwiK2IuaWQsZGVmYXVsdEJvcmRlcjphKGUsLS4yKSx0b29sYmFyRWxlbWVudHNCb3JkZXI6YShlLC0uMjUpLGRlZmF1bHRCYWNrZ3JvdW5kOmUsbGlnaHRCYWNrZ3JvdW5kOmEoZSwuOCksZGFya0JhY2tncm91bmQ6YShlLC0uMTUpLGNrZUJ1dHRvbk9uOmEoZSwuNCksY2tlUmVzaXplcjphKGUsLS40KSxja2VDb2xvcmF1dG86YShlLC44KSxkaWFsb2dCb2R5OmEoZSwuNyksZGlhbG9nVGFiOmEoZSwuNjUpLGRpYWxvZ1RhYlNlbGVjdGVkOlwiI0ZGRlwiLGRpYWxvZ1RhYlNlbGVjdGVkQm9yZGVyOlwiI0ZGRlwiLGVsZW1lbnRzUGF0aENvbG9yOmEoZSwtLjYpLG1lbnVidXR0b25Ib3ZlcjphKGUsLjEpLG1lbnVidXR0b25JY29uOmEoZSwuNSksbWVudWJ1dHRvbkljb25Ib3ZlcjphKGUsLjMpfTtyZXR1cm4gZltjXS5vdXRwdXQoZSkucmVwbGFjZSgvXFxbL2csXCJ7XCIpLnJlcGxhY2UoL1xcXS9nLFwifVwiKX19KCksXG5DS0VESVRPUi5wbHVnaW5zLmFkZChcImRpYWxvZ3VpXCIse29uTG9hZDpmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGEpe3RoaXMuX3x8KHRoaXMuXz17fSk7dGhpcy5fW1wiZGVmYXVsdFwiXT10aGlzLl8uaW5pdFZhbHVlPWFbXCJkZWZhdWx0XCJdfHxcIlwiO3RoaXMuXy5yZXF1aXJlZD1hLnJlcXVpcmVkfHwhMTtmb3IodmFyIGI9W3RoaXMuX10sYz0xO2M8YXJndW1lbnRzLmxlbmd0aDtjKyspYi5wdXNoKGFyZ3VtZW50c1tjXSk7Yi5wdXNoKCEwKTtDS0VESVRPUi50b29scy5leHRlbmQuYXBwbHkoQ0tFRElUT1IudG9vbHMsYik7cmV0dXJuIHRoaXMuX30sZj17YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dChhLGIsYyl9fSxiPXtidWlsZDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5kaWFsb2dbYi50eXBlXShhLGIsYyl9fSxjPXtpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpIT1cbnRoaXMuZ2V0SW5pdFZhbHVlKCl9LHJlc2V0OmZ1bmN0aW9uKGEpe3RoaXMuc2V0VmFsdWUodGhpcy5nZXRJbml0VmFsdWUoKSxhKX0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT10aGlzLmdldFZhbHVlKCl9LHJlc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT10aGlzLl9bXCJkZWZhdWx0XCJdfSxnZXRJbml0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmluaXRWYWx1ZX19LGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DaGFuZ2U6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkfHwoYS5vbihcImxvYWRcIixmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2EucGFydHMuZGlhbG9nLmlzVmlzaWJsZSgpJiZ0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRWYWx1ZSgpfSl9LFxudGhpcyl9LHRoaXMpLHRoaXMuXy5kb21PbkNoYW5nZVJlZ2lzdGVyZWQ9ITApO3RoaXMub24oXCJjaGFuZ2VcIixiKX19LCEwKSxsPS9eb24oW0EtWl1cXHcrKS8saz1mdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gYSkobC50ZXN0KGIpfHxcInRpdGxlXCI9PWJ8fFwidHlwZVwiPT1iKSYmZGVsZXRlIGFbYl07cmV0dXJuIGF9LGQ9ZnVuY3Rpb24oYSl7YT1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCk7YT09Q0tFRElUT1IuU0hJRlQrQ0tFRElUT1IuQUxUKzM2P3RoaXMuc2V0RGlyZWN0aW9uTWFya2VyKFwibHRyXCIpOmE9PUNLRURJVE9SLlNISUZUK0NLRURJVE9SLkFMVCszNSYmdGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoXCJydGxcIil9O0NLRURJVE9SLnRvb2xzLmV4dGVuZChDS0VESVRPUi51aS5kaWFsb2cse2xhYmVsZWRFbGVtZW50OmZ1bmN0aW9uKGIsYyxkLGUpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGY9YS5jYWxsKHRoaXMsYyk7Zi5sYWJlbElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1xuXCJfbGFiZWxcIjt0aGlzLl8uY2hpbGRyZW49W107dmFyIGs9e3JvbGU6Yy5yb2xlfHxcInByZXNlbnRhdGlvblwifTtjLmluY2x1ZGVMYWJlbCYmKGtbXCJhcmlhLWxhYmVsbGVkYnlcIl09Zi5sYWJlbElkKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxcImRpdlwiLG51bGwsayxmdW5jdGlvbigpe3ZhciBhPVtdLGQ9Yy5yZXF1aXJlZD9cIiBja2VfcmVxdWlyZWRcIjpcIlwiO1wiaG9yaXpvbnRhbFwiIT1jLmxhYmVsTGF5b3V0P2EucHVzaCgnXFx4M2NsYWJlbCBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfbGFiZWwnK2QrJ1wiICcsJyBpZFxceDNkXCInK2YubGFiZWxJZCsnXCInLGYuaW5wdXRJZD8nIGZvclxceDNkXCInK2YuaW5wdXRJZCsnXCInOlwiXCIsKGMubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiLGMubGFiZWwsXCJcXHgzYy9sYWJlbFxceDNlXCIsJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfbGFiZWxlZF9jb250ZW50XCInLFxuYy5jb250cm9sU3R5bGU/JyBzdHlsZVxceDNkXCInK2MuY29udHJvbFN0eWxlKydcIic6XCJcIiwnIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZScsZS5jYWxsKHRoaXMsYixjKSxcIlxceDNjL2RpdlxceDNlXCIpOihkPXt0eXBlOlwiaGJveFwiLHdpZHRoczpjLndpZHRocyxwYWRkaW5nOjAsY2hpbGRyZW46W3t0eXBlOlwiaHRtbFwiLGh0bWw6J1xceDNjbGFiZWwgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9sYWJlbGVkX2xhYmVsJytkKydcIiBpZFxceDNkXCInK2YubGFiZWxJZCsnXCIgZm9yXFx4M2RcIicrZi5pbnB1dElkKydcIicrKGMubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYy5sYWJlbCkrXCJcXHgzYy9sYWJlbFxceDNlXCJ9LHt0eXBlOlwiaHRtbFwiLGh0bWw6J1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2xhYmVsZWRfY29udGVudFwiJysoYy5jb250cm9sU3R5bGU/JyBzdHlsZVxceDNkXCInK2MuY29udHJvbFN0eWxlK1xuJ1wiJzpcIlwiKStcIlxceDNlXCIrZS5jYWxsKHRoaXMsYixjKStcIlxceDNjL3NwYW5cXHgzZVwifV19LENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzLmhib3guYnVpbGQoYixkLGEpKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSx0ZXh0SW5wdXQ6ZnVuY3Rpb24oYixjLGUpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7YS5jYWxsKHRoaXMsYyk7dmFyIGY9dGhpcy5fLmlucHV0SWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfdGV4dElucHV0XCIsaz17XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9pbnB1dF9cIitjLnR5cGUsaWQ6Zix0eXBlOmMudHlwZX07Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7Yy5tYXhMZW5ndGgmJihrLm1heGxlbmd0aD1jLm1heExlbmd0aCk7Yy5zaXplJiYoay5zaXplPWMuc2l6ZSk7Yy5pbnB1dFN0eWxlJiYoay5zdHlsZT1jLmlucHV0U3R5bGUpO3ZhciBsPXRoaXMseD0hMTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7bC5nZXRJbnB1dEVsZW1lbnQoKS5vbihcImtleWRvd25cIixcbmZ1bmN0aW9uKGEpezEzPT1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCkmJih4PSEwKX0pO2wuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJrZXl1cFwiLGZ1bmN0aW9uKGEpezEzPT1hLmRhdGEuZ2V0S2V5c3Ryb2tlKCkmJngmJihiLmdldEJ1dHRvbihcIm9rXCIpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5nZXRCdXR0b24oXCJva1wiKS5jbGljaygpfSwwKSx4PSExKTtsLmJpZGkmJmQuY2FsbChsLGEpfSxudWxsLG51bGwsMUUzKX0pO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGUsZnVuY3Rpb24oKXt2YXIgYT1bJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdWlfaW5wdXRfJyxjLnR5cGUsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCInXTtjLndpZHRoJiZhLnB1c2goJ3N0eWxlXFx4M2RcIndpZHRoOicrYy53aWR0aCsnXCIgJyk7YS5wdXNoKFwiXFx4M2VcXHgzY2lucHV0IFwiKTtrW1wiYXJpYS1sYWJlbGxlZGJ5XCJdPXRoaXMuXy5sYWJlbElkO3RoaXMuXy5yZXF1aXJlZCYmXG4oa1tcImFyaWEtcmVxdWlyZWRcIl09dGhpcy5fLnJlcXVpcmVkKTtmb3IodmFyIGIgaW4gaylhLnB1c2goYisnXFx4M2RcIicra1tiXSsnXCIgJyk7YS5wdXNoKFwiIC9cXHgzZVxceDNjL2RpdlxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LHRleHRhcmVhOmZ1bmN0aW9uKGIsYyxlKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLGMpO3ZhciBmPXRoaXMsaz10aGlzLl8uaW5wdXRJZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl90ZXh0YXJlYVwiLGw9e307Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7bC5yb3dzPWMucm93c3x8NTtsLmNvbHM9Yy5jb2xzfHwyMDtsW1wiY2xhc3NcIl09XCJja2VfZGlhbG9nX3VpX2lucHV0X3RleHRhcmVhIFwiKyhjW1wiY2xhc3NcIl18fFwiXCIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjLmlucHV0U3R5bGUmJihsLnN0eWxlPWMuaW5wdXRTdHlsZSk7Yy5kaXImJihsLmRpcj1jLmRpcik7aWYoZi5iaWRpKWIub24oXCJsb2FkXCIsXG5mdW5jdGlvbigpe2YuZ2V0SW5wdXRFbGVtZW50KCkub24oXCJrZXl1cFwiLGQpfSxmKTtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYyxlLGZ1bmN0aW9uKCl7bFtcImFyaWEtbGFiZWxsZWRieVwiXT10aGlzLl8ubGFiZWxJZDt0aGlzLl8ucmVxdWlyZWQmJihsW1wiYXJpYS1yZXF1aXJlZFwiXT10aGlzLl8ucmVxdWlyZWQpO3ZhciBhPVsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF90ZXh0YXJlYVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjdGV4dGFyZWEgaWRcXHgzZFwiJyxrLCdcIiAnXSxiO2ZvcihiIGluIGwpYS5wdXNoKGIrJ1xceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUobFtiXSkrJ1wiICcpO2EucHVzaChcIlxceDNlXCIsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShmLl9bXCJkZWZhdWx0XCJdKSxcIlxceDNjL3RleHRhcmVhXFx4M2VcXHgzYy9kaXZcXHgzZVwiKTtyZXR1cm4gYS5qb2luKFwiXCIpfSl9fSxjaGVja2JveDpmdW5jdGlvbihiLFxuYyxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBlPWEuY2FsbCh0aGlzLGMse1wiZGVmYXVsdFwiOiEhY1tcImRlZmF1bHRcIl19KTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTtDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LmNhbGwodGhpcyxiLGMsZCxcInNwYW5cIixudWxsLG51bGwsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyx7aWQ6Yy5pZD9jLmlkK1wiX2NoZWNrYm94XCI6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkrXCJfY2hlY2tib3hcIn0sITApLGQ9W10sZj1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKStcIl9sYWJlbFwiLGc9e1wiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfY2hlY2tib3hfaW5wdXRcIix0eXBlOlwiY2hlY2tib3hcIixcImFyaWEtbGFiZWxsZWRieVwiOmZ9O2soYSk7Y1tcImRlZmF1bHRcIl0mJihnLmNoZWNrZWQ9XCJjaGVja2VkXCIpO1widW5kZWZpbmVkXCIhPXR5cGVvZiBhLmlucHV0U3R5bGUmJihhLnN0eWxlPWEuaW5wdXRTdHlsZSk7XG5lLmNoZWNrYm94PW5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsYSxkLFwiaW5wdXRcIixudWxsLGcpO2QucHVzaCgnIFxceDNjbGFiZWwgaWRcXHgzZFwiJyxmLCdcIiBmb3JcXHgzZFwiJyxnLmlkLCdcIicrKGMubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrYy5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYy5sYWJlbCksXCJcXHgzYy9sYWJlbFxceDNlXCIpO3JldHVybiBkLmpvaW4oXCJcIil9KX19LHJhZGlvOmZ1bmN0aW9uKGIsYyxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe2EuY2FsbCh0aGlzLGMpO3RoaXMuX1tcImRlZmF1bHRcIl18fCh0aGlzLl9bXCJkZWZhdWx0XCJdPXRoaXMuXy5pbml0VmFsdWU9Yy5pdGVtc1swXVsxXSk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7dmFyIGU9W10sZj10aGlzO2Mucm9sZT1cInJhZGlvZ3JvdXBcIjtjLmluY2x1ZGVMYWJlbD0hMDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLFxuYixjLGQsZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sZD1bXSxnPShjLmlkP2MuaWQ6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCkpK1wiX3JhZGlvXCIsbD0wO2w8Yy5pdGVtcy5sZW5ndGg7bCsrKXt2YXIgdD1jLml0ZW1zW2xdLHk9dm9pZCAwIT09dFsyXT90WzJdOnRbMF0sQT12b2lkIDAhPT10WzFdP3RbMV06dFswXSxxPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3JhZGlvX2lucHV0XCIsdz1xK1wiX2xhYmVsXCIscT1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyx7aWQ6cSx0aXRsZTpudWxsLHR5cGU6bnVsbH0sITApLHk9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LHEse3RpdGxlOnl9LCEwKSxCPXt0eXBlOlwicmFkaW9cIixcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX3JhZGlvX2lucHV0XCIsbmFtZTpnLHZhbHVlOkEsXCJhcmlhLWxhYmVsbGVkYnlcIjp3fSx6PVtdO2YuX1tcImRlZmF1bHRcIl09PUEmJihCLmNoZWNrZWQ9XCJjaGVja2VkXCIpO2socSk7ayh5KTtcInVuZGVmaW5lZFwiIT10eXBlb2YgcS5pbnB1dFN0eWxlJiZcbihxLnN0eWxlPXEuaW5wdXRTdHlsZSk7cS5rZXlib2FyZEZvY3VzYWJsZT0hMDtlLnB1c2gobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYixxLHosXCJpbnB1dFwiLG51bGwsQikpO3oucHVzaChcIiBcIik7bmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQoYix5LHosXCJsYWJlbFwiLG51bGwse2lkOncsXCJmb3JcIjpCLmlkfSx0WzBdKTthLnB1c2goei5qb2luKFwiXCIpKX1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmhib3goYixlLGEsZCk7cmV0dXJuIGQuam9pbihcIlwiKX0pO3RoaXMuXy5jaGlsZHJlbj1lfX0sYnV0dG9uOmZ1bmN0aW9uKGIsYyxkKXtpZihhcmd1bWVudHMubGVuZ3RoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBjJiYoYz1jKGIuZ2V0UGFyZW50RWRpdG9yKCkpKTthLmNhbGwodGhpcyxjLHtkaXNhYmxlZDpjLmRpc2FibGVkfHwhMX0pO0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKHRoaXMpO3ZhciBlPXRoaXM7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWxlbWVudCgpO1xuKGZ1bmN0aW9uKCl7YS5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7ZS5jbGljaygpO2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0S2V5c3Ryb2tlKClpbnszMjoxfSYmKGUuY2xpY2soKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9KX0pKCk7YS51bnNlbGVjdGFibGUoKX0sdGhpcyk7dmFyIGY9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LGMpO2RlbGV0ZSBmLnN0eWxlO3ZhciBrPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2xhYmVsXCI7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYixmLGQsXCJhXCIsbnVsbCx7c3R5bGU6Yy5zdHlsZSxocmVmOlwiamF2YXNjcmlwdDp2b2lkKDApXCIsdGl0bGU6Yy5sYWJlbCxoaWRlZm9jdXM6XCJ0cnVlXCIsXCJjbGFzc1wiOmNbXCJjbGFzc1wiXSxyb2xlOlwiYnV0dG9uXCIsXCJhcmlhLWxhYmVsbGVkYnlcIjprfSwnXFx4M2NzcGFuIGlkXFx4M2RcIicraysnXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9idXR0b25cIlxceDNlJytcbkNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYy5sYWJlbCkrXCJcXHgzYy9zcGFuXFx4M2VcIil9fSxzZWxlY3Q6ZnVuY3Rpb24oYixjLGQpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGU9YS5jYWxsKHRoaXMsYyk7Yy52YWxpZGF0ZSYmKHRoaXMudmFsaWRhdGU9Yy52YWxpZGF0ZSk7ZS5pbnB1dElkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3NlbGVjdFwiO0NLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudC5jYWxsKHRoaXMsYixjLGQsZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyx7aWQ6Yy5pZD9jLmlkK1wiX3NlbGVjdFwiOkNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3NlbGVjdFwifSwhMCksZD1bXSxmPVtdLGc9e2lkOmUuaW5wdXRJZCxcImNsYXNzXCI6XCJja2VfZGlhbG9nX3VpX2lucHV0X3NlbGVjdFwiLFwiYXJpYS1sYWJlbGxlZGJ5XCI6dGhpcy5fLmxhYmVsSWR9O2QucHVzaCgnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9pbnB1dF8nLFxuYy50eXBlLCdcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiJyk7Yy53aWR0aCYmZC5wdXNoKCdzdHlsZVxceDNkXCJ3aWR0aDonK2Mud2lkdGgrJ1wiICcpO2QucHVzaChcIlxceDNlXCIpO3ZvaWQgMCE9PWMuc2l6ZSYmKGcuc2l6ZT1jLnNpemUpO3ZvaWQgMCE9PWMubXVsdGlwbGUmJihnLm11bHRpcGxlPWMubXVsdGlwbGUpO2soYSk7Zm9yKHZhciBsPTAsdDtsPGMuaXRlbXMubGVuZ3RoJiYodD1jLml0ZW1zW2xdKTtsKyspZi5wdXNoKCdcXHgzY29wdGlvbiB2YWx1ZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUodm9pZCAwIT09dFsxXT90WzFdOnRbMF0pLnJlcGxhY2UoL1wiL2csXCJcXHgyNnF1b3Q7XCIpLCdcIiAvXFx4M2UgJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKHRbMF0pKTtcInVuZGVmaW5lZFwiIT10eXBlb2YgYS5pbnB1dFN0eWxlJiYoYS5zdHlsZT1hLmlucHV0U3R5bGUpO2Uuc2VsZWN0PW5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50KGIsYSxkLFwic2VsZWN0XCIsbnVsbCxcbmcsZi5qb2luKFwiXCIpKTtkLnB1c2goXCJcXHgzYy9kaXZcXHgzZVwiKTtyZXR1cm4gZC5qb2luKFwiXCIpfSl9fSxmaWxlOmZ1bmN0aW9uKGIsYyxkKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZvaWQgMD09PWNbXCJkZWZhdWx0XCJdJiYoY1tcImRlZmF1bHRcIl09XCJcIik7dmFyIGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEuY2FsbCh0aGlzLGMpLHtkZWZpbml0aW9uOmMsYnV0dG9uczpbXX0pO2MudmFsaWRhdGUmJih0aGlzLnZhbGlkYXRlPWMudmFsaWRhdGUpO2Iub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGUuZnJhbWVJZCkuZ2V0UGFyZW50KCkuYWRkQ2xhc3MoXCJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGVcIil9KTtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQuY2FsbCh0aGlzLGIsYyxkLGZ1bmN0aW9uKCl7ZS5mcmFtZUlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX2ZpbGVJbnB1dFwiO3ZhciBhPVsnXFx4M2NpZnJhbWUgZnJhbWVib3JkZXJcXHgzZFwiMFwiIGFsbG93dHJhbnNwYXJlbmN5XFx4M2RcIjBcIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX2lucHV0X2ZpbGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiIGlkXFx4M2RcIicsXG5lLmZyYW1lSWQsJ1wiIHRpdGxlXFx4M2RcIicsYy5sYWJlbCwnXCIgc3JjXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgnXTthLnB1c2goQ0tFRElUT1IuZW52LmllP1wiKGZ1bmN0aW9uKCl7XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiZG9jdW1lbnQub3BlbigpOyhcIitDS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQuY2xvc2UoKTtcIikrXCJ9KSgpXCI6XCIwXCIpO2EucHVzaCgnKVwiXFx4M2VcXHgzYy9pZnJhbWVcXHgzZScpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LGZpbGVCdXR0b246ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7aWYoISgzPmFyZ3VtZW50cy5sZW5ndGgpKXthLmNhbGwodGhpcyxjKTtjLnZhbGlkYXRlJiYodGhpcy52YWxpZGF0ZT1jLnZhbGlkYXRlKTt2YXIgZj1DS0VESVRPUi50b29scy5leHRlbmQoe30sYyksaz1mLm9uQ2xpY2s7Zi5jbGFzc05hbWU9KGYuY2xhc3NOYW1lP2YuY2xhc3NOYW1lK1wiIFwiOlwiXCIpK1wiY2tlX2RpYWxvZ191aV9idXR0b25cIjtmLm9uQ2xpY2s9ZnVuY3Rpb24oYSl7dmFyIGQ9XG5jW1wiZm9yXCJdO2smJiExPT09ay5jYWxsKHRoaXMsYSl8fChiLmdldENvbnRlbnRFbGVtZW50KGRbMF0sZFsxXSkuc3VibWl0KCksdGhpcy5kaXNhYmxlKCkpfTtiLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5nZXRDb250ZW50RWxlbWVudChjW1wiZm9yXCJdWzBdLGNbXCJmb3JcIl1bMV0pLl8uYnV0dG9ucy5wdXNoKGUpfSk7Q0tFRElUT1IudWkuZGlhbG9nLmJ1dHRvbi5jYWxsKHRoaXMsYixmLGQpfX0saHRtbDpmdW5jdGlvbigpe3ZhciBhPS9eXFxzKjxbXFx3Ol0rXFxzKyhbXj5dKik/Pi8sYj0vXihcXHMqPFtcXHc6XSsoPzpcXHMrW14+XSopPykoKD86LnxcXHJ8XFxuKSspJC8sYz0vXFwvJC87cmV0dXJuIGZ1bmN0aW9uKGQsZSxmKXtpZighKDM+YXJndW1lbnRzLmxlbmd0aCkpe3ZhciBrPVtdLGw9ZS5odG1sO1wiXFx4M2NcIiE9bC5jaGFyQXQoMCkmJihsPVwiXFx4M2NzcGFuXFx4M2VcIitsK1wiXFx4M2Mvc3BhblxceDNlXCIpO3ZhciB1PWUuZm9jdXM7aWYodSl7dmFyIHQ9dGhpcy5mb2N1czt0aGlzLmZvY3VzPWZ1bmN0aW9uKCl7KFwiZnVuY3Rpb25cIj09XG50eXBlb2YgdT91OnQpLmNhbGwodGhpcyk7dGhpcy5maXJlKFwiZm9jdXNcIil9O2UuaXNGb2N1c2FibGUmJih0aGlzLmlzRm9jdXNhYmxlPXRoaXMuaXNGb2N1c2FibGUpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGU9ITB9Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsZCxlLGssXCJzcGFuXCIsbnVsbCxudWxsLFwiXCIpO2s9ay5qb2luKFwiXCIpLm1hdGNoKGEpO2w9bC5tYXRjaChiKXx8W1wiXCIsXCJcIixcIlwiXTtjLnRlc3QobFsxXSkmJihsWzFdPWxbMV0uc2xpY2UoMCwtMSksbFsyXT1cIi9cIitsWzJdKTtmLnB1c2goW2xbMV0sXCIgXCIsa1sxXXx8XCJcIixsWzJdXS5qb2luKFwiXCIpKX19fSgpLGZpZWxkc2V0OmZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9ZS5sYWJlbDt0aGlzLl89e2NoaWxkcmVuOmJ9O0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGEsZSxkLFwiZmllbGRzZXRcIixudWxsLG51bGwsZnVuY3Rpb24oKXt2YXIgYT1bXTtmJiZhLnB1c2goXCJcXHgzY2xlZ2VuZFwiK1xuKGUubGFiZWxTdHlsZT8nIHN0eWxlXFx4M2RcIicrZS5sYWJlbFN0eWxlKydcIic6XCJcIikrXCJcXHgzZVwiK2YrXCJcXHgzYy9sZWdlbmRcXHgzZVwiKTtmb3IodmFyIGI9MDtiPGMubGVuZ3RoO2IrKylhLnB1c2goY1tiXSk7cmV0dXJuIGEuam9pbihcIlwiKX0pfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5odG1sLnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudDtDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7c2V0TGFiZWw6ZnVuY3Rpb24oYSl7dmFyIGI9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8ubGFiZWxJZCk7MT5iLmdldENoaWxkQ291bnQoKT8obmV3IENLRURJVE9SLmRvbS50ZXh0KGEsQ0tFRElUT1IuZG9jdW1lbnQpKS5hcHBlbmRUbyhiKTpiLmdldENoaWxkKDApLiQubm9kZVZhbHVlPWE7cmV0dXJuIHRoaXN9LGdldExhYmVsOmZ1bmN0aW9uKCl7dmFyIGE9XG5DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5sYWJlbElkKTtyZXR1cm4hYXx8MT5hLmdldENoaWxkQ291bnQoKT9cIlwiOmEuZ2V0Q2hpbGQoMCkuZ2V0VGV4dCgpfSxldmVudFByb2Nlc3NvcnM6ZX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5idXR0b24ucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Y2xpY2s6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmRpc2FibGVkPyExOnRoaXMuZmlyZShcImNsaWNrXCIse2RpYWxvZzp0aGlzLl8uZGlhbG9nfSl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5kaXNhYmxlZD0hMTt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTthJiZhLnJlbW92ZUNsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5fLmRpc2FibGVkPSEwO3RoaXMuZ2V0RWxlbWVudCgpLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRFbGVtZW50KCkuZ2V0Rmlyc3QoKS5pc1Zpc2libGUoKX0sXG5pc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5fLmRpc2FibGVkfSxldmVudFByb2Nlc3NvcnM6Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHt9LENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmV2ZW50UHJvY2Vzc29ycyx7b25DbGljazpmdW5jdGlvbihhLGIpe3RoaXMub24oXCJjbGlja1wiLGZ1bmN0aW9uKCl7Yi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KX19LCEwKSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuY2xpY2soKX0sYWNjZXNzS2V5RG93bjpmdW5jdGlvbigpe3RoaXMuZm9jdXMoKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LCEwKTtDS0VESVRPUi51aS5kaWFsb2cudGV4dElucHV0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlucHV0SWQpfSxcbmZvY3VzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RQYXJlbnRUYWIoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRJbnB1dEVsZW1lbnQoKTtiJiZiLiQuZm9jdXMoKX0sMCl9LHNlbGVjdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc2VsZWN0UGFyZW50VGFiKCk7c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPWEuZ2V0SW5wdXRFbGVtZW50KCk7YiYmKGIuJC5mb2N1cygpLGIuJC5zZWxlY3QoKSl9LDApfSxhY2Nlc3NLZXlVcDpmdW5jdGlvbigpe3RoaXMuc2VsZWN0KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuYmlkaSl7dmFyIGI9YSYmYS5jaGFyQXQoMCk7KGI9XCLigKpcIj09Yj9cImx0clwiOlwi4oCrXCI9PWI/XCJydGxcIjpudWxsKSYmKGE9YS5zbGljZSgxKSk7dGhpcy5zZXREaXJlY3Rpb25NYXJrZXIoYil9YXx8KGE9XCJcIik7cmV0dXJuIENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLnNldFZhbHVlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sXG5nZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPUNLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlLmdldFZhbHVlLmNhbGwodGhpcyk7aWYodGhpcy5iaWRpJiZhKXt2YXIgYj10aGlzLmdldERpcmVjdGlvbk1hcmtlcigpO2ImJihhPShcImx0clwiPT1iP1wi4oCqXCI6XCLigKtcIikrYSl9cmV0dXJuIGF9LHNldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldElucHV0RWxlbWVudCgpO2E/Yi5zZXRBdHRyaWJ1dGVzKHtkaXI6YSxcImRhdGEtY2tlLWRpci1tYXJrZXJcIjphfSk6dGhpcy5nZXREaXJlY3Rpb25NYXJrZXIoKSYmYi5yZW1vdmVBdHRyaWJ1dGVzKFtcImRpclwiLFwiZGF0YS1ja2UtZGlyLW1hcmtlclwiXSl9LGdldERpcmVjdGlvbk1hcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldElucHV0RWxlbWVudCgpLmRhdGEoXCJja2UtZGlyLW1hcmtlclwiKX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LGMsITApO0NLRURJVE9SLnVpLmRpYWxvZy50ZXh0YXJlYS5wcm90b3R5cGU9XG5uZXcgQ0tFRElUT1IudWkuZGlhbG9nLnRleHRJbnB1dDtDS0VESVRPUi51aS5kaWFsb2cuc2VsZWN0LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy5sYWJlbGVkRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zZWxlY3QuZ2V0RWxlbWVudCgpfSxhZGQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcIm9wdGlvblwiLHRoaXMuZ2V0RGlhbG9nKCkuZ2V0UGFyZW50RWRpdG9yKCkuZG9jdW1lbnQpLGU9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kO2QuJC50ZXh0PWE7ZC4kLnZhbHVlPXZvaWQgMD09PWJ8fG51bGw9PT1iP2E6Yjt2b2lkIDA9PT1jfHxudWxsPT09Yz9DS0VESVRPUi5lbnYuaWU/ZS5hZGQoZC4kKTplLmFkZChkLiQsbnVsbCk6ZS5hZGQoZC4kLGMpO3JldHVybiB0aGlzfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLnJlbW92ZShhKTtcbnJldHVybiB0aGlzfSxjbGVhcjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpLiQ7MDxhLmxlbmd0aDspYS5yZW1vdmUoMCk7cmV0dXJuIHRoaXN9LGtleWJvYXJkRm9jdXNhYmxlOiEwfSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuY2hlY2tib3gucHJvdG90eXBlPUNLRURJVE9SLnRvb2xzLmV4dGVuZChuZXcgQ0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudCx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCl9LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWQ9YTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS4kLmNoZWNrZWR9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7dGhpcy5zZXRWYWx1ZSghdGhpcy5nZXRWYWx1ZSgpKX0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihhLFxuYil7aWYoIUNLRURJVE9SLmVudi5pZXx8ODxDS0VESVRPUi5lbnYudmVyc2lvbilyZXR1cm4gZS5vbkNoYW5nZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7YS5vbihcImxvYWRcIixmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5jaGVja2JveC5nZXRFbGVtZW50KCk7YS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYil7Yj1iLmRhdGEuJDtcImNoZWNrZWRcIj09Yi5wcm9wZXJ0eU5hbWUmJnRoaXMuZmlyZShcImNoYW5nZVwiLHt2YWx1ZTphLiQuY2hlY2tlZH0pfSx0aGlzKX0sdGhpcyk7dGhpcy5vbihcImNoYW5nZVwiLGIpO3JldHVybiBudWxsfX0sa2V5Ym9hcmRGb2N1c2FibGU6ITB9LGMsITApO0NLRURJVE9SLnVpLmRpYWxvZy5yYWRpby5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cudWlFbGVtZW50LHtzZXRWYWx1ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz10aGlzLl8uY2hpbGRyZW4sZCxlPTA7ZTxjLmxlbmd0aCYmKGQ9Y1tlXSk7ZSsrKWQuZ2V0RWxlbWVudCgpLiQuY2hlY2tlZD1cbmQuZ2V0VmFsdWUoKT09YTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5fLmNoaWxkcmVuLGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmdldEVsZW1lbnQoKS4kLmNoZWNrZWQpcmV0dXJuIGFbYl0uZ2V0VmFsdWUoKTtyZXR1cm4gbnVsbH0sYWNjZXNzS2V5VXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uY2hpbGRyZW4sYjtmb3IoYj0wO2I8YS5sZW5ndGg7YisrKWlmKGFbYl0uZ2V0RWxlbWVudCgpLiQuY2hlY2tlZCl7YVtiXS5nZXRFbGVtZW50KCkuZm9jdXMoKTtyZXR1cm59YVswXS5nZXRFbGVtZW50KCkuZm9jdXMoKX0sZXZlbnRQcm9jZXNzb3JzOntvbkNoYW5nZTpmdW5jdGlvbihhLGIpe2lmKCFDS0VESVRPUi5lbnYuaWV8fDg8Q0tFRElUT1IuZW52LnZlcnNpb24pcmV0dXJuIGUub25DaGFuZ2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2Eub24oXCJsb2FkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGE9XG50aGlzLl8uY2hpbGRyZW4sYj10aGlzLGM9MDtjPGEubGVuZ3RoO2MrKylhW2NdLmdldEVsZW1lbnQoKS5vbihcInByb3BlcnR5Y2hhbmdlXCIsZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDtcImNoZWNrZWRcIj09YS5wcm9wZXJ0eU5hbWUmJnRoaXMuJC5jaGVja2VkJiZiLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiKX0pfSl9LHRoaXMpO3RoaXMub24oXCJjaGFuZ2VcIixiKTtyZXR1cm4gbnVsbH19fSxjLCEwKTtDS0VESVRPUi51aS5kaWFsb2cuZmlsZS5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuZXh0ZW5kKG5ldyBDS0VESVRPUi51aS5kaWFsb2cubGFiZWxlZEVsZW1lbnQsYyx7Z2V0SW5wdXRFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpO3JldHVybiAwPGEuJC5mb3Jtcy5sZW5ndGg/bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEuJC5mb3Jtc1swXS5lbGVtZW50c1swXSk6XG50aGlzLmdldEVsZW1lbnQoKX0sc3VibWl0OmZ1bmN0aW9uKCl7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLnN1Ym1pdCgpO3JldHVybiB0aGlzfSxnZXRBY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRQYXJlbnQoKS4kLmFjdGlvbn0scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxjLGQ9ZnVuY3Rpb24oYSxiLGMsZCl7YS5vbihcImZvcm1Mb2FkZWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxkLGEpfSl9LGU7Zm9yKGUgaW4gYSlpZihjPWUubWF0Y2goYikpdGhpcy5ldmVudFByb2Nlc3NvcnNbZV0/dGhpcy5ldmVudFByb2Nlc3NvcnNbZV0uY2FsbCh0aGlzLHRoaXMuXy5kaWFsb2csYVtlXSk6ZCh0aGlzLHRoaXMuXy5kaWFsb2csY1sxXS50b0xvd2VyQ2FzZSgpLGFbZV0pO3JldHVybiB0aGlzfSxyZXNldDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtjLiQub3BlbigpO1xudmFyIGg9XCJcIjtkLnNpemUmJihoPWQuc2l6ZS0oQ0tFRElUT1IuZW52LmllPzc6MCkpO3ZhciB5PWIuZnJhbWVJZCtcIl9pbnB1dFwiO2MuJC53cml0ZShbJ1xceDNjaHRtbCBkaXJcXHgzZFwiJytsKydcIiBsYW5nXFx4M2RcIicrdSsnXCJcXHgzZVxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBzdHlsZVxceDNkXCJtYXJnaW46IDA7IG92ZXJmbG93OiBoaWRkZW47IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1wiXFx4M2UnLCdcXHgzY2Zvcm0gZW5jdHlwZVxceDNkXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgbWV0aG9kXFx4M2RcIlBPU1RcIiBkaXJcXHgzZFwiJytsKydcIiBsYW5nXFx4M2RcIicrdSsnXCIgYWN0aW9uXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShkLmFjdGlvbiksJ1wiXFx4M2VcXHgzY2xhYmVsIGlkXFx4M2RcIicsYi5sYWJlbElkLCdcIiBmb3JcXHgzZFwiJyx5LCdcIiBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJyxDS0VESVRPUi50b29scy5odG1sRW5jb2RlKGQubGFiZWwpLFxuJ1xceDNjL2xhYmVsXFx4M2VcXHgzY2lucHV0IHN0eWxlXFx4M2RcIndpZHRoOjEwMCVcIiBpZFxceDNkXCInLHksJ1wiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGIubGFiZWxJZCwnXCIgdHlwZVxceDNkXCJmaWxlXCIgbmFtZVxceDNkXCInLENLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZC5pZHx8XCJja2VfdXBsb2FkXCIpLCdcIiBzaXplXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZSgwPGg/aDpcIlwiKSwnXCIgL1xceDNlXFx4M2MvZm9ybVxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXFx4M2NzY3JpcHRcXHgzZScsQ0tFRElUT1IuZW52LmllP1wiKFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcIjpcIlwiLFwid2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIrZitcIik7XCIsXCJ3aW5kb3cub25iZWZvcmV1bmxvYWQgXFx4M2QgZnVuY3Rpb24oKSB7d2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oXCIraytcIil9XCIsXCJcXHgzYy9zY3JpcHRcXHgzZVwiXS5qb2luKFwiXCIpKTtcbmMuJC5jbG9zZSgpO2ZvcihoPTA7aDxlLmxlbmd0aDtoKyspZVtoXS5lbmFibGUoKX12YXIgYj10aGlzLl8sYz1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGIuZnJhbWVJZCkuZ2V0RnJhbWVEb2N1bWVudCgpLGQ9Yi5kZWZpbml0aW9uLGU9Yi5idXR0b25zLGY9dGhpcy5mb3JtTG9hZGVkTnVtYmVyLGs9dGhpcy5mb3JtVW5sb2FkTnVtYmVyLGw9Yi5kaWFsb2cuXy5lZGl0b3IubGFuZy5kaXIsdT1iLmRpYWxvZy5fLmVkaXRvci5sYW5nQ29kZTtmfHwoZj10aGlzLmZvcm1Mb2FkZWROdW1iZXI9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJmb3JtTG9hZGVkXCIpfSx0aGlzKSxrPXRoaXMuZm9ybVVubG9hZE51bWJlcj1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3RoaXMuZ2V0SW5wdXRFbGVtZW50KCkuY2xlYXJDdXN0b21EYXRhKCl9LHRoaXMpLHRoaXMuZ2V0RGlhbG9nKCkuXy5lZGl0b3Iub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihmKTtcbkNLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKGspfSkpO0NLRURJVE9SLmVudi5nZWNrbz9zZXRUaW1lb3V0KGEsNTAwKTphKCl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZXx8XCJcIn0sc2V0SW5pdFZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5fLmluaXRWYWx1ZT1cIlwifSxldmVudFByb2Nlc3NvcnM6e29uQ2hhbmdlOmZ1bmN0aW9uKGEsYil7dGhpcy5fLmRvbU9uQ2hhbmdlUmVnaXN0ZXJlZHx8KHRoaXMub24oXCJmb3JtTG9hZGVkXCIsZnVuY3Rpb24oKXt0aGlzLmdldElucHV0RWxlbWVudCgpLm9uKFwiY2hhbmdlXCIsZnVuY3Rpb24oKXt0aGlzLmZpcmUoXCJjaGFuZ2VcIix7dmFsdWU6dGhpcy5nZXRWYWx1ZSgpfSl9LHRoaXMpfSx0aGlzKSx0aGlzLl8uZG9tT25DaGFuZ2VSZWdpc3RlcmVkPSEwKTt0aGlzLm9uKFwiY2hhbmdlXCIsYil9fSxrZXlib2FyZEZvY3VzYWJsZTohMH0sITApO0NLRURJVE9SLnVpLmRpYWxvZy5maWxlQnV0dG9uLnByb3RvdHlwZT1cbm5ldyBDS0VESVRPUi51aS5kaWFsb2cuYnV0dG9uO0NLRURJVE9SLnVpLmRpYWxvZy5maWVsZHNldC5wcm90b3R5cGU9Q0tFRElUT1IudG9vbHMuY2xvbmUoQ0tFRElUT1IudWkuZGlhbG9nLmhib3gucHJvdG90eXBlKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwidGV4dFwiLGYpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJwYXNzd29yZFwiLGYpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ0ZXh0YXJlYVwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJjaGVja2JveFwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJyYWRpb1wiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJidXR0b25cIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwic2VsZWN0XCIsYik7Q0tFRElUT1IuZGlhbG9nLmFkZFVJRWxlbWVudChcImZpbGVcIixiKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmlsZUJ1dHRvblwiLGIpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJodG1sXCIsXG5iKTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiZmllbGRzZXRcIix7YnVpbGQ6ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1iLmNoaWxkcmVuLGUsZj1bXSxrPVtdLGw9MDtsPGQubGVuZ3RoJiYoZT1kW2xdKTtsKyspe3ZhciB1PVtdO2YucHVzaCh1KTtrLnB1c2goQ0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnNbZS50eXBlXS5idWlsZChhLGUsdSkpfXJldHVybiBuZXcgQ0tFRElUT1IudWkuZGlhbG9nW2IudHlwZV0oYSxrLGYsYyxiKX19KX19KSxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX05PTkU9MCxDS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIPTEsQ0tFRElUT1IuRElBTE9HX1JFU0laRV9IRUlHSFQ9MixDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEg9MyxDS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRT0xLENLRURJVE9SLkRJQUxPR19TVEFURV9CVVNZPTIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Zm9yKHZhciBhPXRoaXMuXy50YWJJZExpc3QubGVuZ3RoLFxuYj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsdGhpcy5fLmN1cnJlbnRUYWJJZCkrYSxjPWItMTtjPmItYTtjLS0paWYodGhpcy5fLnRhYnNbdGhpcy5fLnRhYklkTGlzdFtjJWFdXVswXS4kLm9mZnNldEhlaWdodClyZXR1cm4gdGhpcy5fLnRhYklkTGlzdFtjJWFdO3JldHVybiBudWxsfWZ1bmN0aW9uIGYoKXtmb3IodmFyIGE9dGhpcy5fLnRhYklkTGlzdC5sZW5ndGgsYj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMuXy50YWJJZExpc3QsdGhpcy5fLmN1cnJlbnRUYWJJZCksYz1iKzE7YzxiK2E7YysrKWlmKHRoaXMuXy50YWJzW3RoaXMuXy50YWJJZExpc3RbYyVhXV1bMF0uJC5vZmZzZXRIZWlnaHQpcmV0dXJuIHRoaXMuXy50YWJJZExpc3RbYyVhXTtyZXR1cm4gbnVsbH1mdW5jdGlvbiBiKGEsYil7Zm9yKHZhciBjPWEuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpLGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspe3ZhciBmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChjW2RdKTtcblwidGV4dFwiPT1mLmdldEF0dHJpYnV0ZShcInR5cGVcIikudG9Mb3dlckNhc2UoKSYmKGI/KGYuc2V0QXR0cmlidXRlKFwidmFsdWVcIixmLmdldEN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIpfHxcIlwiKSxmLnJlbW92ZUN1c3RvbURhdGEoXCJmYWtlX3ZhbHVlXCIpKTooZi5zZXRDdXN0b21EYXRhKFwiZmFrZV92YWx1ZVwiLGYuZ2V0QXR0cmlidXRlKFwidmFsdWVcIikpLGYuc2V0QXR0cmlidXRlKFwidmFsdWVcIixcIlwiKSkpfX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9dGhpcy5nZXRJbnB1dEVsZW1lbnQoKTtjJiYoYT9jLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiKTpjLnNldEF0dHJpYnV0ZShcImFyaWEtaW52YWxpZFwiLCEwKSk7YXx8KHRoaXMuc2VsZWN0P3RoaXMuc2VsZWN0KCk6dGhpcy5mb2N1cygpKTtiJiZhbGVydChiKTt0aGlzLmZpcmUoXCJ2YWxpZGF0ZWRcIix7dmFsaWQ6YSxtc2c6Yn0pfWZ1bmN0aW9uIGUoKXt2YXIgYT10aGlzLmdldElucHV0RWxlbWVudCgpO2EmJmEucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpfVxuZnVuY3Rpb24gbChhKXt2YXIgYj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChDS0VESVRPUi5hZGRUZW1wbGF0ZShcImRpYWxvZ1wiLHYpLm91dHB1dCh7aWQ6Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpLGVkaXRvcklkOmEuaWQsbGFuZ0RpcjphLmxhbmcuZGlyLGxhbmdDb2RlOmEubGFuZ0NvZGUsZWRpdG9yRGlhbG9nQ2xhc3M6XCJja2VfZWRpdG9yX1wiK2EubmFtZS5yZXBsYWNlKC9cXC4vZyxcIlxcXFwuXCIpK1wiX2RpYWxvZ1wiLGNsb3NlVGl0bGU6YS5sYW5nLmNvbW1vbi5jbG9zZSxoaWRwaTpDS0VESVRPUi5lbnYuaGlkcGk/XCJja2VfaGlkcGlcIjpcIlwifSkpLGM9Yi5nZXRDaGlsZChbMCwwLDAsMCwwXSksZD1jLmdldENoaWxkKDApLGU9Yy5nZXRDaGlsZCgxKTthLnBsdWdpbnMuY2xpcGJvYXJkJiZDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5wcmV2ZW50RGVmYXVsdERyb3BPbkVsZW1lbnQoYyk7IUNLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LnF1aXJrc3x8XG5DS0VESVRPUi5lbnYuZWRnZXx8KGE9XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoXCJkb2N1bWVudC5vcGVuKCk7KFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtkb2N1bWVudC5jbG9zZSgpO1wiKStcIn0oKSlcIixDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbCgnXFx4M2NpZnJhbWUgZnJhbWVCb3JkZXJcXHgzZFwiMFwiIGNsYXNzXFx4M2RcImNrZV9pZnJhbWVfc2hpbVwiIHNyY1xceDNkXCInK2ErJ1wiIHRhYkluZGV4XFx4M2RcIi0xXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJykuYXBwZW5kVG8oYy5nZXRQYXJlbnQoKSkpO2QudW5zZWxlY3RhYmxlKCk7ZS51bnNlbGVjdGFibGUoKTtyZXR1cm57ZWxlbWVudDpiLHBhcnRzOntkaWFsb2c6Yi5nZXRDaGlsZCgwKSx0aXRsZTpkLGNsb3NlOmUsdGFiczpjLmdldENoaWxkKDIpLGNvbnRlbnRzOmMuZ2V0Q2hpbGQoWzMsMCwwLDBdKSxmb290ZXI6Yy5nZXRDaGlsZChbMywwLDEsMF0pfX19ZnVuY3Rpb24gayhhLFxuYixjKXt0aGlzLmVsZW1lbnQ9Yjt0aGlzLmZvY3VzSW5kZXg9Yzt0aGlzLnRhYkluZGV4PTA7dGhpcy5pc0ZvY3VzYWJsZT1mdW5jdGlvbigpe3JldHVybiFiLmdldEF0dHJpYnV0ZShcImRpc2FibGVkXCIpJiZiLmlzVmlzaWJsZSgpfTt0aGlzLmZvY3VzPWZ1bmN0aW9uKCl7YS5fLmN1cnJlbnRGb2N1c0luZGV4PXRoaXMuZm9jdXNJbmRleDt0aGlzLmVsZW1lbnQuZm9jdXMoKX07Yi5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEuZ2V0S2V5c3Ryb2tlKClpbnszMjoxLDEzOjF9JiZ0aGlzLmZpcmUoXCJjbGlja1wiKX0pO2Iub24oXCJmb2N1c1wiLGZ1bmN0aW9uKCl7dGhpcy5maXJlKFwibW91c2VvdmVyXCIpfSk7Yi5vbihcImJsdXJcIixmdW5jdGlvbigpe3RoaXMuZmlyZShcIm1vdXNlb3V0XCIpfSl9ZnVuY3Rpb24gZChhKXtmdW5jdGlvbiBiKCl7YS5sYXlvdXQoKX12YXIgYz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKTtjLm9uKFwicmVzaXplXCIsYik7YS5vbihcImhpZGVcIixmdW5jdGlvbigpe2MucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixcbmIpfSl9ZnVuY3Rpb24gaChhLGIpe3RoaXMuXz17ZGlhbG9nOmF9O0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpfWZ1bmN0aW9uIG0oYSl7ZnVuY3Rpb24gYihjKXt2YXIgaz1hLmdldFNpemUoKSxtPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLmdldFZpZXdQYW5lU2l6ZSgpLGw9Yy5kYXRhLiQuc2NyZWVuWCxxPWMuZGF0YS4kLnNjcmVlblksbj1sLWQueCx0PXEtZC55O2Q9e3g6bCx5OnF9O2UueCs9bjtlLnkrPXQ7YS5tb3ZlKGUueCtoWzNdPGc/LWhbM106ZS54LWhbMV0+bS53aWR0aC1rLndpZHRoLWc/bS53aWR0aC1rLndpZHRoKyhcInJ0bFwiPT1mLmxhbmcuZGlyPzA6aFsxXSk6ZS54LGUueStoWzBdPGc/LWhbMF06ZS55LWhbMl0+bS5oZWlnaHQtay5oZWlnaHQtZz9tLmhlaWdodC1rLmhlaWdodCtoWzJdOmUueSwxKTtjLmRhdGEucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBjKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixcbmIpO0NLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBhPXouZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpO2EucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixiKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGMpfX12YXIgZD1udWxsLGU9bnVsbCxmPWEuZ2V0UGFyZW50RWRpdG9yKCksZz1mLmNvbmZpZy5kaWFsb2dfbWFnbmV0RGlzdGFuY2UsaD1DS0VESVRPUi5za2luLm1hcmdpbnN8fFswLDAsMCwwXTtcInVuZGVmaW5lZFwiPT10eXBlb2YgZyYmKGc9MjApO2EucGFydHMudGl0bGUub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihmKXtkPXt4OmYuZGF0YS4kLnNjcmVlblgseTpmLmRhdGEuJC5zY3JlZW5ZfTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGIpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2V1cFwiLGMpO2U9YS5nZXRQb3NpdGlvbigpO2lmKENLRURJVE9SLmVudi5pZTZDb21wYXQpe3ZhciBnPVxuei5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7Zy5vbihcIm1vdXNlbW92ZVwiLGIpO2cub24oXCJtb3VzZXVwXCIsYyl9Zi5kYXRhLnByZXZlbnREZWZhdWx0KCl9LGEpfWZ1bmN0aW9uIGcoYSl7ZnVuY3Rpb24gYihjKXt2YXIgcT1cInJ0bFwiPT1mLmxhbmcuZGlyLG49bC53aWR0aCx0PWwuaGVpZ2h0LHU9bisoYy5kYXRhLiQuc2NyZWVuWC1tLngpKihxPy0xOjEpKihhLl8ubW92ZWQ/MToyKSx5PXQrKGMuZGF0YS4kLnNjcmVlblktbS55KSooYS5fLm1vdmVkPzE6Miksdz1hLl8uZWxlbWVudC5nZXRGaXJzdCgpLHc9cSYmdy5nZXRDb21wdXRlZFN0eWxlKFwicmlnaHRcIiksdj1hLmdldFBvc2l0aW9uKCk7di55K3k+ay5oZWlnaHQmJih5PWsuaGVpZ2h0LXYueSk7KHE/dzp2LngpK3U+ay53aWR0aCYmKHU9ay53aWR0aC0ocT93OnYueCkpO2lmKGU9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfV0lEVEh8fGU9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfQk9USCluPU1hdGgubWF4KGQubWluV2lkdGh8fFxuMCx1LWcpO2lmKGU9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUfHxlPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgpdD1NYXRoLm1heChkLm1pbkhlaWdodHx8MCx5LWgpO2EucmVzaXplKG4sdCk7YS5fLm1vdmVkfHxhLmxheW91dCgpO2MuZGF0YS5wcmV2ZW50RGVmYXVsdCgpfWZ1bmN0aW9uIGMoKXtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLGIpO3EmJihxLnJlbW92ZSgpLHE9bnVsbCk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGE9ei5nZXRDaGlsZCgwKS5nZXRGcmFtZURvY3VtZW50KCk7YS5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixjKTthLnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsYil9fXZhciBkPWEuZGVmaW5pdGlvbixlPWQucmVzaXphYmxlO2lmKGUhPUNLRURJVE9SLkRJQUxPR19SRVNJWkVfTk9ORSl7dmFyIGY9YS5nZXRQYXJlbnRFZGl0b3IoKSxcbmcsaCxrLG0sbCxxLG49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oZCl7bD1hLmdldFNpemUoKTt2YXIgZT1hLnBhcnRzLmNvbnRlbnRzO2UuJC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlmcmFtZVwiKS5sZW5ndGgmJihxPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3Jlc2l6ZV9jb3ZlclwiIHN0eWxlXFx4M2RcImhlaWdodDogMTAwJTsgcG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTtcIlxceDNlXFx4M2MvZGl2XFx4M2UnKSxlLmFwcGVuZChxKSk7aD1sLmhlaWdodC1hLnBhcnRzLmNvbnRlbnRzLmdldFNpemUoXCJoZWlnaHRcIiwhKENLRURJVE9SLmVudi5nZWNrb3x8Q0tFRElUT1IuZW52LmllJiZDS0VESVRPUi5lbnYucXVpcmtzKSk7Zz1sLndpZHRoLWEucGFydHMuY29udGVudHMuZ2V0U2l6ZShcIndpZHRoXCIsMSk7bT17eDpkLnNjcmVlblgseTpkLnNjcmVlbll9O2s9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCk7XG5DS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNlbW92ZVwiLGIpO0NLRURJVE9SLmRvY3VtZW50Lm9uKFwibW91c2V1cFwiLGMpO0NLRURJVE9SLmVudi5pZTZDb21wYXQmJihlPXouZ2V0Q2hpbGQoMCkuZ2V0RnJhbWVEb2N1bWVudCgpLGUub24oXCJtb3VzZW1vdmVcIixiKSxlLm9uKFwibW91c2V1cFwiLGMpKTtkLnByZXZlbnREZWZhdWx0JiZkLnByZXZlbnREZWZhdWx0KCl9KTthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGI9XCJcIjtlPT1DS0VESVRPUi5ESUFMT0dfUkVTSVpFX1dJRFRIP2I9XCIgY2tlX3Jlc2l6ZXJfaG9yaXpvbnRhbFwiOmU9PUNLRURJVE9SLkRJQUxPR19SRVNJWkVfSEVJR0hUJiYoYj1cIiBja2VfcmVzaXplcl92ZXJ0aWNhbFwiKTtiPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfcmVzaXplcicrYitcIiBja2VfcmVzaXplcl9cIitmLmxhbmcuZGlyKydcIiB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoZi5sYW5nLmNvbW1vbi5yZXNpemUpK1xuJ1wiIG9ubW91c2Vkb3duXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbignK24rJywgZXZlbnQgKVwiXFx4M2UnKyhcImx0clwiPT1mLmxhbmcuZGlyP1wi4peiXCI6XCLil6NcIikrXCJcXHgzYy9kaXZcXHgzZVwiKTthLnBhcnRzLmZvb3Rlci5hcHBlbmQoYiwxKX0pO2Yub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbihuKX0pfX1mdW5jdGlvbiBuKGEpe2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgxKX1mdW5jdGlvbiBwKGEpe3ZhciBiPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLGM9YS5jb25maWcsZD1DS0VESVRPUi5za2luTmFtZXx8YS5jb25maWcuc2tpbixlPWMuZGlhbG9nX2JhY2tncm91bmRDb3ZlckNvbG9yfHwoXCJtb29uby1saXNhXCI9PWQ/XCJibGFja1wiOlwid2hpdGVcIiksZD1jLmRpYWxvZ19iYWNrZ3JvdW5kQ292ZXJPcGFjaXR5LGY9Yy5iYXNlRmxvYXRaSW5kZXgsYz1DS0VESVRPUi50b29scy5nZW5LZXkoZSxkLGYpLGc9QltjXTtnP2cuc2hvdygpOlxuKGY9WydcXHgzY2RpdiB0YWJJbmRleFxceDNkXCItMVwiIHN0eWxlXFx4M2RcInBvc2l0aW9uOiAnLENLRURJVE9SLmVudi5pZTZDb21wYXQ/XCJhYnNvbHV0ZVwiOlwiZml4ZWRcIixcIjsgei1pbmRleDogXCIsZixcIjsgdG9wOiAwcHg7IGxlZnQ6IDBweDsgXCIsQ0tFRElUT1IuZW52LmllNkNvbXBhdD9cIlwiOlwiYmFja2dyb3VuZC1jb2xvcjogXCIrZSwnXCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19iYWNrZ3JvdW5kX2NvdmVyXCJcXHgzZSddLENLRURJVE9SLmVudi5pZTZDb21wYXQmJihlPVwiXFx4M2NodG1sXFx4M2VcXHgzY2JvZHkgc3R5bGVcXHgzZFxcXFwnYmFja2dyb3VuZC1jb2xvcjpcIitlK1wiO1xcXFwnXFx4M2VcXHgzYy9ib2R5XFx4M2VcXHgzYy9odG1sXFx4M2VcIixmLnB1c2goJ1xceDNjaWZyYW1lIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgZnJhbWVib3JkZXJcXHgzZFwiMFwiIGlkXFx4M2RcImNrZV9kaWFsb2dfYmFja2dyb3VuZF9pZnJhbWVcIiBzcmNcXHgzZFwiamF2YXNjcmlwdDonKSxmLnB1c2goXCJ2b2lkKChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrXG5DS0VESVRPUi50b29scy5maXhEb21haW4rXCIpKCk7ZG9jdW1lbnQud3JpdGUoICdcIitlK1wiJyApO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSkoKSlcIiksZi5wdXNoKCdcIiBzdHlsZVxceDNkXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6IDEwMCU7ZmlsdGVyOiBwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEob3BhY2l0eVxceDNkMClcIlxceDNlXFx4M2MvaWZyYW1lXFx4M2UnKSksZi5wdXNoKFwiXFx4M2MvZGl2XFx4M2VcIiksZz1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChmLmpvaW4oXCJcIikpLGcuc2V0T3BhY2l0eSh2b2lkIDAhPT1kP2Q6LjUpLGcub24oXCJrZXlkb3duXCIsbiksZy5vbihcImtleXByZXNzXCIsbiksZy5vbihcImtleXVwXCIsbiksZy5hcHBlbmRUbyhDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkpLEJbY109Zyk7YS5mb2N1c01hbmFnZXIuYWRkKGcpO3o9ZzthPWZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRWaWV3UGFuZVNpemUoKTtcbmcuc2V0U3R5bGVzKHt3aWR0aDphLndpZHRoK1wicHhcIixoZWlnaHQ6YS5oZWlnaHQrXCJweFwifSl9O3ZhciBoPWZ1bmN0aW9uKCl7dmFyIGE9Yi5nZXRTY3JvbGxQb3NpdGlvbigpLGM9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcDtnLnNldFN0eWxlcyh7bGVmdDphLngrXCJweFwiLHRvcDphLnkrXCJweFwifSk7aWYoYyl7ZG8gYT1jLmdldFBvc2l0aW9uKCksYy5tb3ZlKGEueCxhLnkpO3doaWxlKGM9Yy5fLnBhcmVudERpYWxvZyl9fTt3PWE7Yi5vbihcInJlc2l6ZVwiLGEpO2EoKTtDS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0fHxnLmZvY3VzKCk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl7dmFyIGs9ZnVuY3Rpb24oKXtoKCk7YXJndW1lbnRzLmNhbGxlZS5wcmV2U2Nyb2xsSGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2IuJC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ay5wcmV2U2Nyb2xsSGFuZGxlcj13aW5kb3cub25zY3JvbGx8fGZ1bmN0aW9uKCl7fTtcbndpbmRvdy5vbnNjcm9sbD1rfSwwKTtoKCl9fWZ1bmN0aW9uIHIoYSl7eiYmKGEuZm9jdXNNYW5hZ2VyLnJlbW92ZSh6KSxhPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpLHouaGlkZSgpLGEucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIix3KSxDS0VESVRPUi5lbnYuaWU2Q29tcGF0JiZhLiQuc2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5vbnNjcm9sbD13aW5kb3cub25zY3JvbGwmJndpbmRvdy5vbnNjcm9sbC5wcmV2U2Nyb2xsSGFuZGxlcnx8bnVsbH0sMCksdz1udWxsKX12YXIgeD1DS0VESVRPUi50b29scy5jc3NMZW5ndGgsdj0nXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX3Jlc2V0X2FsbCB7ZWRpdG9ySWR9IHtlZGl0b3JEaWFsb2dDbGFzc30ge2hpZHBpfVwiIGRpclxceDNkXCJ7bGFuZ0Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIiByb2xlXFx4M2RcImRpYWxvZ1wiIGFyaWEtbGFiZWxsZWRieVxceDNkXCJja2VfZGlhbG9nX3RpdGxlX3tpZH1cIlxceDNlXFx4M2N0YWJsZSBjbGFzc1xceDNkXCJja2VfZGlhbG9nICcrXG5DS0VESVRPUi5lbnYuY3NzQ2xhc3MrJyBja2Vfe2xhbmdEaXJ9XCIgc3R5bGVcXHgzZFwicG9zaXRpb246YWJzb2x1dGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzY3RyXFx4M2VcXHgzY3RkIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfYm9keVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGl0bGVcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjYSBpZFxceDNkXCJja2VfZGlhbG9nX2Nsb3NlX2J1dHRvbl97aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ19jbG9zZV9idXR0b25cIiBocmVmXFx4M2RcImphdmFzY3JpcHQ6dm9pZCgwKVwiIHRpdGxlXFx4M2RcIntjbG9zZVRpdGxlfVwiIHJvbGVcXHgzZFwiYnV0dG9uXCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfbGFiZWxcIlxceDNlWFxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjZGl2IGlkXFx4M2RcImNrZV9kaWFsb2dfdGFic197aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ190YWJzXCIgcm9sZVxceDNkXCJ0YWJsaXN0XCJcXHgzZVxceDNjL2RpdlxceDNlXFx4M2N0YWJsZSBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2N0clxceDNlXFx4M2N0ZCBpZFxceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX3tpZH1cIiBjbGFzc1xceDNkXCJja2VfZGlhbG9nX2NvbnRlbnRzX2JvZHlcIiByb2xlXFx4M2RcInByZXNlbnRhdGlvblwiXFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjdHJcXHgzZVxceDNjdGQgaWRcXHgzZFwiY2tlX2RpYWxvZ19mb290ZXJfe2lkfVwiIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfZm9vdGVyXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2MvdGRcXHgzZVxceDNjL3RyXFx4M2VcXHgzYy90YWJsZVxceDNlXFx4M2MvZGl2XFx4M2VcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVxceDNjL3RhYmxlXFx4M2VcXHgzYy9kaXZcXHgzZSc7XG5DS0VESVRPUi5kaWFsb2c9ZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBoKCl7dmFyIGE9ei5fLmZvY3VzTGlzdDthLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS50YWJJbmRleCE9Yi50YWJJbmRleD9iLnRhYkluZGV4LWEudGFiSW5kZXg6YS5mb2N1c0luZGV4LWIuZm9jdXNJbmRleH0pO2Zvcih2YXIgYj1hLmxlbmd0aCxjPTA7YzxiO2MrKylhW2NdLmZvY3VzSW5kZXg9Y31mdW5jdGlvbiBrKGEpe3ZhciBiPXouXy5mb2N1c0xpc3Q7YT1hfHwwO2lmKCEoMT5iLmxlbmd0aCkpe3ZhciBjPXouXy5jdXJyZW50Rm9jdXNJbmRleDt6Ll8udGFiQmFyTW9kZSYmMD5hJiYoYz0wKTt0cnl7YltjXS5nZXRJbnB1dEVsZW1lbnQoKS4kLmJsdXIoKX1jYXRjaChkKXt9dmFyIGU9YyxmPTE8ei5fLnBhZ2VDb3VudDtkb3tlKz1hO2lmKGYmJiF6Ll8udGFiQmFyTW9kZSYmKGU9PWIubGVuZ3RofHwtMT09ZSkpe3ouXy50YWJCYXJNb2RlPSEwO3ouXy50YWJzW3ouXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCk7XG56Ll8uY3VycmVudEZvY3VzSW5kZXg9LTE7cmV0dXJufWU9KGUrYi5sZW5ndGgpJWIubGVuZ3RoO2lmKGU9PWMpYnJlYWt9d2hpbGUoYSYmIWJbZV0uaXNGb2N1c2FibGUoKSk7YltlXS5mb2N1cygpO1widGV4dFwiPT1iW2VdLnR5cGUmJmJbZV0uc2VsZWN0KCl9fWZ1bmN0aW9uIG4oYyl7aWYoej09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCl7dmFyIGQ9Yy5kYXRhLmdldEtleXN0cm9rZSgpLGU9XCJydGxcIj09Yi5sYW5nLmRpcixnPVszNywzOCwzOSw0MF07eD1CPTA7aWYoOT09ZHx8ZD09Q0tFRElUT1IuU0hJRlQrOSlrKGQ9PUNLRURJVE9SLlNISUZUKzk/LTE6MSkseD0xO2Vsc2UgaWYoZD09Q0tFRElUT1IuQUxUKzEyMSYmIXouXy50YWJCYXJNb2RlJiYxPHouZ2V0UGFnZUNvdW50KCkpei5fLnRhYkJhck1vZGU9ITAsei5fLnRhYnNbei5fLmN1cnJlbnRUYWJJZF1bMF0uZm9jdXMoKSx6Ll8uY3VycmVudEZvY3VzSW5kZXg9LTEseD0xO2Vsc2UgaWYoLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZyxcbmQpJiZ6Ll8udGFiQmFyTW9kZSlkPS0xIT1DS0VESVRPUi50b29scy5pbmRleE9mKFtlPzM5OjM3LDM4XSxkKT9hLmNhbGwoeik6Zi5jYWxsKHopLHouc2VsZWN0UGFnZShkKSx6Ll8udGFic1tkXVswXS5mb2N1cygpLHg9MTtlbHNlIGlmKDEzIT1kJiYzMiE9ZHx8IXouXy50YWJCYXJNb2RlKWlmKDEzPT1kKWQ9Yy5kYXRhLmdldFRhcmdldCgpLGQuaXMoXCJhXCIsXCJidXR0b25cIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIil8fGQuaXMoXCJpbnB1dFwiKSYmXCJidXR0b25cIj09ZC4kLnR5cGV8fCgoZD10aGlzLmdldEJ1dHRvbihcIm9rXCIpKSYmQ0tFRElUT1IudG9vbHMuc2V0VGltZW91dChkLmNsaWNrLDAsZCkseD0xKSxCPTE7ZWxzZSBpZigyNz09ZCkoZD10aGlzLmdldEJ1dHRvbihcImNhbmNlbFwiKSk/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChkLmNsaWNrLDAsZCk6ITEhPT10aGlzLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJnRoaXMuaGlkZSgpLEI9MTtlbHNlIHJldHVybjtlbHNlIHRoaXMuc2VsZWN0UGFnZSh0aGlzLl8uY3VycmVudFRhYklkKSxcbnRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxrKDEpLHg9MTt0KGMpfX1mdW5jdGlvbiB0KGEpe3g/YS5kYXRhLnByZXZlbnREZWZhdWx0KDEpOkImJmEuZGF0YS5zdG9wUHJvcGFnYXRpb24oKX12YXIgeT1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1tkXSx3PUNLRURJVE9SLnRvb2xzLmNsb25lKHUpLHY9Yi5jb25maWcuZGlhbG9nX2J1dHRvbnNPcmRlcnx8XCJPU1wiLEE9Yi5sYW5nLmRpcixwPXt9LHgsQjsoXCJPU1wiPT12JiZDS0VESVRPUi5lbnYubWFjfHxcInJ0bFwiPT12JiZcImx0clwiPT1BfHxcImx0clwiPT12JiZcInJ0bFwiPT1BKSYmdy5idXR0b25zLnJldmVyc2UoKTt5PUNLRURJVE9SLnRvb2xzLmV4dGVuZCh5KGIpLHcpO3k9Q0tFRElUT1IudG9vbHMuY2xvbmUoeSk7eT1uZXcgcSh0aGlzLHkpO3c9bChiKTt0aGlzLl89e2VkaXRvcjpiLGVsZW1lbnQ6dy5lbGVtZW50LG5hbWU6ZCxjb250ZW50U2l6ZTp7d2lkdGg6MCxoZWlnaHQ6MH0sXG5zaXplOnt3aWR0aDowLGhlaWdodDowfSxjb250ZW50czp7fSxidXR0b25zOnt9LGFjY2Vzc0tleU1hcDp7fSx0YWJzOnt9LHRhYklkTGlzdDpbXSxjdXJyZW50VGFiSWQ6bnVsbCxjdXJyZW50VGFiSW5kZXg6bnVsbCxwYWdlQ291bnQ6MCxsYXN0VGFiOm51bGwsdGFiQmFyTW9kZTohMSxmb2N1c0xpc3Q6W10sY3VycmVudEZvY3VzSW5kZXg6MCxoYXNGb2N1czohMX07dGhpcy5wYXJ0cz13LnBhcnRzO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcy5wYXJ0cy5jb250ZW50cyl9LDAsdGhpcyk7dz17cG9zaXRpb246Q0tFRElUT1IuZW52LmllNkNvbXBhdD9cImFic29sdXRlXCI6XCJmaXhlZFwiLHRvcDowLHZpc2liaWxpdHk6XCJoaWRkZW5cIn07d1tcInJ0bFwiPT1BP1wicmlnaHRcIjpcImxlZnRcIl09MDt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZXModyk7Q0tFRElUT1IuZXZlbnQuY2FsbCh0aGlzKTt0aGlzLmRlZmluaXRpb249eT1DS0VESVRPUi5maXJlKFwiZGlhbG9nRGVmaW5pdGlvblwiLFxue25hbWU6ZCxkZWZpbml0aW9uOnl9LGIpLmRlZmluaXRpb247aWYoIShcInJlbW92ZURpYWxvZ1RhYnNcImluIGIuXykmJmIuY29uZmlnLnJlbW92ZURpYWxvZ1RhYnMpe3c9Yi5jb25maWcucmVtb3ZlRGlhbG9nVGFicy5zcGxpdChcIjtcIik7Zm9yKEE9MDtBPHcubGVuZ3RoO0ErKylpZih2PXdbQV0uc3BsaXQoXCI6XCIpLDI9PXYubGVuZ3RoKXt2YXIgcj12WzBdO3Bbcl18fChwW3JdPVtdKTtwW3JdLnB1c2godlsxXSl9Yi5fLnJlbW92ZURpYWxvZ1RhYnM9cH1pZihiLl8ucmVtb3ZlRGlhbG9nVGFicyYmKHA9Yi5fLnJlbW92ZURpYWxvZ1RhYnNbZF0pKWZvcihBPTA7QTxwLmxlbmd0aDtBKyspeS5yZW1vdmVDb250ZW50cyhwW0FdKTtpZih5Lm9uTG9hZCl0aGlzLm9uKFwibG9hZFwiLHkub25Mb2FkKTtpZih5Lm9uU2hvdyl0aGlzLm9uKFwic2hvd1wiLHkub25TaG93KTtpZih5Lm9uSGlkZSl0aGlzLm9uKFwiaGlkZVwiLHkub25IaWRlKTtpZih5Lm9uT2spdGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7Yi5maXJlKFwic2F2ZVNuYXBzaG90XCIpO1xuc2V0VGltZW91dChmdW5jdGlvbigpe2IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCk7ITE9PT15Lm9uT2suY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dGhpcy5zdGF0ZT1DS0VESVRPUi5ESUFMT0dfU1RBVEVfSURMRTtpZih5Lm9uQ2FuY2VsKXRoaXMub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXshMT09PXkub25DYW5jZWwuY2FsbCh0aGlzLGEpJiYoYS5kYXRhLmhpZGU9ITEpfSk7dmFyIHo9dGhpcyxDPWZ1bmN0aW9uKGEpe3ZhciBiPXouXy5jb250ZW50cyxjPSExLGQ7Zm9yKGQgaW4gYilmb3IodmFyIGUgaW4gYltkXSlpZihjPWEuY2FsbCh0aGlzLGJbZF1bZV0pKXJldHVybn07dGhpcy5vbihcIm9rXCIsZnVuY3Rpb24oYSl7QyhmdW5jdGlvbihiKXtpZihiLnZhbGlkYXRlKXt2YXIgZD1iLnZhbGlkYXRlKHRoaXMpLGU9XCJzdHJpbmdcIj09dHlwZW9mIGR8fCExPT09ZDtlJiYoYS5kYXRhLmhpZGU9ITEsYS5zdG9wKCkpO2MuY2FsbChiLCFlLFwic3RyaW5nXCI9PXR5cGVvZiBkP1xuZDp2b2lkIDApO3JldHVybiBlfX0pfSx0aGlzLG51bGwsMCk7dGhpcy5vbihcImNhbmNlbFwiLGZ1bmN0aW9uKGEpe0MoZnVuY3Rpb24oYyl7aWYoYy5pc0NoYW5nZWQoKSlyZXR1cm4gYi5jb25maWcuZGlhbG9nX25vQ29uZmlybUNhbmNlbHx8Y29uZmlybShiLmxhbmcuY29tbW9uLmNvbmZpcm1DYW5jZWwpfHwoYS5kYXRhLmhpZGU9ITEpLCEwfSl9LHRoaXMsbnVsbCwwKTt0aGlzLnBhcnRzLmNsb3NlLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXshMSE9PXRoaXMuZmlyZShcImNhbmNlbFwiLHtoaWRlOiEwfSkuaGlkZSYmdGhpcy5oaWRlKCk7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9LHRoaXMpO3RoaXMuY2hhbmdlRm9jdXM9azt2YXIgRT10aGlzLl8uZWxlbWVudDtiLmZvY3VzTWFuYWdlci5hZGQoRSwxKTt0aGlzLm9uKFwic2hvd1wiLGZ1bmN0aW9uKCl7RS5vbihcImtleWRvd25cIixuLHRoaXMpO2lmKENLRURJVE9SLmVudi5nZWNrbylFLm9uKFwia2V5cHJlc3NcIix0LHRoaXMpfSk7dGhpcy5vbihcImhpZGVcIixcbmZ1bmN0aW9uKCl7RS5yZW1vdmVMaXN0ZW5lcihcImtleWRvd25cIixuKTtDS0VESVRPUi5lbnYuZ2Vja28mJkUucmVtb3ZlTGlzdGVuZXIoXCJrZXlwcmVzc1wiLHQpO0MoZnVuY3Rpb24oYSl7ZS5hcHBseShhKX0pfSk7dGhpcy5vbihcImlmcmFtZUFkZGVkXCIsZnVuY3Rpb24oYSl7KG5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoYS5kYXRhLmlmcmFtZS4kLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQpKS5vbihcImtleWRvd25cIixuLHRoaXMsbnVsbCwwKX0pO3RoaXMub24oXCJzaG93XCIsZnVuY3Rpb24oKXtoKCk7dmFyIGE9MTx6Ll8ucGFnZUNvdW50O2IuY29uZmlnLmRpYWxvZ19zdGFydHVwRm9jdXNUYWImJmE/KHouXy50YWJCYXJNb2RlPSEwLHouXy50YWJzW3ouXy5jdXJyZW50VGFiSWRdWzBdLmZvY3VzKCksei5fLmN1cnJlbnRGb2N1c0luZGV4PS0xKTp0aGlzLl8uaGFzRm9jdXN8fCh0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9YT8tMTp0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aC0xLHkub25Gb2N1cz9cbihhPXkub25Gb2N1cy5jYWxsKHRoaXMpKSYmYS5mb2N1cygpOmsoMSkpfSx0aGlzLG51bGwsNDI5NDk2NzI5NSk7aWYoQ0tFRElUT1IuZW52LmllNkNvbXBhdCl0aGlzLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCksYj1hLmdldEZpcnN0KCk7Yi5yZW1vdmUoKTtiLmFwcGVuZFRvKGEpfSx0aGlzKTttKHRoaXMpO2codGhpcyk7KG5ldyBDS0VESVRPUi5kb20udGV4dCh5LnRpdGxlLENLRURJVE9SLmRvY3VtZW50KSkuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSk7Zm9yKEE9MDtBPHkuY29udGVudHMubGVuZ3RoO0ErKykocD15LmNvbnRlbnRzW0FdKSYmdGhpcy5hZGRQYWdlKHApO3RoaXMucGFydHMudGFicy5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldFRhcmdldCgpO2IuaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYlwiKSYmKGI9Yi4kLmlkLHRoaXMuc2VsZWN0UGFnZShiLnN1YnN0cmluZyg0LGIubGFzdEluZGV4T2YoXCJfXCIpKSksXG50aGlzLl8udGFiQmFyTW9kZSYmKHRoaXMuXy50YWJCYXJNb2RlPSExLHRoaXMuXy5jdXJyZW50Rm9jdXNJbmRleD0tMSxrKDEpKSxhLmRhdGEucHJldmVudERlZmF1bHQoKSl9LHRoaXMpO0E9W107cD1DS0VESVRPUi5kaWFsb2cuXy51aUVsZW1lbnRCdWlsZGVycy5oYm94LmJ1aWxkKHRoaXMse3R5cGU6XCJoYm94XCIsY2xhc3NOYW1lOlwiY2tlX2RpYWxvZ19mb290ZXJfYnV0dG9uc1wiLHdpZHRoczpbXSxjaGlsZHJlbjp5LmJ1dHRvbnN9LEEpLmdldENoaWxkKCk7dGhpcy5wYXJ0cy5mb290ZXIuc2V0SHRtbChBLmpvaW4oXCJcIikpO2ZvcihBPTA7QTxwLmxlbmd0aDtBKyspdGhpcy5fLmJ1dHRvbnNbcFtBXS5pZF09cFtBXX07Q0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZT17ZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuaGlkZSgpO3RoaXMuXy5lbGVtZW50LnJlbW92ZSgpfSxyZXNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aD09XG5hJiZ0aGlzLl8uY29udGVudFNpemUuaGVpZ2h0PT1ifHwoQ0tFRElUT1IuZGlhbG9nLmZpcmUoXCJyZXNpemVcIix7ZGlhbG9nOnRoaXMsd2lkdGg6YSxoZWlnaHQ6Yn0sdGhpcy5fLmVkaXRvciksdGhpcy5maXJlKFwicmVzaXplXCIse3dpZHRoOmEsaGVpZ2h0OmJ9LHRoaXMuXy5lZGl0b3IpLHRoaXMucGFydHMuY29udGVudHMuc2V0U3R5bGVzKHt3aWR0aDphK1wicHhcIixoZWlnaHQ6YitcInB4XCJ9KSxcInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyJiZ0aGlzLl8ucG9zaXRpb24mJih0aGlzLl8ucG9zaXRpb24ueD1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKS53aWR0aC10aGlzLl8uY29udGVudFNpemUud2lkdGgtcGFyc2VJbnQodGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5nZXRTdHlsZShcInJpZ2h0XCIpLDEwKSksdGhpcy5fLmNvbnRlbnRTaXplPXt3aWR0aDphLGhlaWdodDpifSl9fSgpLGdldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uZWxlbWVudC5nZXRGaXJzdCgpO1xucmV0dXJue3dpZHRoOmEuJC5vZmZzZXRXaWR0aHx8MCxoZWlnaHQ6YS4kLm9mZnNldEhlaWdodHx8MH19LG1vdmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuXy5lbGVtZW50LmdldEZpcnN0KCksZT1cInJ0bFwiPT10aGlzLl8uZWRpdG9yLmxhbmcuZGlyLGY9XCJmaXhlZFwiPT1kLmdldENvbXB1dGVkU3R5bGUoXCJwb3NpdGlvblwiKTtDS0VESVRPUi5lbnYuaWUmJmQuc2V0U3R5bGUoXCJ6b29tXCIsXCIxMDAlXCIpO2YmJnRoaXMuXy5wb3NpdGlvbiYmdGhpcy5fLnBvc2l0aW9uLng9PWEmJnRoaXMuXy5wb3NpdGlvbi55PT1ifHwodGhpcy5fLnBvc2l0aW9uPXt4OmEseTpifSxmfHwoZj1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLGErPWYueCxiKz1mLnkpLGUmJihmPXRoaXMuZ2V0U2l6ZSgpLGE9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0Vmlld1BhbmVTaXplKCkud2lkdGgtZi53aWR0aC1hKSxiPXt0b3A6KDA8Yj9iOjApK1wicHhcIn0sXG5iW2U/XCJyaWdodFwiOlwibGVmdFwiXT0oMDxhP2E6MCkrXCJweFwiLGQuc2V0U3R5bGVzKGIpLGMmJih0aGlzLl8ubW92ZWQ9MSkpfSxnZXRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoe30sdGhpcy5fLnBvc2l0aW9uKX0sc2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5lbGVtZW50LGI9dGhpcy5kZWZpbml0aW9uO2EuZ2V0UGFyZW50KCkmJmEuZ2V0UGFyZW50KCkuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSk/YS5zZXRTdHlsZShcImRpc3BsYXlcIixcImJsb2NrXCIpOmEuYXBwZW5kVG8oQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpKTt0aGlzLnJlc2l6ZSh0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS53aWR0aHx8Yi53aWR0aHx8Yi5taW5XaWR0aCx0aGlzLl8uY29udGVudFNpemUmJnRoaXMuXy5jb250ZW50U2l6ZS5oZWlnaHR8fGIuaGVpZ2h0fHxiLm1pbkhlaWdodCk7dGhpcy5yZXNldCgpO3RoaXMuc2VsZWN0UGFnZSh0aGlzLmRlZmluaXRpb24uY29udGVudHNbMF0uaWQpO1xubnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXgmJihDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4PXRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleCk7dGhpcy5fLmVsZW1lbnQuZ2V0Rmlyc3QoKS5zZXRTdHlsZShcInotaW5kZXhcIixDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4Kz0xMCk7bnVsbD09PUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A/KENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcyx0aGlzLl8ucGFyZW50RGlhbG9nPW51bGwscCh0aGlzLl8uZWRpdG9yKSk6KHRoaXMuXy5wYXJlbnREaWFsb2c9Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCx0aGlzLl8ucGFyZW50RGlhbG9nLmdldEVsZW1lbnQoKS5nZXRGaXJzdCgpLiQuc3R5bGUuekluZGV4LT1NYXRoLmZsb29yKHRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleC8yKSxDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wPXRoaXMpO1xuYS5vbihcImtleWRvd25cIixFKTthLm9uKFwia2V5dXBcIixHKTt0aGlzLl8uaGFzRm9jdXM9ITE7Zm9yKHZhciBjIGluIGIuY29udGVudHMpaWYoYi5jb250ZW50c1tjXSl7dmFyIGE9Yi5jb250ZW50c1tjXSxlPXRoaXMuXy50YWJzW2EuaWRdLGY9YS5yZXF1aXJlZENvbnRlbnQsZz0wO2lmKGUpe2Zvcih2YXIgaCBpbiB0aGlzLl8uY29udGVudHNbYS5pZF0pe3ZhciBrPXRoaXMuXy5jb250ZW50c1thLmlkXVtoXTtcImhib3hcIiE9ay50eXBlJiZcInZib3hcIiE9ay50eXBlJiZrLmdldElucHV0RWxlbWVudCgpJiYoay5yZXF1aXJlZENvbnRlbnQmJiF0aGlzLl8uZWRpdG9yLmFjdGl2ZUZpbHRlci5jaGVjayhrLnJlcXVpcmVkQ29udGVudCk/ay5kaXNhYmxlKCk6KGsuZW5hYmxlKCksZysrKSl9IWd8fGYmJiF0aGlzLl8uZWRpdG9yLmFjdGl2ZUZpbHRlci5jaGVjayhmKT9lWzBdLmFkZENsYXNzKFwiY2tlX2RpYWxvZ190YWJfZGlzYWJsZWRcIik6ZVswXS5yZW1vdmVDbGFzcyhcImNrZV9kaWFsb2dfdGFiX2Rpc2FibGVkXCIpfX1DS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5sYXlvdXQoKTtcbmQodGhpcyk7dGhpcy5wYXJ0cy5kaWFsb2cuc2V0U3R5bGUoXCJ2aXNpYmlsaXR5XCIsXCJcIik7dGhpcy5maXJlT25jZShcImxvYWRcIix7fSk7Q0tFRElUT1IudWkuZmlyZShcInJlYWR5XCIsdGhpcyk7dGhpcy5maXJlKFwic2hvd1wiLHt9KTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJkaWFsb2dTaG93XCIsdGhpcyk7dGhpcy5fLnBhcmVudERpYWxvZ3x8dGhpcy5fLmVkaXRvci5mb2N1c01hbmFnZXIubG9jaygpO3RoaXMuZm9yZWFjaChmdW5jdGlvbihhKXthLnNldEluaXRWYWx1ZSYmYS5zZXRJbml0VmFsdWUoKX0pfSwxMDAsdGhpcyl9LGxheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFydHMuZGlhbG9nLGI9dGhpcy5nZXRTaXplKCksYz1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRWaWV3UGFuZVNpemUoKSxkPShjLndpZHRoLWIud2lkdGgpLzIsZT0oYy5oZWlnaHQtYi5oZWlnaHQpLzI7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8KGIuaGVpZ2h0KygwPGU/ZTowKT5jLmhlaWdodHx8XG5iLndpZHRoKygwPGQ/ZDowKT5jLndpZHRoP2Euc2V0U3R5bGUoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIik6YS5zZXRTdHlsZShcInBvc2l0aW9uXCIsXCJmaXhlZFwiKSk7dGhpcy5tb3ZlKHRoaXMuXy5tb3ZlZD90aGlzLl8ucG9zaXRpb24ueDpkLHRoaXMuXy5tb3ZlZD90aGlzLl8ucG9zaXRpb24ueTplKX0sZm9yZWFjaDpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gdGhpcy5fLmNvbnRlbnRzKWZvcih2YXIgYyBpbiB0aGlzLl8uY29udGVudHNbYl0pYS5jYWxsKHRoaXMsdGhpcy5fLmNvbnRlbnRzW2JdW2NdKTtyZXR1cm4gdGhpc30scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXthLnJlc2V0JiZhLnJlc2V0KDEpfTtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmZvcmVhY2goYSk7cmV0dXJuIHRoaXN9fSgpLHNldHVwQ29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Yi5zZXR1cCYmYi5zZXR1cC5hcHBseShiLGEpfSl9LFxuY29tbWl0Q29udGVudDpmdW5jdGlvbigpe3ZhciBhPWFyZ3VtZW50czt0aGlzLmZvcmVhY2goZnVuY3Rpb24oYil7Q0tFRElUT1IuZW52LmllJiZ0aGlzLl8uY3VycmVudEZvY3VzSW5kZXg9PWIuZm9jdXNJbmRleCYmYi5nZXRJbnB1dEVsZW1lbnQoKS4kLmJsdXIoKTtiLmNvbW1pdCYmYi5jb21taXQuYXBwbHkoYixhKX0pfSxoaWRlOmZ1bmN0aW9uKCl7aWYodGhpcy5wYXJ0cy5kaWFsb2cuaXNWaXNpYmxlKCkpe3RoaXMuZmlyZShcImhpZGVcIix7fSk7dGhpcy5fLmVkaXRvci5maXJlKFwiZGlhbG9nSGlkZVwiLHRoaXMpO3RoaXMuc2VsZWN0UGFnZSh0aGlzLl8udGFiSWRMaXN0WzBdKTt2YXIgYT10aGlzLl8uZWxlbWVudDthLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnBhcnRzLmRpYWxvZy5zZXRTdHlsZShcInZpc2liaWxpdHlcIixcImhpZGRlblwiKTtmb3IoSih0aGlzKTtDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wIT10aGlzOylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50VG9wLmhpZGUoKTtcbmlmKHRoaXMuXy5wYXJlbnREaWFsb2cpe3ZhciBiPXRoaXMuXy5wYXJlbnREaWFsb2cuZ2V0RWxlbWVudCgpLmdldEZpcnN0KCk7Yi5zZXRTdHlsZShcInotaW5kZXhcIixwYXJzZUludChiLiQuc3R5bGUuekluZGV4LDEwKStNYXRoLmZsb29yKHRoaXMuXy5lZGl0b3IuY29uZmlnLmJhc2VGbG9hdFpJbmRleC8yKSl9ZWxzZSByKHRoaXMuXy5lZGl0b3IpO2lmKENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A9dGhpcy5fLnBhcmVudERpYWxvZylDS0VESVRPUi5kaWFsb2cuXy5jdXJyZW50WkluZGV4LT0xMDtlbHNle0NLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRaSW5kZXg9bnVsbDthLnJlbW92ZUxpc3RlbmVyKFwia2V5ZG93blwiLEUpO2EucmVtb3ZlTGlzdGVuZXIoXCJrZXl1cFwiLEcpO3ZhciBjPXRoaXMuXy5lZGl0b3I7Yy5mb2N1cygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZvY3VzTWFuYWdlci51bmxvY2soKTtDS0VESVRPUi5lbnYuaU9TJiZjLndpbmRvdy5mb2N1cygpfSwwKX1kZWxldGUgdGhpcy5fLnBhcmVudERpYWxvZztcbnRoaXMuZm9yZWFjaChmdW5jdGlvbihhKXthLnJlc2V0SW5pdFZhbHVlJiZhLnJlc2V0SW5pdFZhbHVlKCl9KTt0aGlzLnNldFN0YXRlKENLRURJVE9SLkRJQUxPR19TVEFURV9JRExFKX19LGFkZFBhZ2U6ZnVuY3Rpb24oYSl7aWYoIWEucmVxdWlyZWRDb250ZW50fHx0aGlzLl8uZWRpdG9yLmZpbHRlci5jaGVjayhhLnJlcXVpcmVkQ29udGVudCkpe2Zvcih2YXIgYj1bXSxjPWEubGFiZWw/JyB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYWJlbCkrJ1wiJzpcIlwiLGQ9Q0tFRElUT1IuZGlhbG9nLl8udWlFbGVtZW50QnVpbGRlcnMudmJveC5idWlsZCh0aGlzLHt0eXBlOlwidmJveFwiLGNsYXNzTmFtZTpcImNrZV9kaWFsb2dfcGFnZV9jb250ZW50c1wiLGNoaWxkcmVuOmEuZWxlbWVudHMsZXhwYW5kOiEhYS5leHBhbmQscGFkZGluZzphLnBhZGRpbmcsc3R5bGU6YS5zdHlsZXx8XCJ3aWR0aDogMTAwJTtcIn0sYiksZT10aGlzLl8uY29udGVudHNbYS5pZF09e30sZj1kLmdldENoaWxkKCksXG5nPTA7ZD1mLnNoaWZ0KCk7KWQubm90QWxsb3dlZHx8XCJoYm94XCI9PWQudHlwZXx8XCJ2Ym94XCI9PWQudHlwZXx8ZysrLGVbZC5pZF09ZCxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkLmdldENoaWxkJiZmLnB1c2guYXBwbHkoZixkLmdldENoaWxkKCkpO2d8fChhLmhpZGRlbj0hMCk7Yj1DS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChiLmpvaW4oXCJcIikpO2Iuc2V0QXR0cmlidXRlKFwicm9sZVwiLFwidGFicGFuZWxcIik7ZD1DS0VESVRPUi5lbnY7ZT1cImNrZV9cIithLmlkK1wiX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKTtjPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKFsnXFx4M2NhIGNsYXNzXFx4M2RcImNrZV9kaWFsb2dfdGFiXCInLDA8dGhpcy5fLnBhZ2VDb3VudD9cIiBja2VfbGFzdFwiOlwiY2tlX2ZpcnN0XCIsYyxhLmhpZGRlbj8nIHN0eWxlXFx4M2RcImRpc3BsYXk6bm9uZVwiJzpcIlwiLCcgaWRcXHgzZFwiJyxlLCdcIicsZC5nZWNrbyYmIWQuaGM/XCJcIjonIGhyZWZcXHgzZFwiamF2YXNjcmlwdDp2b2lkKDApXCInLFxuJyB0YWJJbmRleFxceDNkXCItMVwiIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJ0YWJcIlxceDNlJyxhLmxhYmVsLFwiXFx4M2MvYVxceDNlXCJdLmpvaW4oXCJcIikpO2Iuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbGxlZGJ5XCIsZSk7dGhpcy5fLnRhYnNbYS5pZF09W2MsYl07dGhpcy5fLnRhYklkTGlzdC5wdXNoKGEuaWQpOyFhLmhpZGRlbiYmdGhpcy5fLnBhZ2VDb3VudCsrO3RoaXMuXy5sYXN0VGFiPWM7dGhpcy51cGRhdGVTdHlsZSgpO2Iuc2V0QXR0cmlidXRlKFwibmFtZVwiLGEuaWQpO2IuYXBwZW5kVG8odGhpcy5wYXJ0cy5jb250ZW50cyk7Yy51bnNlbGVjdGFibGUoKTt0aGlzLnBhcnRzLnRhYnMuYXBwZW5kKGMpO2EuYWNjZXNzS2V5JiYoRih0aGlzLHRoaXMsXCJDVFJMK1wiK2EuYWNjZXNzS2V5LE0sSCksdGhpcy5fLmFjY2Vzc0tleU1hcFtcIkNUUkwrXCIrYS5hY2Nlc3NLZXldPWEuaWQpfX0sc2VsZWN0UGFnZTpmdW5jdGlvbihhKXtpZih0aGlzLl8uY3VycmVudFRhYklkIT1hJiYhdGhpcy5fLnRhYnNbYV1bMF0uaGFzQ2xhc3MoXCJja2VfZGlhbG9nX3RhYl9kaXNhYmxlZFwiKSYmXG4hMSE9PXRoaXMuZmlyZShcInNlbGVjdFBhZ2VcIix7cGFnZTphLGN1cnJlbnRQYWdlOnRoaXMuXy5jdXJyZW50VGFiSWR9KSl7Zm9yKHZhciBjIGluIHRoaXMuXy50YWJzKXt2YXIgZD10aGlzLl8udGFic1tjXVswXSxlPXRoaXMuXy50YWJzW2NdWzFdO2MhPWEmJihkLnJlbW92ZUNsYXNzKFwiY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWRcIiksZS5oaWRlKCkpO2Uuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIixjIT1hKX12YXIgZj10aGlzLl8udGFic1thXTtmWzBdLmFkZENsYXNzKFwiY2tlX2RpYWxvZ190YWJfc2VsZWN0ZWRcIik7Q0tFRElUT1IuZW52LmllNkNvbXBhdHx8Q0tFRElUT1IuZW52LmllN0NvbXBhdD8oYihmWzFdKSxmWzFdLnNob3coKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihmWzFdLDEpfSwwKSk6ZlsxXS5zaG93KCk7dGhpcy5fLmN1cnJlbnRUYWJJZD1hO3RoaXMuXy5jdXJyZW50VGFiSW5kZXg9Q0tFRElUT1IudG9vbHMuaW5kZXhPZih0aGlzLl8udGFiSWRMaXN0LGEpfX0sXG51cGRhdGVTdHlsZTpmdW5jdGlvbigpe3RoaXMucGFydHMuZGlhbG9nWygxPT09dGhpcy5fLnBhZ2VDb3VudD9cImFkZFwiOlwicmVtb3ZlXCIpK1wiQ2xhc3NcIl0oXCJja2Vfc2luZ2xlX3BhZ2VcIil9LGhpZGVQYWdlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuXy50YWJzW2JdJiZ0aGlzLl8udGFic1tiXVswXTtjJiYxIT10aGlzLl8ucGFnZUNvdW50JiZjLmlzVmlzaWJsZSgpJiYoYj09dGhpcy5fLmN1cnJlbnRUYWJJZCYmdGhpcy5zZWxlY3RQYWdlKGEuY2FsbCh0aGlzKSksYy5oaWRlKCksdGhpcy5fLnBhZ2VDb3VudC0tLHRoaXMudXBkYXRlU3R5bGUoKSl9LHNob3dQYWdlOmZ1bmN0aW9uKGEpe2lmKGE9dGhpcy5fLnRhYnNbYV0mJnRoaXMuXy50YWJzW2FdWzBdKWEuc2hvdygpLHRoaXMuXy5wYWdlQ291bnQrKyx0aGlzLnVwZGF0ZVN0eWxlKCl9LGdldEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVsZW1lbnR9LGdldE5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLm5hbWV9LFxuZ2V0Q29udGVudEVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLl8uY29udGVudHNbYV07cmV0dXJuIGMmJmNbYl19LGdldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRDb250ZW50RWxlbWVudChhLGIpLmdldFZhbHVlKCl9LHNldFZhbHVlT2Y6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmdldENvbnRlbnRFbGVtZW50KGEsYikuc2V0VmFsdWUoYyl9LGdldEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV19LGNsaWNrOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5jbGljaygpfSxkaXNhYmxlQnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLl8uYnV0dG9uc1thXS5kaXNhYmxlKCl9LGVuYWJsZUJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJ1dHRvbnNbYV0uZW5hYmxlKCl9LGdldFBhZ2VDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8ucGFnZUNvdW50fSxnZXRQYXJlbnRFZGl0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fLmVkaXRvcn0sXG5nZXRTZWxlY3RlZEVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQYXJlbnRFZGl0b3IoKS5nZXRTZWxlY3Rpb24oKS5nZXRTZWxlY3RlZEVsZW1lbnQoKX0sYWRkRm9jdXNhYmxlOmZ1bmN0aW9uKGEsYil7aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGIpYj10aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aCx0aGlzLl8uZm9jdXNMaXN0LnB1c2gobmV3IGsodGhpcyxhLGIpKTtlbHNle3RoaXMuXy5mb2N1c0xpc3Quc3BsaWNlKGIsMCxuZXcgayh0aGlzLGEsYikpO2Zvcih2YXIgYz1iKzE7Yzx0aGlzLl8uZm9jdXNMaXN0Lmxlbmd0aDtjKyspdGhpcy5fLmZvY3VzTGlzdFtjXS5mb2N1c0luZGV4Kyt9fSxzZXRTdGF0ZTpmdW5jdGlvbihhKXtpZih0aGlzLnN0YXRlIT1hKXt0aGlzLnN0YXRlPWE7aWYoYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0JVU1kpe2lmKCF0aGlzLnBhcnRzLnNwaW5uZXIpe3ZhciBiPXRoaXMuZ2V0UGFyZW50RWRpdG9yKCkubGFuZy5kaXIsYz17YXR0cmlidXRlczp7XCJjbGFzc1wiOlwiY2tlX2RpYWxvZ19zcGlubmVyXCJ9LFxuc3R5bGVzOntcImZsb2F0XCI6XCJydGxcIj09Yj9cInJpZ2h0XCI6XCJsZWZ0XCJ9fTtjLnN0eWxlc1tcIm1hcmdpbi1cIisoXCJydGxcIj09Yj9cImxlZnRcIjpcInJpZ2h0XCIpXT1cIjhweFwiO3RoaXMucGFydHMuc3Bpbm5lcj1DS0VESVRPUi5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsYyk7dGhpcy5wYXJ0cy5zcGlubmVyLnNldEh0bWwoXCJcXHgyNiM4OTg3O1wiKTt0aGlzLnBhcnRzLnNwaW5uZXIuYXBwZW5kVG8odGhpcy5wYXJ0cy50aXRsZSwxKX10aGlzLnBhcnRzLnNwaW5uZXIuc2hvdygpO3RoaXMuZ2V0QnV0dG9uKFwib2tcIikuZGlzYWJsZSgpfWVsc2UgYT09Q0tFRElUT1IuRElBTE9HX1NUQVRFX0lETEUmJih0aGlzLnBhcnRzLnNwaW5uZXImJnRoaXMucGFydHMuc3Bpbm5lci5oaWRlKCksdGhpcy5nZXRCdXR0b24oXCJva1wiKS5lbmFibGUoKSk7dGhpcy5maXJlKFwic3RhdGVcIixhKX19fTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZGlhbG9nLHthZGQ6ZnVuY3Rpb24oYSxiKXt0aGlzLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV0mJlxuXCJmdW5jdGlvblwiIT10eXBlb2YgYnx8KHRoaXMuXy5kaWFsb2dEZWZpbml0aW9uc1thXT1iKX0sZXhpc3RzOmZ1bmN0aW9uKGEpe3JldHVybiEhdGhpcy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdfSxnZXRDdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3B9LGlzVGFiRW5hYmxlZDpmdW5jdGlvbihhLGIsYyl7YT1hLmNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzO3JldHVybiEoYSYmYS5tYXRjaChuZXcgUmVnRXhwKFwiKD86Xnw7KVwiK2IrXCI6XCIrYytcIig/OiR8OylcIixcImlcIikpKX0sb2tCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2I9Ynx8e307cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7aWQ6XCJva1wiLHR5cGU6XCJidXR0b25cIixsYWJlbDphLmxhbmcuY29tbW9uLm9rLFwiY2xhc3NcIjpcImNrZV9kaWFsb2dfdWlfYnV0dG9uX29rXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJva1wiLFxue2hpZGU6ITB9KS5oaWRlJiZhLmhpZGUoKX19LGIsITApfTthLnR5cGU9XCJidXR0b25cIjthLm92ZXJyaWRlPWZ1bmN0aW9uKGIpe3JldHVybiBDS0VESVRPUi50b29scy5leHRlbmQoZnVuY3Rpb24oYyl7cmV0dXJuIGEoYyxiKX0se3R5cGU6XCJidXR0b25cIn0sITApfTtyZXR1cm4gYX0oKSxjYW5jZWxCdXR0b246ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhLGIpe2I9Ynx8e307cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7aWQ6XCJjYW5jZWxcIix0eXBlOlwiYnV0dG9uXCIsbGFiZWw6YS5sYW5nLmNvbW1vbi5jYW5jZWwsXCJjbGFzc1wiOlwiY2tlX2RpYWxvZ191aV9idXR0b25fY2FuY2VsXCIsb25DbGljazpmdW5jdGlvbihhKXthPWEuZGF0YS5kaWFsb2c7ITEhPT1hLmZpcmUoXCJjYW5jZWxcIix7aGlkZTohMH0pLmhpZGUmJmEuaGlkZSgpfX0sYiwhMCl9O2EudHlwZT1cImJ1dHRvblwiO2Eub3ZlcnJpZGU9ZnVuY3Rpb24oYil7cmV0dXJuIENLRURJVE9SLnRvb2xzLmV4dGVuZChmdW5jdGlvbihjKXtyZXR1cm4gYShjLFxuYil9LHt0eXBlOlwiYnV0dG9uXCJ9LCEwKX07cmV0dXJuIGF9KCksYWRkVUlFbGVtZW50OmZ1bmN0aW9uKGEsYil7dGhpcy5fLnVpRWxlbWVudEJ1aWxkZXJzW2FdPWJ9fSk7Q0tFRElUT1IuZGlhbG9nLl89e3VpRWxlbWVudEJ1aWxkZXJzOnt9LGRpYWxvZ0RlZmluaXRpb25zOnt9LGN1cnJlbnRUb3A6bnVsbCxjdXJyZW50WkluZGV4Om51bGx9O0NLRURJVE9SLmV2ZW50LmltcGxlbWVudE9uKENLRURJVE9SLmRpYWxvZyk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24oQ0tFRElUT1IuZGlhbG9nLnByb3RvdHlwZSk7dmFyIHU9e3Jlc2l6YWJsZTpDS0VESVRPUi5ESUFMT0dfUkVTSVpFX0JPVEgsbWluV2lkdGg6NjAwLG1pbkhlaWdodDo0MDAsYnV0dG9uczpbQ0tFRElUT1IuZGlhbG9nLm9rQnV0dG9uLENLRURJVE9SLmRpYWxvZy5jYW5jZWxCdXR0b25dfSx0PWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxlO2U9YVtkXTtkKyspaWYoZS5pZD09Ynx8YyYmZVtjXSYmKGU9dChlW2NdLFxuYixjKSkpcmV0dXJuIGU7cmV0dXJuIG51bGx9LHk9ZnVuY3Rpb24oYSxiLGMsZCxlKXtpZihjKXtmb3IodmFyIGY9MCxnO2c9YVtmXTtmKyspe2lmKGcuaWQ9PWMpcmV0dXJuIGEuc3BsaWNlKGYsMCxiKSxiO2lmKGQmJmdbZF0mJihnPXkoZ1tkXSxiLGMsZCwhMCkpKXJldHVybiBnfWlmKGUpcmV0dXJuIG51bGx9YS5wdXNoKGIpO3JldHVybiBifSxBPWZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9MCxlO2U9YVtkXTtkKyspe2lmKGUuaWQ9PWIpcmV0dXJuIGEuc3BsaWNlKGQsMSk7aWYoYyYmZVtjXSYmKGU9QShlW2NdLGIsYykpKXJldHVybiBlfXJldHVybiBudWxsfSxxPWZ1bmN0aW9uKGEsYil7dGhpcy5kaWFsb2c9YTtmb3IodmFyIGM9Yi5jb250ZW50cyxkPTAsZTtlPWNbZF07ZCsrKWNbZF09ZSYmbmV3IGgoYSxlKTtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxiKX07cS5wcm90b3R5cGU9e2dldENvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiB0KHRoaXMuY29udGVudHMsXG5hKX0sZ2V0QnV0dG9uOmZ1bmN0aW9uKGEpe3JldHVybiB0KHRoaXMuYnV0dG9ucyxhKX0sYWRkQ29udGVudHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4geSh0aGlzLmNvbnRlbnRzLGEsYil9LGFkZEJ1dHRvbjpmdW5jdGlvbihhLGIpe3JldHVybiB5KHRoaXMuYnV0dG9ucyxhLGIpfSxyZW1vdmVDb250ZW50czpmdW5jdGlvbihhKXtBKHRoaXMuY29udGVudHMsYSl9LHJlbW92ZUJ1dHRvbjpmdW5jdGlvbihhKXtBKHRoaXMuYnV0dG9ucyxhKX19O2gucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHQodGhpcy5lbGVtZW50cyxhLFwiY2hpbGRyZW5cIil9LGFkZDpmdW5jdGlvbihhLGIpe3JldHVybiB5KHRoaXMuZWxlbWVudHMsYSxiLFwiY2hpbGRyZW5cIil9LHJlbW92ZTpmdW5jdGlvbihhKXtBKHRoaXMuZWxlbWVudHMsYSxcImNoaWxkcmVuXCIpfX07dmFyIHcsQj17fSx6LEM9e30sRT1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGM9XG5hLmRhdGEuJC5hbHRLZXksZD1hLmRhdGEuJC5zaGlmdEtleSxlPVN0cmluZy5mcm9tQ2hhckNvZGUoYS5kYXRhLiQua2V5Q29kZSk7KGI9Q1soYj9cIkNUUkwrXCI6XCJcIikrKGM/XCJBTFQrXCI6XCJcIikrKGQ/XCJTSElGVCtcIjpcIlwiKStlXSkmJmIubGVuZ3RoJiYoYj1iW2IubGVuZ3RoLTFdLGIua2V5ZG93biYmYi5rZXlkb3duLmNhbGwoYi51aUVsZW1lbnQsYi5kaWFsb2csYi5rZXkpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKX0sRz1mdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuJC5jdHJsS2V5fHxhLmRhdGEuJC5tZXRhS2V5LGM9YS5kYXRhLiQuYWx0S2V5LGQ9YS5kYXRhLiQuc2hpZnRLZXksZT1TdHJpbmcuZnJvbUNoYXJDb2RlKGEuZGF0YS4kLmtleUNvZGUpOyhiPUNbKGI/XCJDVFJMK1wiOlwiXCIpKyhjP1wiQUxUK1wiOlwiXCIpKyhkP1wiU0hJRlQrXCI6XCJcIikrZV0pJiZiLmxlbmd0aCYmKGI9YltiLmxlbmd0aC0xXSxiLmtleXVwJiYoYi5rZXl1cC5jYWxsKGIudWlFbGVtZW50LGIuZGlhbG9nLGIua2V5KSxcbmEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpKSl9LEY9ZnVuY3Rpb24oYSxiLGMsZCxlKXsoQ1tjXXx8KENbY109W10pKS5wdXNoKHt1aUVsZW1lbnQ6YSxkaWFsb2c6YixrZXk6YyxrZXl1cDplfHxhLmFjY2Vzc0tleVVwLGtleWRvd246ZHx8YS5hY2Nlc3NLZXlEb3dufSl9LEo9ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIEMpe2Zvcih2YXIgYz1DW2JdLGQ9Yy5sZW5ndGgtMTswPD1kO2QtLSljW2RdLmRpYWxvZyE9YSYmY1tkXS51aUVsZW1lbnQhPWF8fGMuc3BsaWNlKGQsMSk7MD09PWMubGVuZ3RoJiZkZWxldGUgQ1tiXX19LEg9ZnVuY3Rpb24oYSxiKXthLl8uYWNjZXNzS2V5TWFwW2JdJiZhLnNlbGVjdFBhZ2UoYS5fLmFjY2Vzc0tleU1hcFtiXSl9LE09ZnVuY3Rpb24oKXt9OyhmdW5jdGlvbigpe0NLRURJVE9SLnVpLmRpYWxvZz17dWlFbGVtZW50OmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dmFyIGg9KGQuY2FsbD9kKGIpOmQpfHxcImRpdlwiLFxuaz1bXCJcXHgzY1wiLGgsXCIgXCJdLG09KGUmJmUuY2FsbD9lKGIpOmUpfHx7fSxsPShmJiZmLmNhbGw/ZihiKTpmKXx8e30scT0oZyYmZy5jYWxsP2cuY2FsbCh0aGlzLGEsYik6Zyl8fFwiXCIsbj10aGlzLmRvbUlkPWwuaWR8fENLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpK1wiX3VpRWxlbWVudFwiO2IucmVxdWlyZWRDb250ZW50JiYhYS5nZXRQYXJlbnRFZGl0b3IoKS5maWx0ZXIuY2hlY2soYi5yZXF1aXJlZENvbnRlbnQpJiYobS5kaXNwbGF5PVwibm9uZVwiLHRoaXMubm90QWxsb3dlZD0hMCk7bC5pZD1uO3ZhciB0PXt9O2IudHlwZSYmKHRbXCJja2VfZGlhbG9nX3VpX1wiK2IudHlwZV09MSk7Yi5jbGFzc05hbWUmJih0W2IuY2xhc3NOYW1lXT0xKTtiLmRpc2FibGVkJiYodC5ja2VfZGlzYWJsZWQ9MSk7Zm9yKHZhciB1PWxbXCJjbGFzc1wiXSYmbFtcImNsYXNzXCJdLnNwbGl0P2xbXCJjbGFzc1wiXS5zcGxpdChcIiBcIik6W10sbj0wO248dS5sZW5ndGg7bisrKXVbbl0mJih0W3Vbbl1dPTEpO3U9W107Zm9yKG4gaW4gdCl1LnB1c2gobik7XG5sW1wiY2xhc3NcIl09dS5qb2luKFwiIFwiKTtiLnRpdGxlJiYobC50aXRsZT1iLnRpdGxlKTt0PShiLnN0eWxlfHxcIlwiKS5zcGxpdChcIjtcIik7Yi5hbGlnbiYmKHU9Yi5hbGlnbixtW1wibWFyZ2luLWxlZnRcIl09XCJsZWZ0XCI9PXU/MDpcImF1dG9cIixtW1wibWFyZ2luLXJpZ2h0XCJdPVwicmlnaHRcIj09dT8wOlwiYXV0b1wiKTtmb3IobiBpbiBtKXQucHVzaChuK1wiOlwiK21bbl0pO2IuaGlkZGVuJiZ0LnB1c2goXCJkaXNwbGF5Om5vbmVcIik7Zm9yKG49dC5sZW5ndGgtMTswPD1uO24tLSlcIlwiPT09dFtuXSYmdC5zcGxpY2UobiwxKTswPHQubGVuZ3RoJiYobC5zdHlsZT0obC5zdHlsZT9sLnN0eWxlK1wiOyBcIjpcIlwiKSt0LmpvaW4oXCI7IFwiKSk7Zm9yKG4gaW4gbClrLnB1c2gobisnXFx4M2RcIicrQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShsW25dKSsnXCIgJyk7ay5wdXNoKFwiXFx4M2VcIixxLFwiXFx4M2MvXCIsaCxcIlxceDNlXCIpO2MucHVzaChrLmpvaW4oXCJcIikpOyh0aGlzLl98fCh0aGlzLl89e30pKS5kaWFsb2c9YTtcImJvb2xlYW5cIj09XG50eXBlb2YgYi5pc0NoYW5nZWQmJih0aGlzLmlzQ2hhbmdlZD1mdW5jdGlvbigpe3JldHVybiBiLmlzQ2hhbmdlZH0pO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuaXNDaGFuZ2VkJiYodGhpcy5pc0NoYW5nZWQ9Yi5pc0NoYW5nZWQpO1wiZnVuY3Rpb25cIj09dHlwZW9mIGIuc2V0VmFsdWUmJih0aGlzLnNldFZhbHVlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKHRoaXMuc2V0VmFsdWUsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGMpe2EuY2FsbCh0aGlzLGIuc2V0VmFsdWUuY2FsbCh0aGlzLGMpKX19KSk7XCJmdW5jdGlvblwiPT10eXBlb2YgYi5nZXRWYWx1ZSYmKHRoaXMuZ2V0VmFsdWU9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUodGhpcy5nZXRWYWx1ZSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYi5nZXRWYWx1ZS5jYWxsKHRoaXMsYS5jYWxsKHRoaXMpKX19KSk7Q0tFRElUT1IuZXZlbnQuaW1wbGVtZW50T24odGhpcyk7dGhpcy5yZWdpc3RlckV2ZW50cyhiKTtcbnRoaXMuYWNjZXNzS2V5VXAmJnRoaXMuYWNjZXNzS2V5RG93biYmYi5hY2Nlc3NLZXkmJkYodGhpcyxhLFwiQ1RSTCtcIitiLmFjY2Vzc0tleSk7dmFyIHk9dGhpczthLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7dmFyIGI9eS5nZXRJbnB1dEVsZW1lbnQoKTtpZihiKXt2YXIgYz15LnR5cGUgaW57Y2hlY2tib3g6MSxyYXRpbzoxfSYmQ0tFRElUT1IuZW52LmllJiY4PkNLRURJVE9SLmVudi52ZXJzaW9uP1wiY2tlX2RpYWxvZ191aV9mb2N1c2VkXCI6XCJcIjtiLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe2EuXy50YWJCYXJNb2RlPSExO2EuXy5oYXNGb2N1cz0hMDt5LmZpcmUoXCJmb2N1c1wiKTtjJiZ0aGlzLmFkZENsYXNzKGMpfSk7Yi5vbihcImJsdXJcIixmdW5jdGlvbigpe3kuZmlyZShcImJsdXJcIik7YyYmdGhpcy5yZW1vdmVDbGFzcyhjKX0pfX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO3RoaXMua2V5Ym9hcmRGb2N1c2FibGUmJih0aGlzLnRhYkluZGV4PWIudGFiSW5kZXh8fDAsdGhpcy5mb2N1c0luZGV4PVxuYS5fLmZvY3VzTGlzdC5wdXNoKHRoaXMpLTEsdGhpcy5vbihcImZvY3VzXCIsZnVuY3Rpb24oKXthLl8uY3VycmVudEZvY3VzSW5kZXg9eS5mb2N1c0luZGV4fSkpfX0saGJveDpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKCEoND5hcmd1bWVudHMubGVuZ3RoKSl7dGhpcy5ffHwodGhpcy5fPXt9KTt2YXIgZj10aGlzLl8uY2hpbGRyZW49YixnPWUmJmUud2lkdGhzfHxudWxsLGg9ZSYmZS5oZWlnaHR8fG51bGwsayxtPXtyb2xlOlwicHJlc2VudGF0aW9uXCJ9O2UmJmUuYWxpZ24mJihtLmFsaWduPWUuYWxpZ24pO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQuY2FsbCh0aGlzLGEsZXx8e3R5cGU6XCJoYm94XCJ9LGQsXCJ0YWJsZVwiLHt9LG0sZnVuY3Rpb24oKXt2YXIgYT1bJ1xceDNjdGJvZHlcXHgzZVxceDNjdHIgY2xhc3NcXHgzZFwiY2tlX2RpYWxvZ191aV9oYm94XCJcXHgzZSddO2ZvcihrPTA7azxjLmxlbmd0aDtrKyspe3ZhciBiPVwiY2tlX2RpYWxvZ191aV9oYm94X2NoaWxkXCIsZD1bXTswPT09ayYmXG4oYj1cImNrZV9kaWFsb2dfdWlfaGJveF9maXJzdFwiKTtrPT1jLmxlbmd0aC0xJiYoYj1cImNrZV9kaWFsb2dfdWlfaGJveF9sYXN0XCIpO2EucHVzaCgnXFx4M2N0ZCBjbGFzc1xceDNkXCInLGIsJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgJyk7Zz9nW2tdJiZkLnB1c2goXCJ3aWR0aDpcIit4KGdba10pKTpkLnB1c2goXCJ3aWR0aDpcIitNYXRoLmZsb29yKDEwMC9jLmxlbmd0aCkrXCIlXCIpO2gmJmQucHVzaChcImhlaWdodDpcIit4KGgpKTtlJiZ2b2lkIDAhPT1lLnBhZGRpbmcmJmQucHVzaChcInBhZGRpbmc6XCIreChlLnBhZGRpbmcpKTtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmZba10uYWxpZ24mJmQucHVzaChcInRleHQtYWxpZ246XCIrZltrXS5hbGlnbik7MDxkLmxlbmd0aCYmYS5wdXNoKCdzdHlsZVxceDNkXCInK2Quam9pbihcIjsgXCIpKydcIiAnKTthLnB1c2goXCJcXHgzZVwiLGNba10sXCJcXHgzYy90ZFxceDNlXCIpfWEucHVzaChcIlxceDNjL3RyXFx4M2VcXHgzYy90Ym9keVxceDNlXCIpO3JldHVybiBhLmpvaW4oXCJcIil9KX19LFxudmJveDpmdW5jdGlvbihhLGIsYyxkLGUpe2lmKCEoMz5hcmd1bWVudHMubGVuZ3RoKSl7dGhpcy5ffHwodGhpcy5fPXt9KTt2YXIgZj10aGlzLl8uY2hpbGRyZW49YixnPWUmJmUud2lkdGh8fG51bGwsaD1lJiZlLmhlaWdodHN8fG51bGw7Q0tFRElUT1IudWkuZGlhbG9nLnVpRWxlbWVudC5jYWxsKHRoaXMsYSxlfHx7dHlwZTpcInZib3hcIn0sZCxcImRpdlwiLG51bGwse3JvbGU6XCJwcmVzZW50YXRpb25cIn0sZnVuY3Rpb24oKXt2YXIgYj1bJ1xceDNjdGFibGUgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjZWxsc3BhY2luZ1xceDNkXCIwXCIgYm9yZGVyXFx4M2RcIjBcIiAnXTtiLnB1c2goJ3N0eWxlXFx4M2RcIicpO2UmJmUuZXhwYW5kJiZiLnB1c2goXCJoZWlnaHQ6MTAwJTtcIik7Yi5wdXNoKFwid2lkdGg6XCIreChnfHxcIjEwMCVcIiksXCI7XCIpO0NLRURJVE9SLmVudi53ZWJraXQmJmIucHVzaChcImZsb2F0Om5vbmU7XCIpO2IucHVzaCgnXCInKTtiLnB1c2goJ2FsaWduXFx4M2RcIicsQ0tFRElUT1IudG9vbHMuaHRtbEVuY29kZShlJiZcbmUuYWxpZ258fChcImx0clwiPT1hLmdldFBhcmVudEVkaXRvcigpLmxhbmcuZGlyP1wibGVmdFwiOlwicmlnaHRcIikpLCdcIiAnKTtiLnB1c2goXCJcXHgzZVxceDNjdGJvZHlcXHgzZVwiKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGs9W107Yi5wdXNoKCdcXHgzY3RyXFx4M2VcXHgzY3RkIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCIgJyk7ZyYmay5wdXNoKFwid2lkdGg6XCIreChnfHxcIjEwMCVcIikpO2g/ay5wdXNoKFwiaGVpZ2h0OlwiK3goaFtkXSkpOmUmJmUuZXhwYW5kJiZrLnB1c2goXCJoZWlnaHQ6XCIrTWF0aC5mbG9vcigxMDAvYy5sZW5ndGgpK1wiJVwiKTtlJiZ2b2lkIDAhPT1lLnBhZGRpbmcmJmsucHVzaChcInBhZGRpbmc6XCIreChlLnBhZGRpbmcpKTtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJmZbZF0uYWxpZ24mJmsucHVzaChcInRleHQtYWxpZ246XCIrZltkXS5hbGlnbik7MDxrLmxlbmd0aCYmYi5wdXNoKCdzdHlsZVxceDNkXCInLGsuam9pbihcIjsgXCIpLCdcIiAnKTtiLnB1c2goJyBjbGFzc1xceDNkXCJja2VfZGlhbG9nX3VpX3Zib3hfY2hpbGRcIlxceDNlJyxcbmNbZF0sXCJcXHgzYy90ZFxceDNlXFx4M2MvdHJcXHgzZVwiKX1iLnB1c2goXCJcXHgzYy90Ym9keVxceDNlXFx4M2MvdGFibGVcXHgzZVwiKTtyZXR1cm4gYi5qb2luKFwiXCIpfSl9fX19KSgpO0NLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQucHJvdG90eXBlPXtnZXRFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5kb21JZCl9LGdldElucHV0RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEVsZW1lbnQoKX0sZ2V0RGlhbG9nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5kaWFsb2d9LHNldFZhbHVlOmZ1bmN0aW9uKGEsYil7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRWYWx1ZShhKTshYiYmdGhpcy5maXJlKFwiY2hhbmdlXCIse3ZhbHVlOmF9KTtyZXR1cm4gdGhpc30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5nZXRWYWx1ZSgpfSxpc0NoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMX0sc2VsZWN0UGFyZW50VGFiOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVxudGhpcy5nZXRJbnB1dEVsZW1lbnQoKTsoYT1hLmdldFBhcmVudCgpKSYmLTE9PWEuJC5jbGFzc05hbWUuc2VhcmNoKFwiY2tlX2RpYWxvZ19wYWdlX2NvbnRlbnRzXCIpOyk7aWYoIWEpcmV0dXJuIHRoaXM7YT1hLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7dGhpcy5fLmRpYWxvZy5fLmN1cnJlbnRUYWJJZCE9YSYmdGhpcy5fLmRpYWxvZy5zZWxlY3RQYWdlKGEpO3JldHVybiB0aGlzfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuc2VsZWN0UGFyZW50VGFiKCkuZ2V0SW5wdXRFbGVtZW50KCkuZm9jdXMoKTtyZXR1cm4gdGhpc30scmVnaXN0ZXJFdmVudHM6ZnVuY3Rpb24oYSl7dmFyIGI9L15vbihbQS1aXVxcdyspLyxjLGQ9ZnVuY3Rpb24oYSxiLGMsZCl7Yi5vbihcImxvYWRcIixmdW5jdGlvbigpe2EuZ2V0SW5wdXRFbGVtZW50KCkub24oYyxkLGEpfSl9LGU7Zm9yKGUgaW4gYSlpZihjPWUubWF0Y2goYikpdGhpcy5ldmVudFByb2Nlc3NvcnNbZV0/dGhpcy5ldmVudFByb2Nlc3NvcnNbZV0uY2FsbCh0aGlzLFxudGhpcy5fLmRpYWxvZyxhW2VdKTpkKHRoaXMsdGhpcy5fLmRpYWxvZyxjWzFdLnRvTG93ZXJDYXNlKCksYVtlXSk7cmV0dXJuIHRoaXN9LGV2ZW50UHJvY2Vzc29yczp7b25Mb2FkOmZ1bmN0aW9uKGEsYil7YS5vbihcImxvYWRcIixiLHRoaXMpfSxvblNob3c6ZnVuY3Rpb24oYSxiKXthLm9uKFwic2hvd1wiLGIsdGhpcyl9LG9uSGlkZTpmdW5jdGlvbihhLGIpe2Eub24oXCJoaWRlXCIsYix0aGlzKX19LGFjY2Vzc0tleURvd246ZnVuY3Rpb24oKXt0aGlzLmZvY3VzKCl9LGFjY2Vzc0tleVVwOmZ1bmN0aW9uKCl7fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRFbGVtZW50KCk7dGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwidHJ1ZVwiKTthLmFkZENsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEVsZW1lbnQoKTt0aGlzLmdldElucHV0RWxlbWVudCgpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xuYS5yZW1vdmVDbGFzcyhcImNrZV9kaXNhYmxlZFwiKX0saXNFbmFibGVkOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZ2V0RWxlbWVudCgpLmhhc0NsYXNzKFwiY2tlX2Rpc2FibGVkXCIpfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRJbnB1dEVsZW1lbnQoKS5pc1Zpc2libGUoKX0saXNGb2N1c2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0VuYWJsZWQoKSYmdGhpcy5pc1Zpc2libGUoKT8hMDohMX19O0NLRURJVE9SLnVpLmRpYWxvZy5oYm94LnByb3RvdHlwZT1DS0VESVRPUi50b29scy5leHRlbmQobmV3IENLRURJVE9SLnVpLmRpYWxvZy51aUVsZW1lbnQse2dldENoaWxkOmZ1bmN0aW9uKGEpe2lmKDE+YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fLmNoaWxkcmVuLmNvbmNhdCgpO2Euc3BsaWNlfHwoYT1bYV0pO3JldHVybiAyPmEubGVuZ3RoP3RoaXMuXy5jaGlsZHJlblthWzBdXTp0aGlzLl8uY2hpbGRyZW5bYVswXV0mJnRoaXMuXy5jaGlsZHJlblthWzBdXS5nZXRDaGlsZD9cbnRoaXMuXy5jaGlsZHJlblthWzBdXS5nZXRDaGlsZChhLnNsaWNlKDEsYS5sZW5ndGgpKTpudWxsfX0sITApO0NLRURJVE9SLnVpLmRpYWxvZy52Ym94LnByb3RvdHlwZT1uZXcgQ0tFRElUT1IudWkuZGlhbG9nLmhib3g7KGZ1bmN0aW9uKCl7dmFyIGE9e2J1aWxkOmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9Yi5jaGlsZHJlbixlLGY9W10sZz1bXSxoPTA7aDxkLmxlbmd0aCYmKGU9ZFtoXSk7aCsrKXt2YXIgaz1bXTtmLnB1c2goayk7Zy5wdXNoKENLRURJVE9SLmRpYWxvZy5fLnVpRWxlbWVudEJ1aWxkZXJzW2UudHlwZV0uYnVpbGQoYSxlLGspKX1yZXR1cm4gbmV3IENLRURJVE9SLnVpLmRpYWxvZ1tiLnR5cGVdKGEsZyxmLGMsYil9fTtDS0VESVRPUi5kaWFsb2cuYWRkVUlFbGVtZW50KFwiaGJveFwiLGEpO0NLRURJVE9SLmRpYWxvZy5hZGRVSUVsZW1lbnQoXCJ2Ym94XCIsYSl9KSgpO0NLRURJVE9SLmRpYWxvZ0NvbW1hbmQ9ZnVuY3Rpb24oYSxiKXt0aGlzLmRpYWxvZ05hbWU9YTtcbkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIsITApfTtDS0VESVRPUi5kaWFsb2dDb21tYW5kLnByb3RvdHlwZT17ZXhlYzpmdW5jdGlvbihhKXthLm9wZW5EaWFsb2codGhpcy5kaWFsb2dOYW1lKX0sY2FuVW5kbzohMSxlZGl0b3JGb2N1czoxfTsoZnVuY3Rpb24oKXt2YXIgYT0vXihbYV18W15hXSkrJC8sYj0vXlxcZCokLyxjPS9eXFxkKig/OlxcLlxcZCspPyQvLGQ9L14oKChcXGQqKFxcLlxcZCspKXwoXFxkKikpKHB4fFxcJSk/KT8kLyxlPS9eKCgoXFxkKihcXC5cXGQrKSl8KFxcZCopKShweHxlbXxleHxpbnxjbXxtbXxwdHxwY3xcXCUpPyk/JC9pLGY9L14oXFxzKltcXHctXStcXHMqOlxccypbXjo7XSsoPzo7fCQpKSokLztDS0VESVRPUi5WQUxJREFURV9PUj0xO0NLRURJVE9SLlZBTElEQVRFX0FORD0yO0NLRURJVE9SLmRpYWxvZy52YWxpZGF0ZT17ZnVuY3Rpb25zOmZ1bmN0aW9uKCl7dmFyIGE9YXJndW1lbnRzO3JldHVybiBmdW5jdGlvbigpe3ZhciBiPXRoaXMmJnRoaXMuZ2V0VmFsdWU/dGhpcy5nZXRWYWx1ZSgpOlxuYVswXSxjLGQ9Q0tFRElUT1IuVkFMSURBVEVfQU5ELGU9W10sZjtmb3IoZj0wO2Y8YS5sZW5ndGg7ZisrKWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGFbZl0pZS5wdXNoKGFbZl0pO2Vsc2UgYnJlYWs7ZjxhLmxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIGFbZl0mJihjPWFbZl0sZisrKTtmPGEubGVuZ3RoJiZcIm51bWJlclwiPT10eXBlb2YgYVtmXSYmKGQ9YVtmXSk7dmFyIGc9ZD09Q0tFRElUT1IuVkFMSURBVEVfQU5EPyEwOiExO2ZvcihmPTA7ZjxlLmxlbmd0aDtmKyspZz1kPT1DS0VESVRPUi5WQUxJREFURV9BTkQ/ZyYmZVtmXShiKTpnfHxlW2ZdKGIpO3JldHVybiBnPyEwOmN9fSxyZWdleDpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihjKXtjPXRoaXMmJnRoaXMuZ2V0VmFsdWU/dGhpcy5nZXRWYWx1ZSgpOmM7cmV0dXJuIGEudGVzdChjKT8hMDpifX0sbm90RW1wdHk6ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVnZXgoYSxiKX0saW50ZWdlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChiLFxuYSl9LG51bWJlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWdleChjLGEpfSxjc3NMZW5ndGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBlLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxodG1sTGVuZ3RoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihhKXtyZXR1cm4gZC50ZXN0KENLRURJVE9SLnRvb2xzLnRyaW0oYSkpfSxhKX0saW5saW5lU3R5bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZnVuY3Rpb25zKGZ1bmN0aW9uKGEpe3JldHVybiBmLnRlc3QoQ0tFRElUT1IudG9vbHMudHJpbShhKSl9LGEpfSxlcXVhbHM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5mdW5jdGlvbnMoZnVuY3Rpb24oYil7cmV0dXJuIGI9PWF9LGIpfSxub3RFcXVhbDpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmZ1bmN0aW9ucyhmdW5jdGlvbihiKXtyZXR1cm4gYiE9YX0sYil9fTtDS0VESVRPUi5vbihcImluc3RhbmNlRGVzdHJveWVkXCIsXG5mdW5jdGlvbihhKXtpZihDS0VESVRPUi50b29scy5pc0VtcHR5KENLRURJVE9SLmluc3RhbmNlcykpe2Zvcih2YXIgYjtiPUNLRURJVE9SLmRpYWxvZy5fLmN1cnJlbnRUb3A7KWIuaGlkZSgpO2Zvcih2YXIgYyBpbiBCKUJbY10ucmVtb3ZlKCk7Qj17fX1hPWEuZWRpdG9yLl8uc3RvcmVkRGlhbG9ncztmb3IodmFyIGQgaW4gYSlhW2RdLmRlc3Ryb3koKX0pfSkoKTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7b3BlbkRpYWxvZzpmdW5jdGlvbihhLGIpe3ZhciBjPW51bGwsZD1DS0VESVRPUi5kaWFsb2cuXy5kaWFsb2dEZWZpbml0aW9uc1thXTtudWxsPT09Q0tFRElUT1IuZGlhbG9nLl8uY3VycmVudFRvcCYmcCh0aGlzKTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkKWM9dGhpcy5fLnN0b3JlZERpYWxvZ3N8fCh0aGlzLl8uc3RvcmVkRGlhbG9ncz17fSksYz1jW2FdfHwoY1thXT1uZXcgQ0tFRElUT1IuZGlhbG9nKHRoaXMsYSkpLGImJmIuY2FsbChjLFxuYyksYy5zaG93KCk7ZWxzZXtpZihcImZhaWxlZFwiPT1kKXRocm93IHIodGhpcyksRXJyb3IoJ1tDS0VESVRPUi5kaWFsb2cub3BlbkRpYWxvZ10gRGlhbG9nIFwiJythKydcIiBmYWlsZWQgd2hlbiBsb2FkaW5nIGRlZmluaXRpb24uJyk7XCJzdHJpbmdcIj09dHlwZW9mIGQmJkNLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChkKSxmdW5jdGlvbigpe1wiZnVuY3Rpb25cIiE9dHlwZW9mIENLRURJVE9SLmRpYWxvZy5fLmRpYWxvZ0RlZmluaXRpb25zW2FdJiYoQ0tFRElUT1IuZGlhbG9nLl8uZGlhbG9nRGVmaW5pdGlvbnNbYV09XCJmYWlsZWRcIik7dGhpcy5vcGVuRGlhbG9nKGEsYil9LHRoaXMsMCwxKX1DS0VESVRPUi5za2luLmxvYWRQYXJ0KFwiZGlhbG9nXCIpO3JldHVybiBjfX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiZGlhbG9nXCIse3JlcXVpcmVzOlwiZGlhbG9ndWlcIixpbml0OmZ1bmN0aW9uKGEpe2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGYpe2YuZGF0YS5kaWFsb2cmJlxuYS5vcGVuRGlhbG9nKGYuZGF0YS5kaWFsb2cpfSxudWxsLG51bGwsOTk5KX19KSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYTExeWhlbHBcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixhdmFpbGFibGVMYW5nczp7YWY6MSxhcjoxLGF6OjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZvOjEsZnI6MSxcImZyLWNhXCI6MSxnbDoxLGd1OjEsaGU6MSxoaToxLGhyOjEsaHU6MSxpZDoxLGl0OjEsamE6MSxrbToxLGtvOjEsa3U6MSxsdDoxLGx2OjEsbWs6MSxtbjoxLG5iOjEsbmw6MSxubzoxLG9jOjEscGw6MSxwdDoxLFwicHQtYnJcIjoxLHJvOjEscnU6MSxzaToxLHNrOjEsc2w6MSxzcToxLHNyOjEsXCJzci1sYXRuXCI6MSxzdjoxLHRoOjEsdHI6MSx0dDoxLHVnOjEsdWs6MSx2aToxLHpoOjEsXCJ6aC1jblwiOjF9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpczthLmFkZENvbW1hbmQoXCJhMTF5SGVscFwiLFxue2V4ZWM6ZnVuY3Rpb24oKXt2YXIgYj1hLmxhbmdDb2RlLGI9Zi5hdmFpbGFibGVMYW5nc1tiXT9iOmYuYXZhaWxhYmxlTGFuZ3NbYi5yZXBsYWNlKC8tLiovLFwiXCIpXT9iLnJlcGxhY2UoLy0uKi8sXCJcIik6XCJlblwiO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChmLnBhdGgrXCJkaWFsb2dzL2xhbmcvXCIrYitcIi5qc1wiKSxmdW5jdGlvbigpe2EubGFuZy5hMTF5aGVscD1mLmxhbmdFbnRyaWVzW2JdO2Eub3BlbkRpYWxvZyhcImExMXlIZWxwXCIpfSl9LG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9LHJlYWRPbmx5OjEsY2FuVW5kbzohMX0pO2Euc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCs0OCxcImExMXlIZWxwXCIpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJhMTF5SGVscFwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYTExeWhlbHAuanNcIik7YS5vbihcImFyaWFFZGl0b3JIZWxwTGFiZWxcIixmdW5jdGlvbihiKXtiLmRhdGEubGFiZWw9YS5sYW5nLmNvbW1vbi5lZGl0b3JIZWxwfSl9fSl9KCksXG5DS0VESVRPUi5wbHVnaW5zLmFkZChcImFib3V0XCIse3JlcXVpcmVzOlwiZGlhbG9nXCIsaW5pdDpmdW5jdGlvbihhKXt2YXIgZj1hLmFkZENvbW1hbmQoXCJhYm91dFwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiYWJvdXRcIikpO2YubW9kZXM9e3d5c2l3eWc6MSxzb3VyY2U6MX07Zi5jYW5VbmRvPSExO2YucmVhZE9ubHk9MTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJBYm91dFwiLHtsYWJlbDphLmxhbmcuYWJvdXQudGl0bGUsY29tbWFuZDpcImFib3V0XCIsdG9vbGJhcjpcImFib3V0XCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiYWJvdXRcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2Fib3V0LmpzXCIpfX0pLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmFzaWNzdHlsZXNcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgZj0wLGI9ZnVuY3Rpb24oYixkLGUsbSl7aWYobSl7bT1uZXcgQ0tFRElUT1Iuc3R5bGUobSk7dmFyIGc9Y1tlXTtnLnVuc2hpZnQobSk7YS5hdHRhY2hTdHlsZVN0YXRlQ2hhbmdlKG0sXG5mdW5jdGlvbihiKXshYS5yZWFkT25seSYmYS5nZXRDb21tYW5kKGUpLnNldFN0YXRlKGIpfSk7YS5hZGRDb21tYW5kKGUsbmV3IENLRURJVE9SLnN0eWxlQ29tbWFuZChtLHtjb250ZW50Rm9ybXM6Z30pKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oYix7bGFiZWw6ZCxjb21tYW5kOmUsdG9vbGJhcjpcImJhc2ljc3R5bGVzLFwiKyhmKz0xMCl9KX19LGM9e2JvbGQ6W1wic3Ryb25nXCIsXCJiXCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe2E9YS5zdHlsZXNbXCJmb250LXdlaWdodFwiXTtyZXR1cm5cImJvbGRcIj09YXx8NzAwPD0rYX1dXSxpdGFsaWM6W1wiZW1cIixcImlcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJpdGFsaWNcIj09YS5zdHlsZXNbXCJmb250LXN0eWxlXCJdfV1dLHVuZGVybGluZTpbXCJ1XCIsW1wic3BhblwiLGZ1bmN0aW9uKGEpe3JldHVyblwidW5kZXJsaW5lXCI9PWEuc3R5bGVzW1widGV4dC1kZWNvcmF0aW9uXCJdfV1dLHN0cmlrZTpbXCJzXCIsXCJzdHJpa2VcIixbXCJzcGFuXCIsZnVuY3Rpb24oYSl7cmV0dXJuXCJsaW5lLXRocm91Z2hcIj09XG5hLnN0eWxlc1tcInRleHQtZGVjb3JhdGlvblwiXX1dXSxzdWJzY3JpcHQ6W1wic3ViXCJdLHN1cGVyc2NyaXB0OltcInN1cFwiXX0sZT1hLmNvbmZpZyxsPWEubGFuZy5iYXNpY3N0eWxlcztiKFwiQm9sZFwiLGwuYm9sZCxcImJvbGRcIixlLmNvcmVTdHlsZXNfYm9sZCk7YihcIkl0YWxpY1wiLGwuaXRhbGljLFwiaXRhbGljXCIsZS5jb3JlU3R5bGVzX2l0YWxpYyk7YihcIlVuZGVybGluZVwiLGwudW5kZXJsaW5lLFwidW5kZXJsaW5lXCIsZS5jb3JlU3R5bGVzX3VuZGVybGluZSk7YihcIlN0cmlrZVwiLGwuc3RyaWtlLFwic3RyaWtlXCIsZS5jb3JlU3R5bGVzX3N0cmlrZSk7YihcIlN1YnNjcmlwdFwiLGwuc3Vic2NyaXB0LFwic3Vic2NyaXB0XCIsZS5jb3JlU3R5bGVzX3N1YnNjcmlwdCk7YihcIlN1cGVyc2NyaXB0XCIsbC5zdXBlcnNjcmlwdCxcInN1cGVyc2NyaXB0XCIsZS5jb3JlU3R5bGVzX3N1cGVyc2NyaXB0KTthLnNldEtleXN0cm9rZShbW0NLRURJVE9SLkNUUkwrNjYsXCJib2xkXCJdLFtDS0VESVRPUi5DVFJMKzczLFwiaXRhbGljXCJdLFxuW0NLRURJVE9SLkNUUkwrODUsXCJ1bmRlcmxpbmVcIl1dKX19KSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19ib2xkPXtlbGVtZW50Olwic3Ryb25nXCIsb3ZlcnJpZGVzOlwiYlwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19pdGFsaWM9e2VsZW1lbnQ6XCJlbVwiLG92ZXJyaWRlczpcImlcIn0sQ0tFRElUT1IuY29uZmlnLmNvcmVTdHlsZXNfdW5kZXJsaW5lPXtlbGVtZW50OlwidVwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdHJpa2U9e2VsZW1lbnQ6XCJzXCIsb3ZlcnJpZGVzOlwic3RyaWtlXCJ9LENLRURJVE9SLmNvbmZpZy5jb3JlU3R5bGVzX3N1YnNjcmlwdD17ZWxlbWVudDpcInN1YlwifSxDS0VESVRPUi5jb25maWcuY29yZVN0eWxlc19zdXBlcnNjcmlwdD17ZWxlbWVudDpcInN1cFwifSxmdW5jdGlvbigpe3ZhciBhPXtleGVjOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0Q29tbWFuZChcImJsb2NrcXVvdGVcIikuc3RhdGUsYz1hLmdldFNlbGVjdGlvbigpLGU9YyYmYy5nZXRSYW5nZXMoKVswXTtcbmlmKGUpe3ZhciBsPWMuY3JlYXRlQm9va21hcmtzKCk7aWYoQ0tFRElUT1IuZW52LmllKXt2YXIgaz1sWzBdLnN0YXJ0Tm9kZSxkPWxbMF0uZW5kTm9kZSxoO2lmKGsmJlwiYmxvY2txdW90ZVwiPT1rLmdldFBhcmVudCgpLmdldE5hbWUoKSlmb3IoaD1rO2g9aC5nZXROZXh0KCk7KWlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKXtrLm1vdmUoaCwhMCk7YnJlYWt9aWYoZCYmXCJibG9ja3F1b3RlXCI9PWQuZ2V0UGFyZW50KCkuZ2V0TmFtZSgpKWZvcihoPWQ7aD1oLmdldFByZXZpb3VzKCk7KWlmKGgudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZoLmlzQmxvY2tCb3VuZGFyeSgpKXtkLm1vdmUoaCk7YnJlYWt9fXZhciBtPWUuY3JlYXRlSXRlcmF0b3IoKTttLmVubGFyZ2VCcj1hLmNvbmZpZy5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSO2lmKGI9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7Zm9yKGs9W107Yj1tLmdldE5leHRQYXJhZ3JhcGgoKTspay5wdXNoKGIpO1xuMT5rLmxlbmd0aCYmKGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KGEuY29uZmlnLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiKSxkPWwuc2hpZnQoKSxlLmluc2VydE5vZGUoYiksYi5hcHBlbmQobmV3IENLRURJVE9SLmRvbS50ZXh0KFwi77u/XCIsYS5kb2N1bWVudCkpLGUubW92ZVRvQm9va21hcmsoZCksZS5zZWxlY3ROb2RlQ29udGVudHMoYiksZS5jb2xsYXBzZSghMCksZD1lLmNyZWF0ZUJvb2ttYXJrKCksay5wdXNoKGIpLGwudW5zaGlmdChkKSk7aD1rWzBdLmdldFBhcmVudCgpO2U9W107Zm9yKGQ9MDtkPGsubGVuZ3RoO2QrKyliPWtbZF0saD1oLmdldENvbW1vbkFuY2VzdG9yKGIuZ2V0UGFyZW50KCkpO2ZvcihiPXt0YWJsZToxLHRib2R5OjEsdHI6MSxvbDoxLHVsOjF9O2JbaC5nZXROYW1lKCldOyloPWguZ2V0UGFyZW50KCk7Zm9yKGQ9bnVsbDswPGsubGVuZ3RoOyl7Zm9yKGI9ay5zaGlmdCgpOyFiLmdldFBhcmVudCgpLmVxdWFscyhoKTspYj1iLmdldFBhcmVudCgpO1xuYi5lcXVhbHMoZCl8fGUucHVzaChiKTtkPWJ9Zm9yKDswPGUubGVuZ3RoOylpZihiPWUuc2hpZnQoKSxcImJsb2NrcXVvdGVcIj09Yi5nZXROYW1lKCkpe2ZvcihkPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChhLmRvY3VtZW50KTtiLmdldEZpcnN0KCk7KWQuYXBwZW5kKGIuZ2V0Rmlyc3QoKS5yZW1vdmUoKSksay5wdXNoKGQuZ2V0TGFzdCgpKTtkLnJlcGxhY2UoYil9ZWxzZSBrLnB1c2goYik7ZT1hLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJibG9ja3F1b3RlXCIpO2ZvcihlLmluc2VydEJlZm9yZShrWzBdKTswPGsubGVuZ3RoOyliPWsuc2hpZnQoKSxlLmFwcGVuZChiKX1lbHNlIGlmKGI9PUNLRURJVE9SLlRSSVNUQVRFX09OKXtkPVtdO2ZvcihoPXt9O2I9bS5nZXROZXh0UGFyYWdyYXBoKCk7KXtmb3Ioaz1lPW51bGw7Yi5nZXRQYXJlbnQoKTspe2lmKFwiYmxvY2txdW90ZVwiPT1iLmdldFBhcmVudCgpLmdldE5hbWUoKSl7ZT1iLmdldFBhcmVudCgpO2s9YjticmVha31iPVxuYi5nZXRQYXJlbnQoKX1lJiZrJiYhay5nZXRDdXN0b21EYXRhKFwiYmxvY2txdW90ZV9tb3Zlb3V0XCIpJiYoZC5wdXNoKGspLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihoLGssXCJibG9ja3F1b3RlX21vdmVvdXRcIiwhMCkpfUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhoKTtiPVtdO2s9W107Zm9yKGg9e307MDxkLmxlbmd0aDspbT1kLnNoaWZ0KCksZT1tLmdldFBhcmVudCgpLG0uZ2V0UHJldmlvdXMoKT9tLmdldE5leHQoKT8obS5icmVha1BhcmVudChtLmdldFBhcmVudCgpKSxrLnB1c2gobS5nZXROZXh0KCkpKTptLnJlbW92ZSgpLmluc2VydEFmdGVyKGUpOm0ucmVtb3ZlKCkuaW5zZXJ0QmVmb3JlKGUpLGUuZ2V0Q3VzdG9tRGF0YShcImJsb2NrcXVvdGVfcHJvY2Vzc2VkXCIpfHwoay5wdXNoKGUpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihoLGUsXCJibG9ja3F1b3RlX3Byb2Nlc3NlZFwiLCEwKSksYi5wdXNoKG0pO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhoKTtcbmZvcihkPWsubGVuZ3RoLTE7MDw9ZDtkLS0pe2U9a1tkXTthOntoPWU7Zm9yKHZhciBtPTAsZz1oLmdldENoaWxkQ291bnQoKSxuPXZvaWQgMDttPGcmJihuPWguZ2V0Q2hpbGQobSkpO20rKylpZihuLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmbi5pc0Jsb2NrQm91bmRhcnkoKSl7aD0hMTticmVhayBhfWg9ITB9aCYmZS5yZW1vdmUoKX1pZihhLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSKWZvcihlPSEwO2IubGVuZ3RoOylpZihtPWIuc2hpZnQoKSxcImRpdlwiPT1tLmdldE5hbWUoKSl7ZD1uZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYS5kb2N1bWVudCk7IWV8fCFtLmdldFByZXZpb3VzKCl8fG0uZ2V0UHJldmlvdXMoKS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJm0uZ2V0UHJldmlvdXMoKS5pc0Jsb2NrQm91bmRhcnkoKXx8ZC5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO2ZvcihlPW0uZ2V0TmV4dCgpJiZcbiEobS5nZXROZXh0KCkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZtLmdldE5leHQoKS5pc0Jsb2NrQm91bmRhcnkoKSk7bS5nZXRGaXJzdCgpOyltLmdldEZpcnN0KCkucmVtb3ZlKCkuYXBwZW5kVG8oZCk7ZSYmZC5hcHBlbmQoYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIikpO2QucmVwbGFjZShtKTtlPSExfX1jLnNlbGVjdEJvb2ttYXJrcyhsKTthLmZvY3VzKCl9fSxyZWZyZXNoOmZ1bmN0aW9uKGEsYil7dGhpcy5zZXRTdGF0ZShhLmVsZW1lbnRQYXRoKGIuYmxvY2t8fGIuYmxvY2tMaW1pdCkuY29udGFpbnMoXCJibG9ja3F1b3RlXCIsMSk/Q0tFRElUT1IuVFJJU1RBVEVfT046Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKX0sY29udGV4dDpcImJsb2NrcXVvdGVcIixhbGxvd2VkQ29udGVudDpcImJsb2NrcXVvdGVcIixyZXF1aXJlZENvbnRlbnQ6XCJibG9ja3F1b3RlXCJ9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYmxvY2txdW90ZVwiLHtpbml0OmZ1bmN0aW9uKGYpe2YuYmxvY2tsZXNzfHxcbihmLmFkZENvbW1hbmQoXCJibG9ja3F1b3RlXCIsYSksZi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiQmxvY2txdW90ZVwiLHtsYWJlbDpmLmxhbmcuYmxvY2txdW90ZS50b29sYmFyLGNvbW1hbmQ6XCJibG9ja3F1b3RlXCIsdG9vbGJhcjpcImJsb2NrcywxMFwifSkpfX0pfSgpLGZ1bmN0aW9uKCl7dmFyIGE9J1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbiBja2VfYnV0dG9uX197bmFtZX0gY2tlX2J1dHRvbl97c3RhdGV9IHtjbHN9XCInKyhDS0VESVRPUi5lbnYuZ2Vja28mJiFDS0VESVRPUi5lbnYuaGM/XCJcIjpcIiBocmVmXFx4M2RcXFwiamF2YXNjcmlwdDp2b2lkKCd7dGl0bGVKc30nKVxcXCJcIikrJyB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgdGFiaW5kZXhcXHgzZFwiLTFcIiBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwiYnV0dG9uXCIgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIntpZH1fbGFiZWxcIiBhcmlhLWRlc2NyaWJlZGJ5XFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBhcmlhLWhhc3BvcHVwXFx4M2RcIntoYXNBcnJvd31cIiBhcmlhLWRpc2FibGVkXFx4M2RcInthcmlhRGlzYWJsZWR9XCInO1xuQ0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYSs9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGErPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYT1hKygnIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlkb3duRm59LGV2ZW50KTtcIiBvbmZvY3VzXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2ZvY3VzRm59LGV2ZW50KTtcIiAnKyhDS0VESVRPUi5lbnYuaWU/J29uY2xpY2tcXHgzZFwicmV0dXJuIGZhbHNlO1wiIG9ubW91c2V1cCc6XCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2ljb24gY2tlX2J1dHRvbl9fe2ljb25OYW1lfV9pY29uXCIgc3R5bGVcXHgzZFwie3N0eWxlfVwiJyksXG5hPWErJ1xceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X2xhYmVsXCIgY2xhc3NcXHgzZFwiY2tlX2J1dHRvbl9sYWJlbCBja2VfYnV0dG9uX197bmFtZX1fbGFiZWxcIiBhcmlhLWhpZGRlblxceDNkXCJmYWxzZVwiXFx4M2V7bGFiZWx9XFx4M2Mvc3BhblxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fZGVzY3JpcHRpb25cIiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2xhYmVsXCIgYXJpYS1oaWRkZW5cXHgzZFwiZmFsc2VcIlxceDNle2FyaWFTaG9ydGN1dH1cXHgzYy9zcGFuXFx4M2V7YXJyb3dIdG1sfVxceDNjL2FcXHgzZScsZj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvbkFycm93XCIsJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfYnV0dG9uX2Fycm93XCJcXHgzZScrKENLRURJVE9SLmVudi5oYz9cIlxceDI2Izk2NjA7XCI6XCJcIikrXCJcXHgzYy9zcGFuXFx4M2VcIiksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcImJ1dHRvblwiLGEpO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiYnV0dG9uXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX0JVVFRPTixcbkNLRURJVE9SLnVpLmJ1dHRvbi5oYW5kbGVyKX19KTtDS0VESVRPUi5VSV9CVVRUT049XCJidXR0b25cIjtDS0VESVRPUi51aS5idXR0b249ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYSx7dGl0bGU6YS5sYWJlbCxjbGljazphLmNsaWNrfHxmdW5jdGlvbihiKXtiLmV4ZWNDb21tYW5kKGEuY29tbWFuZCl9fSk7dGhpcy5fPXt9fTtDS0VESVRPUi51aS5idXR0b24uaGFuZGxlcj17Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkuYnV0dG9uKGEpfX07Q0tFRElUT1IudWkuYnV0dG9uLnByb3RvdHlwZT17cmVuZGVyOmZ1bmN0aW9uKGEsZSl7ZnVuY3Rpb24gbCgpe3ZhciBiPWEubW9kZTtiJiYoYj10aGlzLm1vZGVzW2JdP3ZvaWQgMCE9PXRbYl0/dFtiXTpDS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsYj1hLnJlYWRPbmx5JiYhdGhpcy5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpcbmIsdGhpcy5zZXRTdGF0ZShiKSx0aGlzLnJlZnJlc2gmJnRoaXMucmVmcmVzaCgpKX12YXIgaz1DS0VESVRPUi5lbnYsZD10aGlzLl8uaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCksaD1cIlwiLG09dGhpcy5jb21tYW5kLGcsbixwO3RoaXMuXy5lZGl0b3I9YTt2YXIgcj17aWQ6ZCxidXR0b246dGhpcyxlZGl0b3I6YSxmb2N1czpmdW5jdGlvbigpe0NLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZCkuZm9jdXMoKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuYnV0dG9uLmNsaWNrKGEpfSxhdHRhY2g6ZnVuY3Rpb24oYSl7dGhpcy5idXR0b24uYXR0YWNoKGEpfX0seD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhKXtpZihyLm9ua2V5KXJldHVybiBhPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSksITEhPT1yLm9ua2V5KHIsYS5nZXRLZXlzdHJva2UoKSl9KSx2PUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiO3Iub25mb2N1cyYmXG4oYj0hMSE9PXIub25mb2N1cyhyLG5ldyBDS0VESVRPUi5kb20uZXZlbnQoYSkpKTtyZXR1cm4gYn0pLHU9MDtyLmNsaWNrRm49Zz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbigpe3UmJihhLnVubG9ja1NlbGVjdGlvbigxKSx1PTApO3IuZXhlY3V0ZSgpO2suaU9TJiZhLmZvY3VzKCl9KTtpZih0aGlzLm1vZGVzKXt2YXIgdD17fTthLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKCl7YS5tb2RlJiZ0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodFthLm1vZGVdPXRoaXMuXy5zdGF0ZSl9LHRoaXMpO2Eub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixsLHRoaXMpO2Eub24oXCJtb2RlXCIsbCx0aGlzKTshdGhpcy5yZWFkT25seSYmYS5vbihcInJlYWRPbmx5XCIsbCx0aGlzKX1lbHNlIG0mJihtPWEuZ2V0Q29tbWFuZChtKSkmJihtLm9uKFwic3RhdGVcIixmdW5jdGlvbigpe3RoaXMuc2V0U3RhdGUobS5zdGF0ZSl9LHRoaXMpLGgrPW0uc3RhdGU9PVxuQ0tFRElUT1IuVFJJU1RBVEVfT04/XCJvblwiOm0uc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiKTtpZih0aGlzLmRpcmVjdGlvbmFsKWEub24oXCJjb250ZW50RGlyQ2hhbmdlZFwiLGZ1bmN0aW9uKGIpe3ZhciBkPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQodGhpcy5fLmlkKSxlPWQuZ2V0Rmlyc3QoKTtiPWIuZGF0YTtiIT1hLmxhbmcuZGlyP2QuYWRkQ2xhc3MoXCJja2VfXCIrYik6ZC5yZW1vdmVDbGFzcyhcImNrZV9sdHJcIikucmVtb3ZlQ2xhc3MoXCJja2VfcnRsXCIpO2Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixDS0VESVRPUi5za2luLmdldEljb25TdHlsZSh5LFwicnRsXCI9PWIsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCkpfSx0aGlzKTttPyhuPWEuZ2V0Q29tbWFuZEtleXN0cm9rZShtKSkmJihwPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGEubGFuZy5jb21tb24ua2V5Ym9hcmQsbikpOmgrPVwib2ZmXCI7dmFyIHk9bj10aGlzLm5hbWV8fFxudGhpcy5jb21tYW5kO3RoaXMuaWNvbiYmIS9cXC4vLnRlc3QodGhpcy5pY29uKSYmKHk9dGhpcy5pY29uLHRoaXMuaWNvbj1udWxsKTtoPXtpZDpkLG5hbWU6bixpY29uTmFtZTp5LGxhYmVsOnRoaXMubGFiZWwsY2xzOnRoaXMuY2xhc3NOYW1lfHxcIlwiLHN0YXRlOmgsYXJpYURpc2FibGVkOlwiZGlzYWJsZWRcIj09aD9cInRydWVcIjpcImZhbHNlXCIsdGl0bGU6dGhpcy50aXRsZSsocD9cIiAoXCIrcC5kaXNwbGF5K1wiKVwiOlwiXCIpLGFyaWFTaG9ydGN1dDpwP2EubGFuZy5jb21tb24ua2V5Ym9hcmRTaG9ydGN1dCtcIiBcIitwLmFyaWE6XCJcIix0aXRsZUpzOmsuZ2Vja28mJiFrLmhjP1wiXCI6KHRoaXMudGl0bGV8fFwiXCIpLnJlcGxhY2UoXCInXCIsXCJcIiksaGFzQXJyb3c6dGhpcy5oYXNBcnJvdz9cInRydWVcIjpcImZhbHNlXCIsa2V5ZG93bkZuOngsZm9jdXNGbjp2LGNsaWNrRm46ZyxzdHlsZTpDS0VESVRPUi5za2luLmdldEljb25TdHlsZSh5LFwicnRsXCI9PWEubGFuZy5kaXIsdGhpcy5pY29uLHRoaXMuaWNvbk9mZnNldCksXG5hcnJvd0h0bWw6dGhpcy5oYXNBcnJvdz9mLm91dHB1dCgpOlwiXCJ9O2Iub3V0cHV0KGgsZSk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIHJ9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZT09YSlyZXR1cm4hMTt0aGlzLl8uc3RhdGU9YTt2YXIgYj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHRoaXMuXy5pZCk7cmV0dXJuIGI/KGIuc2V0U3RhdGUoYSxcImNrZV9idXR0b25cIiksYT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ/Yi5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIsITApOmIucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kaXNhYmxlZFwiKSx0aGlzLmhhc0Fycm93PyhhPWE9PUNLRURJVE9SLlRSSVNUQVRFX09OP3RoaXMuXy5lZGl0b3IubGFuZy5idXR0b24uc2VsZWN0ZWRMYWJlbC5yZXBsYWNlKC8lMS9nLHRoaXMubGFiZWwpOnRoaXMubGFiZWwsQ0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLl8uaWQrXCJfbGFiZWxcIikuc2V0VGV4dChhKSk6XG5hPT1DS0VESVRPUi5UUklTVEFURV9PTj9iLnNldEF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiLCEwKTpiLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtcHJlc3NlZFwiKSwhMCk6ITF9LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuXy5zdGF0ZX0sdG9GZWF0dXJlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5mZWF0dXJlKXJldHVybiB0aGlzLl8uZmVhdHVyZTt2YXIgYj10aGlzO3RoaXMuYWxsb3dlZENvbnRlbnR8fHRoaXMucmVxdWlyZWRDb250ZW50fHwhdGhpcy5jb21tYW5kfHwoYj1hLmdldENvbW1hbmQodGhpcy5jb21tYW5kKXx8Yik7cmV0dXJuIHRoaXMuXy5mZWF0dXJlPWJ9fTtDS0VESVRPUi51aS5wcm90b3R5cGUuYWRkQnV0dG9uPWZ1bmN0aW9uKGEsYil7dGhpcy5hZGQoYSxDS0VESVRPUi5VSV9CVVRUT04sYil9fSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBiKCl7Zm9yKHZhciBnPWMoKSxoPUNLRURJVE9SLnRvb2xzLmNsb25lKGEuY29uZmlnLnRvb2xiYXJHcm91cHMpfHxcbmYoYSksbT0wO208aC5sZW5ndGg7bSsrKXt2YXIgbD1oW21dO2lmKFwiL1wiIT1sKXtcInN0cmluZ1wiPT10eXBlb2YgbCYmKGw9aFttXT17bmFtZTpsfSk7dmFyIHYsdT1sLmdyb3VwcztpZih1KWZvcih2YXIgdD0wO3Q8dS5sZW5ndGg7dCsrKXY9dVt0XSwodj1nW3ZdKSYmZChsLHYpOyh2PWdbbC5uYW1lXSkmJmQobCx2KX19cmV0dXJuIGh9ZnVuY3Rpb24gYygpe3ZhciBiPXt9LGQsZixnO2ZvcihkIGluIGEudWkuaXRlbXMpZj1hLnVpLml0ZW1zW2RdLGc9Zi50b29sYmFyfHxcIm90aGVyc1wiLGc9Zy5zcGxpdChcIixcIiksZj1nWzBdLGc9cGFyc2VJbnQoZ1sxXXx8LTEsMTApLGJbZl18fChiW2ZdPVtdKSxiW2ZdLnB1c2goe25hbWU6ZCxvcmRlcjpnfSk7Zm9yKGYgaW4gYiliW2ZdPWJbZl0uc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLm9yZGVyPT1iLm9yZGVyPzA6MD5iLm9yZGVyPy0xOjA+YS5vcmRlcj8xOmEub3JkZXI8Yi5vcmRlcj8tMToxfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gZChiLFxuYyl7aWYoYy5sZW5ndGgpe2IuaXRlbXM/Yi5pdGVtcy5wdXNoKGEudWkuY3JlYXRlKFwiLVwiKSk6Yi5pdGVtcz1bXTtmb3IodmFyIGQ7ZD1jLnNoaWZ0KCk7KWQ9XCJzdHJpbmdcIj09dHlwZW9mIGQ/ZDpkLm5hbWUsbSYmLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxkKXx8KGQ9YS51aS5jcmVhdGUoZCkpJiZhLmFkZEZlYXR1cmUoZCkmJmIuaXRlbXMucHVzaChkKX19ZnVuY3Rpb24gaChhKXt2YXIgYj1bXSxjLGUsZjtmb3IoYz0wO2M8YS5sZW5ndGg7KytjKWU9YVtjXSxmPXt9LFwiL1wiPT1lP2IucHVzaChlKTpDS0VESVRPUi50b29scy5pc0FycmF5KGUpPyhkKGYsQ0tFRElUT1IudG9vbHMuY2xvbmUoZSkpLGIucHVzaChmKSk6ZS5pdGVtcyYmKGQoZixDS0VESVRPUi50b29scy5jbG9uZShlLml0ZW1zKSksZi5uYW1lPWUubmFtZSxiLnB1c2goZikpO3JldHVybiBifXZhciBtPWEuY29uZmlnLnJlbW92ZUJ1dHRvbnMsbT1tJiZtLnNwbGl0KFwiLFwiKSxnPWEuY29uZmlnLnRvb2xiYXI7XG5cInN0cmluZ1wiPT10eXBlb2YgZyYmKGc9YS5jb25maWdbXCJ0b29sYmFyX1wiK2ddKTtyZXR1cm4gYS50b29sYmFyPWc/aChnKTpiKCl9ZnVuY3Rpb24gZihhKXtyZXR1cm4gYS5fLnRvb2xiYXJHcm91cHN8fChhLl8udG9vbGJhckdyb3Vwcz1be25hbWU6XCJkb2N1bWVudFwiLGdyb3VwczpbXCJtb2RlXCIsXCJkb2N1bWVudFwiLFwiZG9jdG9vbHNcIl19LHtuYW1lOlwiY2xpcGJvYXJkXCIsZ3JvdXBzOltcImNsaXBib2FyZFwiLFwidW5kb1wiXX0se25hbWU6XCJlZGl0aW5nXCIsZ3JvdXBzOltcImZpbmRcIixcInNlbGVjdGlvblwiLFwic3BlbGxjaGVja2VyXCJdfSx7bmFtZTpcImZvcm1zXCJ9LFwiL1wiLHtuYW1lOlwiYmFzaWNzdHlsZXNcIixncm91cHM6W1wiYmFzaWNzdHlsZXNcIixcImNsZWFudXBcIl19LHtuYW1lOlwicGFyYWdyYXBoXCIsZ3JvdXBzOltcImxpc3RcIixcImluZGVudFwiLFwiYmxvY2tzXCIsXCJhbGlnblwiLFwiYmlkaVwiXX0se25hbWU6XCJsaW5rc1wifSx7bmFtZTpcImluc2VydFwifSxcIi9cIix7bmFtZTpcInN0eWxlc1wifSx7bmFtZTpcImNvbG9yc1wifSxcbntuYW1lOlwidG9vbHNcIn0se25hbWU6XCJvdGhlcnNcIn0se25hbWU6XCJhYm91dFwifV0pfXZhciBiPWZ1bmN0aW9uKCl7dGhpcy50b29sYmFycz1bXTt0aGlzLmZvY3VzQ29tbWFuZEV4ZWN1dGVkPSExfTtiLnByb3RvdHlwZS5mb2N1cz1mdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7Yj10aGlzLnRvb2xiYXJzW2ErK107KWZvcih2YXIgYz0wLGQ7ZD1iLml0ZW1zW2MrK107KWlmKGQuZm9jdXMpe2QuZm9jdXMoKTtyZXR1cm59fTt2YXIgYz17bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0scmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe2EudG9vbGJveCYmKGEudG9vbGJveC5mb2N1c0NvbW1hbmRFeGVjdXRlZD0hMCxDS0VESVRPUi5lbnYuaWV8fENLRURJVE9SLmVudi5haXI/c2V0VGltZW91dChmdW5jdGlvbigpe2EudG9vbGJveC5mb2N1cygpfSwxMDApOmEudG9vbGJveC5mb2N1cygpKX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidG9vbGJhclwiLHtyZXF1aXJlczpcImJ1dHRvblwiLGluaXQ6ZnVuY3Rpb24oZSl7dmFyIGYsXG5rPWZ1bmN0aW9uKGEsYil7dmFyIGMsZz1cInJ0bFwiPT1lLmxhbmcuZGlyLG49ZS5jb25maWcudG9vbGJhckdyb3VwQ3ljbGluZyxwPWc/Mzc6MzksZz1nPzM5OjM3LG49dm9pZCAwPT09bnx8bjtzd2l0Y2goYil7Y2FzZSA5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpmb3IoOyFjfHwhYy5pdGVtcy5sZW5ndGg7KWlmKGM9OT09Yj8oYz9jLm5leHQ6YS50b29sYmFyLm5leHQpfHxlLnRvb2xib3gudG9vbGJhcnNbMF06KGM/Yy5wcmV2aW91czphLnRvb2xiYXIucHJldmlvdXMpfHxlLnRvb2xib3gudG9vbGJhcnNbZS50b29sYm94LnRvb2xiYXJzLmxlbmd0aC0xXSxjLml0ZW1zLmxlbmd0aClmb3IoYT1jLml0ZW1zW2Y/Yy5pdGVtcy5sZW5ndGgtMTowXTthJiYhYS5mb2N1czspKGE9Zj9hLnByZXZpb3VzOmEubmV4dCl8fChjPTApO2EmJmEuZm9jdXMoKTtyZXR1cm4hMTtjYXNlIHA6Yz1hO2RvIGM9Yy5uZXh0LCFjJiZuJiYoYz1hLnRvb2xiYXIuaXRlbXNbMF0pO3doaWxlKGMmJiFjLmZvY3VzKTtcbmM/Yy5mb2N1cygpOmsoYSw5KTtyZXR1cm4hMTtjYXNlIDQwOnJldHVybiBhLmJ1dHRvbiYmYS5idXR0b24uaGFzQXJyb3c/YS5leGVjdXRlKCk6ayhhLDQwPT1iP3A6ZyksITE7Y2FzZSBnOmNhc2UgMzg6Yz1hO2RvIGM9Yy5wcmV2aW91cywhYyYmbiYmKGM9YS50b29sYmFyLml0ZW1zW2EudG9vbGJhci5pdGVtcy5sZW5ndGgtMV0pO3doaWxlKGMmJiFjLmZvY3VzKTtjP2MuZm9jdXMoKTooZj0xLGsoYSxDS0VESVRPUi5TSElGVCs5KSxmPTApO3JldHVybiExO2Nhc2UgMjc6cmV0dXJuIGUuZm9jdXMoKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGEuZXhlY3V0ZSgpLCExfXJldHVybiEwfTtlLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGMpe2lmKGMuZGF0YS5zcGFjZT09ZS5jb25maWcudG9vbGJhckxvY2F0aW9uKXtjLnJlbW92ZUxpc3RlbmVyKCk7ZS50b29sYm94PW5ldyBiO3ZhciBmPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpLGw9WydcXHgzY3NwYW4gaWRcXHgzZFwiJyxmLCdcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJyxcbmUubGFuZy50b29sYmFyLnRvb2xiYXJzLFwiXFx4M2Mvc3BhblxceDNlXCIsJ1xceDNjc3BhbiBpZFxceDNkXCInK2UudWkuc3BhY2VJZChcInRvb2xib3hcIikrJ1wiIGNsYXNzXFx4M2RcImNrZV90b29sYm94XCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInLGYsJ1wiIG9ubW91c2Vkb3duXFx4M2RcInJldHVybiBmYWxzZTtcIlxceDNlJ10sZj0hMSE9PWUuY29uZmlnLnRvb2xiYXJTdGFydHVwRXhwYW5kZWQsZyxuO2UuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSYmbC5wdXNoKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3Rvb2xib3hfbWFpblwiJysoZj9cIlxceDNlXCI6JyBzdHlsZVxceDNkXCJkaXNwbGF5Om5vbmVcIlxceDNlJykpO2Zvcih2YXIgcD1lLnRvb2xib3gudG9vbGJhcnMscj1hKGUpLHg9ci5sZW5ndGgsdj0wO3Y8eDt2Kyspe3ZhciB1LHQ9MCx5LEE9clt2XSxxPVwiL1wiIT09QSYmKFwiL1wiPT09clt2KzFdfHx2PT1cbngtMSksdztpZihBKWlmKGcmJihsLnB1c2goXCJcXHgzYy9zcGFuXFx4M2VcIiksbj1nPTApLFwiL1wiPT09QSlsLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9icmVha1wiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtlbHNle3c9QS5pdGVtc3x8QTtmb3IodmFyIEI9MDtCPHcubGVuZ3RoO0IrKyl7dmFyIHo9d1tCXSxDO2lmKHope3ZhciBFPWZ1bmN0aW9uKGEpe2E9YS5yZW5kZXIoZSxsKTtHPXQuaXRlbXMucHVzaChhKS0xOzA8RyYmKGEucHJldmlvdXM9dC5pdGVtc1tHLTFdLGEucHJldmlvdXMubmV4dD1hKTthLnRvb2xiYXI9dDthLm9ua2V5PWs7YS5vbmZvY3VzPWZ1bmN0aW9uKCl7ZS50b29sYm94LmZvY3VzQ29tbWFuZEV4ZWN1dGVkfHxlLmZvY3VzKCl9fTtpZih6LnR5cGU9PUNLRURJVE9SLlVJX1NFUEFSQVRPUiluPWcmJno7ZWxzZXtDPSExIT09ei5jYW5Hcm91cDtpZighdCl7dT1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0PXtpZDp1LGl0ZW1zOltdfTt5PUEubmFtZSYmXG4oZS5sYW5nLnRvb2xiYXIudG9vbGJhckdyb3Vwc1tBLm5hbWVdfHxBLm5hbWUpO2wucHVzaCgnXFx4M2NzcGFuIGlkXFx4M2RcIicsdSwnXCIgY2xhc3NcXHgzZFwiY2tlX3Rvb2xiYXInKyhxPycgY2tlX3Rvb2xiYXJfbGFzdFwiJzonXCInKSx5PycgYXJpYS1sYWJlbGxlZGJ5XFx4M2RcIicrdSsnX2xhYmVsXCInOlwiXCIsJyByb2xlXFx4M2RcInRvb2xiYXJcIlxceDNlJyk7eSYmbC5wdXNoKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyx1LCdfbGFiZWxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJyx5LFwiXFx4M2Mvc3BhblxceDNlXCIpO2wucHVzaCgnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV90b29sYmFyX3N0YXJ0XCJcXHgzZVxceDNjL3NwYW5cXHgzZScpO3ZhciBHPXAucHVzaCh0KS0xOzA8RyYmKHQucHJldmlvdXM9cFtHLTFdLHQucHJldmlvdXMubmV4dD10KX1DP2d8fChsLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGdyb3VwXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlJyksZz0xKTpnJiYobC5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLFxuZz0wKTtuJiYoRShuKSxuPTApO0Uoeil9fX1nJiYobC5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpLG49Zz0wKTt0JiZsLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9lbmRcIlxceDNlXFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyl9fWUuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmbC5wdXNoKFwiXFx4M2Mvc3BhblxceDNlXCIpO2lmKGUuY29uZmlnLnRvb2xiYXJDYW5Db2xsYXBzZSYmZS5lbGVtZW50TW9kZSE9Q0tFRElUT1IuRUxFTUVOVF9NT0RFX0lOTElORSl7dmFyIEY9Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oKXtlLmV4ZWNDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIpfSk7ZS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKEYpfSk7ZS5hZGRDb21tYW5kKFwidG9vbGJhckNvbGxhcHNlXCIse3JlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLnVpLnNwYWNlKFwidG9vbGJhcl9jb2xsYXBzZXJcIiksXG5jPWIuZ2V0UHJldmlvdXMoKSxkPWEudWkuc3BhY2UoXCJjb250ZW50c1wiKSxlPWMuZ2V0UGFyZW50KCksZj1wYXJzZUludChkLiQuc3R5bGUuaGVpZ2h0LDEwKSxnPWUuJC5vZmZzZXRIZWlnaHQsaD1iLmhhc0NsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtoPyhjLnNob3coKSxiLnJlbW92ZUNsYXNzKFwiY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKSxiLnNldEF0dHJpYnV0ZShcInRpdGxlXCIsYS5sYW5nLnRvb2xiYXIudG9vbGJhckNvbGxhcHNlKSk6KGMuaGlkZSgpLGIuYWRkQ2xhc3MoXCJja2VfdG9vbGJveF9jb2xsYXBzZXJfbWluXCIpLGIuc2V0QXR0cmlidXRlKFwidGl0bGVcIixhLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSk7Yi5nZXRGaXJzdCgpLnNldFRleHQoaD9cIuKWslwiOlwi4peAXCIpO2Quc2V0U3R5bGUoXCJoZWlnaHRcIixmLShlLiQub2Zmc2V0SGVpZ2h0LWcpK1wicHhcIik7YS5maXJlKFwicmVzaXplXCIse291dGVySGVpZ2h0OmEuY29udGFpbmVyLiQub2Zmc2V0SGVpZ2h0LFxuY29udGVudHNIZWlnaHQ6ZC4kLm9mZnNldEhlaWdodCxvdXRlcldpZHRoOmEuY29udGFpbmVyLiQub2Zmc2V0V2lkdGh9KX0sbW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX19KTtlLnNldEtleXN0cm9rZShDS0VESVRPUi5BTFQrKENLRURJVE9SLmVudi5pZXx8Q0tFRElUT1IuZW52LndlYmtpdD8xODk6MTA5KSxcInRvb2xiYXJDb2xsYXBzZVwiKTtsLnB1c2goJ1xceDNjYSB0aXRsZVxceDNkXCInKyhmP2UubGFuZy50b29sYmFyLnRvb2xiYXJDb2xsYXBzZTplLmxhbmcudG9vbGJhci50b29sYmFyRXhwYW5kKSsnXCIgaWRcXHgzZFwiJytlLnVpLnNwYWNlSWQoXCJ0b29sYmFyX2NvbGxhcHNlclwiKSsnXCIgdGFiSW5kZXhcXHgzZFwiLTFcIiBjbGFzc1xceDNkXCJja2VfdG9vbGJveF9jb2xsYXBzZXInKTtmfHxsLnB1c2goXCIgY2tlX3Rvb2xib3hfY29sbGFwc2VyX21pblwiKTtsLnB1c2goJ1wiIG9uY2xpY2tcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKCcrRisnKVwiXFx4M2UnLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2Fycm93XCJcXHgzZVxceDI2Izk2NTA7XFx4M2Mvc3BhblxceDNlJyxcblwiXFx4M2MvYVxceDNlXCIpfWwucHVzaChcIlxceDNjL3NwYW5cXHgzZVwiKTtjLmRhdGEuaHRtbCs9bC5qb2luKFwiXCIpfX0pO2Uub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtpZih0aGlzLnRvb2xib3gpe3ZhciBhLGI9MCxjLGUsZjtmb3IoYT10aGlzLnRvb2xib3gudG9vbGJhcnM7YjxhLmxlbmd0aDtiKyspZm9yKGU9YVtiXS5pdGVtcyxjPTA7YzxlLmxlbmd0aDtjKyspZj1lW2NdLGYuY2xpY2tGbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZi5jbGlja0ZuKSxmLmtleURvd25GbiYmQ0tFRElUT1IudG9vbHMucmVtb3ZlRnVuY3Rpb24oZi5rZXlEb3duRm4pfX0pO2Uub24oXCJ1aVJlYWR5XCIsZnVuY3Rpb24oKXt2YXIgYT1lLnVpLnNwYWNlKFwidG9vbGJveFwiKTthJiZlLmZvY3VzTWFuYWdlci5hZGQoYSwxKX0pO2UuYWRkQ29tbWFuZChcInRvb2xiYXJGb2N1c1wiLGMpO2Uuc2V0S2V5c3Ryb2tlKENLRURJVE9SLkFMVCsxMjEsXCJ0b29sYmFyRm9jdXNcIik7ZS51aS5hZGQoXCItXCIsQ0tFRElUT1IuVUlfU0VQQVJBVE9SLFxue30pO2UudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9TRVBBUkFUT1Ise2NyZWF0ZTpmdW5jdGlvbigpe3JldHVybntyZW5kZXI6ZnVuY3Rpb24oYSxiKXtiLnB1c2goJ1xceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfdG9vbGJhcl9zZXBhcmF0b3JcIiByb2xlXFx4M2RcInNlcGFyYXRvclwiXFx4M2VcXHgzYy9zcGFuXFx4M2UnKTtyZXR1cm57fX19fX0pfX0pO0NLRURJVE9SLnVpLnByb3RvdHlwZS5hZGRUb29sYmFyR3JvdXA9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWYodGhpcy5lZGl0b3IpLGg9MD09PWIsbT17bmFtZTphfTtpZihjKXtpZihjPUNLRURJVE9SLnRvb2xzLnNlYXJjaChkLGZ1bmN0aW9uKGEpe3JldHVybiBhLm5hbWU9PWN9KSl7IWMuZ3JvdXBzJiYoYy5ncm91cHM9W10pO2lmKGImJihiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoYy5ncm91cHMsYiksMDw9Yikpe2MuZ3JvdXBzLnNwbGljZShiKzEsMCxhKTtyZXR1cm59aD9jLmdyb3Vwcy5zcGxpY2UoMCwwLGEpOmMuZ3JvdXBzLnB1c2goYSk7XG5yZXR1cm59Yj1udWxsfWImJihiPUNLRURJVE9SLnRvb2xzLmluZGV4T2YoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lPT1ifSkpO2g/ZC5zcGxpY2UoMCwwLGEpOlwibnVtYmVyXCI9PXR5cGVvZiBiP2Quc3BsaWNlKGIrMSwwLG0pOmQucHVzaChhKX19KCksQ0tFRElUT1IuVUlfU0VQQVJBVE9SPVwic2VwYXJhdG9yXCIsQ0tFRElUT1IuY29uZmlnLnRvb2xiYXJMb2NhdGlvbj1cInRvcFwiLFwidXNlIHN0cmljdFwiLENLRURJVE9SLnBsdWdpbnMuYWRkKFwibm90aWZpY2F0aW9uXCIse3JlcXVpcmVzOlwidG9vbGJhclwiLGluaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihhKXt2YXIgYz1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJkaXZcIik7Yy5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIixcIm1hcmdpbi1sZWZ0XCI6XCItOTk5OXB4XCJ9KTtjLnNldEF0dHJpYnV0ZXMoe1wiYXJpYS1saXZlXCI6XCJhc3NlcnRpdmVcIixcImFyaWEtYXRvbWljXCI6XCJ0cnVlXCJ9KTtjLnNldFRleHQoYSk7Q0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLmFwcGVuZChjKTtcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLnJlbW92ZSgpfSwxMDApfWEuXy5ub3RpZmljYXRpb25BcmVhPW5ldyBsYShhKTthLnNob3dOb3RpZmljYXRpb249ZnVuY3Rpb24oYixjLGUpe3ZhciBmLGs7XCJwcm9ncmVzc1wiPT1jP2Y9ZTprPWU7Yj1uZXcgQ0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb24oYSx7bWVzc2FnZTpiLHR5cGU6Yyxwcm9ncmVzczpmLGR1cmF0aW9uOmt9KTtiLnNob3coKTtyZXR1cm4gYn07YS5vbihcImtleVwiLGZ1bmN0aW9uKGIpe2lmKDI3PT1iLmRhdGEua2V5Q29kZSl7dmFyIGM9YS5fLm5vdGlmaWNhdGlvbkFyZWEubm90aWZpY2F0aW9ucztjLmxlbmd0aCYmKGYoYS5sYW5nLm5vdGlmaWNhdGlvbi5jbG9zZWQpLGNbYy5sZW5ndGgtMV0uaGlkZSgpLGIuY2FuY2VsKCkpfX0pfX0pLGthLnByb3RvdHlwZT17c2hvdzpmdW5jdGlvbigpeyExIT09dGhpcy5lZGl0b3IuZmlyZShcIm5vdGlmaWNhdGlvblNob3dcIix7bm90aWZpY2F0aW9uOnRoaXN9KSYmKHRoaXMuYXJlYS5hZGQodGhpcyksXG50aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCkpfSx1cGRhdGU6ZnVuY3Rpb24oYSl7dmFyIGY9ITA7ITE9PT10aGlzLmVkaXRvci5maXJlKFwibm90aWZpY2F0aW9uVXBkYXRlXCIse25vdGlmaWNhdGlvbjp0aGlzLG9wdGlvbnM6YX0pJiYoZj0hMSk7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5maW5kT25lKFwiLmNrZV9ub3RpZmljYXRpb25fbWVzc2FnZVwiKSxlPWIuZmluZE9uZShcIi5ja2Vfbm90aWZpY2F0aW9uX3Byb2dyZXNzXCIpLGw9YS50eXBlO2IucmVtb3ZlQXR0cmlidXRlKFwicm9sZVwiKTthLnByb2dyZXNzJiZcInByb2dyZXNzXCIhPXRoaXMudHlwZSYmKGw9XCJwcm9ncmVzc1wiKTtsJiYoYi5yZW1vdmVDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxiLnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiksdGhpcy50eXBlPWwsYi5hZGRDbGFzcyh0aGlzLl9nZXRDbGFzcygpKSxiLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIix0aGlzLnR5cGUpLFwicHJvZ3Jlc3NcIiE9dGhpcy50eXBlfHxlP1wicHJvZ3Jlc3NcIiE9XG50aGlzLnR5cGUmJmUmJmUucmVtb3ZlKCk6KGU9dGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCksZS5pbnNlcnRCZWZvcmUoYykpKTt2b2lkIDAhPT1hLm1lc3NhZ2UmJih0aGlzLm1lc3NhZ2U9YS5tZXNzYWdlLGMuc2V0SHRtbCh0aGlzLm1lc3NhZ2UpKTt2b2lkIDAhPT1hLnByb2dyZXNzJiYodGhpcy5wcm9ncmVzcz1hLnByb2dyZXNzLGUmJmUuc2V0U3R5bGUoXCJ3aWR0aFwiLHRoaXMuX2dldFBlcmNlbnRhZ2VQcm9ncmVzcygpKSk7ZiYmYS5pbXBvcnRhbnQmJihiLnNldEF0dHJpYnV0ZShcInJvbGVcIixcImFsZXJ0XCIpLHRoaXMuaXNWaXNpYmxlKCl8fHRoaXMuYXJlYS5hZGQodGhpcykpO3RoaXMuZHVyYXRpb249YS5kdXJhdGlvbjt0aGlzLl9oaWRlQWZ0ZXJUaW1lb3V0KCl9LGhpZGU6ZnVuY3Rpb24oKXshMSE9PXRoaXMuZWRpdG9yLmZpcmUoXCJub3RpZmljYXRpb25IaWRlXCIse25vdGlmaWNhdGlvbjp0aGlzfSkmJnRoaXMuYXJlYS5yZW1vdmUodGhpcyl9LGlzVmlzaWJsZTpmdW5jdGlvbigpe3JldHVybiAwPD1cbkNLRURJVE9SLnRvb2xzLmluZGV4T2YodGhpcy5hcmVhLm5vdGlmaWNhdGlvbnMsdGhpcyl9LF9jcmVhdGVFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxmLGIsYz10aGlzLmVkaXRvci5sYW5nLmNvbW1vbi5jbG9zZTtmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtmLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvblwiKTtmLmFkZENsYXNzKHRoaXMuX2dldENsYXNzKCkpO2Yuc2V0QXR0cmlidXRlcyh7aWQ6dGhpcy5pZCxyb2xlOlwiYWxlcnRcIixcImFyaWEtbGFiZWxcIjp0aGlzLnR5cGV9KTtcInByb2dyZXNzXCI9PXRoaXMudHlwZSYmZi5hcHBlbmQodGhpcy5fY3JlYXRlUHJvZ3Jlc3NFbGVtZW50KCkpO2I9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwicFwiKTtiLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbl9tZXNzYWdlXCIpO2Iuc2V0SHRtbCh0aGlzLm1lc3NhZ2UpO2YuYXBwZW5kKGIpO2I9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoJ1xceDNjYSBjbGFzc1xceDNkXCJja2Vfbm90aWZpY2F0aW9uX2Nsb3NlXCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoMClcIiB0aXRsZVxceDNkXCInK1xuYysnXCIgcm9sZVxceDNkXCJidXR0b25cIiB0YWJpbmRleFxceDNkXCItMVwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2xhYmVsXCJcXHgzZVhcXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2UnKTtmLmFwcGVuZChiKTtiLm9uKFwiY2xpY2tcIixmdW5jdGlvbigpe2EuZWRpdG9yLmZvY3VzKCk7YS5oaWRlKCl9KTtyZXR1cm4gZn0sX2dldENsYXNzOmZ1bmN0aW9uKCl7cmV0dXJuXCJwcm9ncmVzc1wiPT10aGlzLnR5cGU/XCJja2Vfbm90aWZpY2F0aW9uX2luZm9cIjpcImNrZV9ub3RpZmljYXRpb25fXCIrdGhpcy50eXBlfSxfY3JlYXRlUHJvZ3Jlc3NFbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwic3BhblwiKTthLmFkZENsYXNzKFwiY2tlX25vdGlmaWNhdGlvbl9wcm9ncmVzc1wiKTthLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLl9nZXRQZXJjZW50YWdlUHJvZ3Jlc3MoKSk7cmV0dXJuIGF9LF9nZXRQZXJjZW50YWdlUHJvZ3Jlc3M6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCgxMDAqXG4odGhpcy5wcm9ncmVzc3x8MCkpK1wiJVwifSxfaGlkZUFmdGVyVGltZW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsZjt0aGlzLl9oaWRlVGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5faGlkZVRpbWVvdXRJZCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHRoaXMuZHVyYXRpb24pZj10aGlzLmR1cmF0aW9uO2Vsc2UgaWYoXCJpbmZvXCI9PXRoaXMudHlwZXx8XCJzdWNjZXNzXCI9PXRoaXMudHlwZSlmPVwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmVkaXRvci5jb25maWcubm90aWZpY2F0aW9uX2R1cmF0aW9uP3RoaXMuZWRpdG9yLmNvbmZpZy5ub3RpZmljYXRpb25fZHVyYXRpb246NUUzO2YmJihhLl9oaWRlVGltZW91dElkPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLmhpZGUoKX0sZikpfX0sbGEucHJvdG90eXBlPXthZGQ6ZnVuY3Rpb24oYSl7dGhpcy5ub3RpZmljYXRpb25zLnB1c2goYSk7dGhpcy5lbGVtZW50LmFwcGVuZChhLmVsZW1lbnQpOzE9PXRoaXMuZWxlbWVudC5nZXRDaGlsZENvdW50KCkmJlxuKENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKS5hcHBlbmQodGhpcy5lbGVtZW50KSx0aGlzLl9hdHRhY2hMaXN0ZW5lcnMoKSk7dGhpcy5fbGF5b3V0KCl9LHJlbW92ZTpmdW5jdGlvbihhKXt2YXIgZj1DS0VESVRPUi50b29scy5pbmRleE9mKHRoaXMubm90aWZpY2F0aW9ucyxhKTswPmZ8fCh0aGlzLm5vdGlmaWNhdGlvbnMuc3BsaWNlKGYsMSksYS5lbGVtZW50LnJlbW92ZSgpLHRoaXMuZWxlbWVudC5nZXRDaGlsZENvdW50KCl8fCh0aGlzLl9yZW1vdmVMaXN0ZW5lcnMoKSx0aGlzLmVsZW1lbnQucmVtb3ZlKCkpKX0sX2NyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcixmPWEuY29uZmlnLGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiZGl2XCIpO2IuYWRkQ2xhc3MoXCJja2Vfbm90aWZpY2F0aW9uc19hcmVhXCIpO2Iuc2V0QXR0cmlidXRlKFwiaWRcIixcImNrZV9ub3RpZmljYXRpb25zX2FyZWFfXCIrYS5uYW1lKTtiLnNldFN0eWxlKFwiei1pbmRleFwiLGYuYmFzZUZsb2F0WkluZGV4LVxuMik7cmV0dXJuIGJ9LF9hdHRhY2hMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxmPXRoaXMuZWRpdG9yO2Eub24oXCJzY3JvbGxcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7YS5vbihcInJlc2l6ZVwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtmLm9uKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQnVmZmVyLmlucHV0KTtmLm9uKFwiZmxvYXRpbmdTcGFjZUxheW91dFwiLHRoaXMuX2xheW91dCx0aGlzLG51bGwsMjApO2Yub24oXCJibHVyXCIsdGhpcy5fbGF5b3V0LHRoaXMsbnVsbCwyMCl9LF9yZW1vdmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKSxmPXRoaXMuZWRpdG9yO2EucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLl91aUJ1ZmZlci5pbnB1dCk7YS5yZW1vdmVMaXN0ZW5lcihcInJlc2l6ZVwiLHRoaXMuX3VpQnVmZmVyLmlucHV0KTtmLnJlbW92ZUxpc3RlbmVyKFwiY2hhbmdlXCIsdGhpcy5fY2hhbmdlQnVmZmVyLmlucHV0KTtcbmYucmVtb3ZlTGlzdGVuZXIoXCJmbG9hdGluZ1NwYWNlTGF5b3V0XCIsdGhpcy5fbGF5b3V0KTtmLnJlbW92ZUxpc3RlbmVyKFwiYmx1clwiLHRoaXMuX2xheW91dCl9LF9sYXlvdXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7Zi5zZXRTdHlsZShcImxlZnRcIix4KHYrYy53aWR0aC1oLW0pKX12YXIgZj10aGlzLmVsZW1lbnQsYj10aGlzLmVkaXRvcixjPWIudWkuY29udGVudHNFbGVtZW50LmdldENsaWVudFJlY3QoKSxlPWIudWkuY29udGVudHNFbGVtZW50LmdldERvY3VtZW50UG9zaXRpb24oKSxiPWIudWkuc3BhY2UoXCJ0b3BcIiksbD1iLmdldENsaWVudFJlY3QoKSxrPWYuZ2V0Q2xpZW50UmVjdCgpLGQsaD10aGlzLl9ub3RpZmljYXRpb25XaWR0aCxtPXRoaXMuX25vdGlmaWNhdGlvbk1hcmdpbjtkPUNLRURJVE9SLmRvY3VtZW50LmdldFdpbmRvdygpO3ZhciBnPWQuZ2V0U2Nyb2xsUG9zaXRpb24oKSxuPWQuZ2V0Vmlld1BhbmVTaXplKCkscD1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksXG5yPXAuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLHg9Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoO2gmJm18fChkPXRoaXMuZWxlbWVudC5nZXRDaGlsZCgwKSxoPXRoaXMuX25vdGlmaWNhdGlvbldpZHRoPWQuZ2V0Q2xpZW50UmVjdCgpLndpZHRoLG09dGhpcy5fbm90aWZpY2F0aW9uTWFyZ2luPXBhcnNlSW50KGQuZ2V0Q29tcHV0ZWRTdHlsZShcIm1hcmdpbi1sZWZ0XCIpLDEwKStwYXJzZUludChkLmdldENvbXB1dGVkU3R5bGUoXCJtYXJnaW4tcmlnaHRcIiksMTApKTtiLmlzVmlzaWJsZSgpJiZsLmJvdHRvbT5jLnRvcCYmbC5ib3R0b208Yy5ib3R0b20tay5oZWlnaHQ/Zi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6eChsLmJvdHRvbSl9KTowPGMudG9wP2Yuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOngoZS55KX0pOmUueStjLmhlaWdodC1rLmhlaWdodD5nLnk/Zi5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiZml4ZWRcIix0b3A6MH0pOmYuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsXG50b3A6eChlLnkrYy5oZWlnaHQtay5oZWlnaHQpfSk7dmFyIHY9XCJmaXhlZFwiPT1mLmdldFN0eWxlKFwicG9zaXRpb25cIik/Yy5sZWZ0Olwic3RhdGljXCIhPXAuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpP2UueC1yLng6ZS54O2Mud2lkdGg8aCttP2UueCtoK20+Zy54K24ud2lkdGg/YSgpOmYuc2V0U3R5bGUoXCJsZWZ0XCIseCh2KSk6ZS54K2grbT5nLngrbi53aWR0aD9mLnNldFN0eWxlKFwibGVmdFwiLHgodikpOmUueCtjLndpZHRoLzIraC8yK20+Zy54K24ud2lkdGg/Zi5zZXRTdHlsZShcImxlZnRcIix4KHYtZS54K2cueCtuLndpZHRoLWgtbSkpOjA+Yy5sZWZ0K2Mud2lkdGgtaC1tP2EoKTowPmMubGVmdCtjLndpZHRoLzItaC8yP2Yuc2V0U3R5bGUoXCJsZWZ0XCIseCh2LWUueCtnLngpKTpmLnNldFN0eWxlKFwibGVmdFwiLHgoditjLndpZHRoLzItaC8yLW0vMikpfX0sQ0tFRElUT1IucGx1Z2lucy5ub3RpZmljYXRpb249a2EsXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsXG5iLGMpe2IudHlwZXx8KGIudHlwZT1cImF1dG9cIik7aWYoYyYmITE9PT1hLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGIpfHwhYi5kYXRhVmFsdWUmJmIuZGF0YVRyYW5zZmVyLmlzRW1wdHkoKSlyZXR1cm4hMTtiLmRhdGFWYWx1ZXx8KGIuZGF0YVZhbHVlPVwiXCIpO2lmKENLRURJVE9SLmVudi5nZWNrbyYmXCJkcm9wXCI9PWIubWV0aG9kJiZhLnRvb2xib3gpYS5vbmNlKFwiYWZ0ZXJQYXN0ZVwiLGZ1bmN0aW9uKCl7YS50b29sYm94LmZvY3VzKCl9KTtyZXR1cm4gYS5maXJlKFwicGFzdGVcIixiKX1mdW5jdGlvbiBmKGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT1iLmVkaXRhYmxlKCk7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkKXt2YXIgZD1mdW5jdGlvbihhKXtiLnJlYWRPbmx5JiZcImN1dFwiPT1hLm5hbWV8fEMuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKGEsYik7YS5kYXRhLnByZXZlbnREZWZhdWx0KCl9O2Eub24oXCJjb3B5XCIsZCk7YS5vbihcImN1dFwiLGQpO2Eub24oXCJjdXRcIixcbmZ1bmN0aW9uKCl7Yi5yZWFkT25seXx8Yi5leHRyYWN0U2VsZWN0ZWRIdG1sKCl9LG51bGwsbnVsbCw5OTkpfWEub24oQy5tYWluUGFzdGVFdmVudCxmdW5jdGlvbihhKXtcImJlZm9yZXBhc3RlXCI9PUMubWFpblBhc3RlRXZlbnQmJkV8fHcoYSl9KTtcImJlZm9yZXBhc3RlXCI9PUMubWFpblBhc3RlRXZlbnQmJihhLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXtHfHwoZigpLGEuZGF0YS5wcmV2ZW50RGVmYXVsdCgpLHcoYSksayhcInBhc3RlXCIpKX0pLGEub24oXCJjb250ZXh0bWVudVwiLGgsbnVsbCxudWxsLDApLGEub24oXCJiZWZvcmVwYXN0ZVwiLGZ1bmN0aW9uKGEpeyFhLmRhdGF8fGEuZGF0YS4kLmN0cmxLZXl8fGEuZGF0YS4kLnNoaWZ0S2V5fHxoKCl9LG51bGwsbnVsbCwwKSk7YS5vbihcImJlZm9yZWN1dFwiLGZ1bmN0aW9uKCl7IUUmJmwoYil9KTt2YXIgZTthLmF0dGFjaExpc3RlbmVyKENLRURJVE9SLmVudi5pZT9hOmIuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJtb3VzZXVwXCIsXG5mdW5jdGlvbigpe2U9c2V0VGltZW91dChmdW5jdGlvbigpe0IoKX0sMCl9KTtiLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpfSk7YS5vbihcImtleXVwXCIsQil9ZnVuY3Rpb24gZChhKXtyZXR1cm57dHlwZTphLGNhblVuZG86XCJjdXRcIj09YSxzdGFydERpc2FibGVkOiEwLGZha2VLZXlzdHJva2U6XCJjdXRcIj09YT9DS0VESVRPUi5DVFJMKzg4OkNLRURJVE9SLkNUUkwrNjcsZXhlYzpmdW5jdGlvbigpe1wiY3V0XCI9PXRoaXMudHlwZSYmbCgpO3ZhciBhO3ZhciBjPXRoaXMudHlwZTtpZihDS0VESVRPUi5lbnYuaWUpYT1rKGMpO2Vsc2UgdHJ5e2E9Yi5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKGMsITEsbnVsbCl9Y2F0Y2goZCl7YT0hMX1hfHxiLnNob3dOb3RpZmljYXRpb24oYi5sYW5nLmNsaXBib2FyZFt0aGlzLnR5cGUrXCJFcnJvclwiXSk7cmV0dXJuIGF9fX1mdW5jdGlvbiBlKCl7cmV0dXJue2NhblVuZG86ITEsYXN5bmM6ITAsZmFrZUtleXN0cm9rZTpDS0VESVRPUi5DVFJMK1xuODYsZXhlYzpmdW5jdGlvbihiLGMpe2Z1bmN0aW9uIGQoYyxnKXtnPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgZz9nOiEwO2M/KGMubWV0aG9kPVwicGFzdGVcIixjLmRhdGFUcmFuc2Zlcnx8KGMuZGF0YVRyYW5zZmVyPUMuaW5pdFBhc3RlRGF0YVRyYW5zZmVyKCkpLGEoYixjLGcpKTpmJiZiLnNob3dOb3RpZmljYXRpb24oayxcImluZm9cIixiLmNvbmZpZy5jbGlwYm9hcmRfbm90aWZpY2F0aW9uRHVyYXRpb24pO2IuZmlyZShcImFmdGVyQ29tbWFuZEV4ZWNcIix7bmFtZTpcInBhc3RlXCIsY29tbWFuZDplLHJldHVyblZhbHVlOiEhY30pfWM9XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjJiZudWxsIT09Yz9jOnt9O3ZhciBlPXRoaXMsZj1cInVuZGVmaW5lZFwiIT09dHlwZW9mIGMubm90aWZpY2F0aW9uP2Mubm90aWZpY2F0aW9uOiEwLGc9Yy50eXBlLGg9Q0tFRElUT1IudG9vbHMua2V5c3Ryb2tlVG9TdHJpbmcoYi5sYW5nLmNvbW1vbi5rZXlib2FyZCxiLmdldENvbW1hbmRLZXlzdHJva2UodGhpcykpLGs9XG5cInN0cmluZ1wiPT09dHlwZW9mIGY/ZjpiLmxhbmcuY2xpcGJvYXJkLnBhc3RlTm90aWZpY2F0aW9uLnJlcGxhY2UoLyUxLywnXFx4M2NrYmQgYXJpYS1sYWJlbFxceDNkXCInK2guYXJpYSsnXCJcXHgzZScraC5kaXNwbGF5K1wiXFx4M2Mva2JkXFx4M2VcIiksaD1cInN0cmluZ1wiPT09dHlwZW9mIGM/YzpjLmRhdGFWYWx1ZTtnP2IuXy5uZXh0UGFzdGVUeXBlPWc6ZGVsZXRlIGIuXy5uZXh0UGFzdGVUeXBlO1wic3RyaW5nXCI9PT10eXBlb2YgaD9kKHtkYXRhVmFsdWU6aH0pOmIuZ2V0Q2xpcGJvYXJkRGF0YShkKX19fWZ1bmN0aW9uIGYoKXtHPTE7c2V0VGltZW91dChmdW5jdGlvbigpe0c9MH0sMTAwKX1mdW5jdGlvbiBoKCl7RT0xO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtFPTB9LDEwKX1mdW5jdGlvbiBrKGEpe3ZhciBjPWIuZG9jdW1lbnQsZD1jLmdldEJvZHkoKSxlPSExLGY9ZnVuY3Rpb24oKXtlPSEwfTtkLm9uKGEsZik7NzxDS0VESVRPUi5lbnYudmVyc2lvbj9jLiQuZXhlY0NvbW1hbmQoYSk6Yy4kLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLmV4ZWNDb21tYW5kKGEpO1xuZC5yZW1vdmVMaXN0ZW5lcihhLGYpO3JldHVybiBlfWZ1bmN0aW9uIGwoKXtpZihDS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYucXVpcmtzKXt2YXIgYT1iLmdldFNlbGVjdGlvbigpLGMsZCxlO2EuZ2V0VHlwZSgpPT1DS0VESVRPUi5TRUxFQ1RJT05fRUxFTUVOVCYmKGM9YS5nZXRTZWxlY3RlZEVsZW1lbnQoKSkmJihkPWEuZ2V0UmFuZ2VzKClbMF0sZT1iLmRvY3VtZW50LmNyZWF0ZVRleHQoXCJcIiksZS5pbnNlcnRCZWZvcmUoYyksZC5zZXRTdGFydEJlZm9yZShlKSxkLnNldEVuZEFmdGVyKGMpLGEuc2VsZWN0UmFuZ2VzKFtkXSksc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2V0UGFyZW50KCkmJihlLnJlbW92ZSgpLGEuc2VsZWN0RWxlbWVudChjKSl9LDApKX19ZnVuY3Rpb24gbShhLGMpe3ZhciBkPWIuZG9jdW1lbnQsZT1iLmVkaXRhYmxlKCksZj1mdW5jdGlvbihhKXthLmNhbmNlbCgpfSxoO2lmKCFkLmdldEJ5SWQoXCJja2VfcGFzdGViaW5cIikpe3ZhciBrPWIuZ2V0U2VsZWN0aW9uKCksXG5sPWsuY3JlYXRlQm9va21hcmtzKCk7Q0tFRElUT1IuZW52LmllJiZrLnJvb3QuZmlyZShcInNlbGVjdGlvbmNoYW5nZVwiKTt2YXIgcT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoIUNLRURJVE9SLmVudi53ZWJraXQmJiFlLmlzKFwiYm9keVwiKXx8Q0tFRElUT1IuZW52LmllP1wiZGl2XCI6XCJib2R5XCIsZCk7cS5zZXRBdHRyaWJ1dGVzKHtpZDpcImNrZV9wYXN0ZWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSk7dmFyIHQ9MCxkPWQuZ2V0V2luZG93KCk7Q0tFRElUT1IuZW52LndlYmtpdD8oZS5hcHBlbmQocSkscS5hZGRDbGFzcyhcImNrZV9lZGl0YWJsZVwiKSxlLmlzKFwiYm9keVwiKXx8KHQ9XCJzdGF0aWNcIiE9ZS5nZXRDb21wdXRlZFN0eWxlKFwicG9zaXRpb25cIik/ZTpDS0VESVRPUi5kb20uZWxlbWVudC5nZXQoZS4kLm9mZnNldFBhcmVudCksdD10LmdldERvY3VtZW50UG9zaXRpb24oKS55KSk6ZS5nZXRBc2NlbmRhbnQoQ0tFRElUT1IuZW52LmllP1wiYm9keVwiOlwiaHRtbFwiLDEpLmFwcGVuZChxKTtcbnEuc2V0U3R5bGVzKHtwb3NpdGlvbjpcImFic29sdXRlXCIsdG9wOmQuZ2V0U2Nyb2xsUG9zaXRpb24oKS55LXQrMTArXCJweFwiLHdpZHRoOlwiMXB4XCIsaGVpZ2h0Ok1hdGgubWF4KDEsZC5nZXRWaWV3UGFuZVNpemUoKS5oZWlnaHQtMjApK1wicHhcIixvdmVyZmxvdzpcImhpZGRlblwiLG1hcmdpbjowLHBhZGRpbmc6MH0pO0NLRURJVE9SLmVudi5zYWZhcmkmJnEuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmNzc1ZlbmRvclByZWZpeChcInVzZXItc2VsZWN0XCIsXCJ0ZXh0XCIpKTsodD1xLmdldFBhcmVudCgpLmlzUmVhZE9ubHkoKSk/KHEuc2V0T3BhY2l0eSgwKSxxLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCEwKSk6cS5zZXRTdHlsZShcImx0clwiPT1iLmNvbmZpZy5jb250ZW50c0xhbmdEaXJlY3Rpb24/XCJsZWZ0XCI6XCJyaWdodFwiLFwiLTEwMDAwcHhcIik7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGYsbnVsbCxudWxsLDApO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5nZWNrbyloPVxuZS5vbmNlKFwiYmx1clwiLGYsbnVsbCxudWxsLC0xMDApO3QmJnEuZm9jdXMoKTt0PW5ldyBDS0VESVRPUi5kb20ucmFuZ2UocSk7dC5zZWxlY3ROb2RlQ29udGVudHMocSk7dmFyIG49dC5zZWxlY3QoKTtDS0VESVRPUi5lbnYuaWUmJihoPWUub25jZShcImJsdXJcIixmdW5jdGlvbigpe2IubG9ja1NlbGVjdGlvbihuKX0pKTt2YXIgdT1DS0VESVRPUi5kb2N1bWVudC5nZXRXaW5kb3coKS5nZXRTY3JvbGxQb3NpdGlvbigpLnk7c2V0VGltZW91dChmdW5jdGlvbigpe0NLRURJVE9SLmVudi53ZWJraXQmJihDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuJC5zY3JvbGxUb3A9dSk7aCYmaC5yZW1vdmVMaXN0ZW5lcigpO0NLRURJVE9SLmVudi5pZSYmZS5mb2N1cygpO2suc2VsZWN0Qm9va21hcmtzKGwpO3EucmVtb3ZlKCk7dmFyIGE7Q0tFRElUT1IuZW52LndlYmtpdCYmKGE9cS5nZXRGaXJzdCgpKSYmYS5pcyYmYS5oYXNDbGFzcyhcIkFwcGxlLXN0eWxlLXNwYW5cIikmJihxPWEpO2IucmVtb3ZlTGlzdGVuZXIoXCJzZWxlY3Rpb25DaGFuZ2VcIixcbmYpO2MocS5nZXRIdG1sKCkpfSwwKX19ZnVuY3Rpb24gQSgpe2lmKFwicGFzdGVcIj09Qy5tYWluUGFzdGVFdmVudClyZXR1cm4gYi5maXJlKFwiYmVmb3JlUGFzdGVcIix7dHlwZTpcImF1dG9cIixtZXRob2Q6XCJwYXN0ZVwifSksITE7Yi5mb2N1cygpO2YoKTt2YXIgYT1iLmZvY3VzTWFuYWdlcjthLmxvY2soKTtpZihiLmVkaXRhYmxlKCkuZmlyZShDLm1haW5QYXN0ZUV2ZW50KSYmIWsoXCJwYXN0ZVwiKSlyZXR1cm4gYS51bmxvY2soKSwhMTthLnVubG9jaygpO3JldHVybiEwfWZ1bmN0aW9uIHEoYSl7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSlzd2l0Y2goYS5kYXRhLmtleUNvZGUpe2Nhc2UgQ0tFRElUT1IuQ1RSTCs4NjpjYXNlIENLRURJVE9SLlNISUZUKzQ1OmE9Yi5lZGl0YWJsZSgpO2YoKTtcInBhc3RlXCI9PUMubWFpblBhc3RlRXZlbnQmJmEuZmlyZShcImJlZm9yZXBhc3RlXCIpO2JyZWFrO2Nhc2UgQ0tFRElUT1IuQ1RSTCs4ODpjYXNlIENLRURJVE9SLlNISUZUKzQ2OmIuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxcbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmZpcmUoXCJzYXZlU25hcHNob3RcIil9LDUwKX19ZnVuY3Rpb24gdyhjKXt2YXIgZD17dHlwZTpcImF1dG9cIixtZXRob2Q6XCJwYXN0ZVwiLGRhdGFUcmFuc2ZlcjpDLmluaXRQYXN0ZURhdGFUcmFuc2ZlcihjKX07ZC5kYXRhVHJhbnNmZXIuY2FjaGVEYXRhKCk7dmFyIGU9ITEhPT1iLmZpcmUoXCJiZWZvcmVQYXN0ZVwiLGQpO2UmJkMuY2FuQ2xpcGJvYXJkQXBpQmVUcnVzdGVkKGQuZGF0YVRyYW5zZmVyLGIpPyhjLmRhdGEucHJldmVudERlZmF1bHQoKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YShiLGQpfSwwKSk6bShjLGZ1bmN0aW9uKGMpe2QuZGF0YVZhbHVlPWMucmVwbGFjZSgvPHNwYW5bXj5dK2RhdGEtY2tlLWJvb2ttYXJrW148XSo/PFxcL3NwYW4+L2lnLFwiXCIpO2UmJmEoYixkKX0pfWZ1bmN0aW9uIEIoKXtpZihcInd5c2l3eWdcIj09Yi5tb2RlKXt2YXIgYT16KFwicGFzdGVcIik7Yi5nZXRDb21tYW5kKFwiY3V0XCIpLnNldFN0YXRlKHooXCJjdXRcIikpO2IuZ2V0Q29tbWFuZChcImNvcHlcIikuc2V0U3RhdGUoeihcImNvcHlcIikpO1xuYi5nZXRDb21tYW5kKFwicGFzdGVcIikuc2V0U3RhdGUoYSk7Yi5maXJlKFwicGFzdGVTdGF0ZVwiLGEpfX1mdW5jdGlvbiB6KGEpe2lmKEYmJmEgaW57cGFzdGU6MSxjdXQ6MX0pcmV0dXJuIENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEO2lmKFwicGFzdGVcIj09YSlyZXR1cm4gQ0tFRElUT1IuVFJJU1RBVEVfT0ZGO2E9Yi5nZXRTZWxlY3Rpb24oKTt2YXIgYz1hLmdldFJhbmdlcygpO3JldHVybiBhLmdldFR5cGUoKT09Q0tFRElUT1IuU0VMRUNUSU9OX05PTkV8fDE9PWMubGVuZ3RoJiZjWzBdLmNvbGxhcHNlZD9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpDS0VESVRPUi5UUklTVEFURV9PRkZ9dmFyIEM9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQsRT0wLEc9MCxGPTA7KGZ1bmN0aW9uKCl7Yi5vbihcImtleVwiLHEpO2Iub24oXCJjb250ZW50RG9tXCIsYyk7Yi5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGEpe0Y9YS5kYXRhLnNlbGVjdGlvbi5nZXRSYW5nZXMoKVswXS5jaGVja1JlYWRPbmx5KCk7XG5CKCl9KTtiLmNvbnRleHRNZW51JiZiLmNvbnRleHRNZW51LmFkZExpc3RlbmVyKGZ1bmN0aW9uKGEsYil7Rj1iLmdldFJhbmdlcygpWzBdLmNoZWNrUmVhZE9ubHkoKTtyZXR1cm57Y3V0OnooXCJjdXRcIiksY29weTp6KFwiY29weVwiKSxwYXN0ZTp6KFwicGFzdGVcIil9fSl9KSgpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYyxkLGUsZixoKXt2YXIgaz1iLmxhbmcuY2xpcGJvYXJkW2RdO2IuYWRkQ29tbWFuZChkLGUpO2IudWkuYWRkQnV0dG9uJiZiLnVpLmFkZEJ1dHRvbihjLHtsYWJlbDprLGNvbW1hbmQ6ZCx0b29sYmFyOlwiY2xpcGJvYXJkLFwiK2Z9KTtiLmFkZE1lbnVJdGVtcyYmYi5hZGRNZW51SXRlbShkLHtsYWJlbDprLGNvbW1hbmQ6ZCxncm91cDpcImNsaXBib2FyZFwiLG9yZGVyOmh9KX1hKFwiQ3V0XCIsXCJjdXRcIixkKFwiY3V0XCIpLDEwLDEpO2EoXCJDb3B5XCIsXCJjb3B5XCIsZChcImNvcHlcIiksMjAsNCk7YShcIlBhc3RlXCIsXCJwYXN0ZVwiLGUoKSwzMCw4KX0pKCk7Yi5nZXRDbGlwYm9hcmREYXRhPVxuZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTthLmNhbmNlbCgpO2MoYS5kYXRhKX1jfHwoYz1hLGE9bnVsbCk7Yi5vbihcInBhc3RlXCIsZCxudWxsLG51bGwsMCk7ITE9PT1BKCkmJihiLnJlbW92ZUxpc3RlbmVyKFwicGFzdGVcIixkKSxjKG51bGwpKX19ZnVuY3Rpb24gYihhKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXtpZighYS5tYXRjaCgvXltePF0qJC9nKSYmIWEubWF0Y2goL14oPGRpdj48YnIoID9cXC8pPz48XFwvZGl2Pnw8ZGl2PltePF0qPFxcL2Rpdj4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgaWYoQ0tFRElUT1IuZW52LmllKXtpZighYS5tYXRjaCgvXihbXjxdfDxiciggP1xcLyk/PikqJC9naSkmJiFhLm1hdGNoKC9eKDxwPihbXjxdfDxiciggP1xcLyk/PikqPFxcL3A+fChcXHJcXG4pKSokL2dpKSlyZXR1cm5cImh0bWxcIn1lbHNlIGlmKENLRURJVE9SLmVudi5nZWNrbyl7aWYoIWEubWF0Y2goL14oW148XXw8YnIoID9cXC8pPz4pKiQvZ2kpKXJldHVyblwiaHRtbFwifWVsc2UgcmV0dXJuXCJodG1sXCI7XG5yZXR1cm5cImh0bWxpZmllZHRleHRcIn1mdW5jdGlvbiBjKGEsYil7ZnVuY3Rpb24gYyhhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMucmVwZWF0KFwiXFx4M2MvcFxceDNlXFx4M2NwXFx4M2VcIix+fihhLzIpKSsoMT09YSUyP1wiXFx4M2NiclxceDNlXCI6XCJcIil9Yj1iLnJlcGxhY2UoL1xccysvZyxcIiBcIikucmVwbGFjZSgvPiArPC9nLFwiXFx4M2VcXHgzY1wiKS5yZXBsYWNlKC88YnIgP1xcLz4vZ2ksXCJcXHgzY2JyXFx4M2VcIik7Yj1iLnJlcGxhY2UoLzxcXC8/W0EtWl0rPi9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnRvTG93ZXJDYXNlKCl9KTtpZihiLm1hdGNoKC9eW148XSQvKSlyZXR1cm4gYjtDS0VESVRPUi5lbnYud2Via2l0JiYtMTxiLmluZGV4T2YoXCJcXHgzY2RpdlxceDNlXCIpJiYoYj1iLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKD8hJHwoPGRpdj4oPGJyPnwpPFxcL2Rpdj4pKS9nLFwiXFx4M2NiclxceDNlXCIpLnJlcGxhY2UoL14oPGRpdj4oPGJyPnwpPFxcL2Rpdj4pezJ9KD8hJCkvZyxcIlxceDNjZGl2XFx4M2VcXHgzYy9kaXZcXHgzZVwiKSxcbmIubWF0Y2goLzxkaXY+KDxicj58KTxcXC9kaXY+LykmJihiPVwiXFx4M2NwXFx4M2VcIitiLnJlcGxhY2UoLyg8ZGl2Pig8YnI+fCk8XFwvZGl2PikrL2csZnVuY3Rpb24oYSl7cmV0dXJuIGMoYS5zcGxpdChcIlxceDNjL2RpdlxceDNlXFx4M2NkaXZcXHgzZVwiKS5sZW5ndGgrMSl9KStcIlxceDNjL3BcXHgzZVwiKSxiPWIucmVwbGFjZSgvPFxcL2Rpdj48ZGl2Pi9nLFwiXFx4M2NiclxceDNlXCIpLGI9Yi5yZXBsYWNlKC88XFwvP2Rpdj4vZyxcIlwiKSk7Q0tFRElUT1IuZW52LmdlY2tvJiZhLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlImJihDS0VESVRPUi5lbnYuZ2Vja28mJihiPWIucmVwbGFjZSgvXjxicj48YnI+JC8sXCJcXHgzY2JyXFx4M2VcIikpLC0xPGIuaW5kZXhPZihcIlxceDNjYnJcXHgzZVxceDNjYnJcXHgzZVwiKSYmKGI9XCJcXHgzY3BcXHgzZVwiK2IucmVwbGFjZSgvKDxicj4pezIsfS9nLGZ1bmN0aW9uKGEpe3JldHVybiBjKGEubGVuZ3RoLzQpfSkrXCJcXHgzYy9wXFx4M2VcIikpO3JldHVybiBrKGEsYil9ZnVuY3Rpb24gZSgpe2Z1bmN0aW9uIGEoKXt2YXIgYj1cbnt9LGM7Zm9yKGMgaW4gQ0tFRElUT1IuZHRkKVwiJFwiIT1jLmNoYXJBdCgwKSYmXCJkaXZcIiE9YyYmXCJzcGFuXCIhPWMmJihiW2NdPTEpO3JldHVybiBifXZhciBiPXt9O3JldHVybntnZXQ6ZnVuY3Rpb24oYyl7cmV0dXJuXCJwbGFpbi10ZXh0XCI9PWM/Yi5wbGFpblRleHR8fChiLnBsYWluVGV4dD1uZXcgQ0tFRElUT1IuZmlsdGVyKFwiYnJcIikpOlwic2VtYW50aWMtY29udGVudFwiPT1jPygoYz1iLnNlbWFudGljQ29udGVudCl8fChjPW5ldyBDS0VESVRPUi5maWx0ZXIsYy5hbGxvdyh7JDE6e2VsZW1lbnRzOmEoKSxhdHRyaWJ1dGVzOiEwLHN0eWxlczohMSxjbGFzc2VzOiExfX0pLGM9Yi5zZW1hbnRpY0NvbnRlbnQ9YyksYyk6Yz9uZXcgQ0tFRElUT1IuZmlsdGVyKGMpOm51bGx9fX1mdW5jdGlvbiBsKGEsYixjKXtiPUNLRURJVE9SLmh0bWxQYXJzZXIuZnJhZ21lbnQuZnJvbUh0bWwoYik7dmFyIGQ9bmV3IENLRURJVE9SLmh0bWxQYXJzZXIuYmFzaWNXcml0ZXI7Yy5hcHBseVRvKGIsITAsITEsXG5hLmFjdGl2ZUVudGVyTW9kZSk7Yi53cml0ZUh0bWwoZCk7cmV0dXJuIGQuZ2V0SHRtbCgpfWZ1bmN0aW9uIGsoYSxiKXthLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlI/Yj1iLnJlcGxhY2UoLyg8XFwvcD48cD4pKy9nLGZ1bmN0aW9uKGEpe3JldHVybiBDS0VESVRPUi50b29scy5yZXBlYXQoXCJcXHgzY2JyXFx4M2VcIixhLmxlbmd0aC83KjIpfSkucmVwbGFjZSgvPFxcLz9wPi9nLFwiXCIpOmEuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9ESVYmJihiPWIucmVwbGFjZSgvPChcXC8pP3A+L2csXCJcXHgzYyQxZGl2XFx4M2VcIikpO3JldHVybiBifWZ1bmN0aW9uIGQoYSl7YS5kYXRhLnByZXZlbnREZWZhdWx0KCk7YS5kYXRhLiQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3Q9XCJub25lXCJ9ZnVuY3Rpb24gaChiKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZDtiLm9uKFwiY29udGVudERvbVwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChjLGUsZil7ZS5zZWxlY3QoKTthKGIse2RhdGFUcmFuc2ZlcjpmLFxubWV0aG9kOlwiZHJvcFwifSwxKTtmLnNvdXJjZUVkaXRvci5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2Yuc291cmNlRWRpdG9yLmVkaXRhYmxlKCkuZXh0cmFjdEh0bWxGcm9tUmFuZ2UoYyk7Zi5zb3VyY2VFZGl0b3IuZ2V0U2VsZWN0aW9uKCkuc2VsZWN0UmFuZ2VzKFtjXSk7Zi5zb3VyY2VFZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKX1mdW5jdGlvbiBlKGQsZil7ZC5zZWxlY3QoKTthKGIse2RhdGFUcmFuc2ZlcjpmLG1ldGhvZDpcImRyb3BcIn0sMSk7Yy5yZXNldERyYWdEYXRhVHJhbnNmZXIoKX1mdW5jdGlvbiBmKGEsYyxkKXt2YXIgZT17JDphLmRhdGEuJCx0YXJnZXQ6YS5kYXRhLmdldFRhcmdldCgpfTtjJiYoZS5kcmFnUmFuZ2U9Yyk7ZCYmKGUuZHJvcFJhbmdlPWQpOyExPT09Yi5maXJlKGEubmFtZSxlKSYmYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gaChhKXthLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGE9YS5nZXRQYXJlbnQoKSk7cmV0dXJuIGEuZ2V0Q2hpbGRDb3VudCgpfVxudmFyIGs9Yi5lZGl0YWJsZSgpLGw9Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZ2V0RHJvcFRhcmdldChiKSxtPWIudWkuc3BhY2UoXCJ0b3BcIiksQT1iLnVpLnNwYWNlKFwiYm90dG9tXCIpO2MucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KG0pO2MucHJldmVudERlZmF1bHREcm9wT25FbGVtZW50KEEpO2suYXR0YWNoTGlzdGVuZXIobCxcImRyYWdzdGFydFwiLGYpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLGMucmVzZXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCwxKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnc3RhcnRcIixmdW5jdGlvbihhKXtjLmluaXREcmFnRGF0YVRyYW5zZmVyKGEsYil9LG51bGwsbnVsbCwyKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnc3RhcnRcIixmdW5jdGlvbigpe3ZhciBhPWMuZHJhZ1JhbmdlPWIuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF07Q0tFRElUT1IuZW52LmllJiYxMD5DS0VESVRPUi5lbnYudmVyc2lvbiYmKGMuZHJhZ1N0YXJ0Q29udGFpbmVyQ2hpbGRDb3VudD1cbmE/aChhLnN0YXJ0Q29udGFpbmVyKTpudWxsLGMuZHJhZ0VuZENvbnRhaW5lckNoaWxkQ291bnQ9YT9oKGEuZW5kQ29udGFpbmVyKTpudWxsKX0sbnVsbCxudWxsLDEwMCk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ2VuZFwiLGYpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyYWdlbmRcIixjLmluaXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCwxKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcmFnZW5kXCIsYy5yZXNldERyYWdEYXRhVHJhbnNmZXIsYyxudWxsLDEwMCk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJhZ292ZXJcIixmdW5jdGlvbihhKXtpZihDS0VESVRPUi5lbnYuZWRnZSlhLmRhdGEucHJldmVudERlZmF1bHQoKTtlbHNle3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKTtiJiZiLmlzJiZiLmlzKFwiaHRtbFwiKT9hLmRhdGEucHJldmVudERlZmF1bHQoKTpDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmlzRmlsZUFwaVN1cHBvcnRlZCYmYS5kYXRhLiQuZGF0YVRyYW5zZmVyLnR5cGVzLmNvbnRhaW5zKFwiRmlsZXNcIikmJlxuYS5kYXRhLnByZXZlbnREZWZhdWx0KCl9fSk7ay5hdHRhY2hMaXN0ZW5lcihsLFwiZHJvcFwiLGZ1bmN0aW9uKGEpe2lmKCFhLmRhdGEuJC5kZWZhdWx0UHJldmVudGVkKXthLmRhdGEucHJldmVudERlZmF1bHQoKTt2YXIgZD1hLmRhdGEuZ2V0VGFyZ2V0KCk7aWYoIWQuaXNSZWFkT25seSgpfHxkLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZC5pcyhcImh0bWxcIikpe3ZhciBkPWMuZ2V0UmFuZ2VBdERyb3BQb3NpdGlvbihhLGIpLGU9Yy5kcmFnUmFuZ2U7ZCYmZihhLGUsZCl9fX0sbnVsbCxudWxsLDk5OTkpO2suYXR0YWNoTGlzdGVuZXIoYixcImRyb3BcIixjLmluaXREcmFnRGF0YVRyYW5zZmVyLGMsbnVsbCwxKTtrLmF0dGFjaExpc3RlbmVyKGIsXCJkcm9wXCIsZnVuY3Rpb24oYSl7aWYoYT1hLmRhdGEpe3ZhciBmPWEuZHJvcFJhbmdlLGg9YS5kcmFnUmFuZ2Usaz1hLmRhdGFUcmFuc2ZlcjtrLmdldFRyYW5zZmVyVHlwZShiKT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTD9cbnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmludGVybmFsRHJvcChoLGYsayxiKX0sMCk6ay5nZXRUcmFuc2ZlclR5cGUoYik9PUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfQ1JPU1NfRURJVE9SUz9kKGgsZixrKTplKGYsayl9fSxudWxsLG51bGwsOTk5OSl9KX1DS0VESVRPUi5wbHVnaW5zLmFkZChcImNsaXBib2FyZFwiLHtyZXF1aXJlczpcIm5vdGlmaWNhdGlvblwiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGQsaz1lKCk7YS5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0P2Q9XCJwbGFpbi10ZXh0XCI6YS5jb25maWcucGFzdGVGaWx0ZXI/ZD1hLmNvbmZpZy5wYXN0ZUZpbHRlcjohQ0tFRElUT1IuZW52LndlYmtpdHx8XCJwYXN0ZUZpbHRlclwiaW4gYS5jb25maWd8fChkPVwic2VtYW50aWMtY29udGVudFwiKTthLnBhc3RlRmlsdGVyPWsuZ2V0KGQpO2YoYSk7aChhKTtpZihDS0VESVRPUi5lbnYuZ2Vja28pe3ZhciBtPVtcImltYWdlL3BuZ1wiLFwiaW1hZ2UvanBlZ1wiLFwiaW1hZ2UvZ2lmXCJdLHg7YS5vbihcInBhc3RlXCIsXG5mdW5jdGlvbihiKXt2YXIgYz1iLmRhdGEsZD1jLmRhdGFUcmFuc2ZlcjtpZighYy5kYXRhVmFsdWUmJlwicGFzdGVcIj09Yy5tZXRob2QmJmQmJjE9PWQuZ2V0RmlsZXNDb3VudCgpJiZ4IT1kLmlkJiYoZD1kLmdldEZpbGUoMCksLTEhPUNLRURJVE9SLnRvb2xzLmluZGV4T2YobSxkLnR5cGUpKSl7dmFyIGU9bmV3IEZpbGVSZWFkZXI7ZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLGZ1bmN0aW9uKCl7Yi5kYXRhLmRhdGFWYWx1ZT0nXFx4M2NpbWcgc3JjXFx4M2RcIicrZS5yZXN1bHQrJ1wiIC9cXHgzZSc7YS5maXJlKFwicGFzdGVcIixiLmRhdGEpfSwhMSk7ZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixmdW5jdGlvbigpe2EuZmlyZShcInBhc3RlXCIsYi5kYXRhKX0sITEpO2UuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsZnVuY3Rpb24oKXthLmZpcmUoXCJwYXN0ZVwiLGIuZGF0YSl9LCExKTtlLnJlYWRBc0RhdGFVUkwoZCk7eD1jLmRhdGFUcmFuc2Zlci5pZDtiLnN0b3AoKX19LG51bGwsbnVsbCwxKX1hLm9uKFwicGFzdGVcIixcbmZ1bmN0aW9uKGIpe2IuZGF0YS5kYXRhVHJhbnNmZXJ8fChiLmRhdGEuZGF0YVRyYW5zZmVyPW5ldyBDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5kYXRhVHJhbnNmZXIpO2lmKCFiLmRhdGEuZGF0YVZhbHVlKXt2YXIgYz1iLmRhdGEuZGF0YVRyYW5zZmVyLGQ9Yy5nZXREYXRhKFwidGV4dC9odG1sXCIpO2lmKGQpYi5kYXRhLmRhdGFWYWx1ZT1kLGIuZGF0YS50eXBlPVwiaHRtbFwiO2Vsc2UgaWYoZD1jLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpKWIuZGF0YS5kYXRhVmFsdWU9YS5lZGl0YWJsZSgpLnRyYW5zZm9ybVBsYWluVGV4dFRvSHRtbChkKSxiLmRhdGEudHlwZT1cInRleHRcIn19LG51bGwsbnVsbCwxKTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZGF0YVZhbHVlLGM9Q0tFRElUT1IuZHRkLiRibG9jazstMTxiLmluZGV4T2YoXCJBcHBsZS1cIikmJihiPWIucmVwbGFjZSgvPHNwYW4gY2xhc3M9XCJBcHBsZS1jb252ZXJ0ZWQtc3BhY2VcIj4mbmJzcDs8XFwvc3Bhbj4vZ2ksXG5cIiBcIiksXCJodG1sXCIhPWEuZGF0YS50eXBlJiYoYj1iLnJlcGxhY2UoLzxzcGFuIGNsYXNzPVwiQXBwbGUtdGFiLXNwYW5cIltePl0qPihbXjxdKik8XFwvc3Bhbj4vZ2ksZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5yZXBsYWNlKC9cXHQvZyxcIlxceDI2bmJzcDtcXHgyNm5ic3A7IFxceDI2bmJzcDtcIil9KSksLTE8Yi5pbmRleE9mKCdcXHgzY2JyIGNsYXNzXFx4M2RcIkFwcGxlLWludGVyY2hhbmdlLW5ld2xpbmVcIlxceDNlJykmJihhLmRhdGEuc3RhcnRzV2l0aEVPTD0xLGEuZGF0YS5wcmVTbmlmZmluZz1cImh0bWxcIixiPWIucmVwbGFjZSgvPGJyIGNsYXNzPVwiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZVwiPi8sXCJcIikpLGI9Yi5yZXBsYWNlKC8oPFtePl0rKSBjbGFzcz1cIkFwcGxlLVteXCJdKlwiL2dpLFwiJDFcIikpO2lmKGIubWF0Y2goL148W148XStja2VfKGVkaXRhYmxlfGNvbnRlbnRzKS9pKSl7dmFyIGQsZSxmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcImRpdlwiKTtmb3IoZi5zZXRIdG1sKGIpOzE9PWYuZ2V0Q2hpbGRDb3VudCgpJiZcbihkPWYuZ2V0Rmlyc3QoKSkmJmQudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoZC5oYXNDbGFzcyhcImNrZV9lZGl0YWJsZVwiKXx8ZC5oYXNDbGFzcyhcImNrZV9jb250ZW50c1wiKSk7KWY9ZT1kO2UmJihiPWUuZ2V0SHRtbCgpLnJlcGxhY2UoLzxicj4kL2ksXCJcIikpfUNLRURJVE9SLmVudi5pZT9iPWIucmVwbGFjZSgvXiZuYnNwOyg/OiB8XFxyXFxuKT88KFxcdyspL2csZnVuY3Rpb24oYixkKXtyZXR1cm4gZC50b0xvd2VyQ2FzZSgpaW4gYz8oYS5kYXRhLnByZVNuaWZmaW5nPVwiaHRtbFwiLFwiXFx4M2NcIitkKTpifSk6Q0tFRElUT1IuZW52LndlYmtpdD9iPWIucmVwbGFjZSgvPFxcLyhcXHcrKT48ZGl2Pjxicj48XFwvZGl2PiQvLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQgaW4gYz8oYS5kYXRhLmVuZHNXaXRoRU9MPTEsXCJcXHgzYy9cIitkK1wiXFx4M2VcIik6Yn0pOkNLRURJVE9SLmVudi5nZWNrbyYmKGI9Yi5yZXBsYWNlKC8oXFxzKTxicj4kLyxcIiQxXCIpKTthLmRhdGEuZGF0YVZhbHVlPWJ9LG51bGwsXG5udWxsLDMpO2Eub24oXCJwYXN0ZVwiLGZ1bmN0aW9uKGQpe2Q9ZC5kYXRhO3ZhciBlPWEuXy5uZXh0UGFzdGVUeXBlfHxkLnR5cGUsZj1kLmRhdGFWYWx1ZSxoLG09YS5jb25maWcuY2xpcGJvYXJkX2RlZmF1bHRDb250ZW50VHlwZXx8XCJodG1sXCIscT1kLmRhdGFUcmFuc2Zlci5nZXRUcmFuc2ZlclR5cGUoYSk7aD1cImh0bWxcIj09ZXx8XCJodG1sXCI9PWQucHJlU25pZmZpbmc/XCJodG1sXCI6YihmKTtkZWxldGUgYS5fLm5leHRQYXN0ZVR5cGU7XCJodG1saWZpZWR0ZXh0XCI9PWgmJihmPWMoYS5jb25maWcsZikpO1widGV4dFwiPT1lJiZcImh0bWxcIj09aD9mPWwoYSxmLGsuZ2V0KFwicGxhaW4tdGV4dFwiKSk6cT09Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTCYmYS5wYXN0ZUZpbHRlciYmIWQuZG9udEZpbHRlciYmKGY9bChhLGYsYS5wYXN0ZUZpbHRlcikpO2Quc3RhcnRzV2l0aEVPTCYmKGY9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJytmKTtkLmVuZHNXaXRoRU9MJiYoZis9J1xceDNjYnIgZGF0YS1ja2UtZW9sXFx4M2RcIjFcIlxceDNlJyk7XG5cImF1dG9cIj09ZSYmKGU9XCJodG1sXCI9PWh8fFwiaHRtbFwiPT1tP1wiaHRtbFwiOlwidGV4dFwiKTtkLnR5cGU9ZTtkLmRhdGFWYWx1ZT1mO2RlbGV0ZSBkLnByZVNuaWZmaW5nO2RlbGV0ZSBkLnN0YXJ0c1dpdGhFT0w7ZGVsZXRlIGQuZW5kc1dpdGhFT0x9LG51bGwsbnVsbCw2KTthLm9uKFwicGFzdGVcIixmdW5jdGlvbihiKXtiPWIuZGF0YTtiLmRhdGFWYWx1ZSYmKGEuaW5zZXJ0SHRtbChiLmRhdGFWYWx1ZSxiLnR5cGUsYi5yYW5nZSksc2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcImFmdGVyUGFzdGVcIil9LDApKX0sbnVsbCxudWxsLDFFMyl9fSk7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQ9e2lzQ3VzdG9tQ29weUN1dFN1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmlPUyxpc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllLGlzRmlsZUFwaVN1cHBvcnRlZDohQ0tFRElUT1IuZW52LmllfHw5PENLRURJVE9SLmVudi52ZXJzaW9uLFxubWFpblBhc3RlRXZlbnQ6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJiZWZvcmVwYXN0ZVwiOlwicGFzdGVcIixjYW5DbGlwYm9hcmRBcGlCZVRydXN0ZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRUcmFuc2ZlclR5cGUoYikhPUNLRURJVE9SLkRBVEFfVFJBTlNGRVJfRVhURVJOQUx8fENLRURJVE9SLmVudi5jaHJvbWUmJiFhLmlzRW1wdHkoKXx8Q0tFRElUT1IuZW52LmdlY2tvJiYoYS5nZXREYXRhKFwidGV4dC9odG1sXCIpfHxhLmdldEZpbGVzQ291bnQoKSl8fENLRURJVE9SLmVudi5zYWZhcmkmJjYwMzw9Q0tFRElUT1IuZW52LnZlcnNpb24mJiFDS0VESVRPUi5lbnYuaU9TPyEwOiExfSxnZXREcm9wVGFyZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuZWRpdGFibGUoKTtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9ufHxiLmlzSW5saW5lKCk/YjphLmRvY3VtZW50fSxmaXhTcGxpdE5vZGVzQWZ0ZXJEcm9wOmZ1bmN0aW9uKGEsXG5iLGMsZCl7ZnVuY3Rpb24gZShhLGMsZCl7dmFyIGY9YTtmLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVCYmKGY9YS5nZXRQYXJlbnQoKSk7aWYoZi5lcXVhbHMoYykmJmQhPWMuZ2V0Q2hpbGRDb3VudCgpKXJldHVybiBhPWIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldC0xKSxjPWIuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoYi5zdGFydE9mZnNldCksYSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJmMmJmMudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUJiYoZD1hLmdldExlbmd0aCgpLGEuc2V0VGV4dChhLmdldFRleHQoKStjLmdldFRleHQoKSksYy5yZW1vdmUoKSxiLnNldFN0YXJ0KGEsZCksYi5jb2xsYXBzZSghMCkpLCEwfXZhciBmPWIuc3RhcnRDb250YWluZXI7XCJudW1iZXJcIj09dHlwZW9mIGQmJlwibnVtYmVyXCI9PXR5cGVvZiBjJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmKGUoYS5zdGFydENvbnRhaW5lcixmLGMpfHxlKGEuZW5kQ29udGFpbmVyLFxuZixkKSl9LGlzRHJvcFJhbmdlQWZmZWN0ZWRCeURyYWdSYW5nZTpmdW5jdGlvbihhLGIpe3ZhciBjPWIuc3RhcnRDb250YWluZXIsZD1iLmVuZE9mZnNldDtyZXR1cm4gYS5lbmRDb250YWluZXIuZXF1YWxzKGMpJiZhLmVuZE9mZnNldDw9ZHx8YS5zdGFydENvbnRhaW5lci5nZXRQYXJlbnQoKS5lcXVhbHMoYykmJmEuc3RhcnRDb250YWluZXIuZ2V0SW5kZXgoKTxkfHxhLmVuZENvbnRhaW5lci5nZXRQYXJlbnQoKS5lcXVhbHMoYykmJmEuZW5kQ29udGFpbmVyLmdldEluZGV4KCk8ZD8hMDohMX0saW50ZXJuYWxEcm9wOmZ1bmN0aW9uKGIsYyxkLGUpe3ZhciBmPUNLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLGg9ZS5lZGl0YWJsZSgpLGssbDtlLmZpcmUoXCJzYXZlU25hcHNob3RcIik7ZS5maXJlKFwibG9ja1NuYXBzaG90XCIse2RvbnRVcGRhdGU6MX0pO0NLRURJVE9SLmVudi5pZSYmMTA+Q0tFRElUT1IuZW52LnZlcnNpb24mJnRoaXMuZml4U3BsaXROb2Rlc0FmdGVyRHJvcChiLGMsZi5kcmFnU3RhcnRDb250YWluZXJDaGlsZENvdW50LFxuZi5kcmFnRW5kQ29udGFpbmVyQ2hpbGRDb3VudCk7KGw9dGhpcy5pc0Ryb3BSYW5nZUFmZmVjdGVkQnlEcmFnUmFuZ2UoYixjKSl8fChrPWIuY3JlYXRlQm9va21hcmsoITEpKTtmPWMuY2xvbmUoKS5jcmVhdGVCb29rbWFyayghMSk7bCYmKGs9Yi5jcmVhdGVCb29rbWFyayghMSkpO2I9ay5zdGFydE5vZGU7Yz1rLmVuZE5vZGU7bD1mLnN0YXJ0Tm9kZTtjJiZiLmdldFBvc2l0aW9uKGwpJkNLRURJVE9SLlBPU0lUSU9OX1BSRUNFRElORyYmYy5nZXRQb3NpdGlvbihsKSZDS0VESVRPUi5QT1NJVElPTl9GT0xMT1dJTkcmJmwuaW5zZXJ0QmVmb3JlKGIpO2I9ZS5jcmVhdGVSYW5nZSgpO2IubW92ZVRvQm9va21hcmsoayk7aC5leHRyYWN0SHRtbEZyb21SYW5nZShiLDEpO2M9ZS5jcmVhdGVSYW5nZSgpO2MubW92ZVRvQm9va21hcmsoZik7YShlLHtkYXRhVHJhbnNmZXI6ZCxtZXRob2Q6XCJkcm9wXCIscmFuZ2U6Y30sMSk7ZS5maXJlKFwidW5sb2NrU25hcHNob3RcIil9LGdldFJhbmdlQXREcm9wUG9zaXRpb246ZnVuY3Rpb24oYSxcbmIpe3ZhciBjPWEuZGF0YS4kLGQ9Yy5jbGllbnRYLGU9Yy5jbGllbnRZLGY9Yi5nZXRTZWxlY3Rpb24oITApLmdldFJhbmdlcygpWzBdLGg9Yi5jcmVhdGVSYW5nZSgpO2lmKGEuZGF0YS50ZXN0UmFuZ2UpcmV0dXJuIGEuZGF0YS50ZXN0UmFuZ2U7aWYoZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCYmYi5kb2N1bWVudC4kLmNhcmV0UmFuZ2VGcm9tUG9pbnQoZCxlKSljPWIuZG9jdW1lbnQuJC5jYXJldFJhbmdlRnJvbVBvaW50KGQsZSksaC5zZXRTdGFydChDS0VESVRPUi5kb20ubm9kZShjLnN0YXJ0Q29udGFpbmVyKSxjLnN0YXJ0T2Zmc2V0KSxoLmNvbGxhcHNlKCEwKTtlbHNlIGlmKGMucmFuZ2VQYXJlbnQpaC5zZXRTdGFydChDS0VESVRPUi5kb20ubm9kZShjLnJhbmdlUGFyZW50KSxjLnJhbmdlT2Zmc2V0KSxoLmNvbGxhcHNlKCEwKTtlbHNle2lmKENLRURJVE9SLmVudi5pZSYmODxDS0VESVRPUi5lbnYudmVyc2lvbiYmZiYmYi5lZGl0YWJsZSgpLmhhc0ZvY3VzKXJldHVybiBmO1xuaWYoZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2Upe2IuZm9jdXMoKTtjPWIuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuY3JlYXRlVGV4dFJhbmdlKCk7dHJ5e2Zvcih2YXIgaz0hMSxsPTA7MjA+bCYmIWs7bCsrKXtpZighayl0cnl7Yy5tb3ZlVG9Qb2ludChkLGUtbCksaz0hMH1jYXRjaChtKXt9aWYoIWspdHJ5e2MubW92ZVRvUG9pbnQoZCxlK2wpLGs9ITB9Y2F0Y2gocSl7fX1pZihrKXt2YXIgdz1cImNrZS10ZW1wLVwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpO2MucGFzdGVIVE1MKCdcXHgzY3NwYW4gaWRcXHgzZFwiJyt3KydcIlxceDNl4oCLXFx4M2Mvc3BhblxceDNlJyk7dmFyIEI9Yi5kb2N1bWVudC5nZXRCeUlkKHcpO2gubW92ZVRvUG9zaXRpb24oQixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQpO0IucmVtb3ZlKCl9ZWxzZXt2YXIgej1iLmRvY3VtZW50LiQuZWxlbWVudEZyb21Qb2ludChkLGUpLEM9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHopLEU7aWYoQy5lcXVhbHMoYi5lZGl0YWJsZSgpKXx8XG5cImh0bWxcIj09Qy5nZXROYW1lKCkpcmV0dXJuIGYmJmYuc3RhcnRDb250YWluZXImJiFmLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhiLmVkaXRhYmxlKCkpP2Y6bnVsbDtFPUMuZ2V0Q2xpZW50UmVjdCgpO2Q8RS5sZWZ0P2guc2V0U3RhcnRBdChDLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKTpoLnNldFN0YXJ0QXQoQyxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtoLmNvbGxhcHNlKCEwKX19Y2F0Y2goRyl7cmV0dXJuIG51bGx9fWVsc2UgcmV0dXJuIG51bGx9cmV0dXJuIGh9LGluaXREcmFnRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhLiQ/YS5kYXRhLiQuZGF0YVRyYW5zZmVyOm51bGwsZD1uZXcgdGhpcy5kYXRhVHJhbnNmZXIoYyxiKTtjP3RoaXMuZHJhZ0RhdGEmJmQuaWQ9PXRoaXMuZHJhZ0RhdGEuaWQ/ZD10aGlzLmRyYWdEYXRhOnRoaXMuZHJhZ0RhdGE9ZDp0aGlzLmRyYWdEYXRhP2Q9dGhpcy5kcmFnRGF0YTp0aGlzLmRyYWdEYXRhPVxuZDthLmRhdGEuZGF0YVRyYW5zZmVyPWR9LHJlc2V0RHJhZ0RhdGFUcmFuc2ZlcjpmdW5jdGlvbigpe3RoaXMuZHJhZ0RhdGE9bnVsbH0saW5pdFBhc3RlRGF0YVRyYW5zZmVyOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5pc0N1c3RvbUNvcHlDdXRTdXBwb3J0ZWQpe2lmKGEmJmEuZGF0YSYmYS5kYXRhLiQpe3ZhciBjPW5ldyB0aGlzLmRhdGFUcmFuc2ZlcihhLmRhdGEuJC5jbGlwYm9hcmREYXRhLGIpO3RoaXMuY29weUN1dERhdGEmJmMuaWQ9PXRoaXMuY29weUN1dERhdGEuaWQ/KGM9dGhpcy5jb3B5Q3V0RGF0YSxjLiQ9YS5kYXRhLiQuY2xpcGJvYXJkRGF0YSk6dGhpcy5jb3B5Q3V0RGF0YT1jO3JldHVybiBjfXJldHVybiBuZXcgdGhpcy5kYXRhVHJhbnNmZXIobnVsbCxiKX1yZXR1cm4gbmV3IHRoaXMuZGF0YVRyYW5zZmVyKENLRURJVE9SLmVudi5lZGdlJiZhJiZhLmRhdGEuJCYmYS5kYXRhLiQuY2xpcGJvYXJkRGF0YXx8bnVsbCxiKX0scHJldmVudERlZmF1bHREcm9wT25FbGVtZW50OmZ1bmN0aW9uKGEpe2EmJlxuYS5vbihcImRyYWdvdmVyXCIsZCl9fTt2YXIgbT1DS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZD9cImNrZS9pZFwiOlwiVGV4dFwiO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkLmRhdGFUcmFuc2Zlcj1mdW5jdGlvbihhLGIpe2EmJih0aGlzLiQ9YSk7dGhpcy5fPXttZXRhUmVnRXhwOi9ePG1ldGEuKj8+L2ksYm9keVJlZ0V4cDovPGJvZHkoPzpbXFxzXFxTXSo/KT4oW1xcc1xcU10qKTxcXC9ib2R5Pi9pLGZyYWdtZW50UmVnRXhwOi9cXHgzYyEtLSg/OlN0YXJ0fEVuZClGcmFnbWVudC0tXFx4M2UvZyxkYXRhOnt9LGZpbGVzOltdLG5vcm1hbGl6ZVR5cGU6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7cmV0dXJuXCJ0ZXh0XCI9PWF8fFwidGV4dC9wbGFpblwiPT1hP1wiVGV4dFwiOlwidXJsXCI9PWE/XCJVUkxcIjphfX07dGhpcy5pZD10aGlzLmdldERhdGEobSk7dGhpcy5pZHx8KHRoaXMuaWQ9XCJUZXh0XCI9PW0/XCJcIjpcImNrZS1cIitDS0VESVRPUi50b29scy5nZXRVbmlxdWVJZCgpKTtcbmlmKFwiVGV4dFwiIT1tKXRyeXt0aGlzLiQuc2V0RGF0YShtLHRoaXMuaWQpfWNhdGNoKGMpe31iJiYodGhpcy5zb3VyY2VFZGl0b3I9Yix0aGlzLnNldERhdGEoXCJ0ZXh0L2h0bWxcIixiLmdldFNlbGVjdGVkSHRtbCgxKSksXCJUZXh0XCI9PW18fHRoaXMuZ2V0RGF0YShcInRleHQvcGxhaW5cIil8fHRoaXMuc2V0RGF0YShcInRleHQvcGxhaW5cIixiLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkVGV4dCgpKSl9O0NLRURJVE9SLkRBVEFfVFJBTlNGRVJfSU5URVJOQUw9MTtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM9MjtDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0VYVEVSTkFMPTM7Q0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuZGF0YVRyYW5zZmVyLnByb3RvdHlwZT17Z2V0RGF0YTpmdW5jdGlvbihhLGIpe2E9dGhpcy5fLm5vcm1hbGl6ZVR5cGUoYSk7dmFyIGM9dGhpcy5fLmRhdGFbYV0sZDtpZih2b2lkIDA9PT1jfHxudWxsPT09Y3x8XCJcIj09PWMpdHJ5e2M9dGhpcy4kLmdldERhdGEoYSl9Y2F0Y2goZSl7fWlmKHZvaWQgMD09PVxuY3x8bnVsbD09PWN8fFwiXCI9PT1jKWM9XCJcIjtcInRleHQvaHRtbFwiIT1hfHxiP1wiVGV4dFwiPT1hJiZDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuZ2V0RmlsZXNDb3VudCgpJiZcImZpbGU6Ly9cIj09Yy5zdWJzdHJpbmcoMCw3KSYmKGM9XCJcIik6KGM9Yy5yZXBsYWNlKHRoaXMuXy5tZXRhUmVnRXhwLFwiXCIpLChkPXRoaXMuXy5ib2R5UmVnRXhwLmV4ZWMoYykpJiZkLmxlbmd0aCYmKGM9ZFsxXSxjPWMucmVwbGFjZSh0aGlzLl8uZnJhZ21lbnRSZWdFeHAsXCJcIikpKTtcInN0cmluZ1wiPT09dHlwZW9mIGMmJihkPWMuaW5kZXhPZihcIlxceDNjL2h0bWxcXHgzZVwiKSxjPS0xIT09ZD9jLnN1YnN0cmluZygwLGQrNyk6Yyk7cmV0dXJuIGN9LHNldERhdGE6ZnVuY3Rpb24oYSxiKXthPXRoaXMuXy5ub3JtYWxpemVUeXBlKGEpO3RoaXMuXy5kYXRhW2FdPWI7aWYoQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWR8fFwiVVJMXCI9PWF8fFwiVGV4dFwiPT1hKXtcIlRleHRcIj09bSYmXG5cIlRleHRcIj09YSYmKHRoaXMuaWQ9Yik7dHJ5e3RoaXMuJC5zZXREYXRhKGEsYil9Y2F0Y2goYyl7fX19LGdldFRyYW5zZmVyVHlwZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zb3VyY2VFZGl0b3I/dGhpcy5zb3VyY2VFZGl0b3I9PWE/Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9JTlRFUk5BTDpDS0VESVRPUi5EQVRBX1RSQU5TRkVSX0NST1NTX0VESVRPUlM6Q0tFRElUT1IuREFUQV9UUkFOU0ZFUl9FWFRFUk5BTH0sY2FjaGVEYXRhOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShjKXtjPWIuXy5ub3JtYWxpemVUeXBlKGMpO3ZhciBkPWIuZ2V0RGF0YShjLCEwKTtkJiYoYi5fLmRhdGFbY109ZCl9aWYodGhpcy4kKXt2YXIgYj10aGlzLGMsZDtpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcihjPTA7Yzx0aGlzLiQudHlwZXMubGVuZ3RoO2MrKylhKHRoaXMuJC50eXBlc1tjXSl9ZWxzZSBhKFwiVGV4dFwiKSxcbmEoXCJVUkxcIik7ZD10aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKTtpZih0aGlzLiQmJnRoaXMuJC5maWxlc3x8ZCl7dGhpcy5fLmZpbGVzPVtdO2lmKHRoaXMuJC5maWxlcyYmdGhpcy4kLmZpbGVzLmxlbmd0aClmb3IoYz0wO2M8dGhpcy4kLmZpbGVzLmxlbmd0aDtjKyspdGhpcy5fLmZpbGVzLnB1c2godGhpcy4kLmZpbGVzW2NdKTswPT09dGhpcy5fLmZpbGVzLmxlbmd0aCYmZCYmdGhpcy5fLmZpbGVzLnB1c2goZCl9fX0sZ2V0RmlsZXNDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uZmlsZXMubGVuZ3RoP3RoaXMuXy5maWxlcy5sZW5ndGg6dGhpcy4kJiZ0aGlzLiQuZmlsZXMmJnRoaXMuJC5maWxlcy5sZW5ndGg/dGhpcy4kLmZpbGVzLmxlbmd0aDp0aGlzLl9nZXRJbWFnZUZyb21DbGlwYm9hcmQoKT8xOjB9LGdldEZpbGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuXy5maWxlcy5sZW5ndGg/dGhpcy5fLmZpbGVzW2FdOnRoaXMuJCYmdGhpcy4kLmZpbGVzJiZ0aGlzLiQuZmlsZXMubGVuZ3RoP1xudGhpcy4kLmZpbGVzW2FdOjA9PT1hP3RoaXMuX2dldEltYWdlRnJvbUNsaXBib2FyZCgpOnZvaWQgMH0saXNFbXB0eTpmdW5jdGlvbigpe3ZhciBhPXt9LGI7aWYodGhpcy5nZXRGaWxlc0NvdW50KCkpcmV0dXJuITE7Zm9yKGIgaW4gdGhpcy5fLmRhdGEpYVtiXT0xO2lmKHRoaXMuJClpZihDS0VESVRPUi5wbHVnaW5zLmNsaXBib2FyZC5pc0N1c3RvbURhdGFUeXBlc1N1cHBvcnRlZCl7aWYodGhpcy4kLnR5cGVzKWZvcih2YXIgYz0wO2M8dGhpcy4kLnR5cGVzLmxlbmd0aDtjKyspYVt0aGlzLiQudHlwZXNbY11dPTF9ZWxzZSBhLlRleHQ9MSxhLlVSTD0xO1wiVGV4dFwiIT1tJiYoYVttXT0wKTtmb3IoYiBpbiBhKWlmKGFbYl0mJlwiXCIhPT10aGlzLmdldERhdGEoYikpcmV0dXJuITE7cmV0dXJuITB9LF9nZXRJbWFnZUZyb21DbGlwYm9hcmQ6ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLiQmJnRoaXMuJC5pdGVtcyYmdGhpcy4kLml0ZW1zWzBdKXRyeXtpZigoYT10aGlzLiQuaXRlbXNbMF0uZ2V0QXNGaWxlKCkpJiZcbmEudHlwZSlyZXR1cm4gYX1jYXRjaChiKXt9fX19KCksQ0tFRElUT1IuY29uZmlnLmNsaXBib2FyZF9ub3RpZmljYXRpb25EdXJhdGlvbj0xRTQsZnVuY3Rpb24oKXtDS0VESVRPUi5wbHVnaW5zLmFkZChcInBhbmVsXCIse2JlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7YS51aS5hZGRIYW5kbGVyKENLRURJVE9SLlVJX1BBTkVMLENLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXIpfX0pO0NLRURJVE9SLlVJX1BBTkVMPVwicGFuZWxcIjtDS0VESVRPUi51aS5wYW5lbD1mdW5jdGlvbihhLGIpe2ImJkNLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLGIpO0NLRURJVE9SLnRvb2xzLmV4dGVuZCh0aGlzLHtjbGFzc05hbWU6XCJcIixjc3M6W119KTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuZG9jdW1lbnQ9YTt0aGlzLmlzRnJhbWVkPXRoaXMuZm9yY2VJRnJhbWV8fHRoaXMuY3NzLmxlbmd0aDt0aGlzLl89e2Jsb2Nrczp7fX19O0NLRURJVE9SLnVpLnBhbmVsLmhhbmRsZXI9e2NyZWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IENLRURJVE9SLnVpLnBhbmVsKGEpfX07XG52YXIgYT1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsXCIsJ1xceDNjZGl2IGxhbmdcXHgzZFwie2xhbmdDb2RlfVwiIGlkXFx4M2RcIntpZH1cIiBkaXJcXHgzZHtkaXJ9IGNsYXNzXFx4M2RcImNrZSBja2VfcmVzZXRfYWxsIHtlZGl0b3JJZH0gY2tlX3BhbmVsIGNrZV9wYW5lbCB7Y2xzfSBja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJ6LWluZGV4Ont6LWluZGV4fVwiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZXtmcmFtZX1cXHgzYy9kaXZcXHgzZScpLGY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1mcmFtZVwiLCdcXHgzY2lmcmFtZSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2ZyYW1lXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBmcmFtZWJvcmRlclxceDNkXCIwXCIgc3JjXFx4M2RcIntzcmN9XCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhbmVsLWZyYW1lLWlubmVyXCIsJ1xceDNjIURPQ1RZUEUgaHRtbFxceDNlXFx4M2NodG1sIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9jb250YWluZXIge2Vudn1cIiBkaXJcXHgzZFwie2Rpcn1cIiBsYW5nXFx4M2RcIntsYW5nQ29kZX1cIlxceDNlXFx4M2NoZWFkXFx4M2V7Y3NzfVxceDNjL2hlYWRcXHgzZVxceDNjYm9keSBjbGFzc1xceDNkXCJja2Vfe2Rpcn1cIiBzdHlsZVxceDNkXCJtYXJnaW46MDtwYWRkaW5nOjBcIiBvbmxvYWRcXHgzZFwie29ubG9hZH1cIlxceDNlXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlJyk7XG5DS0VESVRPUi51aS5wYW5lbC5wcm90b3R5cGU9e3JlbmRlcjpmdW5jdGlvbihjLGUpe3RoaXMuZ2V0SG9sZGVyRWxlbWVudD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5ob2xkZXI7aWYoIWEpe2lmKHRoaXMuaXNGcmFtZWQpe3ZhciBhPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpLGM9YS5nZXRQYXJlbnQoKSxhPWEuZ2V0RnJhbWVEb2N1bWVudCgpO0NLRURJVE9SLmVudi5pT1MmJmMuc2V0U3R5bGVzKHtvdmVyZmxvdzpcInNjcm9sbFwiLFwiLXdlYmtpdC1vdmVyZmxvdy1zY3JvbGxpbmdcIjpcInRvdWNoXCJ9KTtjPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKENLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXt0aGlzLmlzTG9hZGVkPSEwO2lmKHRoaXMub25Mb2FkKXRoaXMub25Mb2FkKCl9LHRoaXMpKTthLndyaXRlKGIub3V0cHV0KENLRURJVE9SLnRvb2xzLmV4dGVuZCh7Y3NzOkNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKHRoaXMuY3NzKSxvbmxvYWQ6XCJ3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIitcbmMrXCIpO1wifSxsKSkpO2EuZ2V0V2luZG93KCkuJC5DS0VESVRPUj1DS0VESVRPUjthLm9uKFwia2V5ZG93blwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5nZXRLZXlzdHJva2UoKSxjPXRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkKS5nZXRBdHRyaWJ1dGUoXCJkaXJcIik7dGhpcy5fLm9uS2V5RG93biYmITE9PT10aGlzLl8ub25LZXlEb3duKGIpP2EuZGF0YS5wcmV2ZW50RGVmYXVsdCgpOigyNz09Ynx8Yj09KFwicnRsXCI9PWM/Mzk6MzcpKSYmdGhpcy5vbkVzY2FwZSYmITE9PT10aGlzLm9uRXNjYXBlKGIpJiZhLmRhdGEucHJldmVudERlZmF1bHQoKX0sdGhpcyk7YT1hLmdldEJvZHkoKTthLnVuc2VsZWN0YWJsZSgpO0NLRURJVE9SLmVudi5haXImJkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihjKX1lbHNlIGE9dGhpcy5kb2N1bWVudC5nZXRCeUlkKHRoaXMuaWQpO3RoaXMuXy5ob2xkZXI9YX1yZXR1cm4gYX07dmFyIGw9e2VkaXRvcklkOmMuaWQsaWQ6dGhpcy5pZCxsYW5nQ29kZTpjLmxhbmdDb2RlLFxuZGlyOmMubGFuZy5kaXIsY2xzOnRoaXMuY2xhc3NOYW1lLGZyYW1lOlwiXCIsZW52OkNLRURJVE9SLmVudi5jc3NDbGFzcyxcInotaW5kZXhcIjpjLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgrMX07aWYodGhpcy5pc0ZyYW1lZCl7dmFyIGs9Q0tFRElUT1IuZW52LmFpcj9cImphdmFzY3JpcHQ6dm9pZCgwKVwiOkNLRURJVE9SLmVudi5pZT9cImphdmFzY3JpcHQ6dm9pZChmdW5jdGlvbigpe1wiK2VuY29kZVVSSUNvbXBvbmVudChcImRvY3VtZW50Lm9wZW4oKTsoXCIrQ0tFRElUT1IudG9vbHMuZml4RG9tYWluK1wiKSgpO2RvY3VtZW50LmNsb3NlKCk7XCIpK1wifSgpKVwiOlwiXCI7bC5mcmFtZT1mLm91dHB1dCh7aWQ6dGhpcy5pZCtcIl9mcmFtZVwiLHNyYzprfSl9az1hLm91dHB1dChsKTtlJiZlLnB1c2goayk7cmV0dXJuIGt9LGFkZEJsb2NrOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uYmxvY2tzW2FdPWIgaW5zdGFuY2VvZiBDS0VESVRPUi51aS5wYW5lbC5ibG9jaz9iOm5ldyBDS0VESVRPUi51aS5wYW5lbC5ibG9jayh0aGlzLmdldEhvbGRlckVsZW1lbnQoKSxcbmIpO3RoaXMuXy5jdXJyZW50QmxvY2t8fHRoaXMuc2hvd0Jsb2NrKGEpO3JldHVybiBifSxnZXRCbG9jazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLmJsb2Nrc1thXX0sc2hvd0Jsb2NrOmZ1bmN0aW9uKGEpe2E9dGhpcy5fLmJsb2Nrc1thXTt2YXIgYj10aGlzLl8uY3VycmVudEJsb2NrLGY9IXRoaXMuZm9yY2VJRnJhbWV8fENLRURJVE9SLmVudi5pZT90aGlzLl8uaG9sZGVyOnRoaXMuZG9jdW1lbnQuZ2V0QnlJZCh0aGlzLmlkK1wiX2ZyYW1lXCIpO2ImJmIuaGlkZSgpO3RoaXMuXy5jdXJyZW50QmxvY2s9YTtDS0VESVRPUi5maXJlKFwiYXJpYVdpZGdldFwiLGYpO2EuXy5mb2N1c0luZGV4PS0xO3RoaXMuXy5vbktleURvd249YS5vbktleURvd24mJkNLRURJVE9SLnRvb2xzLmJpbmQoYS5vbktleURvd24sYSk7YS5zaG93KCk7cmV0dXJuIGF9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQmJnRoaXMuZWxlbWVudC5yZW1vdmUoKX19O0NLRURJVE9SLnVpLnBhbmVsLmJsb2NrPVxuQ0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSxiKXt0aGlzLmVsZW1lbnQ9YS5hcHBlbmQoYS5nZXREb2N1bWVudCgpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIix7YXR0cmlidXRlczp7dGFiaW5kZXg6LTEsXCJjbGFzc1wiOlwiY2tlX3BhbmVsX2Jsb2NrXCJ9LHN0eWxlczp7ZGlzcGxheTpcIm5vbmVcIn19KSk7YiYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsYik7dGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZXMoe3JvbGU6dGhpcy5hdHRyaWJ1dGVzLnJvbGV8fFwicHJlc2VudGF0aW9uXCIsXCJhcmlhLWxhYmVsXCI6dGhpcy5hdHRyaWJ1dGVzW1wiYXJpYS1sYWJlbFwiXSx0aXRsZTp0aGlzLmF0dHJpYnV0ZXMudGl0bGV8fHRoaXMuYXR0cmlidXRlc1tcImFyaWEtbGFiZWxcIl19KTt0aGlzLmtleXM9e307dGhpcy5fLmZvY3VzSW5kZXg9LTE7dGhpcy5lbGVtZW50LmRpc2FibGVDb250ZXh0TWVudSgpfSxfOnttYXJrSXRlbTpmdW5jdGlvbihhKXstMSE9YSYmKGE9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0odGhpcy5fLmZvY3VzSW5kZXg9XG5hKSxDS0VESVRPUi5lbnYud2Via2l0JiZhLmdldERvY3VtZW50KCkuZ2V0V2luZG93KCkuZm9jdXMoKSxhLmZvY3VzKCksdGhpcy5vbk1hcmsmJnRoaXMub25NYXJrKGEpKX0sbWFya0ZpcnN0RGlzcGxheWVkOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1mdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlwibm9uZVwiPT1hLmdldFN0eWxlKFwiZGlzcGxheVwiKX0sZj10aGlzLl8uZ2V0SXRlbXMoKSxrLGQsaD1mLmNvdW50KCktMTswPD1oO2gtLSlpZihrPWYuZ2V0SXRlbShoKSxrLmdldEFzY2VuZGFudChiKXx8KGQ9ayx0aGlzLl8uZm9jdXNJbmRleD1oKSxcInRydWVcIj09ay5nZXRBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpKXtkPWs7dGhpcy5fLmZvY3VzSW5kZXg9aDticmVha31kJiYoYSYmYSgpLENLRURJVE9SLmVudi53ZWJraXQmJmQuZ2V0RG9jdW1lbnQoKS5nZXRXaW5kb3coKS5mb2N1cygpLGQuZm9jdXMoKSx0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsoZCkpfSxcbmdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKX19LHByb3RvOntzaG93OmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwiXCIpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJiEwPT09dGhpcy5vbkhpZGUuY2FsbCh0aGlzKXx8dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKX0sb25LZXlEb3duOmZ1bmN0aW9uKGEsYil7dmFyIGY9dGhpcy5rZXlzW2FdO3N3aXRjaChmKXtjYXNlIFwibmV4dFwiOmZvcih2YXIgaz10aGlzLl8uZm9jdXNJbmRleCxmPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxkO2Q9Zi5nZXRJdGVtKCsrayk7KWlmKGQuZ2V0QXR0cmlidXRlKFwiX2NrZV9mb2N1c1wiKSYmZC4kLm9mZnNldFdpZHRoKXt0aGlzLl8uZm9jdXNJbmRleD1rO2QuZm9jdXMoKTticmVha31yZXR1cm4gZHx8Yj8hMToodGhpcy5fLmZvY3VzSW5kZXg9LTEsdGhpcy5vbktleURvd24oYSxcbjEpKTtjYXNlIFwicHJldlwiOms9dGhpcy5fLmZvY3VzSW5kZXg7Zm9yKGY9dGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpOzA8ayYmKGQ9Zi5nZXRJdGVtKC0taykpOyl7aWYoZC5nZXRBdHRyaWJ1dGUoXCJfY2tlX2ZvY3VzXCIpJiZkLiQub2Zmc2V0V2lkdGgpe3RoaXMuXy5mb2N1c0luZGV4PWs7ZC5mb2N1cygpO2JyZWFrfWQ9bnVsbH1yZXR1cm4gZHx8Yj8hMToodGhpcy5fLmZvY3VzSW5kZXg9Zi5jb3VudCgpLHRoaXMub25LZXlEb3duKGEsMSkpO2Nhc2UgXCJjbGlja1wiOmNhc2UgXCJtb3VzZXVwXCI6cmV0dXJuIGs9dGhpcy5fLmZvY3VzSW5kZXgsKGQ9MDw9ayYmdGhpcy5lbGVtZW50LmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLmdldEl0ZW0oaykpJiYoZC4kW2ZdP2QuJFtmXSgpOmQuJFtcIm9uXCIrZl0oKSksITF9cmV0dXJuITB9fX0pfSgpLENLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmxvYXRwYW5lbFwiLHtyZXF1aXJlczpcInBhbmVsXCJ9KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxcbmMsZSxsLGspe2s9Q0tFRElUT1IudG9vbHMuZ2VuS2V5KGMuZ2V0VW5pcXVlSWQoKSxlLmdldFVuaXF1ZUlkKCksYS5sYW5nLmRpcixhLnVpQ29sb3J8fFwiXCIsbC5jc3N8fFwiXCIsa3x8XCJcIik7dmFyIGQ9ZltrXTtkfHwoZD1mW2tdPW5ldyBDS0VESVRPUi51aS5wYW5lbChjLGwpLGQuZWxlbWVudD1lLmFwcGVuZChDS0VESVRPUi5kb20uZWxlbWVudC5jcmVhdGVGcm9tSHRtbChkLnJlbmRlcihhKSxjKSksZC5lbGVtZW50LnNldFN0eWxlcyh7ZGlzcGxheTpcIm5vbmVcIixwb3NpdGlvbjpcImFic29sdXRlXCJ9KSk7cmV0dXJuIGR9dmFyIGY9e307Q0tFRElUT1IudWkuZmxvYXRQYW5lbD1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7JDpmdW5jdGlvbihiLGMsZSxmKXtmdW5jdGlvbiBrKCl7Zy5oaWRlKCl9ZS5mb3JjZUlGcmFtZT0xO2UudG9vbGJhclJlbGF0ZWQmJmIuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUmJihjPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoXCJja2VfXCIrXG5iLm5hbWUpKTt2YXIgZD1jLmdldERvY3VtZW50KCk7Zj1hKGIsZCxjLGUsZnx8MCk7dmFyIGg9Zi5lbGVtZW50LG09aC5nZXRGaXJzdCgpLGc9dGhpcztoLmRpc2FibGVDb250ZXh0TWVudSgpO3RoaXMuZWxlbWVudD1oO3RoaXMuXz17ZWRpdG9yOmIscGFuZWw6ZixwYXJlbnRFbGVtZW50OmMsZGVmaW5pdGlvbjplLGRvY3VtZW50OmQsaWZyYW1lOm0sY2hpbGRyZW46W10sZGlyOmIubGFuZy5kaXIsc2hvd0Jsb2NrUGFyYW1zOm51bGx9O2Iub24oXCJtb2RlXCIsayk7Yi5vbihcInJlc2l6ZVwiLGspO2QuZ2V0V2luZG93KCkub24oXCJyZXNpemVcIixmdW5jdGlvbigpe3RoaXMucmVwb3NpdGlvbigpfSx0aGlzKX0scHJvdG86e2FkZEJsb2NrOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIHRoaXMuXy5wYW5lbC5hZGRCbG9jayhhLGMpfSxhZGRMaXN0QmxvY2s6ZnVuY3Rpb24oYSxjKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmFkZExpc3RCbG9jayhhLGMpfSxnZXRCbG9jazpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5fLnBhbmVsLmdldEJsb2NrKGEpfSxcbnNob3dCbG9jazpmdW5jdGlvbihhLGMsZSxmLGssZCl7dmFyIGg9dGhpcy5fLnBhbmVsLG09aC5zaG93QmxvY2soYSk7dGhpcy5fLnNob3dCbG9ja1BhcmFtcz1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7dGhpcy5hbGxvd0JsdXIoITEpO3ZhciBnPXRoaXMuXy5lZGl0b3IuZWRpdGFibGUoKTt0aGlzLl8ucmV0dXJuRm9jdXM9Zy5oYXNGb2N1cz9nOm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChDS0VESVRPUi5kb2N1bWVudC4kLmFjdGl2ZUVsZW1lbnQpO3RoaXMuXy5oaWRlVGltZW91dD0wO3ZhciBuPXRoaXMuZWxlbWVudCxnPXRoaXMuXy5pZnJhbWUsZz1DS0VESVRPUi5lbnYuaWUmJiFDS0VESVRPUi5lbnYuZWRnZT9nOm5ldyBDS0VESVRPUi5kb20ud2luZG93KGcuJC5jb250ZW50V2luZG93KSxwPW4uZ2V0RG9jdW1lbnQoKSxyPXRoaXMuXy5wYXJlbnRFbGVtZW50LmdldFBvc2l0aW9uZWRBbmNlc3RvcigpLHg9Yy5nZXREb2N1bWVudFBvc2l0aW9uKHApLHA9cj9yLmdldERvY3VtZW50UG9zaXRpb24ocCk6XG57eDowLHk6MH0sdj1cInJ0bFwiPT10aGlzLl8uZGlyLHU9eC54KyhmfHwwKS1wLngsdD14LnkrKGt8fDApLXAueTshdnx8MSE9ZSYmNCE9ZT92fHwyIT1lJiYzIT1lfHwodSs9Yy4kLm9mZnNldFdpZHRoLTEpOnUrPWMuJC5vZmZzZXRXaWR0aDtpZigzPT1lfHw0PT1lKXQrPWMuJC5vZmZzZXRIZWlnaHQtMTt0aGlzLl8ucGFuZWwuXy5vZmZzZXRQYXJlbnRJZD1jLmdldElkKCk7bi5zZXRTdHlsZXMoe3RvcDp0K1wicHhcIixsZWZ0OjAsZGlzcGxheTpcIlwifSk7bi5zZXRPcGFjaXR5KDApO24uZ2V0Rmlyc3QoKS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO3RoaXMuXy5lZGl0b3IuZm9jdXNNYW5hZ2VyLmFkZChnKTt0aGlzLl8uYmx1clNldHx8KENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITAsZy5vbihcImJsdXJcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKCl7ZGVsZXRlIHRoaXMuXy5yZXR1cm5Gb2N1czt0aGlzLmhpZGUoKX10aGlzLmFsbG93Qmx1cigpJiZhLmRhdGEuZ2V0UGhhc2UoKT09Q0tFRElUT1IuRVZFTlRfUEhBU0VfQVRfVEFSR0VUJiZcbnRoaXMudmlzaWJsZSYmIXRoaXMuXy5hY3RpdmVDaGlsZCYmKENLRURJVE9SLmVudi5pT1M/dGhpcy5fLmhpZGVUaW1lb3V0fHwodGhpcy5fLmhpZGVUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwwLHRoaXMpKTpiLmNhbGwodGhpcykpfSx0aGlzKSxnLm9uKFwiZm9jdXNcIixmdW5jdGlvbigpe3RoaXMuXy5mb2N1c2VkPSEwO3RoaXMuaGlkZUNoaWxkKCk7dGhpcy5hbGxvd0JsdXIoITApfSx0aGlzKSxDS0VESVRPUi5lbnYuaU9TJiYoZy5vbihcInRvdWNoc3RhcnRcIixmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLl8uaGlkZVRpbWVvdXQpfSx0aGlzKSxnLm9uKFwidG91Y2hlbmRcIixmdW5jdGlvbigpe3RoaXMuXy5oaWRlVGltZW91dD0wO3RoaXMuZm9jdXMoKX0sdGhpcykpLENLRURJVE9SLmV2ZW50LnVzZUNhcHR1cmU9ITEsdGhpcy5fLmJsdXJTZXQ9MSk7aC5vbkVzY2FwZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKGEpe2lmKHRoaXMub25Fc2NhcGUmJlxuITE9PT10aGlzLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuYmluZChmdW5jdGlvbigpe3ZhciBhPW47YS5yZW1vdmVTdHlsZShcIndpZHRoXCIpO2lmKG0uYXV0b1NpemUpe3ZhciBiPW0uZWxlbWVudC5nZXREb2N1bWVudCgpLGI9KENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5lZGdlP20uZWxlbWVudDpiLmdldEJvZHkoKSkuJC5zY3JvbGxXaWR0aDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0V2lkdGh8fDApLShhLiQuY2xpZW50V2lkdGh8fDApKzMpO2Euc2V0U3R5bGUoXCJ3aWR0aFwiLGIrMTArXCJweFwiKTtiPW0uZWxlbWVudC4kLnNjcm9sbEhlaWdodDtDS0VESVRPUi5lbnYuaWUmJkNLRURJVE9SLmVudi5xdWlya3MmJjA8YiYmKGIrPShhLiQub2Zmc2V0SGVpZ2h0fHwwKS0oYS4kLmNsaWVudEhlaWdodHx8XG4wKSszKTthLnNldFN0eWxlKFwiaGVpZ2h0XCIsYitcInB4XCIpO2guXy5jdXJyZW50QmxvY2suZWxlbWVudC5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIikucmVtb3ZlU3R5bGUoXCJkaXNwbGF5XCIpfWVsc2UgYS5yZW1vdmVTdHlsZShcImhlaWdodFwiKTt2JiYodS09bi4kLm9mZnNldFdpZHRoKTtuLnNldFN0eWxlKFwibGVmdFwiLHUrXCJweFwiKTt2YXIgYj1oLmVsZW1lbnQuZ2V0V2luZG93KCksYT1uLiQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYj1iLmdldFZpZXdQYW5lU2l6ZSgpLGM9YS53aWR0aHx8YS5yaWdodC1hLmxlZnQsZT1hLmhlaWdodHx8YS5ib3R0b20tYS50b3AsZj12P2EucmlnaHQ6Yi53aWR0aC1hLmxlZnQsZz12P2Iud2lkdGgtYS5yaWdodDphLmxlZnQ7dj9mPGMmJih1PWc+Yz91K2M6Yi53aWR0aD5jP3UtYS5sZWZ0OnUtYS5yaWdodCtiLndpZHRoKTpmPGMmJih1PWc+Yz91LWM6Yi53aWR0aD5jP3UtYS5yaWdodCtiLndpZHRoOnUtYS5sZWZ0KTtjPWEudG9wO2IuaGVpZ2h0LVxuYS50b3A8ZSYmKHQ9Yz5lP3QtZTpiLmhlaWdodD5lP3QtYS5ib3R0b20rYi5oZWlnaHQ6dC1hLnRvcCk7Q0tFRElUT1IuZW52LmllJiYoYj1hPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChuLiQub2Zmc2V0UGFyZW50KSxcImh0bWxcIj09Yi5nZXROYW1lKCkmJihiPWIuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkpLFwicnRsXCI9PWIuZ2V0Q29tcHV0ZWRTdHlsZShcImRpcmVjdGlvblwiKSYmKHU9Q0tFRElUT1IuZW52LmllOENvbXBhdD91LTIqbi5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLiQuc2Nyb2xsTGVmdDp1LShhLiQuc2Nyb2xsV2lkdGgtYS4kLmNsaWVudFdpZHRoKSkpO3ZhciBhPW4uZ2V0Rmlyc3QoKSxrOyhrPWEuZ2V0Q3VzdG9tRGF0YShcImFjdGl2ZVBhbmVsXCIpKSYmay5vbkhpZGUmJmsub25IaWRlLmNhbGwodGhpcywxKTthLnNldEN1c3RvbURhdGEoXCJhY3RpdmVQYW5lbFwiLHRoaXMpO24uc2V0U3R5bGVzKHt0b3A6dCtcInB4XCIsbGVmdDp1K1wicHhcIn0pO24uc2V0T3BhY2l0eSgxKTtcbmQmJmQoKX0sdGhpcyk7aC5pc0xvYWRlZD9hKCk6aC5vbkxvYWQ9YTtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuZW52LndlYmtpdCYmQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKS55O3RoaXMuZm9jdXMoKTttLmVsZW1lbnQuZm9jdXMoKTtDS0VESVRPUi5lbnYud2Via2l0JiYoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0Qm9keSgpLiQuc2Nyb2xsVG9wPWEpO3RoaXMuYWxsb3dCbHVyKCEwKTtDS0VESVRPUi5lbnYuaWU/Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe20ubWFya0ZpcnN0RGlzcGxheWVkP20ubWFya0ZpcnN0RGlzcGxheWVkKCk6bS5fLm1hcmtGaXJzdERpc3BsYXllZCgpfSwwKTptLm1hcmtGaXJzdERpc3BsYXllZD9tLm1hcmtGaXJzdERpc3BsYXllZCgpOm0uXy5tYXJrRmlyc3REaXNwbGF5ZWQoKTt0aGlzLl8uZWRpdG9yLmZpcmUoXCJwYW5lbFNob3dcIix0aGlzKX0sXG4wLHRoaXMpfSxDS0VESVRPUi5lbnYuYWlyPzIwMDowLHRoaXMpO3RoaXMudmlzaWJsZT0xO3RoaXMub25TaG93JiZ0aGlzLm9uU2hvdy5jYWxsKHRoaXMpfSxyZXBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5fLnNob3dCbG9ja1BhcmFtczt0aGlzLnZpc2libGUmJnRoaXMuXy5zaG93QmxvY2tQYXJhbXMmJih0aGlzLmhpZGUoKSx0aGlzLnNob3dCbG9jay5hcHBseSh0aGlzLGEpKX0sZm9jdXM6ZnVuY3Rpb24oKXtpZihDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYT1DS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKTthJiYhYS5lcXVhbHModGhpcy5fLmlmcmFtZSkmJmEuJC5ibHVyKCl9KHRoaXMuXy5sYXN0Rm9jdXNlZHx8dGhpcy5fLmlmcmFtZS5nZXRGcmFtZURvY3VtZW50KCkuZ2V0V2luZG93KCkpLmZvY3VzKCl9LGJsdXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaWZyYW1lLmdldEZyYW1lRG9jdW1lbnQoKS5nZXRBY3RpdmUoKTthJiZhLmlzKFwiYVwiKSYmKHRoaXMuXy5sYXN0Rm9jdXNlZD1cbmEpfSxoaWRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMudmlzaWJsZSYmKCF0aGlzLm9uSGlkZXx8ITAhPT10aGlzLm9uSGlkZS5jYWxsKHRoaXMpKSl7dGhpcy5oaWRlQ2hpbGQoKTtDS0VESVRPUi5lbnYuZ2Vja28mJnRoaXMuXy5pZnJhbWUuZ2V0RnJhbWVEb2N1bWVudCgpLiQuYWN0aXZlRWxlbWVudC5ibHVyKCk7dGhpcy5lbGVtZW50LnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKTt0aGlzLnZpc2libGU9MDt0aGlzLmVsZW1lbnQuZ2V0Rmlyc3QoKS5yZW1vdmVDdXN0b21EYXRhKFwiYWN0aXZlUGFuZWxcIik7aWYoYT1hJiZ0aGlzLl8ucmV0dXJuRm9jdXMpQ0tFRElUT1IuZW52LndlYmtpdCYmYS50eXBlJiZhLmdldFdpbmRvdygpLiQuZm9jdXMoKSxhLmZvY3VzKCk7ZGVsZXRlIHRoaXMuXy5sYXN0Rm9jdXNlZDt0aGlzLl8uc2hvd0Jsb2NrUGFyYW1zPW51bGw7dGhpcy5fLmVkaXRvci5maXJlKFwicGFuZWxIaWRlXCIsdGhpcyl9fSxhbGxvd0JsdXI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5fLnBhbmVsO1xudm9pZCAwIT09YSYmKGMuYWxsb3dCbHVyPWEpO3JldHVybiBjLmFsbG93Qmx1cn0sc2hvd0FzQ2hpbGQ6ZnVuY3Rpb24oYSxjLGUsZixrLGQpe2lmKHRoaXMuXy5hY3RpdmVDaGlsZCE9YXx8YS5fLnBhbmVsLl8ub2Zmc2V0UGFyZW50SWQhPWUuZ2V0SWQoKSl0aGlzLmhpZGVDaGlsZCgpLGEub25IaWRlPUNLRURJVE9SLnRvb2xzLmJpbmQoZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5fLmZvY3VzZWR8fHRoaXMuaGlkZSgpfSwwLHRoaXMpfSx0aGlzKSx0aGlzLl8uYWN0aXZlQ2hpbGQ9YSx0aGlzLl8uZm9jdXNlZD0hMSxhLnNob3dCbG9jayhjLGUsZixrLGQpLHRoaXMuYmx1cigpLChDS0VESVRPUi5lbnYuaWU3Q29tcGF0fHxDS0VESVRPUi5lbnYuaWU2Q29tcGF0KSYmc2V0VGltZW91dChmdW5jdGlvbigpe2EuZWxlbWVudC5nZXRDaGlsZCgwKS4kLnN0eWxlLmNzc1RleHQrPVwiXCJ9LDEwMCl9LGhpZGVDaGlsZDpmdW5jdGlvbihhKXt2YXIgYz1cbnRoaXMuXy5hY3RpdmVDaGlsZDtjJiYoZGVsZXRlIGMub25IaWRlLGRlbGV0ZSB0aGlzLl8uYWN0aXZlQ2hpbGQsYy5oaWRlKCksYSYmdGhpcy5mb2N1cygpKX19fSk7Q0tFRElUT1Iub24oXCJpbnN0YW5jZURlc3Ryb3llZFwiLGZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudG9vbHMuaXNFbXB0eShDS0VESVRPUi5pbnN0YW5jZXMpLGM7Zm9yKGMgaW4gZil7dmFyIGU9ZltjXTthP2UuZGVzdHJveSgpOmUuZWxlbWVudC5oaWRlKCl9YSYmKGY9e30pfSl9KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJtZW51XCIse3JlcXVpcmVzOlwiZmxvYXRwYW5lbFwiLGJlZm9yZUluaXQ6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPWEuY29uZmlnLm1lbnVfZ3JvdXBzLnNwbGl0KFwiLFwiKSxiPWEuXy5tZW51R3JvdXBzPXt9LGM9YS5fLm1lbnVJdGVtcz17fSxlPTA7ZTxmLmxlbmd0aDtlKyspYltmW2VdXT1lKzE7YS5hZGRNZW51R3JvdXA9ZnVuY3Rpb24oYSxjKXtiW2FdPWN8fDEwMH07YS5hZGRNZW51SXRlbT1mdW5jdGlvbihhLFxuZSl7YltlLmdyb3VwXSYmKGNbYV09bmV3IENLRURJVE9SLm1lbnVJdGVtKHRoaXMsYSxlKSl9O2EuYWRkTWVudUl0ZW1zPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXRoaXMuYWRkTWVudUl0ZW0oYixhW2JdKX07YS5nZXRNZW51SXRlbT1mdW5jdGlvbihhKXtyZXR1cm4gY1thXX07YS5yZW1vdmVNZW51SXRlbT1mdW5jdGlvbihhKXtkZWxldGUgY1thXX19fSksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Euc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLmdyb3VwPGIuZ3JvdXA/LTE6YS5ncm91cD5iLmdyb3VwPzE6YS5vcmRlcjxiLm9yZGVyPy0xOmEub3JkZXI+Yi5vcmRlcj8xOjB9KX12YXIgZj0nXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51aXRlbVwiXFx4M2VcXHgzY2EgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uIGNrZV9tZW51YnV0dG9uX197bmFtZX0gY2tlX21lbnVidXR0b25fe3N0YXRlfSB7Y2xzfVwiIGhyZWZcXHgzZFwie2hyZWZ9XCIgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCIgX2NrZV9mb2N1c1xceDNkMSBoaWRlZm9jdXNcXHgzZFwidHJ1ZVwiIHJvbGVcXHgzZFwie3JvbGV9XCIgYXJpYS1sYWJlbFxceDNkXCJ7bGFiZWx9XCIgYXJpYS1kZXNjcmliZWRieVxceDNkXCJ7aWR9X2Rlc2NyaXB0aW9uXCIgYXJpYS1oYXNwb3B1cFxceDNkXCJ7aGFzUG9wdXB9XCIgYXJpYS1kaXNhYmxlZFxceDNkXCJ7ZGlzYWJsZWR9XCIge2FyaWFDaGVja2VkfSBkcmFnZ2FibGVcXHgzZFwiZmFsc2VcIic7XG5DS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihmKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoZis9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIiBvbmRyYWdzdGFydFxceDNkXCJyZXR1cm4gZmFsc2U7XCInKTt2YXIgZj1mKygnIG9ubW91c2VvdmVyXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7aG92ZXJGbn0se2luZGV4fSk7XCIgb25tb3VzZW91dFxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe21vdmVPdXRGbn0se2luZGV4fSk7XCIgJysoQ0tFRElUT1IuZW52LmllPydvbmNsaWNrXFx4M2RcInJldHVybiBmYWxzZTtcIiBvbm1vdXNldXAnOlwib25jbGlja1wiKSsnXFx4M2RcIkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbih7Y2xpY2tGbn0se2luZGV4fSk7IHJldHVybiBmYWxzZTtcIlxceDNlJyksYj1DS0VESVRPUi5hZGRUZW1wbGF0ZShcIm1lbnVJdGVtXCIsXG5mKydcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25faW5uZXJcIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2ljb25cIlxceDNlXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9idXR0b25faWNvbiBja2VfYnV0dG9uX197aWNvbk5hbWV9X2ljb25cIiBzdHlsZVxceDNkXCJ7aWNvblN0eWxlfVwiXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVidXR0b25fbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZXtzaG9ydGN1dEh0bWx9e2Fycm93SHRtbH1cXHgzYy9zcGFuXFx4M2VcXHgzYy9hXFx4M2VcXHgzY3NwYW4gaWRcXHgzZFwie2lkfV9kZXNjcmlwdGlvblwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiIGFyaWEtaGlkZGVuXFx4M2RcImZhbHNlXCJcXHgzZXthcmlhU2hvcnRjdXR9XFx4M2Mvc3BhblxceDNlXFx4M2Mvc3BhblxceDNlJyksYz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcIm1lbnVBcnJvd1wiLCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX21lbnVhcnJvd1wiXFx4M2VcXHgzY3NwYW5cXHgzZXtsYWJlbH1cXHgzYy9zcGFuXFx4M2VcXHgzYy9zcGFuXFx4M2UnKSxcbmU9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJtZW51U2hvcnRjdXRcIiwnXFx4M2NzcGFuIGNsYXNzXFx4M2RcImNrZV9tZW51YnV0dG9uX2xhYmVsIGNrZV9tZW51YnV0dG9uX3Nob3J0Y3V0XCJcXHgzZXtzaG9ydGN1dH1cXHgzYy9zcGFuXFx4M2UnKTtDS0VESVRPUi5tZW51PUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYil7Yj10aGlzLl8uZGVmaW5pdGlvbj1ifHx7fTt0aGlzLmlkPUNLRURJVE9SLnRvb2xzLmdldE5leHRJZCgpO3RoaXMuZWRpdG9yPWE7dGhpcy5pdGVtcz1bXTt0aGlzLl8ubGlzdGVuZXJzPVtdO3RoaXMuXy5sZXZlbD1iLmxldmVsfHwxO3ZhciBjPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxiLnBhbmVsLHtjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0sbGV2ZWw6dGhpcy5fLmxldmVsLTEsYmxvY2s6e319KSxlPWMuYmxvY2suYXR0cmlidXRlcz1jLmF0dHJpYnV0ZXN8fHt9OyFlLnJvbGUmJihlLnJvbGU9XCJtZW51XCIpO3RoaXMuXy5wYW5lbERlZmluaXRpb249XG5jfSxfOntvblNob3c6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvci5nZXRTZWxlY3Rpb24oKSxiPWEmJmEuZ2V0U3RhcnRFbGVtZW50KCksYz10aGlzLmVkaXRvci5lbGVtZW50UGF0aCgpLGU9dGhpcy5fLmxpc3RlbmVyczt0aGlzLnJlbW92ZUFsbCgpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1lW2ZdKGIsYSxjKTtpZihnKWZvcih2YXIgbiBpbiBnKXt2YXIgcD10aGlzLmVkaXRvci5nZXRNZW51SXRlbShuKTshcHx8cC5jb21tYW5kJiYhdGhpcy5lZGl0b3IuZ2V0Q29tbWFuZChwLmNvbW1hbmQpLnN0YXRlfHwocC5zdGF0ZT1nW25dLHRoaXMuYWRkKHApKX19fSxvbkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuaGlkZSgpO2lmKGEub25DbGljaylhLm9uQ2xpY2soKTtlbHNlIGEuY29tbWFuZCYmdGhpcy5lZGl0b3IuZXhlY0NvbW1hbmQoYS5jb21tYW5kKX0sb25Fc2NhcGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5wYXJlbnQ7Yj9iLl8ucGFuZWwuaGlkZUNoaWxkKDEpOlxuMjc9PWEmJnRoaXMuaGlkZSgxKTtyZXR1cm4hMX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5vbkhpZGUmJnRoaXMub25IaWRlKCl9LHNob3dTdWJNZW51OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuXy5zdWJNZW51LGM9dGhpcy5pdGVtc1thXTtpZihjPWMuZ2V0SXRlbXMmJmMuZ2V0SXRlbXMoKSl7Yj9iLnJlbW92ZUFsbCgpOihiPXRoaXMuXy5zdWJNZW51PW5ldyBDS0VESVRPUi5tZW51KHRoaXMuZWRpdG9yLENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSx0aGlzLl8uZGVmaW5pdGlvbix7bGV2ZWw6dGhpcy5fLmxldmVsKzF9LCEwKSksYi5wYXJlbnQ9dGhpcyxiLl8ub25DbGljaz1DS0VESVRPUi50b29scy5iaW5kKHRoaXMuXy5vbkNsaWNrLHRoaXMpKTtmb3IodmFyIGUgaW4gYyl7dmFyIGY9dGhpcy5lZGl0b3IuZ2V0TWVudUl0ZW0oZSk7ZiYmKGYuc3RhdGU9Y1tlXSxiLmFkZChmKSl9dmFyIGc9dGhpcy5fLnBhbmVsLmdldEJsb2NrKHRoaXMuaWQpLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuaWQrXG5TdHJpbmcoYSkpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLnNob3coZywyKX0sMCl9ZWxzZSB0aGlzLl8ucGFuZWwuaGlkZUNoaWxkKDEpfX0scHJvdG86e2FkZDpmdW5jdGlvbihhKXthLm9yZGVyfHwoYS5vcmRlcj10aGlzLml0ZW1zLmxlbmd0aCk7dGhpcy5pdGVtcy5wdXNoKGEpfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPVtdfSxzaG93OmZ1bmN0aW9uKGIsYyxkLGUpe2lmKCF0aGlzLnBhcmVudCYmKHRoaXMuXy5vblNob3coKSwhdGhpcy5pdGVtcy5sZW5ndGgpKXJldHVybjtjPWN8fChcInJ0bFwiPT10aGlzLmVkaXRvci5sYW5nLmRpcj8yOjEpO3ZhciBmPXRoaXMuaXRlbXMsZz10aGlzLmVkaXRvcixuPXRoaXMuXy5wYW5lbCxwPXRoaXMuXy5lbGVtZW50O2lmKCFuKXtuPXRoaXMuXy5wYW5lbD1uZXcgQ0tFRElUT1IudWkuZmxvYXRQYW5lbCh0aGlzLmVkaXRvcixDS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCksdGhpcy5fLnBhbmVsRGVmaW5pdGlvbix0aGlzLl8ubGV2ZWwpO1xubi5vbkVzY2FwZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKGEpe2lmKCExPT09dGhpcy5fLm9uRXNjYXBlKGEpKXJldHVybiExfSx0aGlzKTtuLm9uU2hvdz1mdW5jdGlvbigpe24uXy5wYW5lbC5nZXRIb2xkZXJFbGVtZW50KCkuZ2V0UGFyZW50KCkuYWRkQ2xhc3MoXCJja2VcIikuYWRkQ2xhc3MoXCJja2VfcmVzZXRfYWxsXCIpfTtuLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dGhpcy5fLm9uSGlkZSYmdGhpcy5fLm9uSGlkZSgpfSx0aGlzKTtwPW4uYWRkQmxvY2sodGhpcy5pZCx0aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrKTtwLmF1dG9TaXplPSEwO3ZhciByPXAua2V5cztyWzQwXT1cIm5leHRcIjtyWzldPVwibmV4dFwiO3JbMzhdPVwicHJldlwiO3JbQ0tFRElUT1IuU0hJRlQrOV09XCJwcmV2XCI7cltcInJ0bFwiPT1nLmxhbmcuZGlyPzM3OjM5XT1DS0VESVRPUi5lbnYuaWU/XCJtb3VzZXVwXCI6XCJjbGlja1wiO3JbMzJdPUNLRURJVE9SLmVudi5pZT9cIm1vdXNldXBcIjpcblwiY2xpY2tcIjtDS0VESVRPUi5lbnYuaWUmJihyWzEzXT1cIm1vdXNldXBcIik7cD10aGlzLl8uZWxlbWVudD1wLmVsZW1lbnQ7cj1wLmdldERvY3VtZW50KCk7ci5nZXRCb2R5KCkuc2V0U3R5bGUoXCJvdmVyZmxvd1wiLFwiaGlkZGVuXCIpO3IuZ2V0RWxlbWVudHNCeVRhZyhcImh0bWxcIikuZ2V0SXRlbSgwKS5zZXRTdHlsZShcIm92ZXJmbG93XCIsXCJoaWRkZW5cIik7dGhpcy5fLml0ZW1PdmVyRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCk7dGhpcy5fLnNob3dTdWJUaW1lb3V0PUNLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQodGhpcy5fLnNob3dTdWJNZW51LGcuY29uZmlnLm1lbnVfc3ViTWVudURlbGF5fHw0MDAsdGhpcyxbYV0pfSx0aGlzKTt0aGlzLl8uaXRlbU91dEZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuXy5zaG93U3ViVGltZW91dCl9LHRoaXMpO1xudGhpcy5fLml0ZW1DbGlja0ZuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaXRlbXNbYV07aWYoYi5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpdGhpcy5oaWRlKDEpO2Vsc2UgaWYoYi5nZXRJdGVtcyl0aGlzLl8uc2hvd1N1Yk1lbnUoYSk7ZWxzZSB0aGlzLl8ub25DbGljayhiKX0sdGhpcyl9YShmKTtmb3IodmFyIHI9Zy5lbGVtZW50UGF0aCgpLHI9WydcXHgzY2RpdiBjbGFzc1xceDNkXCJja2VfbWVudScrKHImJnIuZGlyZWN0aW9uKCkhPWcubGFuZy5kaXI/XCIgY2tlX21peGVkX2Rpcl9jb250ZW50XCI6XCJcIikrJ1wiIHJvbGVcXHgzZFwicHJlc2VudGF0aW9uXCJcXHgzZSddLHg9Zi5sZW5ndGgsdj14JiZmWzBdLmdyb3VwLHU9MDt1PHg7dSsrKXt2YXIgdD1mW3VdO3YhPXQuZ3JvdXAmJihyLnB1c2goJ1xceDNjZGl2IGNsYXNzXFx4M2RcImNrZV9tZW51c2VwYXJhdG9yXCIgcm9sZVxceDNkXCJzZXBhcmF0b3JcIlxceDNlXFx4M2MvZGl2XFx4M2UnKSxcbnY9dC5ncm91cCk7dC5yZW5kZXIodGhpcyx1LHIpfXIucHVzaChcIlxceDNjL2RpdlxceDNlXCIpO3Auc2V0SHRtbChyLmpvaW4oXCJcIikpO0NLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpO3RoaXMucGFyZW50P3RoaXMucGFyZW50Ll8ucGFuZWwuc2hvd0FzQ2hpbGQobix0aGlzLmlkLGIsYyxkLGUpOm4uc2hvd0Jsb2NrKHRoaXMuaWQsYixjLGQsZSk7Zy5maXJlKFwibWVudVNob3dcIixbbl0pfSxhZGRMaXN0ZW5lcjpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdGVuZXJzLnB1c2goYSl9LGhpZGU6ZnVuY3Rpb24oYSl7dGhpcy5fLm9uSGlkZSYmdGhpcy5fLm9uSGlkZSgpO3RoaXMuXy5wYW5lbCYmdGhpcy5fLnBhbmVsLmhpZGUoYSl9fX0pO0NLRURJVE9SLm1lbnVJdGVtPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKGEsYixjKXtDS0VESVRPUi50b29scy5leHRlbmQodGhpcyxjLHtvcmRlcjowLGNsYXNzTmFtZTpcImNrZV9tZW51YnV0dG9uX19cIitifSk7dGhpcy5ncm91cD1cbmEuXy5tZW51R3JvdXBzW3RoaXMuZ3JvdXBdO3RoaXMuZWRpdG9yPWE7dGhpcy5uYW1lPWJ9LHByb3RvOntyZW5kZXI6ZnVuY3Rpb24oYSxmLGQpe3ZhciBoPWEuaWQrU3RyaW5nKGYpLG09XCJ1bmRlZmluZWRcIj09dHlwZW9mIHRoaXMuc3RhdGU/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOnRoaXMuc3RhdGUsZz1cIlwiLG49dGhpcy5lZGl0b3IscCxyLHg9bT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJvblwiOm09PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEP1wiZGlzYWJsZWRcIjpcIm9mZlwiO3RoaXMucm9sZSBpbnttZW51aXRlbWNoZWNrYm94OjEsbWVudWl0ZW1yYWRpbzoxfSYmKGc9JyBhcmlhLWNoZWNrZWRcXHgzZFwiJysobT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJ0cnVlXCI6XCJmYWxzZVwiKSsnXCInKTt2YXIgdj10aGlzLmdldEl0ZW1zLHU9XCJcXHgyNiNcIisoXCJydGxcIj09dGhpcy5lZGl0b3IubGFuZy5kaXI/XCI5NjY4XCI6XCI5NjU4XCIpK1wiO1wiLHQ9dGhpcy5uYW1lO3RoaXMuaWNvbiYmIS9cXC4vLnRlc3QodGhpcy5pY29uKSYmXG4odD10aGlzLmljb24pO3RoaXMuY29tbWFuZCYmKHA9bi5nZXRDb21tYW5kKHRoaXMuY29tbWFuZCksKHA9bi5nZXRDb21tYW5kS2V5c3Ryb2tlKHApKSYmKHI9Q0tFRElUT1IudG9vbHMua2V5c3Ryb2tlVG9TdHJpbmcobi5sYW5nLmNvbW1vbi5rZXlib2FyZCxwKSkpO2E9e2lkOmgsbmFtZTp0aGlzLm5hbWUsaWNvbk5hbWU6dCxsYWJlbDp0aGlzLmxhYmVsLGNsczp0aGlzLmNsYXNzTmFtZXx8XCJcIixzdGF0ZTp4LGhhc1BvcHVwOnY/XCJ0cnVlXCI6XCJmYWxzZVwiLGRpc2FibGVkOm09PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRpdGxlOnRoaXMubGFiZWwrKHI/XCIgKFwiK3IuZGlzcGxheStcIilcIjpcIlwiKSxhcmlhU2hvcnRjdXQ6cj9uLmxhbmcuY29tbW9uLmtleWJvYXJkU2hvcnRjdXQrXCIgXCIrci5hcmlhOlwiXCIsaHJlZjpcImphdmFzY3JpcHQ6dm9pZCgnXCIrKHRoaXMubGFiZWx8fFwiXCIpLnJlcGxhY2UoXCInXCIpK1wiJylcIixob3ZlckZuOmEuXy5pdGVtT3ZlckZuLG1vdmVPdXRGbjphLl8uaXRlbU91dEZuLFxuY2xpY2tGbjphLl8uaXRlbUNsaWNrRm4saW5kZXg6ZixpY29uU3R5bGU6Q0tFRElUT1Iuc2tpbi5nZXRJY29uU3R5bGUodCxcInJ0bFwiPT10aGlzLmVkaXRvci5sYW5nLmRpcix0PT10aGlzLmljb24/bnVsbDp0aGlzLmljb24sdGhpcy5pY29uT2Zmc2V0KSxzaG9ydGN1dEh0bWw6cj9lLm91dHB1dCh7c2hvcnRjdXQ6ci5kaXNwbGF5fSk6XCJcIixhcnJvd0h0bWw6dj9jLm91dHB1dCh7bGFiZWw6dX0pOlwiXCIscm9sZTp0aGlzLnJvbGU/dGhpcy5yb2xlOlwibWVudWl0ZW1cIixhcmlhQ2hlY2tlZDpnfTtiLm91dHB1dChhLGQpfX19KX0oKSxDS0VESVRPUi5jb25maWcubWVudV9ncm91cHM9XCJjbGlwYm9hcmQsZm9ybSx0YWJsZWNlbGwsdGFibGVjZWxscHJvcGVydGllcyx0YWJsZXJvdyx0YWJsZWNvbHVtbix0YWJsZSxhbmNob3IsbGluayxpbWFnZSxmbGFzaCxjaGVja2JveCxyYWRpbyx0ZXh0ZmllbGQsaGlkZGVuZmllbGQsaW1hZ2VidXR0b24sYnV0dG9uLHNlbGVjdCx0ZXh0YXJlYSxkaXZcIixcbkNLRURJVE9SLnBsdWdpbnMuYWRkKFwiY29udGV4dG1lbnVcIix7cmVxdWlyZXM6XCJtZW51XCIsb25Mb2FkOmZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5jb250ZXh0TWVudT1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5tZW51LCQ6ZnVuY3Rpb24oYSl7dGhpcy5iYXNlLmNhbGwodGhpcyxhLHtwYW5lbDp7Y2xhc3NOYW1lOlwiY2tlX21lbnVfcGFuZWxcIixhdHRyaWJ1dGVzOntcImFyaWEtbGFiZWxcIjphLmxhbmcuY29udGV4dG1lbnUub3B0aW9uc319fSl9LHByb3RvOnthZGRUYXJnZXQ6ZnVuY3Rpb24oYSxmKXthLm9uKFwiY29udGV4dG1lbnVcIixmdW5jdGlvbihhKXthPWEuZGF0YTt2YXIgYz1DS0VESVRPUi5lbnYud2Via2l0P2I6Q0tFRElUT1IuZW52Lm1hYz9hLiQubWV0YUtleTphLiQuY3RybEtleTtpZighZnx8IWMpe2EucHJldmVudERlZmF1bHQoKTtpZihDS0VESVRPUi5lbnYubWFjJiZDS0VESVRPUi5lbnYud2Via2l0KXt2YXIgYz10aGlzLmVkaXRvcixcbms9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYS5nZXRUYXJnZXQoKSxjLmVkaXRhYmxlKCkpKS5jb250YWlucyhmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil9LCEwKTtrJiZcImZhbHNlXCI9PWsuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpJiZjLmdldFNlbGVjdGlvbigpLmZha2Uoayl9dmFyIGs9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLGQ9YS5nZXRUYXJnZXQoKS5nZXREb2N1bWVudCgpLmdldERvY3VtZW50RWxlbWVudCgpLGM9IWsuZXF1YWxzKENLRURJVE9SLmRvY3VtZW50KSxrPWsuZ2V0V2luZG93KCkuZ2V0U2Nyb2xsUG9zaXRpb24oKSxoPWM/YS4kLmNsaWVudFg6YS4kLnBhZ2VYfHxrLngrYS4kLmNsaWVudFgsbT1jP2EuJC5jbGllbnRZOmEuJC5wYWdlWXx8ay55K2EuJC5jbGllbnRZO0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLm9wZW4oZCxudWxsLGgsbSl9LENLRURJVE9SLmVudi5pZT9cbjIwMDowLHRoaXMpfX0sdGhpcyk7aWYoQ0tFRElUT1IuZW52LndlYmtpdCl7dmFyIGIsYz1mdW5jdGlvbigpe2I9MH07YS5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXtiPUNLRURJVE9SLmVudi5tYWM/YS5kYXRhLiQubWV0YUtleTphLmRhdGEuJC5jdHJsS2V5fSk7YS5vbihcImtleXVwXCIsYyk7YS5vbihcImNvbnRleHRtZW51XCIsYyl9fSxvcGVuOmZ1bmN0aW9uKGEsZixiLGMpeyExIT09dGhpcy5lZGl0b3IuY29uZmlnLmVuYWJsZUNvbnRleHRNZW51JiYodGhpcy5lZGl0b3IuZm9jdXMoKSxhPWF8fENLRURJVE9SLmRvY3VtZW50LmdldERvY3VtZW50RWxlbWVudCgpLHRoaXMuZWRpdG9yLnNlbGVjdGlvbkNoYW5nZSgxKSx0aGlzLnNob3coYSxmLGIsYykpfX19KX0sYmVmb3JlSW5pdDpmdW5jdGlvbihhKXt2YXIgZj1hLmNvbnRleHRNZW51PW5ldyBDS0VESVRPUi5wbHVnaW5zLmNvbnRleHRNZW51KGEpO2Eub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtmLmFkZFRhcmdldChhLmVkaXRhYmxlKCksXG4hMSE9PWEuY29uZmlnLmJyb3dzZXJDb250ZXh0TWVudU9uQ3RybCl9KTthLmFkZENvbW1hbmQoXCJjb250ZXh0TWVudVwiLHtleGVjOmZ1bmN0aW9uKCl7YS5jb250ZXh0TWVudS5vcGVuKGEuZG9jdW1lbnQuZ2V0Qm9keSgpKX19KTthLnNldEtleXN0cm9rZShDS0VESVRPUi5TSElGVCsxMjEsXCJjb250ZXh0TWVudVwiKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMK0NLRURJVE9SLlNISUZUKzEyMSxcImNvbnRleHRNZW51XCIpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe2Z1bmN0aW9uIGsoYil7Yj1nLmxpc3RbYl07dmFyIGM7Yi5lcXVhbHMoYS5lZGl0YWJsZSgpKXx8XCJ0cnVlXCI9PWIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpPyhjPWEuY3JlYXRlUmFuZ2UoKSxjLnNlbGVjdE5vZGVDb250ZW50cyhiKSxjPWMuc2VsZWN0KCkpOihjPWEuZ2V0U2VsZWN0aW9uKCksYy5zZWxlY3RFbGVtZW50KGIpKTtDS0VESVRPUi5lbnYuaWUmJmEuZmlyZShcInNlbGVjdGlvbkNoYW5nZVwiLFxue3NlbGVjdGlvbjpjLHBhdGg6bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChiKX0pO2EuZm9jdXMoKX1mdW5jdGlvbiBkKCl7bSYmbS5zZXRIdG1sKCdcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScpO2RlbGV0ZSBnLmxpc3R9dmFyIGg9YS51aS5zcGFjZUlkKFwicGF0aFwiKSxtLGc9YS5fLmVsZW1lbnRzUGF0aCxuPWcuaWRCYXNlO2IuaHRtbCs9J1xceDNjc3BhbiBpZFxceDNkXCInK2grJ19sYWJlbFwiIGNsYXNzXFx4M2RcImNrZV92b2ljZV9sYWJlbFwiXFx4M2UnK2EubGFuZy5lbGVtZW50c3BhdGguZWxlTGFiZWwrJ1xceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBpZFxceDNkXCInK2grJ1wiIGNsYXNzXFx4M2RcImNrZV9wYXRoXCIgcm9sZVxceDNkXCJncm91cFwiIGFyaWEtbGFiZWxsZWRieVxceDNkXCInK2grJ19sYWJlbFwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZSc7XG5hLm9uKFwidWlSZWFkeVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS51aS5zcGFjZShcInBhdGhcIik7YiYmYS5mb2N1c01hbmFnZXIuYWRkKGIsMSl9KTtnLm9uQ2xpY2s9azt2YXIgcD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihrKSxyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Zy5pZEJhc2UsZjtjPW5ldyBDS0VESVRPUi5kb20uZXZlbnQoYyk7Zj1cInJ0bFwiPT1hLmxhbmcuZGlyO3N3aXRjaChjLmdldEtleXN0cm9rZSgpKXtjYXNlIGY/Mzk6Mzc6Y2FzZSA5OnJldHVybihmPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoZCsoYisxKSkpfHwoZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGQrXCIwXCIpKSxmLmZvY3VzKCksITE7Y2FzZSBmPzM3OjM5OmNhc2UgQ0tFRElUT1IuU0hJRlQrOTpyZXR1cm4oZj1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGQrKGItMSkpKXx8KGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0QnlJZChkKyhnLmxpc3QubGVuZ3RoLVxuMSkpKSxmLmZvY3VzKCksITE7Y2FzZSAyNzpyZXR1cm4gYS5mb2N1cygpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gayhiKSwhMX1yZXR1cm4hMH0pO2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe2Zvcih2YXIgYj1bXSxkPWcubGlzdD1bXSxmPVtdLGs9Zy5maWx0ZXJzLGw9ITAsQT1hLmVsZW1lbnRQYXRoKCkuZWxlbWVudHMscSx3PUEubGVuZ3RoO3ctLTspe3ZhciBCPUFbd10sej0wO3E9Qi5kYXRhKFwiY2tlLWRpc3BsYXktbmFtZVwiKT9CLmRhdGEoXCJja2UtZGlzcGxheS1uYW1lXCIpOkIuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKT9CLmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIik6Qi5nZXROYW1lKCk7KGw9Qi5oYXNBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/XCJ0cnVlXCI9PUIuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpOmwpfHxCLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKXx8KHo9MSk7Zm9yKHZhciBDPTA7QzxrLmxlbmd0aDtDKyspe3ZhciBFPVxua1tDXShCLHEpO2lmKCExPT09RSl7ej0xO2JyZWFrfXE9RXx8cX16fHwoZC51bnNoaWZ0KEIpLGYudW5zaGlmdChxKSl9ZD1kLmxlbmd0aDtmb3Ioaz0wO2s8ZDtrKyspcT1mW2tdLGw9YS5sYW5nLmVsZW1lbnRzcGF0aC5lbGVUaXRsZS5yZXBsYWNlKC8lMS8scSkscT1jLm91dHB1dCh7aWQ6bitrLGxhYmVsOmwsdGV4dDpxLGpzVGl0bGU6XCJqYXZhc2NyaXB0OnZvaWQoJ1wiK3ErXCInKVwiLGluZGV4Omssa2V5RG93bkZuOnIsY2xpY2tGbjpwfSksYi51bnNoaWZ0KHEpO218fChtPUNLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoaCkpO2Y9bTtmLnNldEh0bWwoYi5qb2luKFwiXCIpKydcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX3BhdGhfZW1wdHlcIlxceDNlXFx4MjZuYnNwO1xceDNjL3NwYW5cXHgzZScpO2EuZmlyZShcImVsZW1lbnRzUGF0aFVwZGF0ZVwiLHtzcGFjZTpmfSl9KTthLm9uKFwicmVhZE9ubHlcIixkKTthLm9uKFwiY29udGVudERvbVVubG9hZFwiLGQpO2EuYWRkQ29tbWFuZChcImVsZW1lbnRzUGF0aEZvY3VzXCIsXG5mLnRvb2xiYXJGb2N1cyk7YS5zZXRLZXlzdHJva2UoQ0tFRElUT1IuQUxUKzEyMixcImVsZW1lbnRzUGF0aEZvY3VzXCIpfXZhciBmPXt0b29sYmFyRm9jdXM6e2VkaXRvckZvY3VzOiExLHJlYWRPbmx5OjEsZXhlYzpmdW5jdGlvbihhKXsoYT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGEuXy5lbGVtZW50c1BhdGguaWRCYXNlK1wiMFwiKSkmJmEuZm9jdXMoQ0tFRElUT1IuZW52LmllfHxDS0VESVRPUi5lbnYuYWlyKX19fSxiPVwiXCI7Q0tFRElUT1IuZW52LmdlY2tvJiZDS0VESVRPUi5lbnYubWFjJiYoYis9JyBvbmtleXByZXNzXFx4M2RcInJldHVybiBmYWxzZTtcIicpO0NLRURJVE9SLmVudi5nZWNrbyYmKGIrPScgb25ibHVyXFx4M2RcInRoaXMuc3R5bGUuY3NzVGV4dCBcXHgzZCB0aGlzLnN0eWxlLmNzc1RleHQ7XCInKTt2YXIgYz1DS0VESVRPUi5hZGRUZW1wbGF0ZShcInBhdGhJdGVtXCIsJ1xceDNjYSBpZFxceDNkXCJ7aWR9XCIgaHJlZlxceDNkXCJ7anNUaXRsZX1cIiB0YWJpbmRleFxceDNkXCItMVwiIGNsYXNzXFx4M2RcImNrZV9wYXRoX2l0ZW1cIiB0aXRsZVxceDNkXCJ7bGFiZWx9XCInK1xuYisnIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgIG9ua2V5ZG93blxceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtrZXlEb3duRm59LHtpbmRleH0sIGV2ZW50ICk7XCIgb25jbGlja1xceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LHtpbmRleH0pOyByZXR1cm4gZmFsc2U7XCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsXFx4M2RcIntsYWJlbH1cIlxceDNle3RleHR9XFx4M2MvYVxceDNlJyk7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbGVtZW50c3BhdGhcIix7aW5pdDpmdW5jdGlvbihiKXtiLl8uZWxlbWVudHNQYXRoPXtpZEJhc2U6XCJja2VfZWxlbWVudHNwYXRoX1wiK0NLRURJVE9SLnRvb2xzLmdldE5leHROdW1iZXIoKStcIl9cIixmaWx0ZXJzOltdfTtiLm9uKFwidWlTcGFjZVwiLGZ1bmN0aW9uKGMpe1wiYm90dG9tXCI9PWMuZGF0YS5zcGFjZSYmYShiLGMuZGF0YSl9KX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxlKXt2YXIgbCxrO2Uub24oXCJyZWZyZXNoXCIsXG5mdW5jdGlvbihhKXt2YXIgYz1bZl0sZTtmb3IoZSBpbiBhLmRhdGEuc3RhdGVzKWMucHVzaChhLmRhdGEuc3RhdGVzW2VdKTt0aGlzLnNldFN0YXRlKENLRURJVE9SLnRvb2xzLnNlYXJjaChjLGIpP2I6Zil9LGUsbnVsbCwxMDApO2Uub24oXCJleGVjXCIsZnVuY3Rpb24oYil7bD1hLmdldFNlbGVjdGlvbigpO2s9bC5jcmVhdGVCb29rbWFya3MoMSk7Yi5kYXRhfHwoYi5kYXRhPXt9KTtiLmRhdGEuZG9uZT0hMX0sZSxudWxsLDApO2Uub24oXCJleGVjXCIsZnVuY3Rpb24oKXthLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7bC5zZWxlY3RCb29rbWFya3Moayl9LGUsbnVsbCwxMDApfXZhciBmPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGI9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiaW5kZW50XCIse2luaXQ6ZnVuY3Rpb24oYil7dmFyIGU9Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuZ2VuZXJpY0RlZmluaXRpb247YShiLGIuYWRkQ29tbWFuZChcImluZGVudFwiLFxubmV3IGUoITApKSk7YShiLGIuYWRkQ29tbWFuZChcIm91dGRlbnRcIixuZXcgZSkpO2IudWkuYWRkQnV0dG9uJiYoYi51aS5hZGRCdXR0b24oXCJJbmRlbnRcIix7bGFiZWw6Yi5sYW5nLmluZGVudC5pbmRlbnQsY29tbWFuZDpcImluZGVudFwiLGRpcmVjdGlvbmFsOiEwLHRvb2xiYXI6XCJpbmRlbnQsMjBcIn0pLGIudWkuYWRkQnV0dG9uKFwiT3V0ZGVudFwiLHtsYWJlbDpiLmxhbmcuaW5kZW50Lm91dGRlbnQsY29tbWFuZDpcIm91dGRlbnRcIixkaXJlY3Rpb25hbDohMCx0b29sYmFyOlwiaW5kZW50LDEwXCJ9KSk7Yi5vbihcImRpckNoYW5nZWRcIixmdW5jdGlvbihhKXt2YXIgZT1iLmNyZWF0ZVJhbmdlKCksZD1hLmRhdGEubm9kZTtlLnNldFN0YXJ0QmVmb3JlKGQpO2Uuc2V0RW5kQWZ0ZXIoZCk7Zm9yKHZhciBmPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpLG07bT1mLm5leHQoKTspaWYobS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpaWYoIW0uZXF1YWxzKGQpJiZtLmdldERpcmVjdGlvbigpKWUuc2V0U3RhcnRBZnRlcihtKSxcbmY9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoZSk7ZWxzZXt2YXIgZz1iLmNvbmZpZy5pbmRlbnRDbGFzc2VzO2lmKGcpZm9yKHZhciBuPVwibHRyXCI9PWEuZGF0YS5kaXI/W1wiX3J0bFwiLFwiXCJdOltcIlwiLFwiX3J0bFwiXSxwPTA7cDxnLmxlbmd0aDtwKyspbS5oYXNDbGFzcyhnW3BdK25bMF0pJiYobS5yZW1vdmVDbGFzcyhnW3BdK25bMF0pLG0uYWRkQ2xhc3MoZ1twXStuWzFdKSk7Zz1tLmdldFN0eWxlKFwibWFyZ2luLXJpZ2h0XCIpO249bS5nZXRTdHlsZShcIm1hcmdpbi1sZWZ0XCIpO2c/bS5zZXRTdHlsZShcIm1hcmdpbi1sZWZ0XCIsZyk6bS5yZW1vdmVTdHlsZShcIm1hcmdpbi1sZWZ0XCIpO24/bS5zZXRTdHlsZShcIm1hcmdpbi1yaWdodFwiLG4pOm0ucmVtb3ZlU3R5bGUoXCJtYXJnaW4tcmlnaHRcIil9fSl9fSk7Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQ9e2dlbmVyaWNEZWZpbml0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuaXNJbmRlbnQ9ISFhO3RoaXMuc3RhcnREaXNhYmxlZD0hdGhpcy5pc0luZGVudH0sXG5zcGVjaWZpY0RlZmluaXRpb246ZnVuY3Rpb24oYSxiLGYpe3RoaXMubmFtZT1iO3RoaXMuZWRpdG9yPWE7dGhpcy5qb2JzPXt9O3RoaXMuZW50ZXJCcj1hLmNvbmZpZy5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSO3RoaXMuaXNJbmRlbnQ9ISFmO3RoaXMucmVsYXRlZEdsb2JhbD1mP1wiaW5kZW50XCI6XCJvdXRkZW50XCI7dGhpcy5pbmRlbnRLZXk9Zj85OkNLRURJVE9SLlNISUZUKzk7dGhpcy5kYXRhYmFzZT17fX0scmVnaXN0ZXJDb21tYW5kczpmdW5jdGlvbihhLGIpe2Eub24oXCJwbHVnaW5zTG9hZGVkXCIsZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gYikoZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldENvbW1hbmQoYi5yZWxhdGVkR2xvYmFsKSxlO2ZvcihlIGluIGIuam9icyljLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGMpe2MuZGF0YS5kb25lfHwoYS5maXJlKFwibG9ja1NuYXBzaG90XCIpLGIuZXhlY0pvYihhLGUpJiYoYy5kYXRhLmRvbmU9ITApLGEuZmlyZShcInVubG9ja1NuYXBzaG90XCIpLFxuQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGIuZGF0YWJhc2UpKX0sdGhpcyxudWxsLGUpLGMub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24oYyl7Yy5kYXRhLnN0YXRlc3x8KGMuZGF0YS5zdGF0ZXM9e30pO2MuZGF0YS5zdGF0ZXNbYi5uYW1lK1wiQFwiK2VdPWIucmVmcmVzaEpvYihhLGUsYy5kYXRhLnBhdGgpfSx0aGlzLG51bGwsZSk7YS5hZGRGZWF0dXJlKGIpfSkodGhpcyxiW2FdKX0pfX07Q0tFRElUT1IucGx1Z2lucy5pbmRlbnQuZ2VuZXJpY0RlZmluaXRpb24ucHJvdG90eXBlPXtjb250ZXh0OlwicFwiLGV4ZWM6ZnVuY3Rpb24oKXt9fTtDS0VESVRPUi5wbHVnaW5zLmluZGVudC5zcGVjaWZpY0RlZmluaXRpb24ucHJvdG90eXBlPXtleGVjSm9iOmZ1bmN0aW9uKGEsYil7dmFyIGw9dGhpcy5qb2JzW2JdO2lmKGwuc3RhdGUhPWYpcmV0dXJuIGwuZXhlYy5jYWxsKHRoaXMsYSl9LHJlZnJlc2hKb2I6ZnVuY3Rpb24oYSxiLGwpe2I9dGhpcy5qb2JzW2JdO2EuYWN0aXZlRmlsdGVyLmNoZWNrRmVhdHVyZSh0aGlzKT9cbmIuc3RhdGU9Yi5yZWZyZXNoLmNhbGwodGhpcyxhLGwpOmIuc3RhdGU9ZjtyZXR1cm4gYi5zdGF0ZX0sZ2V0Q29udGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyh0aGlzLmNvbnRleHQpfX19KCksZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGMoZil7Zm9yKHZhciBoPXIuc3RhcnRDb250YWluZXIsbD1yLmVuZENvbnRhaW5lcjtoJiYhaC5nZXRQYXJlbnQoKS5lcXVhbHMoZik7KWg9aC5nZXRQYXJlbnQoKTtmb3IoO2wmJiFsLmdldFBhcmVudCgpLmVxdWFscyhmKTspbD1sLmdldFBhcmVudCgpO2lmKCFofHwhbClyZXR1cm4hMTtmb3IodmFyIEE9aCxoPVtdLHE9ITE7IXE7KUEuZXF1YWxzKGwpJiYocT0hMCksaC5wdXNoKEEpLEE9QS5nZXROZXh0KCk7aWYoMT5oLmxlbmd0aClyZXR1cm4hMTtBPWYuZ2V0UGFyZW50cyghMCk7Zm9yKGw9MDtsPEEubGVuZ3RoO2wrKylpZihBW2xdLmdldE5hbWUmJmtbQVtsXS5nZXROYW1lKCldKXtmPUFbbF07YnJlYWt9Zm9yKHZhciBBPVxuZS5pc0luZGVudD8xOi0xLGw9aFswXSxoPWhbaC5sZW5ndGgtMV0scT1DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkoZixnKSx3PXFbaC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpXS5pbmRlbnQsbD1sLmdldEN1c3RvbURhdGEoXCJsaXN0YXJyYXlfaW5kZXhcIik7bDw9aC5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpO2wrKylpZihxW2xdLmluZGVudCs9QSwwPEEpe3ZhciB2PXFbbF0ucGFyZW50O3FbbF0ucGFyZW50PW5ldyBDS0VESVRPUi5kb20uZWxlbWVudCh2LmdldE5hbWUoKSx2LmdldERvY3VtZW50KCkpfWZvcihsPWguZ2V0Q3VzdG9tRGF0YShcImxpc3RhcnJheV9pbmRleFwiKSsxO2w8cS5sZW5ndGgmJnFbbF0uaW5kZW50Pnc7bCsrKXFbbF0uaW5kZW50Kz1BO2g9Q0tFRElUT1IucGx1Z2lucy5saXN0LmFycmF5VG9MaXN0KHEsZyxudWxsLGEuY29uZmlnLmVudGVyTW9kZSxmLmdldERpcmVjdGlvbigpKTtpZighZS5pc0luZGVudCl7dmFyIHo7XG5pZigoej1mLmdldFBhcmVudCgpKSYmei5pcyhcImxpXCIpKWZvcih2YXIgQT1oLmxpc3ROb2RlLmdldENoaWxkcmVuKCkscD1bXSx4LGw9QS5jb3VudCgpLTE7MDw9bDtsLS0pKHg9QS5nZXRJdGVtKGwpKSYmeC5pcyYmeC5pcyhcImxpXCIpJiZwLnB1c2goeCl9aCYmaC5saXN0Tm9kZS5yZXBsYWNlKGYpO2lmKHAmJnAubGVuZ3RoKWZvcihsPTA7bDxwLmxlbmd0aDtsKyspe2Zvcih4PWY9cFtsXTsoeD14LmdldE5leHQoKSkmJnguaXMmJnguZ2V0TmFtZSgpaW4gazspQ0tFRElUT1IuZW52Lm5lZWRzTmJzcEZpbGxlciYmIWYuZ2V0Rmlyc3QoYikmJmYuYXBwZW5kKHIuZG9jdW1lbnQuY3JlYXRlVGV4dChcIsKgXCIpKSxmLmFwcGVuZCh4KTtmLmluc2VydEFmdGVyKHopfWgmJmEuZmlyZShcImNvbnRlbnREb21JbnZhbGlkYXRlZFwiKTtyZXR1cm4hMH1mb3IodmFyIGU9dGhpcyxnPXRoaXMuZGF0YWJhc2Usaz10aGlzLmNvbnRleHQsbD1hLmdldFNlbGVjdGlvbigpLGw9KGwmJmwuZ2V0UmFuZ2VzKCkpLmNyZWF0ZUl0ZXJhdG9yKCksXG5yO3I9bC5nZXROZXh0UmFuZ2UoKTspe2Zvcih2YXIgeD1yLmdldENvbW1vbkFuY2VzdG9yKCk7eCYmKHgudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwha1t4LmdldE5hbWUoKV0pOyl7aWYoYS5lZGl0YWJsZSgpLmVxdWFscyh4KSl7eD0hMTticmVha314PXguZ2V0UGFyZW50KCl9eHx8KHg9ci5zdGFydFBhdGgoKS5jb250YWlucyhrKSkmJnIuc2V0RW5kQXQoeCxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtpZigheCl7dmFyIHY9ci5nZXRFbmNsb3NlZE5vZGUoKTt2JiZ2LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmdi5nZXROYW1lKClpbiBrJiYoci5zZXRTdGFydEF0KHYsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpLHIuc2V0RW5kQXQodixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSx4PXYpfXgmJnIuc3RhcnRDb250YWluZXIudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZyLnN0YXJ0Q29udGFpbmVyLmdldE5hbWUoKWluIGsmJih2PVxubmV3IENLRURJVE9SLmRvbS53YWxrZXIociksdi5ldmFsdWF0b3I9ZixyLnN0YXJ0Q29udGFpbmVyPXYubmV4dCgpKTt4JiZyLmVuZENvbnRhaW5lci50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnIuZW5kQ29udGFpbmVyLmdldE5hbWUoKWluIGsmJih2PW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKHIpLHYuZXZhbHVhdG9yPWYsci5lbmRDb250YWluZXI9di5wcmV2aW91cygpKTtpZih4KXJldHVybiBjKHgpfXJldHVybiAwfWZ1bmN0aW9uIGYoYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLmlzKFwibGlcIil9ZnVuY3Rpb24gYihhKXtyZXR1cm4gYyhhKSYmZShhKX12YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCEwKSxlPUNLRURJVE9SLmRvbS53YWxrZXIuYm9va21hcmsoITEsITApLGw9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsaz1DS0VESVRPUi5UUklTVEFURV9PRkY7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbmRlbnRsaXN0XCIsXG57cmVxdWlyZXM6XCJpbmRlbnRcIixpbml0OmZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGMoYil7ZS5zcGVjaWZpY0RlZmluaXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMucmVxdWlyZWRDb250ZW50PVtcInVsXCIsXCJvbFwiXTtiLm9uKFwia2V5XCIsZnVuY3Rpb24oYSl7aWYoXCJ3eXNpd3lnXCI9PWIubW9kZSYmYS5kYXRhLmtleUNvZGU9PXRoaXMuaW5kZW50S2V5KXt2YXIgYz10aGlzLmdldENvbnRleHQoYi5lbGVtZW50UGF0aCgpKTshY3x8dGhpcy5pc0luZGVudCYmQ0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aCh0aGlzLmNvbnRleHQsYi5lbGVtZW50UGF0aCgpLGMpfHwoYi5leGVjQ29tbWFuZCh0aGlzLnJlbGF0ZWRHbG9iYWwpLGEuY2FuY2VsKCkpfX0sdGhpcyk7dGhpcy5qb2JzW3RoaXMuaXNJbmRlbnQ/MTA6MzBdPXtyZWZyZXNoOnRoaXMuaXNJbmRlbnQ/ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmdldENvbnRleHQoYiksZD1DS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3QuZmlyc3RJdGVtSW5QYXRoKHRoaXMuY29udGV4dCxcbmIsYyk7cmV0dXJuIGMmJnRoaXMuaXNJbmRlbnQmJiFkP2s6bH06ZnVuY3Rpb24oYSxiKXtyZXR1cm4hdGhpcy5nZXRDb250ZXh0KGIpfHx0aGlzLmlzSW5kZW50P2w6a30sZXhlYzpDS0VESVRPUi50b29scy5iaW5kKGEsdGhpcyl9fXZhciBlPUNLRURJVE9SLnBsdWdpbnMuaW5kZW50O2UucmVnaXN0ZXJDb21tYW5kcyhiLHtpbmRlbnRsaXN0Om5ldyBjKGIsXCJpbmRlbnRsaXN0XCIsITApLG91dGRlbnRsaXN0Om5ldyBjKGIsXCJvdXRkZW50bGlzdFwiKX0pO0NLRURJVE9SLnRvb2xzLmV4dGVuZChjLnByb3RvdHlwZSxlLnNwZWNpZmljRGVmaW5pdGlvbi5wcm90b3R5cGUse2NvbnRleHQ6e29sOjEsdWw6MX19KX19KTtDS0VESVRPUi5wbHVnaW5zLmluZGVudExpc3Q9e307Q0tFRElUT1IucGx1Z2lucy5pbmRlbnRMaXN0LmZpcnN0SXRlbUluUGF0aD1mdW5jdGlvbihhLGIsYyl7dmFyIGU9Yi5jb250YWlucyhmKTtjfHwoYz1iLmNvbnRhaW5zKGEpKTtyZXR1cm4gYyYmZSYmZS5lcXVhbHMoYy5nZXRGaXJzdChmKSl9fSgpLFxuZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtmdW5jdGlvbiBkKGMpe2lmKCEoIShsPWtbYz9cImdldEZpcnN0XCI6XCJnZXRMYXN0XCJdKCkpfHxsLmlzJiZsLmlzQmxvY2tCb3VuZGFyeSgpfHwhKG09Yi5yb290W2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShDS0VESVRPUi5kb20ud2Fsa2VyLmludmlzaWJsZSghMCkpKXx8bS5pcyYmbS5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KSkpYS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnJcIilbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0obCl9Zm9yKHZhciBlPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShiLnJvb3QsYyksZj1bXSxnPTA7ZzxiLmNvbnRlbnRzLmxlbmd0aDtnKyspe3ZhciBoPWIuY29udGVudHNbZ107KGg9aC5nZXRBc2NlbmRhbnQoXCJsaVwiLCEwKSkmJiFoLmdldEN1c3RvbURhdGEoXCJsaXN0X2l0ZW1fcHJvY2Vzc2VkXCIpJiYoZi5wdXNoKGgpLENLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihjLFxuaCxcImxpc3RfaXRlbV9wcm9jZXNzZWRcIiwhMCkpfWg9bnVsbDtmb3IoZz0wO2c8Zi5sZW5ndGg7ZysrKWg9ZltnXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLGVbaF0uaW5kZW50PS0xO2ZvcihnPWgrMTtnPGUubGVuZ3RoO2crKylpZihlW2ddLmluZGVudD5lW2ctMV0uaW5kZW50KzEpe2Y9ZVtnLTFdLmluZGVudCsxLWVbZ10uaW5kZW50O2ZvcihoPWVbZ10uaW5kZW50O2VbZ10mJmVbZ10uaW5kZW50Pj1oOyllW2ddLmluZGVudCs9ZixnKys7Zy0tfXZhciBrPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChlLGMsbnVsbCxhLmNvbmZpZy5lbnRlck1vZGUsYi5yb290LmdldEF0dHJpYnV0ZShcImRpclwiKSkubGlzdE5vZGUsbCxtO2QoITApO2QoKTtrLnJlcGxhY2UoYi5yb290KTthLmZpcmUoXCJjb250ZW50RG9tSW52YWxpZGF0ZWRcIil9ZnVuY3Rpb24gZihhLGIpe3RoaXMubmFtZT1hO3RoaXMuY29udGV4dD10aGlzLnR5cGU9Yjt0aGlzLmFsbG93ZWRDb250ZW50PVxuYitcIiBsaVwiO3RoaXMucmVxdWlyZWRDb250ZW50PWJ9ZnVuY3Rpb24gYihhLGIsYyxkKXtmb3IodmFyIGUsZjtlPWFbZD9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKHIpOykoZj1lLmdldERpcmVjdGlvbigxKSkhPT1iLmdldERpcmVjdGlvbigxKSYmZS5zZXRBdHRyaWJ1dGUoXCJkaXJcIixmKSxlLnJlbW92ZSgpLGM/ZVtkP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjKTpiLmFwcGVuZChlLGQpfWZ1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gYyhkKXt2YXIgZT1hW2Q/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShnKTtlJiZlLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZS5pcyhhLmdldE5hbWUoKSkmJihiKGEsZSxudWxsLCFkKSxhLnJlbW92ZSgpLGE9ZSl9YygpO2MoMSl9ZnVuY3Rpb24gZShhKXtyZXR1cm4gYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJihhLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kYmxvY2t8fGEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSkmJlxuQ0tFRElUT1IuZHRkW2EuZ2V0TmFtZSgpXVtcIiNcIl19ZnVuY3Rpb24gbChhLGQsZSl7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2UuZW5sYXJnZShDS0VESVRPUi5FTkxBUkdFX0xJU1RfSVRFTV9DT05URU5UUyk7dmFyIGY9ZS5leHRyYWN0Q29udGVudHMoKTtkLnRyaW0oITEsITApO3ZhciBoPWQuY3JlYXRlQm9va21hcmsoKSxsPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoZC5zdGFydENvbnRhaW5lciksbT1sLmJsb2NrLGw9bC5sYXN0RWxlbWVudC5nZXRBc2NlbmRhbnQoXCJsaVwiLDEpfHxtLHc9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50UGF0aChlLnN0YXJ0Q29udGFpbmVyKSxCPXcuY29udGFpbnMoQ0tFRElUT1IuZHRkLiRsaXN0SXRlbSksdz13LmNvbnRhaW5zKENLRURJVE9SLmR0ZC4kbGlzdCk7bT8obT1tLmdldEJvZ3VzKCkpJiZtLnJlbW92ZSgpOncmJihtPXcuZ2V0UHJldmlvdXMoZykpJiZuKG0pJiZtLnJlbW92ZSgpOyhtPWYuZ2V0TGFzdCgpKSYmbS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJlxubS5pcyhcImJyXCIpJiZtLnJlbW92ZSgpOyhtPWQuc3RhcnRDb250YWluZXIuZ2V0Q2hpbGQoZC5zdGFydE9mZnNldCkpP2YuaW5zZXJ0QmVmb3JlKG0pOmQuc3RhcnRDb250YWluZXIuYXBwZW5kKGYpO0ImJihmPWsoQikpJiYobC5jb250YWlucyhCKT8oYihmLEIuZ2V0UGFyZW50KCksQiksZi5yZW1vdmUoKSk6bC5hcHBlbmQoZikpO2Zvcig7ZS5jaGVja1N0YXJ0T2ZCbG9jaygpJiZlLmNoZWNrRW5kT2ZCbG9jaygpOyl7dz1lLnN0YXJ0UGF0aCgpO2Y9dy5ibG9jaztpZighZilicmVhaztmLmlzKFwibGlcIikmJihsPWYuZ2V0UGFyZW50KCksZi5lcXVhbHMobC5nZXRMYXN0KGcpKSYmZi5lcXVhbHMobC5nZXRGaXJzdChnKSkmJihmPWwpKTtlLm1vdmVUb1Bvc2l0aW9uKGYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtmLnJlbW92ZSgpfWU9ZS5jbG9uZSgpO2Y9YS5lZGl0YWJsZSgpO2Uuc2V0RW5kQXQoZixDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtlPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKGUpO1xuZS5ldmFsdWF0b3I9ZnVuY3Rpb24oYSl7cmV0dXJuIGcoYSkmJiFuKGEpfTsoZT1lLm5leHQoKSkmJmUudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZlLmdldE5hbWUoKWluIENLRURJVE9SLmR0ZC4kbGlzdCYmYyhlKTtkLm1vdmVUb0Jvb2ttYXJrKGgpO2Quc2VsZWN0KCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfWZ1bmN0aW9uIGsoYSl7cmV0dXJuKGE9YS5nZXRMYXN0KGcpKSYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gZD9hOm51bGx9dmFyIGQ9e29sOjEsdWw6MX0saD1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksbT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCksZz1mdW5jdGlvbihhKXtyZXR1cm4hKGgoYSl8fG0oYSkpfSxuPUNLRURJVE9SLmRvbS53YWxrZXIuYm9ndXMoKTtDS0VESVRPUi5wbHVnaW5zLmxpc3Q9e2xpc3RUb0FycmF5OmZ1bmN0aW9uKGEsYixjLGUsZil7aWYoIWRbYS5nZXROYW1lKCldKXJldHVybltdO1xuZXx8KGU9MCk7Y3x8KGM9W10pO2Zvcih2YXIgZz0wLGg9YS5nZXRDaGlsZENvdW50KCk7ZzxoO2crKyl7dmFyIGs9YS5nZXRDaGlsZChnKTtrLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmay5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3QmJkNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShrLGIsYyxlKzEpO2lmKFwibGlcIj09ay4kLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe3ZhciBsPXtwYXJlbnQ6YSxpbmRlbnQ6ZSxlbGVtZW50OmssY29udGVudHM6W119O2Y/bC5ncmFuZHBhcmVudD1mOihsLmdyYW5kcGFyZW50PWEuZ2V0UGFyZW50KCksbC5ncmFuZHBhcmVudCYmXCJsaVwiPT1sLmdyYW5kcGFyZW50LiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSYmKGwuZ3JhbmRwYXJlbnQ9bC5ncmFuZHBhcmVudC5nZXRQYXJlbnQoKSkpO2ImJkNLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihiLGssXCJsaXN0YXJyYXlfaW5kZXhcIixjLmxlbmd0aCk7Yy5wdXNoKGwpO1xuZm9yKHZhciBtPTAsbj1rLmdldENoaWxkQ291bnQoKSxwO208bjttKyspcD1rLmdldENoaWxkKG0pLHAudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZkW3AuZ2V0TmFtZSgpXT9DS0VESVRPUi5wbHVnaW5zLmxpc3QubGlzdFRvQXJyYXkocCxiLGMsZSsxLGwuZ3JhbmRwYXJlbnQpOmwuY29udGVudHMucHVzaChwKX19cmV0dXJuIGN9LGFycmF5VG9MaXN0OmZ1bmN0aW9uKGEsYixjLGUsZil7Y3x8KGM9MCk7aWYoIWF8fGEubGVuZ3RoPGMrMSlyZXR1cm4gbnVsbDtmb3IodmFyIGgsaz1hW2NdLnBhcmVudC5nZXREb2N1bWVudCgpLGw9bmV3IENLRURJVE9SLmRvbS5kb2N1bWVudEZyYWdtZW50KGspLG49bnVsbCxwPWMsQz1NYXRoLm1heChhW2NdLmluZGVudCwwKSxyPW51bGwsRyxGLEo9ZT09Q0tFRElUT1IuRU5URVJfUD9cInBcIjpcImRpdlwiOzspe3ZhciBIPWFbcF07aD1ILmdyYW5kcGFyZW50O0c9SC5lbGVtZW50LmdldERpcmVjdGlvbigxKTtpZihILmluZGVudD09Qyl7biYmYVtwXS5wYXJlbnQuZ2V0TmFtZSgpPT1cbm4uZ2V0TmFtZSgpfHwobj1hW3BdLnBhcmVudC5jbG9uZSghMSwxKSxmJiZuLnNldEF0dHJpYnV0ZShcImRpclwiLGYpLGwuYXBwZW5kKG4pKTtyPW4uYXBwZW5kKEguZWxlbWVudC5jbG9uZSgwLDEpKTtHIT1uLmdldERpcmVjdGlvbigxKSYmci5zZXRBdHRyaWJ1dGUoXCJkaXJcIixHKTtmb3IoaD0wO2g8SC5jb250ZW50cy5sZW5ndGg7aCsrKXIuYXBwZW5kKEguY29udGVudHNbaF0uY2xvbmUoMSwxKSk7cCsrfWVsc2UgaWYoSC5pbmRlbnQ9PU1hdGgubWF4KEMsMCkrMSlIPWFbcC0xXS5lbGVtZW50LmdldERpcmVjdGlvbigxKSxwPUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChhLG51bGwscCxlLEghPUc/RzpudWxsKSwhci5nZXRDaGlsZENvdW50KCkmJkNLRURJVE9SLmVudi5uZWVkc05ic3BGaWxsZXImJjc+PWsuJC5kb2N1bWVudE1vZGUmJnIuYXBwZW5kKGsuY3JlYXRlVGV4dChcIsKgXCIpKSxyLmFwcGVuZChwLmxpc3ROb2RlKSxwPXAubmV4dEluZGV4O2Vsc2UgaWYoLTE9PVxuSC5pbmRlbnQmJiFjJiZoKXtkW2guZ2V0TmFtZSgpXT8ocj1ILmVsZW1lbnQuY2xvbmUoITEsITApLEchPWguZ2V0RGlyZWN0aW9uKDEpJiZyLnNldEF0dHJpYnV0ZShcImRpclwiLEcpKTpyPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnRGcmFnbWVudChrKTt2YXIgbj1oLmdldERpcmVjdGlvbigxKSE9RyxNPUguZWxlbWVudCxMPU0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksRD1NLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLFQ9ci50eXBlPT1DS0VESVRPUi5OT0RFX0RPQ1VNRU5UX0ZSQUdNRU5UJiYoZSE9Q0tFRElUT1IuRU5URVJfQlJ8fG58fER8fEwpLEksTz1ILmNvbnRlbnRzLmxlbmd0aCxLO2ZvcihoPTA7aDxPO2grKylpZihJPUguY29udGVudHNbaF0sbShJKSYmMTxPKVQ/Sz1JLmNsb25lKDEsMSk6ci5hcHBlbmQoSS5jbG9uZSgxLDEpKTtlbHNlIGlmKEkudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZJLmlzQmxvY2tCb3VuZGFyeSgpKXtuJiYhSS5nZXREaXJlY3Rpb24oKSYmXG5JLnNldEF0dHJpYnV0ZShcImRpclwiLEcpO0Y9STt2YXIgVT1NLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpO1UmJkYuc2V0QXR0cmlidXRlKFwic3R5bGVcIixVLnJlcGxhY2UoLyhbXjtdKSQvLFwiJDE7XCIpKyhGLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpfHxcIlwiKSk7TCYmSS5hZGRDbGFzcyhMKTtGPW51bGw7SyYmKHIuYXBwZW5kKEspLEs9bnVsbCk7ci5hcHBlbmQoSS5jbG9uZSgxLDEpKX1lbHNlIFQ/KEZ8fChGPWsuY3JlYXRlRWxlbWVudChKKSxyLmFwcGVuZChGKSxuJiZGLnNldEF0dHJpYnV0ZShcImRpclwiLEcpKSxEJiZGLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsRCksTCYmRi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLEwpLEsmJihGLmFwcGVuZChLKSxLPW51bGwpLEYuYXBwZW5kKEkuY2xvbmUoMSwxKSkpOnIuYXBwZW5kKEkuY2xvbmUoMSwxKSk7SyYmKChGfHxyKS5hcHBlbmQoSyksSz1udWxsKTtyLnR5cGU9PUNLRURJVE9SLk5PREVfRE9DVU1FTlRfRlJBR01FTlQmJnAhPWEubGVuZ3RoLTEmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlciYmXG4oRz1yLmdldExhc3QoKSkmJkcudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZHLmlzKFwiYnJcIikmJkcucmVtb3ZlKCksKEc9ci5nZXRMYXN0KGcpKSYmRy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJkcuaXMoQ0tFRElUT1IuZHRkLiRibG9jayl8fHIuYXBwZW5kKGsuY3JlYXRlRWxlbWVudChcImJyXCIpKSk7Rz1yLiQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcImRpdlwiIT1HJiZcInBcIiE9R3x8ci5hcHBlbmRCb2d1cygpO2wuYXBwZW5kKHIpO249bnVsbDtwKyt9ZWxzZSByZXR1cm4gbnVsbDtGPW51bGw7aWYoYS5sZW5ndGg8PXB8fE1hdGgubWF4KGFbcF0uaW5kZW50LDApPEMpYnJlYWt9aWYoYilmb3IoYT1sLmdldEZpcnN0KCk7YTspe2lmKGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoQ0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJNYXJrZXJzKGIsYSksYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGxpc3RJdGVtJiYoYz1hLGs9Zj1lPXZvaWQgMCxlPWMuZ2V0RGlyZWN0aW9uKCkpKSl7Zm9yKGY9XG5jLmdldFBhcmVudCgpO2YmJiEoaz1mLmdldERpcmVjdGlvbigpKTspZj1mLmdldFBhcmVudCgpO2U9PWsmJmMucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpfWE9YS5nZXROZXh0U291cmNlTm9kZSgpfXJldHVybntsaXN0Tm9kZTpsLG5leHRJbmRleDpwfX19O3ZhciBwPS9eaFsxLTZdJC8scj1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfRUxFTUVOVCk7Zi5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYil7dGhpcy5yZWZyZXNoKGIsYi5lbGVtZW50UGF0aCgpKTt2YXIgZT1iLmNvbmZpZyxmPWIuZ2V0U2VsZWN0aW9uKCksaD1mJiZmLmdldFJhbmdlcygpO2lmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7dmFyIGs9Yi5lZGl0YWJsZSgpO2lmKGsuZ2V0Rmlyc3QoZykpe3ZhciBsPTE9PWgubGVuZ3RoJiZoWzBdOyhlPWwmJmwuZ2V0RW5jbG9zZWROb2RlKCkpJiZlLmlzJiZ0aGlzLnR5cGU9PWUuZ2V0TmFtZSgpJiZ0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX09OKX1lbHNlIGUuZW50ZXJNb2RlPT1cbkNLRURJVE9SLkVOVEVSX0JSP2suYXBwZW5kQm9ndXMoKTpoWzBdLmZpeEJsb2NrKDEsZS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIiksZi5zZWxlY3RSYW5nZXMoaCl9Zm9yKHZhciBlPWYuY3JlYXRlQm9va21hcmtzKCEwKSxrPVtdLG09e30saD1oLmNyZWF0ZUl0ZXJhdG9yKCksbj0wOyhsPWguZ2V0TmV4dFJhbmdlKCkpJiYrK247KXt2YXIgQj1sLmdldEJvdW5kYXJ5Tm9kZXMoKSx6PUIuc3RhcnROb2RlLHI9Qi5lbmROb2RlO3oudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PXouZ2V0TmFtZSgpJiZsLnNldFN0YXJ0QXQoQi5zdGFydE5vZGUsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpO3IudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRkXCI9PXIuZ2V0TmFtZSgpJiZsLnNldEVuZEF0KEIuZW5kTm9kZSxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKTtsPWwuY3JlYXRlSXRlcmF0b3IoKTtmb3IobC5mb3JjZUJyQnJlYWs9XG50aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PRkY7Qj1sLmdldE5leHRQYXJhZ3JhcGgoKTspaWYoIUIuZ2V0Q3VzdG9tRGF0YShcImxpc3RfYmxvY2tcIikpe0NLRURJVE9SLmRvbS5lbGVtZW50LnNldE1hcmtlcihtLEIsXCJsaXN0X2Jsb2NrXCIsMSk7Zm9yKHZhciBFPWIuZWxlbWVudFBhdGgoQiksej1FLmVsZW1lbnRzLHI9MCxFPUUuYmxvY2tMaW1pdCxHLEY9ei5sZW5ndGgtMTswPD1GJiYoRz16W0ZdKTtGLS0paWYoZFtHLmdldE5hbWUoKV0mJkUuY29udGFpbnMoRykpe0UucmVtb3ZlQ3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0X1wiK24pOyh6PUcuZ2V0Q3VzdG9tRGF0YShcImxpc3RfZ3JvdXBfb2JqZWN0XCIpKT96LmNvbnRlbnRzLnB1c2goQik6KHo9e3Jvb3Q6Ryxjb250ZW50czpbQl19LGsucHVzaCh6KSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobSxHLFwibGlzdF9ncm91cF9vYmplY3RcIix6KSk7cj0xO2JyZWFrfXJ8fChyPUUsci5nZXRDdXN0b21EYXRhKFwibGlzdF9ncm91cF9vYmplY3RfXCIrXG5uKT9yLmdldEN1c3RvbURhdGEoXCJsaXN0X2dyb3VwX29iamVjdF9cIituKS5jb250ZW50cy5wdXNoKEIpOih6PXtyb290OnIsY29udGVudHM6W0JdfSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIobSxyLFwibGlzdF9ncm91cF9vYmplY3RfXCIrbix6KSxrLnB1c2goeikpKX19Zm9yKEc9W107MDxrLmxlbmd0aDspaWYoej1rLnNoaWZ0KCksdGhpcy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKWlmKGRbei5yb290LmdldE5hbWUoKV0pe2g9YjtuPXo7ej1tO2w9RztyPUNLRURJVE9SLnBsdWdpbnMubGlzdC5saXN0VG9BcnJheShuLnJvb3Qseik7RT1bXTtmb3IoQj0wO0I8bi5jb250ZW50cy5sZW5ndGg7QisrKUY9bi5jb250ZW50c1tCXSwoRj1GLmdldEFzY2VuZGFudChcImxpXCIsITApKSYmIUYuZ2V0Q3VzdG9tRGF0YShcImxpc3RfaXRlbV9wcm9jZXNzZWRcIikmJihFLnB1c2goRiksQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKHosRixcImxpc3RfaXRlbV9wcm9jZXNzZWRcIixcbiEwKSk7Zm9yKHZhciBGPW4ucm9vdC5nZXREb2N1bWVudCgpLEo9dm9pZCAwLEg9dm9pZCAwLEI9MDtCPEUubGVuZ3RoO0IrKyl7dmFyIE09RVtCXS5nZXRDdXN0b21EYXRhKFwibGlzdGFycmF5X2luZGV4XCIpLEo9cltNXS5wYXJlbnQ7Si5pcyh0aGlzLnR5cGUpfHwoSD1GLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKSxKLmNvcHlBdHRyaWJ1dGVzKEgse3N0YXJ0OjEsdHlwZToxfSksSC5yZW1vdmVTdHlsZShcImxpc3Qtc3R5bGUtdHlwZVwiKSxyW01dLnBhcmVudD1IKX16PUNLRURJVE9SLnBsdWdpbnMubGlzdC5hcnJheVRvTGlzdChyLHosbnVsbCxoLmNvbmZpZy5lbnRlck1vZGUpO3I9dm9pZCAwO0U9ei5saXN0Tm9kZS5nZXRDaGlsZENvdW50KCk7Zm9yKEI9MDtCPEUmJihyPXoubGlzdE5vZGUuZ2V0Q2hpbGQoQikpO0IrKylyLmdldE5hbWUoKT09dGhpcy50eXBlJiZsLnB1c2gocik7ei5saXN0Tm9kZS5yZXBsYWNlKG4ucm9vdCk7aC5maXJlKFwiY29udGVudERvbUludmFsaWRhdGVkXCIpfWVsc2V7cj1cbmI7bD16O0I9RztFPWwuY29udGVudHM7aD1sLnJvb3QuZ2V0RG9jdW1lbnQoKTtuPVtdOzE9PUUubGVuZ3RoJiZFWzBdLmVxdWFscyhsLnJvb3QpJiYoej1oLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksRVswXS5tb3ZlQ2hpbGRyZW4mJkVbMF0ubW92ZUNoaWxkcmVuKHopLEVbMF0uYXBwZW5kKHopLEVbMF09eik7bD1sLmNvbnRlbnRzWzBdLmdldFBhcmVudCgpO2ZvcihGPTA7RjxFLmxlbmd0aDtGKyspbD1sLmdldENvbW1vbkFuY2VzdG9yKEVbRl0uZ2V0UGFyZW50KCkpO0o9ci5jb25maWcudXNlQ29tcHV0ZWRTdGF0ZTtyPXo9dm9pZCAwO0o9dm9pZCAwPT09Snx8Sjtmb3IoRj0wO0Y8RS5sZW5ndGg7RisrKWZvcihIPUVbRl07TT1ILmdldFBhcmVudCgpOyl7aWYoTS5lcXVhbHMobCkpe24ucHVzaChIKTshciYmSC5nZXREaXJlY3Rpb24oKSYmKHI9MSk7SD1ILmdldERpcmVjdGlvbihKKTtudWxsIT09eiYmKHo9eiYmeiE9SD9udWxsOkgpO2JyZWFrfUg9TX1pZighKDE+bi5sZW5ndGgpKXtFPVxubltuLmxlbmd0aC0xXS5nZXROZXh0KCk7Rj1oLmNyZWF0ZUVsZW1lbnQodGhpcy50eXBlKTtCLnB1c2goRik7Zm9yKEo9Qj12b2lkIDA7bi5sZW5ndGg7KUI9bi5zaGlmdCgpLEo9aC5jcmVhdGVFbGVtZW50KFwibGlcIiksSD1CLEguaXMoXCJwcmVcIil8fHAudGVzdChILmdldE5hbWUoKSl8fFwiZmFsc2VcIj09SC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIik/Qi5hcHBlbmRUbyhKKTooQi5jb3B5QXR0cmlidXRlcyhKKSx6JiZCLmdldERpcmVjdGlvbigpJiYoSi5yZW1vdmVTdHlsZShcImRpcmVjdGlvblwiKSxKLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSksQi5tb3ZlQ2hpbGRyZW4oSiksQi5yZW1vdmUoKSksSi5hcHBlbmRUbyhGKTt6JiZyJiZGLnNldEF0dHJpYnV0ZShcImRpclwiLHopO0U/Ri5pbnNlcnRCZWZvcmUoRSk6Ri5hcHBlbmRUbyhsKX19ZWxzZSB0aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTiYmZFt6LnJvb3QuZ2V0TmFtZSgpXSYmYS5jYWxsKHRoaXMsYix6LG0pO1xuZm9yKEY9MDtGPEcubGVuZ3RoO0YrKyljKEdbRl0pO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhtKTtmLnNlbGVjdEJvb2ttYXJrcyhlKTtiLmZvY3VzKCl9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNvbnRhaW5zKGQsMSksZT1iLmJsb2NrTGltaXR8fGIucm9vdDtjJiZlLmNvbnRhaW5zKGMpP3RoaXMuc2V0U3RhdGUoYy5pcyh0aGlzLnR5cGUpP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRik6dGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PRkYpfX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJsaXN0XCIse3JlcXVpcmVzOlwiaW5kZW50bGlzdFwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5ibG9ja2xlc3N8fChhLmFkZENvbW1hbmQoXCJudW1iZXJlZGxpc3RcIixuZXcgZihcIm51bWJlcmVkbGlzdFwiLFwib2xcIikpLGEuYWRkQ29tbWFuZChcImJ1bGxldGVkbGlzdFwiLG5ldyBmKFwiYnVsbGV0ZWRsaXN0XCIsXCJ1bFwiKSksYS51aS5hZGRCdXR0b24mJlxuKGEudWkuYWRkQnV0dG9uKFwiTnVtYmVyZWRMaXN0XCIse2xhYmVsOmEubGFuZy5saXN0Lm51bWJlcmVkbGlzdCxjb21tYW5kOlwibnVtYmVyZWRsaXN0XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImxpc3QsMTBcIn0pLGEudWkuYWRkQnV0dG9uKFwiQnVsbGV0ZWRMaXN0XCIse2xhYmVsOmEubGFuZy5saXN0LmJ1bGxldGVkbGlzdCxjb21tYW5kOlwiYnVsbGV0ZWRsaXN0XCIsZGlyZWN0aW9uYWw6ITAsdG9vbGJhcjpcImxpc3QsMjBcIn0pKSxhLm9uKFwia2V5XCIsZnVuY3Rpb24oYil7dmFyIGM9Yi5kYXRhLmRvbUV2ZW50LmdldEtleSgpLGY7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmYyBpbns4OjEsNDY6MX0pe3ZhciBoPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VzKClbMF0sbT1oJiZoLnN0YXJ0UGF0aCgpO2lmKGgmJmguY29sbGFwc2VkKXt2YXIgcT04PT1jLHc9YS5lZGl0YWJsZSgpLHA9bmV3IENLRURJVE9SLmRvbS53YWxrZXIoaC5jbG9uZSgpKTtwLmV2YWx1YXRvcj1mdW5jdGlvbihhKXtyZXR1cm4gZyhhKSYmXG4hbihhKX07cC5ndWFyZD1mdW5jdGlvbihhLGIpe3JldHVybiEoYiYmYS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuaXMoXCJ0YWJsZVwiKSl9O2M9aC5jbG9uZSgpO2lmKHEpe3ZhciB6Oyh6PW0uY29udGFpbnMoZCkpJiZoLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoeixDS0VESVRPUi5TVEFSVCkmJih6PXouZ2V0UGFyZW50KCkpJiZ6LmlzKFwibGlcIikmJih6PWsoeikpPyhmPXosej16LmdldFByZXZpb3VzKGcpLGMubW92ZVRvUG9zaXRpb24oeiYmbih6KT96OmYsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKSk6KHAucmFuZ2Uuc2V0U3RhcnRBdCh3LENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSxwLnJhbmdlLnNldEVuZChoLnN0YXJ0Q29udGFpbmVyLGguc3RhcnRPZmZzZXQpLCh6PXAucHJldmlvdXMoKSkmJnoudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiYoei5nZXROYW1lKClpbiBkfHx6LmlzKFwibGlcIikpJiYoei5pcyhcImxpXCIpfHwocC5yYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoeiksXG5wLnJlc2V0KCkscC5ldmFsdWF0b3I9ZSx6PXAucHJldmlvdXMoKSksZj16LGMubW92ZVRvRWxlbWVudEVkaXRFbmQoZiksYy5tb3ZlVG9Qb3NpdGlvbihjLmVuZFBhdGgoKS5ibG9jayxDS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfRU5EKSkpO2lmKGYpbChhLGMsaCksYi5jYW5jZWwoKTtlbHNle3ZhciByPW0uY29udGFpbnMoZCk7ciYmaC5jaGVja0JvdW5kYXJ5T2ZFbGVtZW50KHIsQ0tFRElUT1IuU1RBUlQpJiYoZj1yLmdldEZpcnN0KGcpLGguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChmLENLRURJVE9SLlNUQVJUKSYmKHo9ci5nZXRQcmV2aW91cyhnKSxrKGYpP3omJihoLm1vdmVUb0VsZW1lbnRFZGl0RW5kKHopLGguc2VsZWN0KCkpOmEuZXhlY0NvbW1hbmQoXCJvdXRkZW50XCIpLGIuY2FuY2VsKCkpKX19ZWxzZSBpZihmPW0uY29udGFpbnMoXCJsaVwiKSl7aWYocC5yYW5nZS5zZXRFbmRBdCh3LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLHE9KHc9Zi5nZXRMYXN0KGcpKSYmXG5lKHcpP3c6ZixtPTAsKHo9cC5uZXh0KCkpJiZ6LnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmei5nZXROYW1lKClpbiBkJiZ6LmVxdWFscyh3KT8obT0xLHo9cC5uZXh0KCkpOmguY2hlY2tCb3VuZGFyeU9mRWxlbWVudChxLENLRURJVE9SLkVORCkmJihtPTIpLG0mJnope2g9aC5jbG9uZSgpO2gubW92ZVRvRWxlbWVudEVkaXRTdGFydCh6KTtpZigxPT1tJiYoYy5vcHRpbWl6ZSgpLCFjLnN0YXJ0Q29udGFpbmVyLmVxdWFscyhmKSkpe2ZvcihmPWMuc3RhcnRDb250YWluZXI7Zi5pcyhDS0VESVRPUi5kdGQuJGlubGluZSk7KXI9ZixmPWYuZ2V0UGFyZW50KCk7ciYmYy5tb3ZlVG9Qb3NpdGlvbihyLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX0VORCl9Mj09bSYmKGMubW92ZVRvUG9zaXRpb24oYy5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX0VORCksaC5lbmRQYXRoKCkuYmxvY2smJmgubW92ZVRvUG9zaXRpb24oaC5lbmRQYXRoKCkuYmxvY2ssQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTtcbmwoYSxjLGgpO2IuY2FuY2VsKCl9fWVsc2UgcC5yYW5nZS5zZXRFbmRBdCh3LENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9FTkQpLCh6PXAubmV4dCgpKSYmei50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJnouaXMoZCkmJih6PXouZ2V0Rmlyc3QoZyksbS5ibG9jayYmaC5jaGVja1N0YXJ0T2ZCbG9jaygpJiZoLmNoZWNrRW5kT2ZCbG9jaygpPyhtLmJsb2NrLnJlbW92ZSgpLGgubW92ZVRvRWxlbWVudEVkaXRTdGFydCh6KSxoLnNlbGVjdCgpKTprKHopPyhoLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoeiksaC5zZWxlY3QoKSk6KGg9aC5jbG9uZSgpLGgubW92ZVRvRWxlbWVudEVkaXRTdGFydCh6KSxsKGEsYyxoKSksYi5jYW5jZWwoKSk7c2V0VGltZW91dChmdW5jdGlvbigpe2Euc2VsZWN0aW9uQ2hhbmdlKDEpfSl9fX0pKX19KX0oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe2M9YS5jb25maWcuZm9yY2VFbnRlck1vZGV8fGM7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKGJ8fFxuKGI9YS5hY3RpdmVFbnRlck1vZGUpLGEuZWxlbWVudFBhdGgoKS5pc0NvbnRleHRGb3IoXCJwXCIpfHwoYj1DS0VESVRPUi5FTlRFUl9CUixjPTEpLGEuZmlyZShcInNhdmVTbmFwc2hvdFwiKSxiPT1DS0VESVRPUi5FTlRFUl9CUj9rKGEsYixudWxsLGMpOmQoYSxiLG51bGwsYyksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpKX1mdW5jdGlvbiBmKGEpe2E9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoITApO2Zvcih2YXIgYj1hLmxlbmd0aC0xOzA8YjtiLS0pYVtiXS5kZWxldGVDb250ZW50cygpO3JldHVybiBhWzBdfWZ1bmN0aW9uIGIoYSl7dmFyIGI9YS5zdGFydENvbnRhaW5lci5nZXRBc2NlbmRhbnQoZnVuY3Rpb24oYSl7cmV0dXJuIGEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcInRydWVcIj09YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIil9LCEwKTtpZihhLnJvb3QuZXF1YWxzKGIpKXJldHVybiBhO2I9bmV3IENLRURJVE9SLmRvbS5yYW5nZShiKTtiLm1vdmVUb1JhbmdlKGEpO1xucmV0dXJuIGJ9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJlbnRlcmtleVwiLHtpbml0OmZ1bmN0aW9uKGIpe2IuYWRkQ29tbWFuZChcImVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYil7YShiKX19KTtiLmFkZENvbW1hbmQoXCJzaGlmdEVudGVyXCIse21vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOiExLGV4ZWM6ZnVuY3Rpb24oYil7YShiLGIuYWN0aXZlU2hpZnRFbnRlck1vZGUsMSl9fSk7Yi5zZXRLZXlzdHJva2UoW1sxMyxcImVudGVyXCJdLFtDS0VESVRPUi5TSElGVCsxMyxcInNoaWZ0RW50ZXJcIl1dKX19KTt2YXIgYz1DS0VESVRPUi5kb20ud2Fsa2VyLndoaXRlc3BhY2VzKCksZT1DS0VESVRPUi5kb20ud2Fsa2VyLmJvb2ttYXJrKCk7Q0tFRElUT1IucGx1Z2lucy5lbnRlcmtleT17ZW50ZXJCbG9jazpmdW5jdGlvbihhLGQsbCxwKXtpZihsPWx8fGYoYSkpe2w9YihsKTt2YXIgcj1sLmRvY3VtZW50LHg9bC5jaGVja1N0YXJ0T2ZCbG9jaygpLFxudj1sLmNoZWNrRW5kT2ZCbG9jaygpLHU9YS5lbGVtZW50UGF0aChsLnN0YXJ0Q29udGFpbmVyKSx0PXUuYmxvY2sseT1kPT1DS0VESVRPUi5FTlRFUl9ESVY/XCJkaXZcIjpcInBcIixBO2lmKHgmJnYpe2lmKHQmJih0LmlzKFwibGlcIil8fHQuZ2V0UGFyZW50KCkuaXMoXCJsaVwiKSkpe3QuaXMoXCJsaVwiKXx8KHQ9dC5nZXRQYXJlbnQoKSk7bD10LmdldFBhcmVudCgpO0E9bC5nZXRQYXJlbnQoKTtwPSF0Lmhhc1ByZXZpb3VzKCk7dmFyIHE9IXQuaGFzTmV4dCgpLHk9YS5nZXRTZWxlY3Rpb24oKSx3PXkuY3JlYXRlQm9va21hcmtzKCkseD10LmdldERpcmVjdGlvbigxKSx2PXQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksQj10LmdldEF0dHJpYnV0ZShcInN0eWxlXCIpLHo9QS5nZXREaXJlY3Rpb24oMSkhPXg7YT1hLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfQlJ8fHp8fEJ8fHY7aWYoQS5pcyhcImxpXCIpKXB8fHE/KHAmJnEmJmwucmVtb3ZlKCksdFtxP1wiaW5zZXJ0QWZ0ZXJcIjpcImluc2VydEJlZm9yZVwiXShBKSk6XG50LmJyZWFrUGFyZW50KEEpO2Vsc2V7aWYoYSlpZih1LmJsb2NrLmlzKFwibGlcIik/KEE9ci5jcmVhdGVFbGVtZW50KGQ9PUNLRURJVE9SLkVOVEVSX1A/XCJwXCI6XCJkaXZcIikseiYmQS5zZXRBdHRyaWJ1dGUoXCJkaXJcIix4KSxCJiZBLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsQiksdiYmQS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHYpLHQubW92ZUNoaWxkcmVuKEEpKTpBPXUuYmxvY2sscHx8cSlBW3A/XCJpbnNlcnRCZWZvcmVcIjpcImluc2VydEFmdGVyXCJdKGwpO2Vsc2UgdC5icmVha1BhcmVudChsKSxBLmluc2VydEFmdGVyKGwpO2Vsc2UgaWYodC5hcHBlbmRCb2d1cyghMCkscHx8cSlmb3IoO3I9dFtwP1wiZ2V0Rmlyc3RcIjpcImdldExhc3RcIl0oKTspcltwP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShsKTtlbHNlIGZvcih0LmJyZWFrUGFyZW50KGwpO3I9dC5nZXRMYXN0KCk7KXIuaW5zZXJ0QWZ0ZXIobCk7dC5yZW1vdmUoKX15LnNlbGVjdEJvb2ttYXJrcyh3KTtyZXR1cm59aWYodCYmdC5nZXRQYXJlbnQoKS5pcyhcImJsb2NrcXVvdGVcIikpe3QuYnJlYWtQYXJlbnQodC5nZXRQYXJlbnQoKSk7XG50LmdldFByZXZpb3VzKCkuZ2V0Rmlyc3QoQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSkpfHx0LmdldFByZXZpb3VzKCkucmVtb3ZlKCk7dC5nZXROZXh0KCkuZ2V0Rmlyc3QoQ0tFRElUT1IuZG9tLndhbGtlci5pbnZpc2libGUoMSkpfHx0LmdldE5leHQoKS5yZW1vdmUoKTtsLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQodCk7bC5zZWxlY3QoKTtyZXR1cm59fWVsc2UgaWYodCYmdC5pcyhcInByZVwiKSYmIXYpe2soYSxkLGwscCk7cmV0dXJufWlmKHg9bC5zcGxpdEJsb2NrKHkpKXtkPXgucHJldmlvdXNCbG9jazt0PXgubmV4dEJsb2NrO3U9eC53YXNTdGFydE9mQmxvY2s7YT14Lndhc0VuZE9mQmxvY2s7dD8odz10LmdldFBhcmVudCgpLHcuaXMoXCJsaVwiKSYmKHQuYnJlYWtQYXJlbnQodyksdC5tb3ZlKHQuZ2V0TmV4dCgpLDEpKSk6ZCYmKHc9ZC5nZXRQYXJlbnQoKSkmJncuaXMoXCJsaVwiKSYmKGQuYnJlYWtQYXJlbnQodyksdz1kLmdldE5leHQoKSxsLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQodyksXG5kLm1vdmUoZC5nZXRQcmV2aW91cygpKSk7aWYodXx8YSl7aWYoZCl7aWYoZC5pcyhcImxpXCIpfHwhaC50ZXN0KGQuZ2V0TmFtZSgpKSYmIWQuaXMoXCJwcmVcIikpQT1kLmNsb25lKCl9ZWxzZSB0JiYoQT10LmNsb25lKCkpO0E/cCYmIUEuaXMoXCJsaVwiKSYmQS5yZW5hbWVOb2RlKHkpOncmJncuaXMoXCJsaVwiKT9BPXc6KEE9ci5jcmVhdGVFbGVtZW50KHkpLGQmJihxPWQuZ2V0RGlyZWN0aW9uKCkpJiZBLnNldEF0dHJpYnV0ZShcImRpclwiLHEpKTtpZihyPXguZWxlbWVudFBhdGgpZm9yKHA9MCx5PXIuZWxlbWVudHMubGVuZ3RoO3A8eTtwKyspe3c9ci5lbGVtZW50c1twXTtpZih3LmVxdWFscyhyLmJsb2NrKXx8dy5lcXVhbHMoci5ibG9ja0xpbWl0KSlicmVhaztDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5W3cuZ2V0TmFtZSgpXSYmKHc9dy5jbG9uZSgpLEEubW92ZUNoaWxkcmVuKHcpLEEuYXBwZW5kKHcpKX1BLmFwcGVuZEJvZ3VzKCk7QS5nZXRQYXJlbnQoKXx8bC5pbnNlcnROb2RlKEEpO1xuQS5pcyhcImxpXCIpJiZBLnJlbW92ZUF0dHJpYnV0ZShcInZhbHVlXCIpOyFDS0VESVRPUi5lbnYuaWV8fCF1fHxhJiZkLmdldENoaWxkQ291bnQoKXx8KGwubW92ZVRvRWxlbWVudEVkaXRTdGFydChhP2Q6QSksbC5zZWxlY3QoKSk7bC5tb3ZlVG9FbGVtZW50RWRpdFN0YXJ0KHUmJiFhP3Q6QSl9ZWxzZSB0LmlzKFwibGlcIikmJihBPWwuY2xvbmUoKSxBLnNlbGVjdE5vZGVDb250ZW50cyh0KSxBPW5ldyBDS0VESVRPUi5kb20ud2Fsa2VyKEEpLEEuZXZhbHVhdG9yPWZ1bmN0aW9uKGEpe3JldHVybiEoZShhKXx8YyhhKXx8YS50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmEuZ2V0TmFtZSgpaW4gQ0tFRElUT1IuZHRkLiRpbmxpbmUmJiEoYS5nZXROYW1lKClpbiBDS0VESVRPUi5kdGQuJGVtcHR5KSl9LCh3PUEubmV4dCgpKSYmdy50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJncuaXMoXCJ1bFwiLFwib2xcIikmJihDS0VESVRPUi5lbnYubmVlZHNCckZpbGxlcj9yLmNyZWF0ZUVsZW1lbnQoXCJiclwiKTpcbnIuY3JlYXRlVGV4dChcIsKgXCIpKS5pbnNlcnRCZWZvcmUodykpLHQmJmwubW92ZVRvRWxlbWVudEVkaXRTdGFydCh0KTtsLnNlbGVjdCgpO2wuc2Nyb2xsSW50b1ZpZXcoKX19fSxlbnRlckJyOmZ1bmN0aW9uKGEsYixjLGUpe2lmKGM9Y3x8ZihhKSl7dmFyIGs9Yy5kb2N1bWVudCxsPWMuY2hlY2tFbmRPZkJsb2NrKCksdj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnRQYXRoKGEuZ2V0U2VsZWN0aW9uKCkuZ2V0U3RhcnRFbGVtZW50KCkpLHU9di5ibG9jayx0PXUmJnYuYmxvY2suZ2V0TmFtZSgpO2V8fFwibGlcIiE9dD8oIWUmJmwmJmgudGVzdCh0KT8obD11LmdldERpcmVjdGlvbigpKT8oaz1rLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksay5zZXRBdHRyaWJ1dGUoXCJkaXJcIixsKSxrLmluc2VydEFmdGVyKHUpLGMuc2V0U3RhcnQoaywwKSk6KGsuY3JlYXRlRWxlbWVudChcImJyXCIpLmluc2VydEFmdGVyKHUpLENLRURJVE9SLmVudi5nZWNrbyYmay5jcmVhdGVUZXh0KFwiXCIpLmluc2VydEFmdGVyKHUpLFxuYy5zZXRTdGFydEF0KHUuZ2V0TmV4dCgpLENLRURJVE9SLmVudi5pZT9DS0VESVRPUi5QT1NJVElPTl9CRUZPUkVfU1RBUlQ6Q0tFRElUT1IuUE9TSVRJT05fQUZURVJfU1RBUlQpKTooYT1cInByZVwiPT10JiZDS0VESVRPUi5lbnYuaWUmJjg+Q0tFRElUT1IuZW52LnZlcnNpb24/ay5jcmVhdGVUZXh0KFwiXFxyXCIpOmsuY3JlYXRlRWxlbWVudChcImJyXCIpLGMuZGVsZXRlQ29udGVudHMoKSxjLmluc2VydE5vZGUoYSksQ0tFRElUT1IuZW52Lm5lZWRzQnJGaWxsZXI/KGsuY3JlYXRlVGV4dChcIu+7v1wiKS5pbnNlcnRBZnRlcihhKSxsJiYodXx8di5ibG9ja0xpbWl0KS5hcHBlbmRCb2d1cygpLGEuZ2V0TmV4dCgpLiQubm9kZVZhbHVlPVwiXCIsYy5zZXRTdGFydEF0KGEuZ2V0TmV4dCgpLENLRURJVE9SLlBPU0lUSU9OX0FGVEVSX1NUQVJUKSk6Yy5zZXRTdGFydEF0KGEsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSksYy5jb2xsYXBzZSghMCksYy5zZWxlY3QoKSxjLnNjcm9sbEludG9WaWV3KCkpOlxuZChhLGIsYyxlKX19fTt2YXIgbD1DS0VESVRPUi5wbHVnaW5zLmVudGVya2V5LGs9bC5lbnRlckJyLGQ9bC5lbnRlckJsb2NrLGg9L15oWzEtNl0kL30oKSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz17fSxlPVtdLGw9e25ic3A6XCLCoFwiLHNoeTpcIsKtXCIsZ3Q6XCJcXHgzZVwiLGx0OlwiXFx4M2NcIixhbXA6XCJcXHgyNlwiLGFwb3M6XCInXCIscXVvdDonXCInfTthPWEucmVwbGFjZSgvXFxiKG5ic3B8c2h5fGd0fGx0fGFtcHxhcG9zfHF1b3QpKD86LHwkKS9nLGZ1bmN0aW9uKGEsZCl7dmFyIGY9Yj9cIlxceDI2XCIrZCtcIjtcIjpsW2RdO2NbZl09Yj9sW2RdOlwiXFx4MjZcIitkK1wiO1wiO2UucHVzaChmKTtyZXR1cm5cIlwifSk7aWYoIWImJmEpe2E9YS5zcGxpdChcIixcIik7dmFyIGs9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxkO2suaW5uZXJIVE1MPVwiXFx4MjZcIithLmpvaW4oXCI7XFx4MjZcIikrXCI7XCI7ZD1rLmlubmVySFRNTDtrPW51bGw7Zm9yKGs9MDtrPGQubGVuZ3RoO2srKyl7dmFyIGg9ZC5jaGFyQXQoayk7XG5jW2hdPVwiXFx4MjZcIithW2tdK1wiO1wiO2UucHVzaChoKX19Yy5yZWdleD1lLmpvaW4oYj9cInxcIjpcIlwiKTtyZXR1cm4gY31DS0VESVRPUi5wbHVnaW5zLmFkZChcImVudGl0aWVzXCIse2FmdGVySW5pdDpmdW5jdGlvbihmKXtmdW5jdGlvbiBiKGEpe3JldHVybiBoW2FdfWZ1bmN0aW9uIGMoYSl7cmV0dXJuXCJmb3JjZVwiIT1lLmVudGl0aWVzX3Byb2Nlc3NOdW1lcmljYWwmJmtbYV0/a1thXTpcIlxceDI2I1wiK2EuY2hhckNvZGVBdCgwKStcIjtcIn12YXIgZT1mLmNvbmZpZztpZihmPShmPWYuZGF0YVByb2Nlc3NvcikmJmYuaHRtbEZpbHRlcil7dmFyIGw9W107ITEhPT1lLmJhc2ljRW50aXRpZXMmJmwucHVzaChcIm5ic3AsZ3QsbHQsYW1wXCIpO2UuZW50aXRpZXMmJihsLmxlbmd0aCYmbC5wdXNoKFwicXVvdCxpZXhjbCxjZW50LHBvdW5kLGN1cnJlbix5ZW4sYnJ2YmFyLHNlY3QsdW1sLGNvcHksb3JkZixsYXF1byxub3Qsc2h5LHJlZyxtYWNyLGRlZyxwbHVzbW4sc3VwMixzdXAzLGFjdXRlLG1pY3JvLHBhcmEsbWlkZG90LGNlZGlsLHN1cDEsb3JkbSxyYXF1byxmcmFjMTQsZnJhYzEyLGZyYWMzNCxpcXVlc3QsdGltZXMsZGl2aWRlLGZub2YsYnVsbCxoZWxsaXAscHJpbWUsUHJpbWUsb2xpbmUsZnJhc2wsd2VpZXJwLGltYWdlLHJlYWwsdHJhZGUsYWxlZnN5bSxsYXJyLHVhcnIscmFycixkYXJyLGhhcnIsY3JhcnIsbEFycix1QXJyLHJBcnIsZEFycixoQXJyLGZvcmFsbCxwYXJ0LGV4aXN0LGVtcHR5LG5hYmxhLGlzaW4sbm90aW4sbmkscHJvZCxzdW0sbWludXMsbG93YXN0LHJhZGljLHByb3AsaW5maW4sYW5nLGFuZCxvcixjYXAsY3VwLGludCx0aGVyZTQsc2ltLGNvbmcsYXN5bXAsbmUsZXF1aXYsbGUsZ2Usc3ViLHN1cCxuc3ViLHN1YmUsc3VwZSxvcGx1cyxvdGltZXMscGVycCxzZG90LGxjZWlsLHJjZWlsLGxmbG9vcixyZmxvb3IsbGFuZyxyYW5nLGxveixzcGFkZXMsY2x1YnMsaGVhcnRzLGRpYW1zLGNpcmMsdGlsZGUsZW5zcCxlbXNwLHRoaW5zcCx6d25qLHp3aixscm0scmxtLG5kYXNoLG1kYXNoLGxzcXVvLHJzcXVvLHNicXVvLGxkcXVvLHJkcXVvLGJkcXVvLGRhZ2dlcixEYWdnZXIscGVybWlsLGxzYXF1byxyc2FxdW8sZXVyb1wiKSxcbmUuZW50aXRpZXNfbGF0aW4mJmwucHVzaChcIkFncmF2ZSxBYWN1dGUsQWNpcmMsQXRpbGRlLEF1bWwsQXJpbmcsQUVsaWcsQ2NlZGlsLEVncmF2ZSxFYWN1dGUsRWNpcmMsRXVtbCxJZ3JhdmUsSWFjdXRlLEljaXJjLEl1bWwsRVRILE50aWxkZSxPZ3JhdmUsT2FjdXRlLE9jaXJjLE90aWxkZSxPdW1sLE9zbGFzaCxVZ3JhdmUsVWFjdXRlLFVjaXJjLFV1bWwsWWFjdXRlLFRIT1JOLHN6bGlnLGFncmF2ZSxhYWN1dGUsYWNpcmMsYXRpbGRlLGF1bWwsYXJpbmcsYWVsaWcsY2NlZGlsLGVncmF2ZSxlYWN1dGUsZWNpcmMsZXVtbCxpZ3JhdmUsaWFjdXRlLGljaXJjLGl1bWwsZXRoLG50aWxkZSxvZ3JhdmUsb2FjdXRlLG9jaXJjLG90aWxkZSxvdW1sLG9zbGFzaCx1Z3JhdmUsdWFjdXRlLHVjaXJjLHV1bWwseWFjdXRlLHRob3JuLHl1bWwsT0VsaWcsb2VsaWcsU2Nhcm9uLHNjYXJvbixZdW1sXCIpLGUuZW50aXRpZXNfZ3JlZWsmJmwucHVzaChcIkFscGhhLEJldGEsR2FtbWEsRGVsdGEsRXBzaWxvbixaZXRhLEV0YSxUaGV0YSxJb3RhLEthcHBhLExhbWJkYSxNdSxOdSxYaSxPbWljcm9uLFBpLFJobyxTaWdtYSxUYXUsVXBzaWxvbixQaGksQ2hpLFBzaSxPbWVnYSxhbHBoYSxiZXRhLGdhbW1hLGRlbHRhLGVwc2lsb24semV0YSxldGEsdGhldGEsaW90YSxrYXBwYSxsYW1iZGEsbXUsbnUseGksb21pY3JvbixwaSxyaG8sc2lnbWFmLHNpZ21hLHRhdSx1cHNpbG9uLHBoaSxjaGkscHNpLG9tZWdhLHRoZXRhc3ltLHVwc2loLHBpdlwiKSxcbmUuZW50aXRpZXNfYWRkaXRpb25hbCYmbC5wdXNoKGUuZW50aXRpZXNfYWRkaXRpb25hbCkpO3ZhciBrPWEobC5qb2luKFwiLFwiKSksZD1rLnJlZ2V4P1wiW1wiK2sucmVnZXgrXCJdXCI6XCJhXlwiO2RlbGV0ZSBrLnJlZ2V4O2UuZW50aXRpZXMmJmUuZW50aXRpZXNfcHJvY2Vzc051bWVyaWNhbCYmKGQ9XCJbXiAtfl18XCIrZCk7dmFyIGQ9bmV3IFJlZ0V4cChkLFwiZ1wiKSxoPWEoXCJuYnNwLGd0LGx0LGFtcCxzaHlcIiwhMCksbT1uZXcgUmVnRXhwKGgucmVnZXgsXCJnXCIpO2YuYWRkUnVsZXMoe3RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShtLGIpLnJlcGxhY2UoZCxjKX19LHthcHBseVRvQWxsOiEwLGV4Y2x1ZGVOZXN0ZWRFZGl0YWJsZTohMH0pfX19KX0oKSxDS0VESVRPUi5jb25maWcuYmFzaWNFbnRpdGllcz0hMCxDS0VESVRPUi5jb25maWcuZW50aXRpZXM9ITAsQ0tFRElUT1IuY29uZmlnLmVudGl0aWVzX2xhdGluPSEwLENLRURJVE9SLmNvbmZpZy5lbnRpdGllc19ncmVlaz0hMCxcbkNLRURJVE9SLmNvbmZpZy5lbnRpdGllc19hZGRpdGlvbmFsPVwiIzM5XCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJwb3B1cFwiKSxDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZSx7cG9wdXA6ZnVuY3Rpb24oYSxmLGIsYyl7Zj1mfHxcIjgwJVwiO2I9Ynx8XCI3MCVcIjtcInN0cmluZ1wiPT10eXBlb2YgZiYmMTxmLmxlbmd0aCYmXCIlXCI9PWYuc3Vic3RyKGYubGVuZ3RoLTEsMSkmJihmPXBhcnNlSW50KHdpbmRvdy5zY3JlZW4ud2lkdGgqcGFyc2VJbnQoZiwxMCkvMTAwLDEwKSk7XCJzdHJpbmdcIj09dHlwZW9mIGImJjE8Yi5sZW5ndGgmJlwiJVwiPT1iLnN1YnN0cihiLmxlbmd0aC0xLDEpJiYoYj1wYXJzZUludCh3aW5kb3cuc2NyZWVuLmhlaWdodCpwYXJzZUludChiLDEwKS8xMDAsMTApKTs2NDA+ZiYmKGY9NjQwKTs0MjA+YiYmKGI9NDIwKTt2YXIgZT1wYXJzZUludCgod2luZG93LnNjcmVlbi5oZWlnaHQtYikvMiwxMCksbD1wYXJzZUludCgod2luZG93LnNjcmVlbi53aWR0aC1cbmYpLzIsMTApO2M9KGN8fFwibG9jYXRpb25cXHgzZG5vLG1lbnViYXJcXHgzZG5vLHRvb2xiYXJcXHgzZG5vLGRlcGVuZGVudFxceDNkeWVzLG1pbmltaXphYmxlXFx4M2Rubyxtb2RhbFxceDNkeWVzLGFsd2F5c1JhaXNlZFxceDNkeWVzLHJlc2l6YWJsZVxceDNkeWVzLHNjcm9sbGJhcnNcXHgzZHllc1wiKStcIix3aWR0aFxceDNkXCIrZitcIixoZWlnaHRcXHgzZFwiK2IrXCIsdG9wXFx4M2RcIitlK1wiLGxlZnRcXHgzZFwiK2w7dmFyIGs9d2luZG93Lm9wZW4oXCJcIixudWxsLGMsITApO2lmKCFrKXJldHVybiExO3RyeXstMT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCIgY2hyb21lL1wiKSYmKGsubW92ZVRvKGwsZSksay5yZXNpemVUbyhmLGIpKSxrLmZvY3VzKCksay5sb2NhdGlvbi5ocmVmPWF9Y2F0Y2goZCl7d2luZG93Lm9wZW4oYSxudWxsLGMsITApfXJldHVybiEwfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3ZhciBjPVtdO2lmKGIpZm9yKHZhciBkIGluIGIpYy5wdXNoKGQrXG5cIlxceDNkXCIrZW5jb2RlVVJJQ29tcG9uZW50KGJbZF0pKTtlbHNlIHJldHVybiBhO3JldHVybiBhKygtMSE9YS5pbmRleE9mKFwiP1wiKT9cIlxceDI2XCI6XCI/XCIpK2Muam9pbihcIlxceDI2XCIpfWZ1bmN0aW9uIGYoYSl7YSs9XCJcIjtyZXR1cm4gYS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKX1mdW5jdGlvbiBiKCl7dmFyIGI9dGhpcy5nZXREaWFsb2coKSxjPWIuZ2V0UGFyZW50RWRpdG9yKCk7Yy5fLmZpbGVicm93c2VyU2U9dGhpczt2YXIgZD1jLmNvbmZpZ1tcImZpbGVicm93c2VyXCIrZihiLmdldE5hbWUoKSkrXCJXaW5kb3dXaWR0aFwiXXx8Yy5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dXaWR0aHx8XCI4MCVcIixiPWMuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitmKGIuZ2V0TmFtZSgpKStcIldpbmRvd0hlaWdodFwiXXx8Yy5jb25maWcuZmlsZWJyb3dzZXJXaW5kb3dIZWlnaHR8fFwiNzAlXCIsZT10aGlzLmZpbGVicm93c2VyLnBhcmFtc3x8e307ZS5DS0VkaXRvcj1jLm5hbWU7ZS5DS0VkaXRvckZ1bmNOdW09XG5jLl8uZmlsZWJyb3dzZXJGbjtlLmxhbmdDb2RlfHwoZS5sYW5nQ29kZT1jLmxhbmdDb2RlKTtlPWEodGhpcy5maWxlYnJvd3Nlci51cmwsZSk7Yy5wb3B1cChlLGQsYixjLmNvbmZpZy5maWxlYnJvd3NlcldpbmRvd0ZlYXR1cmVzfHxjLmNvbmZpZy5maWxlQnJvd3NlcldpbmRvd0ZlYXR1cmVzKX1mdW5jdGlvbiBjKCl7dmFyIGE9dGhpcy5nZXREaWFsb2coKTthLmdldFBhcmVudEVkaXRvcigpLl8uZmlsZWJyb3dzZXJTZT10aGlzO3JldHVybiBhLmdldENvbnRlbnRFbGVtZW50KHRoaXNbXCJmb3JcIl1bMF0sdGhpc1tcImZvclwiXVsxXSkuZ2V0SW5wdXRFbGVtZW50KCkuJC52YWx1ZSYmYS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLHRoaXNbXCJmb3JcIl1bMV0pLmdldEFjdGlvbigpPyEwOiExfWZ1bmN0aW9uIGUoYixjLGQpe3ZhciBlPWQucGFyYW1zfHx7fTtlLkNLRWRpdG9yPWIubmFtZTtlLkNLRWRpdG9yRnVuY051bT1iLl8uZmlsZWJyb3dzZXJGbjtlLmxhbmdDb2RlfHxcbihlLmxhbmdDb2RlPWIubGFuZ0NvZGUpO2MuYWN0aW9uPWEoZC51cmwsZSk7Yy5maWxlYnJvd3Nlcj1kfWZ1bmN0aW9uIGwoYSxkLGcsayl7aWYoayYmay5sZW5ndGgpZm9yKHZhciBwLHI9ay5sZW5ndGg7ci0tOylpZihwPWtbcl0sXCJoYm94XCIhPXAudHlwZSYmXCJ2Ym94XCIhPXAudHlwZSYmXCJmaWVsZHNldFwiIT1wLnR5cGV8fGwoYSxkLGcscC5jaGlsZHJlbikscC5maWxlYnJvd3NlcilpZihcInN0cmluZ1wiPT10eXBlb2YgcC5maWxlYnJvd3NlciYmKHAuZmlsZWJyb3dzZXI9e2FjdGlvbjpcImZpbGVCdXR0b25cIj09cC50eXBlP1wiUXVpY2tVcGxvYWRcIjpcIkJyb3dzZVwiLHRhcmdldDpwLmZpbGVicm93c2VyfSksXCJCcm93c2VcIj09cC5maWxlYnJvd3Nlci5hY3Rpb24pe3ZhciB4PXAuZmlsZWJyb3dzZXIudXJsO3ZvaWQgMD09PXgmJih4PWEuY29uZmlnW1wiZmlsZWJyb3dzZXJcIitmKGQpK1wiQnJvd3NlVXJsXCJdLHZvaWQgMD09PXgmJih4PWEuY29uZmlnLmZpbGVicm93c2VyQnJvd3NlVXJsKSk7XG54JiYocC5vbkNsaWNrPWIscC5maWxlYnJvd3Nlci51cmw9eCxwLmhpZGRlbj0hMSl9ZWxzZSBpZihcIlF1aWNrVXBsb2FkXCI9PXAuZmlsZWJyb3dzZXIuYWN0aW9uJiZwW1wiZm9yXCJdJiYoeD1wLmZpbGVicm93c2VyLnVybCx2b2lkIDA9PT14JiYoeD1hLmNvbmZpZ1tcImZpbGVicm93c2VyXCIrZihkKStcIlVwbG9hZFVybFwiXSx2b2lkIDA9PT14JiYoeD1hLmNvbmZpZy5maWxlYnJvd3NlclVwbG9hZFVybCkpLHgpKXt2YXIgdj1wLm9uQ2xpY2s7cC5vbkNsaWNrPWZ1bmN0aW9uKGEpe3ZhciBiPWEuc2VuZGVyO2lmKHYmJiExPT09di5jYWxsKGIsYSkpcmV0dXJuITE7aWYoYy5jYWxsKGIsYSkpe2E9Yi5nZXREaWFsb2coKS5nZXRDb250ZW50RWxlbWVudCh0aGlzW1wiZm9yXCJdWzBdLHRoaXNbXCJmb3JcIl1bMV0pLmdldElucHV0RWxlbWVudCgpO2lmKGI9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEuJC5mb3JtKSkoYT1iLiQuZWxlbWVudHMuY2tDc3JmVG9rZW4pP2E9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGEpOlxuKGE9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KFwiaW5wdXRcIiksYS5zZXRBdHRyaWJ1dGVzKHtuYW1lOlwiY2tDc3JmVG9rZW5cIix0eXBlOlwiaGlkZGVuXCJ9KSxiLmFwcGVuZChhKSksYS5zZXRBdHRyaWJ1dGUoXCJ2YWx1ZVwiLENLRURJVE9SLnRvb2xzLmdldENzcmZUb2tlbigpKTtyZXR1cm4hMH1yZXR1cm4hMX07cC5maWxlYnJvd3Nlci51cmw9eDtwLmhpZGRlbj0hMTtlKGEsZy5nZXRDb250ZW50cyhwW1wiZm9yXCJdWzBdKS5nZXQocFtcImZvclwiXVsxXSkscC5maWxlYnJvd3Nlcil9fWZ1bmN0aW9uIGsoYSxiLGMpe2lmKC0xIT09Yy5pbmRleE9mKFwiO1wiKSl7Yz1jLnNwbGl0KFwiO1wiKTtmb3IodmFyIGQ9MDtkPGMubGVuZ3RoO2QrKylpZihrKGEsYixjW2RdKSlyZXR1cm4hMDtyZXR1cm4hMX1yZXR1cm4oYT1hLmdldENvbnRlbnRzKGIpLmdldChjKS5maWxlYnJvd3NlcikmJmEudXJsfWZ1bmN0aW9uIGQoYSxiKXt2YXIgYz10aGlzLl8uZmlsZWJyb3dzZXJTZS5nZXREaWFsb2coKSxkPXRoaXMuXy5maWxlYnJvd3NlclNlW1wiZm9yXCJdLFxuZT10aGlzLl8uZmlsZWJyb3dzZXJTZS5maWxlYnJvd3Nlci5vblNlbGVjdDtkJiZjLmdldENvbnRlbnRFbGVtZW50KGRbMF0sZFsxXSkucmVzZXQoKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBifHwhMSE9PWIuY2FsbCh0aGlzLl8uZmlsZWJyb3dzZXJTZSkpaWYoIWV8fCExIT09ZS5jYWxsKHRoaXMuXy5maWxlYnJvd3NlclNlLGEsYikpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJmImJmFsZXJ0KGIpLGEmJihkPXRoaXMuXy5maWxlYnJvd3NlclNlLGM9ZC5nZXREaWFsb2coKSxkPWQuZmlsZWJyb3dzZXIudGFyZ2V0fHxudWxsKSlpZihkPWQuc3BsaXQoXCI6XCIpLGU9Yy5nZXRDb250ZW50RWxlbWVudChkWzBdLGRbMV0pKWUuc2V0VmFsdWUoYSksYy5zZWxlY3RQYWdlKGRbMF0pfUNLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmlsZWJyb3dzZXJcIix7cmVxdWlyZXM6XCJwb3B1cFwiLGluaXQ6ZnVuY3Rpb24oYSl7YS5fLmZpbGVicm93c2VyRm49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZCxhKTtcbmEub24oXCJkZXN0cm95XCIsZnVuY3Rpb24oKXtDS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbih0aGlzLl8uZmlsZWJyb3dzZXJGbil9KX19KTtDS0VESVRPUi5vbihcImRpYWxvZ0RlZmluaXRpb25cIixmdW5jdGlvbihhKXtpZihhLmVkaXRvci5wbHVnaW5zLmZpbGVicm93c2VyKWZvcih2YXIgYj1hLmRhdGEuZGVmaW5pdGlvbixjLGQ9MDtkPGIuY29udGVudHMubGVuZ3RoOysrZClpZihjPWIuY29udGVudHNbZF0pbChhLmVkaXRvcixhLmRhdGEubmFtZSxiLGMuZWxlbWVudHMpLGMuaGlkZGVuJiZjLmZpbGVicm93c2VyJiYoYy5oaWRkZW49IWsoYixjLmlkLGMuZmlsZWJyb3dzZXIpKX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt2YXIgZT1hLmNvbmZpZyxsPWEuZmlyZShcInVpU3BhY2VcIix7c3BhY2U6XCJ0b3BcIixodG1sOlwiXCJ9KS5odG1sLGs9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGEsYyxlKXtoLnNldFN0eWxlKGMsYihlKSk7aC5zZXRTdHlsZShcInBvc2l0aW9uXCIsYSl9ZnVuY3Rpb24gZyhhKXt2YXIgYj1cbm0uZ2V0RG9jdW1lbnRQb3NpdGlvbigpO3N3aXRjaChhKXtjYXNlIFwidG9wXCI6ZChcImFic29sdXRlXCIsXCJ0b3BcIixiLnkteS13KTticmVhaztjYXNlIFwicGluXCI6ZChcImZpeGVkXCIsXCJ0b3BcIix6KTticmVhaztjYXNlIFwiYm90dG9tXCI6ZChcImFic29sdXRlXCIsXCJ0b3BcIixiLnkrKHUuaGVpZ2h0fHx1LmJvdHRvbS11LnRvcCkrdyl9bD1hfXZhciBsLG0sdix1LHQseSxBLHE9ZS5mbG9hdFNwYWNlRG9ja2VkT2Zmc2V0WHx8MCx3PWUuZmxvYXRTcGFjZURvY2tlZE9mZnNldFl8fDAsQj1lLmZsb2F0U3BhY2VQaW5uZWRPZmZzZXRYfHwwLHo9ZS5mbG9hdFNwYWNlUGlubmVkT2Zmc2V0WXx8MDtyZXR1cm4gZnVuY3Rpb24oZCl7aWYobT1hLmVkaXRhYmxlKCkpe3ZhciBuPWQmJlwiZm9jdXNcIj09ZC5uYW1lO24mJmguc2hvdygpO2EuZmlyZShcImZsb2F0aW5nU3BhY2VMYXlvdXRcIix7c2hvdzpufSk7aC5yZW1vdmVTdHlsZShcImxlZnRcIik7aC5yZW1vdmVTdHlsZShcInJpZ2h0XCIpO3Y9aC5nZXRDbGllbnRSZWN0KCk7XG51PW0uZ2V0Q2xpZW50UmVjdCgpO3Q9Zi5nZXRWaWV3UGFuZVNpemUoKTt5PXYuaGVpZ2h0O0E9XCJwYWdlWE9mZnNldFwiaW4gZi4kP2YuJC5wYWdlWE9mZnNldDpDS0VESVRPUi5kb2N1bWVudC4kLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0O2w/KHkrdzw9dS50b3A/ZyhcInRvcFwiKTp5K3c+dC5oZWlnaHQtdS5ib3R0b20/ZyhcInBpblwiKTpnKFwiYm90dG9tXCIpLGQ9dC53aWR0aC8yLGQ9ZS5mbG9hdFNwYWNlUHJlZmVyUmlnaHQ/XCJyaWdodFwiOjA8dS5sZWZ0JiZ1LnJpZ2h0PHQud2lkdGgmJnUud2lkdGg+di53aWR0aD9cInJ0bFwiPT1lLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cInJpZ2h0XCI6XCJsZWZ0XCI6ZC11LmxlZnQ+dS5yaWdodC1kP1wibGVmdFwiOlwicmlnaHRcIix2LndpZHRoPnQud2lkdGg/KGQ9XCJsZWZ0XCIsbj0wKToobj1cImxlZnRcIj09ZD8wPHUubGVmdD91LmxlZnQ6MDp1LnJpZ2h0PHQud2lkdGg/dC53aWR0aC11LnJpZ2h0OjAsbit2LndpZHRoPnQud2lkdGgmJihkPVwibGVmdFwiPT1kP1xuXCJyaWdodFwiOlwibGVmdFwiLG49MCkpLGguc2V0U3R5bGUoZCxiKChcInBpblwiPT1sP0I6cSkrbisoXCJwaW5cIj09bD8wOlwibGVmdFwiPT1kP0E6LUEpKSkpOihsPVwicGluXCIsZyhcInBpblwiKSxrKGQpKX19fSgpO2lmKGwpe3ZhciBkPW5ldyBDS0VESVRPUi50ZW1wbGF0ZSgnXFx4M2NkaXYgaWRcXHgzZFwiY2tlX3tuYW1lfVwiIGNsYXNzXFx4M2RcImNrZSB7aWR9IGNrZV9yZXNldF9hbGwgY2tlX2Nocm9tZSBja2VfZWRpdG9yX3tuYW1lfSBja2VfZmxvYXQgY2tlX3tsYW5nRGlyfSAnK0NLRURJVE9SLmVudi5jc3NDbGFzcysnXCIgZGlyXFx4M2RcIntsYW5nRGlyfVwiIHRpdGxlXFx4M2RcIicrKENLRURJVE9SLmVudi5nZWNrbz9cIiBcIjpcIlwiKSsnXCIgbGFuZ1xceDNkXCJ7bGFuZ0NvZGV9XCIgcm9sZVxceDNkXCJhcHBsaWNhdGlvblwiIHN0eWxlXFx4M2RcIntzdHlsZX1cIicrKGEudGl0bGU/JyBhcmlhLWxhYmVsbGVkYnlcXHgzZFwiY2tlX3tuYW1lfV9hcmlhbGJsXCInOlwiIFwiKStcIlxceDNlXCIrKGEudGl0bGU/J1xceDNjc3BhbiBpZFxceDNkXCJja2Vfe25hbWV9X2FyaWFsYmxcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNle3ZvaWNlTGFiZWx9XFx4M2Mvc3BhblxceDNlJzpcblwiIFwiKSsnXFx4M2NkaXYgY2xhc3NcXHgzZFwiY2tlX2lubmVyXCJcXHgzZVxceDNjZGl2IGlkXFx4M2RcInt0b3BJZH1cIiBjbGFzc1xceDNkXCJja2VfdG9wXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNle2NvbnRlbnR9XFx4M2MvZGl2XFx4M2VcXHgzYy9kaXZcXHgzZVxceDNjL2RpdlxceDNlJyksaD1DS0VESVRPUi5kb2N1bWVudC5nZXRCb2R5KCkuYXBwZW5kKENLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKGQub3V0cHV0KHtjb250ZW50OmwsaWQ6YS5pZCxsYW5nRGlyOmEubGFuZy5kaXIsbGFuZ0NvZGU6YS5sYW5nQ29kZSxuYW1lOmEubmFtZSxzdHlsZTpcImRpc3BsYXk6bm9uZTt6LWluZGV4OlwiKyhlLmJhc2VGbG9hdFpJbmRleC0xKSx0b3BJZDphLnVpLnNwYWNlSWQoXCJ0b3BcIiksdm9pY2VMYWJlbDphLnRpdGxlfSkpKSxtPUNLRURJVE9SLnRvb2xzLmV2ZW50c0J1ZmZlcig1MDAsayksZz1DS0VESVRPUi50b29scy5ldmVudHNCdWZmZXIoMTAwLGspO2gudW5zZWxlY3RhYmxlKCk7aC5vbihcIm1vdXNlZG93blwiLFxuZnVuY3Rpb24oYSl7YT1hLmRhdGE7YS5nZXRUYXJnZXQoKS5oYXNBc2NlbmRhbnQoXCJhXCIsMSl8fGEucHJldmVudERlZmF1bHQoKX0pO2Eub24oXCJmb2N1c1wiLGZ1bmN0aW9uKGIpe2soYik7YS5vbihcImNoYW5nZVwiLG0uaW5wdXQpO2Yub24oXCJzY3JvbGxcIixnLmlucHV0KTtmLm9uKFwicmVzaXplXCIsZy5pbnB1dCl9KTthLm9uKFwiYmx1clwiLGZ1bmN0aW9uKCl7aC5oaWRlKCk7YS5yZW1vdmVMaXN0ZW5lcihcImNoYW5nZVwiLG0uaW5wdXQpO2YucmVtb3ZlTGlzdGVuZXIoXCJzY3JvbGxcIixnLmlucHV0KTtmLnJlbW92ZUxpc3RlbmVyKFwicmVzaXplXCIsZy5pbnB1dCl9KTthLm9uKFwiZGVzdHJveVwiLGZ1bmN0aW9uKCl7Zi5yZW1vdmVMaXN0ZW5lcihcInNjcm9sbFwiLGcuaW5wdXQpO2YucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixnLmlucHV0KTtoLmNsZWFyQ3VzdG9tRGF0YSgpO2gucmVtb3ZlKCl9KTthLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmaC5zaG93KCk7YS5mb2N1c01hbmFnZXIuYWRkKGgsXG4xKX19dmFyIGY9Q0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksYj1DS0VESVRPUi50b29scy5jc3NMZW5ndGg7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJmbG9hdGluZ3NwYWNlXCIse2luaXQ6ZnVuY3Rpb24oYil7Yi5vbihcImxvYWRlZFwiLGZ1bmN0aW9uKCl7YSh0aGlzKX0sbnVsbCxudWxsLDIwKX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImxpc3RibG9ja1wiLHtyZXF1aXJlczpcInBhbmVsXCIsb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0XCIsJ1xceDNjdWwgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBjbGFzc1xceDNkXCJja2VfcGFuZWxfbGlzdFwiXFx4M2V7aXRlbXN9XFx4M2MvdWxcXHgzZScpLGY9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWl0ZW1cIiwnXFx4M2NsaSBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX3BhbmVsX2xpc3RJdGVtXCIgcm9sZVxceDNkcHJlc2VudGF0aW9uXFx4M2VcXHgzY2EgaWRcXHgzZFwie2lkfV9vcHRpb25cIiBfY2tlX2ZvY3VzXFx4M2QxIGhpZGVmb2N1c1xceDNkdHJ1ZSB0aXRsZVxceDNkXCJ7dGl0bGV9XCIgaHJlZlxceDNkXCJqYXZhc2NyaXB0OnZvaWQoXFwne3ZhbH1cXCcpXCIgIHtvbmNsaWNrfVxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2NsaWNrRm59LFxcJ3t2YWx9XFwnKTsgcmV0dXJuIGZhbHNlO1wiIHJvbGVcXHgzZFwib3B0aW9uXCJcXHgzZXt0ZXh0fVxceDNjL2FcXHgzZVxceDNjL2xpXFx4M2UnKSxcbmI9Q0tFRElUT1IuYWRkVGVtcGxhdGUoXCJwYW5lbC1saXN0LWdyb3VwXCIsJ1xceDNjaDEgaWRcXHgzZFwie2lkfVwiIGNsYXNzXFx4M2RcImNrZV9wYW5lbF9ncm91cHRpdGxlXCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIiBcXHgzZXtsYWJlbH1cXHgzYy9oMVxceDNlJyksYz0vXFwnL2c7Q0tFRElUT1IudWkucGFuZWwucHJvdG90eXBlLmFkZExpc3RCbG9jaz1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmFkZEJsb2NrKGEsbmV3IENLRURJVE9SLnVpLmxpc3RCbG9jayh0aGlzLmdldEhvbGRlckVsZW1lbnQoKSxiKSl9O0NLRURJVE9SLnVpLmxpc3RCbG9jaz1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi51aS5wYW5lbC5ibG9jaywkOmZ1bmN0aW9uKGEsYil7Yj1ifHx7fTt2YXIgYz1iLmF0dHJpYnV0ZXN8fChiLmF0dHJpYnV0ZXM9e30pOyh0aGlzLm11bHRpU2VsZWN0PSEhYi5tdWx0aVNlbGVjdCkmJihjW1wiYXJpYS1tdWx0aXNlbGVjdGFibGVcIl09ITApOyFjLnJvbGUmJlxuKGMucm9sZT1cImxpc3Rib3hcIik7dGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwicm9sZVwiLGMucm9sZSk7Yz10aGlzLmtleXM7Y1s0MF09XCJuZXh0XCI7Y1s5XT1cIm5leHRcIjtjWzM4XT1cInByZXZcIjtjW0NLRURJVE9SLlNISUZUKzldPVwicHJldlwiO2NbMzJdPUNLRURJVE9SLmVudi5pZT9cIm1vdXNldXBcIjpcImNsaWNrXCI7Q0tFRElUT1IuZW52LmllJiYoY1sxM109XCJtb3VzZXVwXCIpO3RoaXMuXy5wZW5kaW5nSHRtbD1bXTt0aGlzLl8ucGVuZGluZ0xpc3Q9W107dGhpcy5fLml0ZW1zPXt9O3RoaXMuXy5ncm91cHM9e319LF86e2Nsb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5fLnN0YXJ0ZWQpe3ZhciBiPWEub3V0cHV0KHtpdGVtczp0aGlzLl8ucGVuZGluZ0xpc3Quam9pbihcIlwiKX0pO3RoaXMuXy5wZW5kaW5nTGlzdD1bXTt0aGlzLl8ucGVuZGluZ0h0bWwucHVzaChiKTtkZWxldGUgdGhpcy5fLnN0YXJ0ZWR9fSxnZXRDbGljazpmdW5jdGlvbigpe3RoaXMuXy5jbGlja3x8XG4odGhpcy5fLmNsaWNrPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudG9nZ2xlKGEpO2lmKHRoaXMub25DbGljayl0aGlzLm9uQ2xpY2soYSxiKX0sdGhpcykpO3JldHVybiB0aGlzLl8uY2xpY2t9fSxwcm90bzp7YWRkOmZ1bmN0aW9uKGEsYixrKXt2YXIgZD1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKTt0aGlzLl8uc3RhcnRlZHx8KHRoaXMuXy5zdGFydGVkPTEsdGhpcy5fLnNpemU9dGhpcy5fLnNpemV8fDApO3RoaXMuXy5pdGVtc1thXT1kO3ZhciBoO2g9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoYSkucmVwbGFjZShjLFwiXFxcXCdcIik7YT17aWQ6ZCx2YWw6aCxvbmNsaWNrOkNLRURJVE9SLmVudi5pZT8nb25jbGlja1xceDNkXCJyZXR1cm4gZmFsc2U7XCIgb25tb3VzZXVwJzpcIm9uY2xpY2tcIixjbGlja0ZuOnRoaXMuXy5nZXRDbGljaygpLHRpdGxlOkNLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGVBdHRyKGt8fGEpLHRleHQ6Ynx8YX07XG50aGlzLl8ucGVuZGluZ0xpc3QucHVzaChmLm91dHB1dChhKSl9LHN0YXJ0R3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmNsb3NlKCk7dmFyIGM9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dElkKCk7dGhpcy5fLmdyb3Vwc1thXT1jO3RoaXMuXy5wZW5kaW5nSHRtbC5wdXNoKGIub3V0cHV0KHtpZDpjLGxhYmVsOmF9KSl9LGNvbW1pdDpmdW5jdGlvbigpe3RoaXMuXy5jbG9zZSgpO3RoaXMuZWxlbWVudC5hcHBlbmRIdG1sKHRoaXMuXy5wZW5kaW5nSHRtbC5qb2luKFwiXCIpKTtkZWxldGUgdGhpcy5fLnNpemU7dGhpcy5fLnBlbmRpbmdIdG1sPVtdfSx0b2dnbGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5pc01hcmtlZChhKTtiP3RoaXMudW5tYXJrKGEpOnRoaXMubWFyayhhKTtyZXR1cm4hYn0saGlkZUdyb3VwOmZ1bmN0aW9uKGEpe3ZhciBiPShhPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLmdyb3Vwc1thXSkpJiZhLmdldE5leHQoKTthJiYoYS5zZXRTdHlsZShcImRpc3BsYXlcIixcblwibm9uZVwiKSxiJiZcInVsXCI9PWIuZ2V0TmFtZSgpJiZiLnNldFN0eWxlKFwiZGlzcGxheVwiLFwibm9uZVwiKSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQodGhpcy5fLml0ZW1zW2FdKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIm5vbmVcIil9LHNob3dBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl8uaXRlbXMsYj10aGlzLl8uZ3JvdXBzLGM9dGhpcy5lbGVtZW50LmdldERvY3VtZW50KCksZDtmb3IoZCBpbiBhKWMuZ2V0QnlJZChhW2RdKS5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKTtmb3IodmFyIGYgaW4gYilhPWMuZ2V0QnlJZChiW2ZdKSxkPWEuZ2V0TmV4dCgpLGEuc2V0U3R5bGUoXCJkaXNwbGF5XCIsXCJcIiksZCYmXCJ1bFwiPT1kLmdldE5hbWUoKSYmZC5zZXRTdHlsZShcImRpc3BsYXlcIixcIlwiKX0sbWFyazpmdW5jdGlvbihhKXt0aGlzLm11bHRpU2VsZWN0fHx0aGlzLnVubWFya0FsbCgpO2E9dGhpcy5fLml0ZW1zW2FdO3ZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYSk7XG5iLmFkZENsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO3RoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLmdldEJ5SWQoYStcIl9vcHRpb25cIikuc2V0QXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiLCEwKTt0aGlzLm9uTWFyayYmdGhpcy5vbk1hcmsoYil9LG1hcmtGaXJzdERpc3BsYXllZDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7dGhpcy5fLm1hcmtGaXJzdERpc3BsYXllZChmdW5jdGlvbigpe2EubXVsdGlTZWxlY3R8fGEudW5tYXJrQWxsKCl9KX0sdW5tYXJrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpO2E9dGhpcy5fLml0ZW1zW2FdO3ZhciBjPWIuZ2V0QnlJZChhKTtjLnJlbW92ZUNsYXNzKFwiY2tlX3NlbGVjdGVkXCIpO2IuZ2V0QnlJZChhK1wiX29wdGlvblwiKS5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLXNlbGVjdGVkXCIpO3RoaXMub25Vbm1hcmsmJnRoaXMub25Vbm1hcmsoYyl9LHVubWFya0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuXy5pdGVtcyxiPXRoaXMuZWxlbWVudC5nZXREb2N1bWVudCgpLFxuYztmb3IoYyBpbiBhKXt2YXIgZD1hW2NdO2IuZ2V0QnlJZChkKS5yZW1vdmVDbGFzcyhcImNrZV9zZWxlY3RlZFwiKTtiLmdldEJ5SWQoZCtcIl9vcHRpb25cIikucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1zZWxlY3RlZFwiKX10aGlzLm9uVW5tYXJrJiZ0aGlzLm9uVW5tYXJrKCl9LGlzTWFya2VkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuaGFzQ2xhc3MoXCJja2Vfc2VsZWN0ZWRcIil9LGZvY3VzOmZ1bmN0aW9uKGEpe3RoaXMuXy5mb2N1c0luZGV4PS0xO3ZhciBiPXRoaXMuZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnKFwiYVwiKSxjLGQ9LTE7aWYoYSlmb3IoYz10aGlzLmVsZW1lbnQuZ2V0RG9jdW1lbnQoKS5nZXRCeUlkKHRoaXMuXy5pdGVtc1thXSkuZ2V0Rmlyc3QoKTthPWIuZ2V0SXRlbSgrK2QpOyl7aWYoYS5lcXVhbHMoYykpe3RoaXMuXy5mb2N1c0luZGV4PWQ7YnJlYWt9fWVsc2UgdGhpcy5lbGVtZW50LmZvY3VzKCk7XG5jJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5mb2N1cygpfSwwKX19fSl9fSksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyaWNoY29tYm9cIix7cmVxdWlyZXM6XCJmbG9hdHBhbmVsLGxpc3RibG9jayxidXR0b25cIixiZWZvcmVJbml0OmZ1bmN0aW9uKGEpe2EudWkuYWRkSGFuZGxlcihDS0VESVRPUi5VSV9SSUNIQ09NQk8sQ0tFRElUT1IudWkucmljaENvbWJvLmhhbmRsZXIpfX0pLGZ1bmN0aW9uKCl7dmFyIGE9J1xceDNjc3BhbiBpZFxceDNkXCJ7aWR9XCIgY2xhc3NcXHgzZFwiY2tlX2NvbWJvIGNrZV9jb21ib19fe25hbWV9IHtjbHN9XCIgcm9sZVxceDNkXCJwcmVzZW50YXRpb25cIlxceDNlXFx4M2NzcGFuIGlkXFx4M2RcIntpZH1fbGFiZWxcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjYSBjbGFzc1xceDNkXCJja2VfY29tYm9fYnV0dG9uXCIgdGl0bGVcXHgzZFwie3RpdGxlfVwiIHRhYmluZGV4XFx4M2RcIi0xXCInKyhDS0VESVRPUi5lbnYuZ2Vja28mJiFDS0VESVRPUi5lbnYuaGM/XG5cIlwiOlwiIGhyZWZcXHgzZFxcXCJqYXZhc2NyaXB0OnZvaWQoJ3t0aXRsZUpzfScpXFxcIlwiKSsnIGhpZGVmb2N1c1xceDNkXCJ0cnVlXCIgcm9sZVxceDNkXCJidXR0b25cIiBhcmlhLWxhYmVsbGVkYnlcXHgzZFwie2lkfV9sYWJlbFwiIGFyaWEtaGFzcG9wdXBcXHgzZFwidHJ1ZVwiJztDS0VESVRPUi5lbnYuZ2Vja28mJkNLRURJVE9SLmVudi5tYWMmJihhKz0nIG9ua2V5cHJlc3NcXHgzZFwicmV0dXJuIGZhbHNlO1wiJyk7Q0tFRElUT1IuZW52LmdlY2tvJiYoYSs9JyBvbmJsdXJcXHgzZFwidGhpcy5zdHlsZS5jc3NUZXh0IFxceDNkIHRoaXMuc3R5bGUuY3NzVGV4dDtcIicpO3ZhciBhPWErKCcgb25rZXlkb3duXFx4M2RcInJldHVybiBDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oe2tleWRvd25Gbn0sZXZlbnQsdGhpcyk7XCIgb25mb2N1c1xceDNkXCJyZXR1cm4gQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtmb2N1c0ZufSxldmVudCk7XCIgJysoQ0tFRElUT1IuZW52LmllPydvbmNsaWNrXFx4M2RcInJldHVybiBmYWxzZTtcIiBvbm1vdXNldXAnOlxuXCJvbmNsaWNrXCIpKydcXHgzZFwiQ0tFRElUT1IudG9vbHMuY2FsbEZ1bmN0aW9uKHtjbGlja0ZufSx0aGlzKTtyZXR1cm4gZmFsc2U7XCJcXHgzZVxceDNjc3BhbiBpZFxceDNkXCJ7aWR9X3RleHRcIiBjbGFzc1xceDNkXCJja2VfY29tYm9fdGV4dCBja2VfY29tYm9faW5saW5lbGFiZWxcIlxceDNle2xhYmVsfVxceDNjL3NwYW5cXHgzZVxceDNjc3BhbiBjbGFzc1xceDNkXCJja2VfY29tYm9fb3BlblwiXFx4M2VcXHgzY3NwYW4gY2xhc3NcXHgzZFwiY2tlX2NvbWJvX2Fycm93XCJcXHgzZScrKENLRURJVE9SLmVudi5oYz9cIlxceDI2Izk2NjA7XCI6Q0tFRElUT1IuZW52LmFpcj9cIlxceDI2bmJzcDtcIjpcIlwiKStcIlxceDNjL3NwYW5cXHgzZVxceDNjL3NwYW5cXHgzZVxceDNjL2FcXHgzZVxceDNjL3NwYW5cXHgzZVwiKSxmPUNLRURJVE9SLmFkZFRlbXBsYXRlKFwiY29tYm9cIixhKTtDS0VESVRPUi5VSV9SSUNIQ09NQk89XCJyaWNoY29tYm9cIjtDS0VESVRPUi51aS5yaWNoQ29tYm89Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3MoeyQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKHRoaXMsXG5hLHtjYW5Hcm91cDohMSx0aXRsZTphLmxhYmVsLG1vZGVzOnt3eXNpd3lnOjF9LGVkaXRvckZvY3VzOjF9KTthPXRoaXMucGFuZWx8fHt9O2RlbGV0ZSB0aGlzLnBhbmVsO3RoaXMuaWQ9Q0tFRElUT1IudG9vbHMuZ2V0TmV4dE51bWJlcigpO3RoaXMuZG9jdW1lbnQ9YS5wYXJlbnQmJmEucGFyZW50LmdldERvY3VtZW50KCl8fENLRURJVE9SLmRvY3VtZW50O2EuY2xhc3NOYW1lPVwiY2tlX2NvbWJvcGFuZWxcIjthLmJsb2NrPXttdWx0aVNlbGVjdDphLm11bHRpU2VsZWN0LGF0dHJpYnV0ZXM6YS5hdHRyaWJ1dGVzfTthLnRvb2xiYXJSZWxhdGVkPSEwO3RoaXMuXz17cGFuZWxEZWZpbml0aW9uOmEsaXRlbXM6e319fSxwcm90bzp7cmVuZGVySHRtbDpmdW5jdGlvbihhKXt2YXIgYz1bXTt0aGlzLnJlbmRlcihhLGMpO3JldHVybiBjLmpvaW4oXCJcIil9LHJlbmRlcjpmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGUoKXtpZih0aGlzLmdldFN0YXRlKCkhPUNLRURJVE9SLlRSSVNUQVRFX09OKXt2YXIgYz1cbnRoaXMubW9kZXNbYS5tb2RlXT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQ7YS5yZWFkT25seSYmIXRoaXMucmVhZE9ubHkmJihjPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKTt0aGlzLnNldFN0YXRlKGMpO3RoaXMuc2V0VmFsdWUoXCJcIik7YyE9Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMucmVmcmVzaCYmdGhpcy5yZWZyZXNoKCl9fXZhciBsPUNLRURJVE9SLmVudixrPVwiY2tlX1wiK3RoaXMuaWQsZD1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihjKXtwJiYoYS51bmxvY2tTZWxlY3Rpb24oMSkscD0wKTttLmV4ZWN1dGUoYyl9LHRoaXMpLGg9dGhpcyxtPXtpZDprLGNvbWJvOnRoaXMsZm9jdXM6ZnVuY3Rpb24oKXtDS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKGspLmdldENoaWxkKDEpLmZvY3VzKCl9LGV4ZWN1dGU6ZnVuY3Rpb24oYyl7dmFyIGQ9aC5fO2lmKGQuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKWlmKGguY3JlYXRlUGFuZWwoYSksXG5kLm9uKWQucGFuZWwuaGlkZSgpO2Vsc2V7aC5jb21taXQoKTt2YXIgZT1oLmdldFZhbHVlKCk7ZT9kLmxpc3QubWFyayhlKTpkLmxpc3QudW5tYXJrQWxsKCk7ZC5wYW5lbC5zaG93QmxvY2soaC5pZCxuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYyksNCl9fSxjbGlja0ZuOmR9O2Eub24oXCJhY3RpdmVGaWx0ZXJDaGFuZ2VcIixlLHRoaXMpO2Eub24oXCJtb2RlXCIsZSx0aGlzKTthLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsZSx0aGlzKTshdGhpcy5yZWFkT25seSYmYS5vbihcInJlYWRPbmx5XCIsZSx0aGlzKTt2YXIgZz1DS0VESVRPUi50b29scy5hZGRGdW5jdGlvbihmdW5jdGlvbihhLGIpe2E9bmV3IENLRURJVE9SLmRvbS5ldmVudChhKTt2YXIgYz1hLmdldEtleXN0cm9rZSgpO3N3aXRjaChjKXtjYXNlIDEzOmNhc2UgMzI6Y2FzZSA0MDpDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oZCxiKTticmVhaztkZWZhdWx0Om0ub25rZXkobSxjKX1hLnByZXZlbnREZWZhdWx0KCl9KSxuPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKCl7bS5vbmZvY3VzJiZcbm0ub25mb2N1cygpfSkscD0wO20ua2V5RG93bkZuPWc7bD17aWQ6ayxuYW1lOnRoaXMubmFtZXx8dGhpcy5jb21tYW5kLGxhYmVsOnRoaXMubGFiZWwsdGl0bGU6dGhpcy50aXRsZSxjbHM6dGhpcy5jbGFzc05hbWV8fFwiXCIsdGl0bGVKczpsLmdlY2tvJiYhbC5oYz9cIlwiOih0aGlzLnRpdGxlfHxcIlwiKS5yZXBsYWNlKFwiJ1wiLFwiXCIpLGtleWRvd25GbjpnLGZvY3VzRm46bixjbGlja0ZuOmR9O2Yub3V0cHV0KGwsYyk7aWYodGhpcy5vblJlbmRlcil0aGlzLm9uUmVuZGVyKCk7cmV0dXJuIG19LGNyZWF0ZVBhbmVsOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLl8ucGFuZWwpe3ZhciBjPXRoaXMuXy5wYW5lbERlZmluaXRpb24sZT10aGlzLl8ucGFuZWxEZWZpbml0aW9uLmJsb2NrLGY9Yy5wYXJlbnR8fENLRURJVE9SLmRvY3VtZW50LmdldEJvZHkoKSxrPVwiY2tlX2NvbWJvcGFuZWxfX1wiK3RoaXMubmFtZSxkPW5ldyBDS0VESVRPUi51aS5mbG9hdFBhbmVsKGEsZixjKSxjPWQuYWRkTGlzdEJsb2NrKHRoaXMuaWQsXG5lKSxoPXRoaXM7ZC5vblNob3c9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYWRkQ2xhc3Moayk7aC5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik7aC5fLm9uPTE7aC5lZGl0b3JGb2N1cyYmIWEuZm9jdXNNYW5hZ2VyLmhhc0ZvY3VzJiZhLmZvY3VzKCk7aWYoaC5vbk9wZW4paC5vbk9wZW4oKX07ZC5vbkhpZGU9ZnVuY3Rpb24oYyl7dGhpcy5lbGVtZW50LnJlbW92ZUNsYXNzKGspO2guc2V0U3RhdGUoaC5tb2RlcyYmaC5tb2Rlc1thLm1vZGVdP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7aC5fLm9uPTA7aWYoIWMmJmgub25DbG9zZSloLm9uQ2xvc2UoKX07ZC5vbkVzY2FwZT1mdW5jdGlvbigpe2QuaGlkZSgxKX07Yy5vbkNsaWNrPWZ1bmN0aW9uKGEsYil7aC5vbkNsaWNrJiZoLm9uQ2xpY2suY2FsbChoLGEsYik7ZC5oaWRlKCl9O3RoaXMuXy5wYW5lbD1kO3RoaXMuXy5saXN0PWM7ZC5nZXRCbG9jayh0aGlzLmlkKS5vbkhpZGU9XG5mdW5jdGlvbigpe2guXy5vbj0wO2guc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKX07dGhpcy5pbml0JiZ0aGlzLmluaXQoKX19LHNldFZhbHVlOmZ1bmN0aW9uKGEsYyl7dGhpcy5fLnZhbHVlPWE7dmFyIGU9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQrXCJfdGV4dFwiKTtlJiYoYXx8Yz9lLnJlbW92ZUNsYXNzKFwiY2tlX2NvbWJvX2lubGluZWxhYmVsXCIpOihjPXRoaXMubGFiZWwsZS5hZGRDbGFzcyhcImNrZV9jb21ib19pbmxpbmVsYWJlbFwiKSksZS5zZXRUZXh0KFwidW5kZWZpbmVkXCIhPXR5cGVvZiBjP2M6YSkpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8udmFsdWV8fFwiXCJ9LHVubWFya0FsbDpmdW5jdGlvbigpe3RoaXMuXy5saXN0LnVubWFya0FsbCgpfSxtYXJrOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0Lm1hcmsoYSl9LGhpZGVJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuXy5saXN0LmhpZGVJdGVtKGEpfSxoaWRlR3JvdXA6ZnVuY3Rpb24oYSl7dGhpcy5fLmxpc3QuaGlkZUdyb3VwKGEpfSxcbnNob3dBbGw6ZnVuY3Rpb24oKXt0aGlzLl8ubGlzdC5zaG93QWxsKCl9LGFkZDpmdW5jdGlvbihhLGMsZSl7dGhpcy5fLml0ZW1zW2FdPWV8fGE7dGhpcy5fLmxpc3QuYWRkKGEsYyxlKX0sc3RhcnRHcm91cDpmdW5jdGlvbihhKXt0aGlzLl8ubGlzdC5zdGFydEdyb3VwKGEpfSxjb21taXQ6ZnVuY3Rpb24oKXt0aGlzLl8uY29tbWl0dGVkfHwodGhpcy5fLmxpc3QuY29tbWl0KCksdGhpcy5fLmNvbW1pdHRlZD0xLENLRURJVE9SLnVpLmZpcmUoXCJyZWFkeVwiLHRoaXMpKTt0aGlzLl8uY29tbWl0dGVkPTF9LHNldFN0YXRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuXy5zdGF0ZSE9YSl7dmFyIGM9dGhpcy5kb2N1bWVudC5nZXRCeUlkKFwiY2tlX1wiK3RoaXMuaWQpO2Muc2V0U3RhdGUoYSxcImNrZV9jb21ib1wiKTthPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9jLnNldEF0dHJpYnV0ZShcImFyaWEtZGlzYWJsZWRcIiwhMCk6Yy5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWRpc2FibGVkXCIpO3RoaXMuXy5zdGF0ZT1cbmF9fSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl8uc3RhdGV9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuXy5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQmJnRoaXMuc2V0U3RhdGUodGhpcy5fLmxhc3RTdGF0ZSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl8uc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYodGhpcy5fLmxhc3RTdGF0ZT10aGlzLl8uc3RhdGUsdGhpcy5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCkpfX0sc3RhdGljczp7aGFuZGxlcjp7Y3JlYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgQ0tFRElUT1IudWkucmljaENvbWJvKGEpfX19fSk7Q0tFRElUT1IudWkucHJvdG90eXBlLmFkZFJpY2hDb21ibz1mdW5jdGlvbihhLGMpe3RoaXMuYWRkKGEsQ0tFRElUT1IuVUlfUklDSENPTUJPLGMpfX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImZvcm1hdFwiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7aWYoIWEuYmxvY2tsZXNzKXtmb3IodmFyIGY9XG5hLmNvbmZpZyxiPWEubGFuZy5mb3JtYXQsYz1mLmZvcm1hdF90YWdzLnNwbGl0KFwiO1wiKSxlPXt9LGw9MCxrPVtdLGQ9MDtkPGMubGVuZ3RoO2QrKyl7dmFyIGg9Y1tkXSxtPW5ldyBDS0VESVRPUi5zdHlsZShmW1wiZm9ybWF0X1wiK2hdKTtpZighYS5maWx0ZXIuY3VzdG9tQ29uZmlnfHxhLmZpbHRlci5jaGVjayhtKSlsKyssZVtoXT1tLGVbaF0uXy5lbnRlck1vZGU9YS5jb25maWcuZW50ZXJNb2RlLGsucHVzaChtKX0wIT09bCYmYS51aS5hZGRSaWNoQ29tYm8oXCJGb3JtYXRcIix7bGFiZWw6Yi5sYWJlbCx0aXRsZTpiLnBhbmVsVGl0bGUsdG9vbGJhcjpcInN0eWxlcywyMFwiLGFsbG93ZWRDb250ZW50OmsscGFuZWw6e2NzczpbQ0tFRElUT1Iuc2tpbi5nZXRQYXRoKFwiZWRpdG9yXCIpXS5jb25jYXQoZi5jb250ZW50c0NzcyksbXVsdGlTZWxlY3Q6ITEsYXR0cmlidXRlczp7XCJhcmlhLWxhYmVsXCI6Yi5wYW5lbFRpdGxlfX0saW5pdDpmdW5jdGlvbigpe3RoaXMuc3RhcnRHcm91cChiLnBhbmVsVGl0bGUpO1xuZm9yKHZhciBhIGluIGUpe3ZhciBjPWJbXCJ0YWdfXCIrYV07dGhpcy5hZGQoYSxlW2FdLmJ1aWxkUHJldmlldyhjKSxjKX19LG9uQ2xpY2s6ZnVuY3Rpb24oYil7YS5mb2N1cygpO2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiPWVbYl07dmFyIGM9YS5lbGVtZW50UGF0aCgpO2FbYi5jaGVja0FjdGl2ZShjLGEpP1wicmVtb3ZlU3R5bGVcIjpcImFwcGx5U3R5bGVcIl0oYik7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0sMCl9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7YS5vbihcInNlbGVjdGlvbkNoYW5nZVwiLGZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZ2V0VmFsdWUoKTtiPWIuZGF0YS5wYXRoO3RoaXMucmVmcmVzaCgpO2Zvcih2YXIgZCBpbiBlKWlmKGVbZF0uY2hlY2tBY3RpdmUoYixhKSl7ZCE9YyYmdGhpcy5zZXRWYWx1ZShkLGEubGFuZy5mb3JtYXRbXCJ0YWdfXCIrZF0pO3JldHVybn10aGlzLnNldFZhbHVlKFwiXCIpfSx0aGlzKX0sb25PcGVuOmZ1bmN0aW9uKCl7dGhpcy5zaG93QWxsKCk7XG5mb3IodmFyIGIgaW4gZSlhLmFjdGl2ZUZpbHRlci5jaGVjayhlW2JdKXx8dGhpcy5oaWRlSXRlbShiKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPWEuZWxlbWVudFBhdGgoKTtpZihiKXtpZihiLmlzQ29udGV4dEZvcihcInBcIikpZm9yKHZhciBjIGluIGUpaWYoYS5hY3RpdmVGaWx0ZXIuY2hlY2soZVtjXSkpcmV0dXJuO3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX19KX19fSksQ0tFRElUT1IuY29uZmlnLmZvcm1hdF90YWdzPVwicDtoMTtoMjtoMztoNDtoNTtoNjtwcmU7YWRkcmVzcztkaXZcIixDS0VESVRPUi5jb25maWcuZm9ybWF0X3A9e2VsZW1lbnQ6XCJwXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfZGl2PXtlbGVtZW50OlwiZGl2XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfcHJlPXtlbGVtZW50OlwicHJlXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfYWRkcmVzcz17ZWxlbWVudDpcImFkZHJlc3NcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMT1cbntlbGVtZW50OlwiaDFcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oMj17ZWxlbWVudDpcImgyXCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDM9e2VsZW1lbnQ6XCJoM1wifSxDS0VESVRPUi5jb25maWcuZm9ybWF0X2g0PXtlbGVtZW50OlwiaDRcIn0sQ0tFRElUT1IuY29uZmlnLmZvcm1hdF9oNT17ZWxlbWVudDpcImg1XCJ9LENLRURJVE9SLmNvbmZpZy5mb3JtYXRfaDY9e2VsZW1lbnQ6XCJoNlwifSxmdW5jdGlvbigpe3ZhciBhPXtjYW5VbmRvOiExLGV4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaHJcIik7YS5pbnNlcnRFbGVtZW50KGIpfSxhbGxvd2VkQ29udGVudDpcImhyXCIscmVxdWlyZWRDb250ZW50OlwiaHJcIn07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJob3Jpem9udGFscnVsZVwiLHtpbml0OmZ1bmN0aW9uKGYpe2YuYmxvY2tsZXNzfHwoZi5hZGRDb21tYW5kKFwiaG9yaXpvbnRhbHJ1bGVcIixhKSxmLnVpLmFkZEJ1dHRvbiYmZi51aS5hZGRCdXR0b24oXCJIb3Jpem9udGFsUnVsZVwiLFxue2xhYmVsOmYubGFuZy5ob3Jpem9udGFscnVsZS50b29sYmFyLGNvbW1hbmQ6XCJob3Jpem9udGFscnVsZVwiLHRvb2xiYXI6XCJpbnNlcnQsNDBcIn0pKX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcImh0bWx3cml0ZXJcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgZj1uZXcgQ0tFRElUT1IuaHRtbFdyaXRlcjtmLmZvcmNlU2ltcGxlQW1wZXJzYW5kPWEuY29uZmlnLmZvcmNlU2ltcGxlQW1wZXJzYW5kO2YuaW5kZW50YXRpb25DaGFycz1hLmNvbmZpZy5kYXRhSW5kZW50YXRpb25DaGFyc3x8XCJcXHRcIjthLmRhdGFQcm9jZXNzb3Iud3JpdGVyPWZ9fSksQ0tFRElUT1IuaHRtbFdyaXRlcj1DS0VESVRPUi50b29scy5jcmVhdGVDbGFzcyh7YmFzZTpDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyLCQ6ZnVuY3Rpb24oKXt0aGlzLmJhc2UoKTt0aGlzLmluZGVudGF0aW9uQ2hhcnM9XCJcXHRcIjt0aGlzLnNlbGZDbG9zaW5nRW5kPVwiIC9cXHgzZVwiO3RoaXMubGluZUJyZWFrQ2hhcnM9XCJcXG5cIjt0aGlzLnNvcnRBdHRyaWJ1dGVzPVxuMTt0aGlzLl8uaW5kZW50PTA7dGhpcy5fLmluZGVudGF0aW9uPVwiXCI7dGhpcy5fLmluUHJlPTA7dGhpcy5fLnJ1bGVzPXt9O3ZhciBhPUNLRURJVE9SLmR0ZCxmO2ZvcihmIGluIENLRURJVE9SLnRvb2xzLmV4dGVuZCh7fSxhLiRub25Cb2R5Q29udGVudCxhLiRibG9jayxhLiRsaXN0SXRlbSxhLiR0YWJsZUNvbnRlbnQpKXRoaXMuc2V0UnVsZXMoZix7aW5kZW50OiFhW2ZdW1wiI1wiXSxicmVha0JlZm9yZU9wZW46MSxicmVha0JlZm9yZUNsb3NlOiFhW2ZdW1wiI1wiXSxicmVha0FmdGVyQ2xvc2U6MSxuZWVkc1NwYWNlOmYgaW4gYS4kYmxvY2smJiEoZiBpbntsaToxLGR0OjEsZGQ6MX0pfSk7dGhpcy5zZXRSdWxlcyhcImJyXCIse2JyZWFrQWZ0ZXJPcGVuOjF9KTt0aGlzLnNldFJ1bGVzKFwidGl0bGVcIix7aW5kZW50OjAsYnJlYWtBZnRlck9wZW46MH0pO3RoaXMuc2V0UnVsZXMoXCJzdHlsZVwiLHtpbmRlbnQ6MCxicmVha0JlZm9yZUNsb3NlOjF9KTt0aGlzLnNldFJ1bGVzKFwicHJlXCIse2JyZWFrQWZ0ZXJPcGVuOjEsXG5pbmRlbnQ6MH0pfSxwcm90bzp7b3BlblRhZzpmdW5jdGlvbihhKXt2YXIgZj10aGlzLl8ucnVsZXNbYV07dGhpcy5fLmFmdGVyQ2xvc2VyJiZmJiZmLm5lZWRzU3BhY2UmJnRoaXMuXy5uZWVkc1NwYWNlJiZ0aGlzLl8ub3V0cHV0LnB1c2goXCJcXG5cIik7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6ZiYmZi5icmVha0JlZm9yZU9wZW4mJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuaW5kZW50YXRpb24oKSk7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2NcIixhKTt0aGlzLl8uYWZ0ZXJDbG9zZXI9MH0sb3BlblRhZ0Nsb3NlOmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy5fLnJ1bGVzW2FdO2Y/KHRoaXMuXy5vdXRwdXQucHVzaCh0aGlzLnNlbGZDbG9zaW5nRW5kKSxiJiZiLmJyZWFrQWZ0ZXJDbG9zZSYmKHRoaXMuXy5uZWVkc1NwYWNlPWIubmVlZHNTcGFjZSkpOih0aGlzLl8ub3V0cHV0LnB1c2goXCJcXHgzZVwiKSxiJiZiLmluZGVudCYmKHRoaXMuXy5pbmRlbnRhdGlvbis9dGhpcy5pbmRlbnRhdGlvbkNoYXJzKSk7XG5iJiZiLmJyZWFrQWZ0ZXJPcGVuJiZ0aGlzLmxpbmVCcmVhaygpO1wicHJlXCI9PWEmJih0aGlzLl8uaW5QcmU9MSl9LGF0dHJpYnV0ZTpmdW5jdGlvbihhLGYpe1wic3RyaW5nXCI9PXR5cGVvZiBmJiYodGhpcy5mb3JjZVNpbXBsZUFtcGVyc2FuZCYmKGY9Zi5yZXBsYWNlKC8mYW1wOy9nLFwiXFx4MjZcIikpLGY9Q0tFRElUT1IudG9vbHMuaHRtbEVuY29kZUF0dHIoZikpO3RoaXMuXy5vdXRwdXQucHVzaChcIiBcIixhLCdcXHgzZFwiJyxmLCdcIicpfSxjbG9zZVRhZzpmdW5jdGlvbihhKXt2YXIgZj10aGlzLl8ucnVsZXNbYV07ZiYmZi5pbmRlbnQmJih0aGlzLl8uaW5kZW50YXRpb249dGhpcy5fLmluZGVudGF0aW9uLnN1YnN0cih0aGlzLmluZGVudGF0aW9uQ2hhcnMubGVuZ3RoKSk7dGhpcy5fLmluZGVudD90aGlzLmluZGVudGF0aW9uKCk6ZiYmZi5icmVha0JlZm9yZUNsb3NlJiYodGhpcy5saW5lQnJlYWsoKSx0aGlzLmluZGVudGF0aW9uKCkpO3RoaXMuXy5vdXRwdXQucHVzaChcIlxceDNjL1wiLGEsXG5cIlxceDNlXCIpO1wicHJlXCI9PWEmJih0aGlzLl8uaW5QcmU9MCk7ZiYmZi5icmVha0FmdGVyQ2xvc2UmJih0aGlzLmxpbmVCcmVhaygpLHRoaXMuXy5uZWVkc1NwYWNlPWYubmVlZHNTcGFjZSk7dGhpcy5fLmFmdGVyQ2xvc2VyPTF9LHRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5fLmluZGVudCYmKHRoaXMuaW5kZW50YXRpb24oKSwhdGhpcy5fLmluUHJlJiYoYT1DS0VESVRPUi50b29scy5sdHJpbShhKSkpO3RoaXMuXy5vdXRwdXQucHVzaChhKX0sY29tbWVudDpmdW5jdGlvbihhKXt0aGlzLl8uaW5kZW50JiZ0aGlzLmluZGVudGF0aW9uKCk7dGhpcy5fLm91dHB1dC5wdXNoKFwiXFx4M2MhLS1cIixhLFwiLS1cXHgzZVwiKX0sbGluZUJyZWFrOmZ1bmN0aW9uKCl7IXRoaXMuXy5pblByZSYmMDx0aGlzLl8ub3V0cHV0Lmxlbmd0aCYmdGhpcy5fLm91dHB1dC5wdXNoKHRoaXMubGluZUJyZWFrQ2hhcnMpO3RoaXMuXy5pbmRlbnQ9MX0saW5kZW50YXRpb246ZnVuY3Rpb24oKXshdGhpcy5fLmluUHJlJiZ0aGlzLl8uaW5kZW50YXRpb24mJlxudGhpcy5fLm91dHB1dC5wdXNoKHRoaXMuXy5pbmRlbnRhdGlvbik7dGhpcy5fLmluZGVudD0wfSxyZXNldDpmdW5jdGlvbigpe3RoaXMuXy5vdXRwdXQ9W107dGhpcy5fLmluZGVudD0wO3RoaXMuXy5pbmRlbnRhdGlvbj1cIlwiO3RoaXMuXy5hZnRlckNsb3Nlcj0wO3RoaXMuXy5pblByZT0wO3RoaXMuXy5uZWVkc1NwYWNlPTB9LHNldFJ1bGVzOmZ1bmN0aW9uKGEsZil7dmFyIGI9dGhpcy5fLnJ1bGVzW2FdO2I/Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGIsZiwhMCk6dGhpcy5fLnJ1bGVzW2FdPWZ9fX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGMpe2N8fChjPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCkpO2lmKGMmJmMuaXMoXCJpbWdcIikmJiFjLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIikmJiFjLmlzUmVhZE9ubHkoKSlyZXR1cm4gY31mdW5jdGlvbiBmKGEpe3ZhciBjPWEuZ2V0U3R5bGUoXCJmbG9hdFwiKTtpZihcImluaGVyaXRcIj09Y3x8XCJub25lXCI9PWMpYz0wO2N8fFxuKGM9YS5nZXRBdHRyaWJ1dGUoXCJhbGlnblwiKSk7cmV0dXJuIGN9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJpbWFnZVwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYil7aWYoIWIucGx1Z2lucy5pbWFnZTIpe0NLRURJVE9SLmRpYWxvZy5hZGQoXCJpbWFnZVwiLHRoaXMucGF0aCtcImRpYWxvZ3MvaW1hZ2UuanNcIik7dmFyIGM9XCJpbWdbYWx0LCFzcmNde2JvcmRlci1zdHlsZSxib3JkZXItd2lkdGgsZmxvYXQsaGVpZ2h0LG1hcmdpbixtYXJnaW4tYm90dG9tLG1hcmdpbi1sZWZ0LG1hcmdpbi1yaWdodCxtYXJnaW4tdG9wLHdpZHRofVwiO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYixcImltYWdlXCIsXCJhZHZhbmNlZFwiKSYmKGM9XCJpbWdbYWx0LGRpcixpZCxsYW5nLGxvbmdkZXNjLCFzcmMsdGl0bGVdeyp9KCopXCIpO2IuYWRkQ29tbWFuZChcImltYWdlXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJpbWFnZVwiLHthbGxvd2VkQ29udGVudDpjLHJlcXVpcmVkQ29udGVudDpcImltZ1thbHQsc3JjXVwiLFxuY29udGVudFRyYW5zZm9ybWF0aW9uczpbW1wiaW1ne3dpZHRofTogc2l6ZVRvU3R5bGVcIixcImltZ1t3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXSxbXCJpbWd7ZmxvYXR9OiBhbGlnbm1lbnRUb1N0eWxlXCIsXCJpbWdbYWxpZ25dOiBhbGlnbm1lbnRUb0F0dHJpYnV0ZVwiXV19KSk7Yi51aS5hZGRCdXR0b24mJmIudWkuYWRkQnV0dG9uKFwiSW1hZ2VcIix7bGFiZWw6Yi5sYW5nLmNvbW1vbi5pbWFnZSxjb21tYW5kOlwiaW1hZ2VcIix0b29sYmFyOlwiaW5zZXJ0LDEwXCJ9KTtiLm9uKFwiZG91YmxlY2xpY2tcIixmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGEuZWxlbWVudDshYi5pcyhcImltZ1wiKXx8Yi5kYXRhKFwiY2tlLXJlYWxlbGVtZW50XCIpfHxiLmlzUmVhZE9ubHkoKXx8KGEuZGF0YS5kaWFsb2c9XCJpbWFnZVwiKX0pO2IuYWRkTWVudUl0ZW1zJiZiLmFkZE1lbnVJdGVtcyh7aW1hZ2U6e2xhYmVsOmIubGFuZy5pbWFnZS5tZW51LGNvbW1hbmQ6XCJpbWFnZVwiLGdyb3VwOlwiaW1hZ2VcIn19KTtiLmNvbnRleHRNZW51JiZcbmIuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYyl7aWYoYShiLGMpKXJldHVybntpbWFnZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fSl9fSxhZnRlckluaXQ6ZnVuY3Rpb24oYil7ZnVuY3Rpb24gYyhjKXt2YXIgbD1iLmdldENvbW1hbmQoXCJqdXN0aWZ5XCIrYyk7aWYobCl7aWYoXCJsZWZ0XCI9PWN8fFwicmlnaHRcIj09YylsLm9uKFwiZXhlY1wiLGZ1bmN0aW9uKGspe3ZhciBkPWEoYiksaDtkJiYoaD1mKGQpLGg9PWM/KGQucmVtb3ZlU3R5bGUoXCJmbG9hdFwiKSxjPT1mKGQpJiZkLnJlbW92ZUF0dHJpYnV0ZShcImFsaWduXCIpKTpkLnNldFN0eWxlKFwiZmxvYXRcIixjKSxrLmNhbmNlbCgpKX0pO2wub24oXCJyZWZyZXNoXCIsZnVuY3Rpb24oayl7dmFyIGQ9YShiKTtkJiYoZD1mKGQpLHRoaXMuc2V0U3RhdGUoZD09Yz9DS0VESVRPUi5UUklTVEFURV9PTjpcInJpZ2h0XCI9PWN8fFwibGVmdFwiPT1jP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCksay5jYW5jZWwoKSl9KX19XG5iLnBsdWdpbnMuaW1hZ2UyfHwoYyhcImxlZnRcIiksYyhcInJpZ2h0XCIpLGMoXCJjZW50ZXJcIiksYyhcImJsb2NrXCIpKX19KX0oKSxDS0VESVRPUi5jb25maWcuaW1hZ2VfcmVtb3ZlTGlua0J5RW1wdHlVUkw9ITAsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dmFyIGQ9Yy5leGVjKGEpLGU9Yy5leGVjKGIpO2lmKGQpe2lmKCFkWzJdJiZcInB4XCI9PWVbMl0pcmV0dXJuIGVbMV07aWYoXCJweFwiPT1kWzJdJiYhZVsyXSlyZXR1cm4gZVsxXStcInB4XCJ9cmV0dXJuIGJ9dmFyIGY9Q0tFRElUT1IuaHRtbFBhcnNlci5jc3NTdHlsZSxiPUNLRURJVE9SLnRvb2xzLmNzc0xlbmd0aCxjPS9eKCg/OlxcZCooPzpcXC5cXGQrKSl8KD86XFxkKykpKC4qKT8kL2ksZT17ZWxlbWVudHM6eyQ6ZnVuY3Rpb24oYil7dmFyIGM9Yi5hdHRyaWJ1dGVzO2lmKChjPShjPShjPWMmJmNbXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiXSkmJm5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmZyYWdtZW50LmZyb21IdG1sKGRlY29kZVVSSUNvbXBvbmVudChjKSkpJiZcbmMuY2hpbGRyZW5bMF0pJiZiLmF0dHJpYnV0ZXNbXCJkYXRhLWNrZS1yZXNpemFibGVcIl0pe3ZhciBkPShuZXcgZihiKSkucnVsZXM7Yj1jLmF0dHJpYnV0ZXM7dmFyIGU9ZC53aWR0aCxkPWQuaGVpZ2h0O2UmJihiLndpZHRoPWEoYi53aWR0aCxlKSk7ZCYmKGIuaGVpZ2h0PWEoYi5oZWlnaHQsZCkpfXJldHVybiBjfX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwiZmFrZW9iamVjdHNcIix7aW5pdDpmdW5jdGlvbihhKXthLmZpbHRlci5hbGxvdyhcImltZ1shZGF0YS1ja2UtcmVhbGVsZW1lbnQsc3JjLGFsdCx0aXRsZV0oKil7Kn1cIixcImZha2VvYmplY3RzXCIpfSxhZnRlckluaXQ6ZnVuY3Rpb24oYSl7KGE9KGE9YS5kYXRhUHJvY2Vzc29yKSYmYS5odG1sRmlsdGVyKSYmYS5hZGRSdWxlcyhlLHthcHBseVRvQWxsOiEwfSl9fSk7Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5jcmVhdGVGYWtlRWxlbWVudD1mdW5jdGlvbihhLGMsZCxlKXt2YXIgbT10aGlzLmxhbmcuZmFrZW9iamVjdHMsbT1tW2RdfHxcbm0udW5rbm93bjtjPXtcImNsYXNzXCI6YyxcImRhdGEtY2tlLXJlYWxlbGVtZW50XCI6ZW5jb2RlVVJJQ29tcG9uZW50KGEuZ2V0T3V0ZXJIdG1sKCkpLFwiZGF0YS1ja2UtcmVhbC1ub2RlLXR5cGVcIjphLnR5cGUsYWx0Om0sdGl0bGU6bSxhbGlnbjphLmdldEF0dHJpYnV0ZShcImFsaWduXCIpfHxcIlwifTtDS0VESVRPUi5lbnYuaGN8fChjLnNyYz1DS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSk7ZCYmKGNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1kKTtlJiYoY1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1lLGQ9bmV3IGYsZT1hLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGE9YS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksZSYmKGQucnVsZXMud2lkdGg9YihlKSksYSYmKGQucnVsZXMuaGVpZ2h0PWIoYSkpLGQucG9wdWxhdGUoYykpO3JldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIix7YXR0cmlidXRlczpjfSl9O0NLRURJVE9SLmVkaXRvci5wcm90b3R5cGUuY3JlYXRlRmFrZVBhcnNlckVsZW1lbnQ9XG5mdW5jdGlvbihhLGMsZCxlKXt2YXIgbT10aGlzLmxhbmcuZmFrZW9iamVjdHMsbT1tW2RdfHxtLnVua25vd24sZztnPW5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmJhc2ljV3JpdGVyO2Eud3JpdGVIdG1sKGcpO2c9Zy5nZXRIdG1sKCk7Yz17XCJjbGFzc1wiOmMsXCJkYXRhLWNrZS1yZWFsZWxlbWVudFwiOmVuY29kZVVSSUNvbXBvbmVudChnKSxcImRhdGEtY2tlLXJlYWwtbm9kZS10eXBlXCI6YS50eXBlLGFsdDptLHRpdGxlOm0sYWxpZ246YS5hdHRyaWJ1dGVzLmFsaWdufHxcIlwifTtDS0VESVRPUi5lbnYuaGN8fChjLnNyYz1DS0VESVRPUi50b29scy50cmFuc3BhcmVudEltYWdlRGF0YSk7ZCYmKGNbXCJkYXRhLWNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiXT1kKTtlJiYoY1tcImRhdGEtY2tlLXJlc2l6YWJsZVwiXT1lLGU9YS5hdHRyaWJ1dGVzLGE9bmV3IGYsZD1lLndpZHRoLGU9ZS5oZWlnaHQsdm9pZCAwIT09ZCYmKGEucnVsZXMud2lkdGg9YihkKSksdm9pZCAwIT09ZSYmKGEucnVsZXMuaGVpZ2h0PVxuYihlKSksYS5wb3B1bGF0ZShjKSk7cmV0dXJuIG5ldyBDS0VESVRPUi5odG1sUGFyc2VyLmVsZW1lbnQoXCJpbWdcIixjKX07Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5yZXN0b3JlUmVhbEVsZW1lbnQ9ZnVuY3Rpb24oYil7aWYoYi5kYXRhKFwiY2tlLXJlYWwtbm9kZS10eXBlXCIpIT1DS0VESVRPUi5OT0RFX0VMRU1FTlQpcmV0dXJuIG51bGw7dmFyIGM9Q0tFRElUT1IuZG9tLmVsZW1lbnQuY3JlYXRlRnJvbUh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGIuZGF0YShcImNrZS1yZWFsZWxlbWVudFwiKSksdGhpcy5kb2N1bWVudCk7aWYoYi5kYXRhKFwiY2tlLXJlc2l6YWJsZVwiKSl7dmFyIGQ9Yi5nZXRTdHlsZShcIndpZHRoXCIpO2I9Yi5nZXRTdHlsZShcImhlaWdodFwiKTtkJiZjLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsYShjLmdldEF0dHJpYnV0ZShcIndpZHRoXCIpLGQpKTtiJiZjLnNldEF0dHJpYnV0ZShcImhlaWdodFwiLGEoYy5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiksYikpfXJldHVybiBjfX0oKSxcblwidXNlIHN0cmljdFwiLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm4gYS5yZXBsYWNlKC8nL2csXCJcXFxcJFxceDI2XCIpfWZ1bmN0aW9uIGYoYSl7Zm9yKHZhciBiLGM9YS5sZW5ndGgsZD1bXSxlPTA7ZTxjO2UrKyliPWEuY2hhckNvZGVBdChlKSxkLnB1c2goYik7cmV0dXJuXCJTdHJpbmcuZnJvbUNoYXJDb2RlKFwiK2Quam9pbihcIixcIikrXCIpXCJ9ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWIucGx1Z2lucy5saW5rLGU9ZC5jb21waWxlZFByb3RlY3Rpb25GdW5jdGlvbi5wYXJhbXMsZixnO2c9W2QuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb24ubmFtZSxcIihcIl07Zm9yKHZhciBoPTA7aDxlLmxlbmd0aDtoKyspZD1lW2hdLnRvTG93ZXJDYXNlKCksZj1jW2RdLDA8aCYmZy5wdXNoKFwiLFwiKSxnLnB1c2goXCInXCIsZj9hKGVuY29kZVVSSUNvbXBvbmVudChjW2RdKSk6XCJcIixcIidcIik7Zy5wdXNoKFwiKVwiKTtyZXR1cm4gZy5qb2luKFwiXCIpfWZ1bmN0aW9uIGMoYSl7YT1hLmNvbmZpZy5lbWFpbFByb3RlY3Rpb258fFxuXCJcIjt2YXIgYjthJiZcImVuY29kZVwiIT1hJiYoYj17fSxhLnJlcGxhY2UoL14oW14oXSspXFwoKFteKV0rKVxcKSQvLGZ1bmN0aW9uKGEsYyxkKXtiLm5hbWU9YztiLnBhcmFtcz1bXTtkLnJlcGxhY2UoL1teLFxcc10rL2csZnVuY3Rpb24oYSl7Yi5wYXJhbXMucHVzaChhKX0pfSkpO3JldHVybiBifUNLRURJVE9SLnBsdWdpbnMuYWRkKFwibGlua1wiLHtyZXF1aXJlczpcImRpYWxvZyxmYWtlb2JqZWN0c1wiLG9uTG9hZDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7cmV0dXJuIGMucmVwbGFjZSgvJTEvZyxcInJ0bFwiPT1iP1wicmlnaHRcIjpcImxlZnRcIikucmVwbGFjZSgvJTIvZyxcImNrZV9jb250ZW50c19cIitiKX12YXIgYj1cImJhY2tncm91bmQ6dXJsKFwiK0NLRURJVE9SLmdldFVybCh0aGlzLnBhdGgrXCJpbWFnZXNcIisoQ0tFRElUT1IuZW52LmhpZHBpP1wiL2hpZHBpXCI6XCJcIikrXCIvYW5jaG9yLnBuZ1wiKStcIikgbm8tcmVwZWF0ICUxIGNlbnRlcjtib3JkZXI6MXB4IGRvdHRlZCAjMDBmO2JhY2tncm91bmQtc2l6ZToxNnB4O1wiLFxuYz1cIi4lMiBhLmNrZV9hbmNob3IsLiUyIGEuY2tlX2FuY2hvcl9lbXB0eSwuY2tlX2VkaXRhYmxlLiUyIGFbbmFtZV0sLmNrZV9lZGl0YWJsZS4lMiBhW2RhdGEtY2tlLXNhdmVkLW5hbWVde1wiK2IrXCJwYWRkaW5nLSUxOjE4cHg7Y3Vyc29yOmF1dG87fS4lMiBpbWcuY2tlX2FuY2hvcntcIitiK1wid2lkdGg6MTZweDttaW4taGVpZ2h0OjE1cHg7aGVpZ2h0OjEuMTVlbTt2ZXJ0aWNhbC1hbGlnbjp0ZXh0LWJvdHRvbTt9XCI7Q0tFRElUT1IuYWRkQ3NzKGEoXCJsdHJcIikrYShcInJ0bFwiKSl9LGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9XCJhWyFocmVmXVwiO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYSxcImxpbmtcIixcImFkdmFuY2VkXCIpJiYoYj1iLnJlcGxhY2UoXCJdXCIsXCIsYWNjZXNza2V5LGNoYXJzZXQsZGlyLGlkLGxhbmcsbmFtZSxyZWwsdGFiaW5kZXgsdGl0bGUsdHlwZSxkb3dubG9hZF17Kn0oKilcIikpO0NLRURJVE9SLmRpYWxvZy5pc1RhYkVuYWJsZWQoYSxcImxpbmtcIixcInRhcmdldFwiKSYmXG4oYj1iLnJlcGxhY2UoXCJdXCIsXCIsdGFyZ2V0LG9uY2xpY2tdXCIpKTthLmFkZENvbW1hbmQoXCJsaW5rXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJsaW5rXCIse2FsbG93ZWRDb250ZW50OmIscmVxdWlyZWRDb250ZW50OlwiYVtocmVmXVwifSkpO2EuYWRkQ29tbWFuZChcImFuY2hvclwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiYW5jaG9yXCIse2FsbG93ZWRDb250ZW50OlwiYVshbmFtZSxpZF1cIixyZXF1aXJlZENvbnRlbnQ6XCJhW25hbWVdXCJ9KSk7YS5hZGRDb21tYW5kKFwidW5saW5rXCIsbmV3IENLRURJVE9SLnVubGlua0NvbW1hbmQpO2EuYWRkQ29tbWFuZChcInJlbW92ZUFuY2hvclwiLG5ldyBDS0VESVRPUi5yZW1vdmVBbmNob3JDb21tYW5kKTthLnNldEtleXN0cm9rZShDS0VESVRPUi5DVFJMKzc2LFwibGlua1wiKTthLnVpLmFkZEJ1dHRvbiYmKGEudWkuYWRkQnV0dG9uKFwiTGlua1wiLHtsYWJlbDphLmxhbmcubGluay50b29sYmFyLGNvbW1hbmQ6XCJsaW5rXCIsdG9vbGJhcjpcImxpbmtzLDEwXCJ9KSxcbmEudWkuYWRkQnV0dG9uKFwiVW5saW5rXCIse2xhYmVsOmEubGFuZy5saW5rLnVubGluayxjb21tYW5kOlwidW5saW5rXCIsdG9vbGJhcjpcImxpbmtzLDIwXCJ9KSxhLnVpLmFkZEJ1dHRvbihcIkFuY2hvclwiLHtsYWJlbDphLmxhbmcubGluay5hbmNob3IudG9vbGJhcixjb21tYW5kOlwiYW5jaG9yXCIsdG9vbGJhcjpcImxpbmtzLDMwXCJ9KSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcImxpbmtcIix0aGlzLnBhdGgrXCJkaWFsb2dzL2xpbmsuanNcIik7Q0tFRElUT1IuZGlhbG9nLmFkZChcImFuY2hvclwiLHRoaXMucGF0aCtcImRpYWxvZ3MvYW5jaG9yLmpzXCIpO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGIpe3ZhciBjPUNLRURJVE9SLnBsdWdpbnMubGluay5nZXRTZWxlY3RlZExpbmsoYSl8fGIuZGF0YS5lbGVtZW50LmdldEFzY2VuZGFudChcImFcIiwxKTtjJiYhYy5pc1JlYWRPbmx5KCkmJihjLmlzKFwiYVwiKT8oYi5kYXRhLmRpYWxvZz0hYy5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpfHxjLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJlxuYy5nZXRDaGlsZENvdW50KCk/XCJsaW5rXCI6XCJhbmNob3JcIixiLmRhdGEubGluaz1jKTpDS0VESVRPUi5wbHVnaW5zLmxpbmsudHJ5UmVzdG9yZUZha2VBbmNob3IoYSxjKSYmKGIuZGF0YS5kaWFsb2c9XCJhbmNob3JcIikpfSxudWxsLG51bGwsMCk7YS5vbihcImRvdWJsZWNsaWNrXCIsZnVuY3Rpb24oYil7Yi5kYXRhLmRpYWxvZyBpbntsaW5rOjEsYW5jaG9yOjF9JiZiLmRhdGEubGluayYmYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RFbGVtZW50KGIuZGF0YS5saW5rKX0sbnVsbCxudWxsLDIwKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe2FuY2hvcjp7bGFiZWw6YS5sYW5nLmxpbmsuYW5jaG9yLm1lbnUsY29tbWFuZDpcImFuY2hvclwiLGdyb3VwOlwiYW5jaG9yXCIsb3JkZXI6MX0scmVtb3ZlQW5jaG9yOntsYWJlbDphLmxhbmcubGluay5hbmNob3IucmVtb3ZlLGNvbW1hbmQ6XCJyZW1vdmVBbmNob3JcIixncm91cDpcImFuY2hvclwiLG9yZGVyOjV9LGxpbms6e2xhYmVsOmEubGFuZy5saW5rLm1lbnUsXG5jb21tYW5kOlwibGlua1wiLGdyb3VwOlwibGlua1wiLG9yZGVyOjF9LHVubGluazp7bGFiZWw6YS5sYW5nLmxpbmsudW5saW5rLGNvbW1hbmQ6XCJ1bmxpbmtcIixncm91cDpcImxpbmtcIixvcmRlcjo1fX0pO2EuY29udGV4dE1lbnUmJmEuY29udGV4dE1lbnUuYWRkTGlzdGVuZXIoZnVuY3Rpb24oYil7aWYoIWJ8fGIuaXNSZWFkT25seSgpKXJldHVybiBudWxsO2I9Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYik7aWYoIWImJiEoYj1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpKSlyZXR1cm4gbnVsbDt2YXIgYz17fTtiLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJmIuZ2V0Q2hpbGRDb3VudCgpJiYoYz17bGluazpDS0VESVRPUi5UUklTVEFURV9PRkYsdW5saW5rOkNLRURJVE9SLlRSSVNUQVRFX09GRn0pO2ImJmIuaGFzQXR0cmlidXRlKFwibmFtZVwiKSYmKGMuYW5jaG9yPWMucmVtb3ZlQW5jaG9yPUNLRURJVE9SLlRSSVNUQVRFX09GRik7XG5yZXR1cm4gY30pO3RoaXMuY29tcGlsZWRQcm90ZWN0aW9uRnVuY3Rpb249YyhhKX0sYWZ0ZXJJbml0OmZ1bmN0aW9uKGEpe2EuZGF0YVByb2Nlc3Nvci5kYXRhRmlsdGVyLmFkZFJ1bGVzKHtlbGVtZW50czp7YTpmdW5jdGlvbihiKXtyZXR1cm4gYi5hdHRyaWJ1dGVzLm5hbWU/Yi5jaGlsZHJlbi5sZW5ndGg/bnVsbDphLmNyZWF0ZUZha2VQYXJzZXJFbGVtZW50KGIsXCJja2VfYW5jaG9yXCIsXCJhbmNob3JcIik6bnVsbH19fSk7dmFyIGI9YS5fLmVsZW1lbnRzUGF0aCYmYS5fLmVsZW1lbnRzUGF0aC5maWx0ZXJzO2ImJmIucHVzaChmdW5jdGlvbihiLGMpe2lmKFwiYVwiPT1jJiYoQ0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsYil8fGIuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSYmKCFiLmdldEF0dHJpYnV0ZShcImhyZWZcIil8fCFiLmdldENoaWxkQ291bnQoKSkpKXJldHVyblwiYW5jaG9yXCJ9KX19KTt2YXIgZT0vXmphdmFzY3JpcHQ6LyxsPS9ebWFpbHRvOihbXj9dKykoPzpcXD8oLispKT8kLyxcbms9L3N1YmplY3Q9KFteOz86QCY9JCxcXC9dKikvaSxkPS9ib2R5PShbXjs/OkAmPSQsXFwvXSopL2ksaD0vXiMoLiopJC8sbT0vXigoPzpodHRwfGh0dHBzfGZ0cHxuZXdzKTpcXC9cXC8pPyguKikkLyxnPS9eKF8oPzpzZWxmfHRvcHxwYXJlbnR8YmxhbmspKSQvLG49L15qYXZhc2NyaXB0OnZvaWRcXChsb2NhdGlvblxcLmhyZWY9J21haWx0bzonXFwrU3RyaW5nXFwuZnJvbUNoYXJDb2RlXFwoKFteKV0rKVxcKSg/OlxcKycoLiopJyk/XFwpJC8scD0vXmphdmFzY3JpcHQ6KFteKF0rKVxcKChbXildKylcXCkkLyxyPS9cXHMqd2luZG93Lm9wZW5cXChcXHMqdGhpc1xcLmhyZWZcXHMqLFxccyooPzonKFteJ10qKSd8bnVsbClcXHMqLFxccyonKFteJ10qKSdcXHMqXFwpXFxzKjtcXHMqcmV0dXJuXFxzKmZhbHNlOypcXHMqLyx4PS8oPzpefCwpKFtePV0rKT0oXFxkK3x5ZXN8bm8pL2dpLHY9e2lkOlwiYWR2SWRcIixkaXI6XCJhZHZMYW5nRGlyXCIsYWNjZXNzS2V5OlwiYWR2QWNjZXNzS2V5XCIsbmFtZTpcImFkdk5hbWVcIixsYW5nOlwiYWR2TGFuZ0NvZGVcIixcbnRhYmluZGV4OlwiYWR2VGFiSW5kZXhcIix0aXRsZTpcImFkdlRpdGxlXCIsdHlwZTpcImFkdkNvbnRlbnRUeXBlXCIsXCJjbGFzc1wiOlwiYWR2Q1NTQ2xhc3Nlc1wiLGNoYXJzZXQ6XCJhZHZDaGFyc2V0XCIsc3R5bGU6XCJhZHZTdHlsZXNcIixyZWw6XCJhZHZSZWxcIn07Q0tFRElUT1IucGx1Z2lucy5saW5rPXtnZXRTZWxlY3RlZExpbms6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLmdldFNlbGVjdGlvbigpLGQ9Yy5nZXRTZWxlY3RlZEVsZW1lbnQoKSxlPWMuZ2V0UmFuZ2VzKCksZj1bXSxnO2lmKCFiJiZkJiZkLmlzKFwiYVwiKSlyZXR1cm4gZDtmb3IoZD0wO2Q8ZS5sZW5ndGg7ZCsrKWlmKGc9Yy5nZXRSYW5nZXMoKVtkXSxnLnNocmluayhDS0VESVRPUi5TSFJJTktfVEVYVCwhMSx7c2tpcEJvZ3VzOiEwfSksKGc9YS5lbGVtZW50UGF0aChnLmdldENvbW1vbkFuY2VzdG9yKCkpLmNvbnRhaW5zKFwiYVwiLDEpKSYmYilmLnB1c2goZyk7ZWxzZSBpZihnKXJldHVybiBnO3JldHVybiBiP2Y6bnVsbH0sZ2V0RWRpdG9yQW5jaG9yczpmdW5jdGlvbihhKXtmb3IodmFyIGI9XG5hLmVkaXRhYmxlKCksYz1iLmlzSW5saW5lKCkmJiFhLnBsdWdpbnMuZGl2YXJlYT9hLmRvY3VtZW50OmIsYj1jLmdldEVsZW1lbnRzQnlUYWcoXCJhXCIpLGM9Yy5nZXRFbGVtZW50c0J5VGFnKFwiaW1nXCIpLGQ9W10sZT0wLGY7Zj1iLmdldEl0ZW0oZSsrKTspKGYuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpfHxmLmhhc0F0dHJpYnV0ZShcIm5hbWVcIikpJiZkLnB1c2goe25hbWU6Zi5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fGYuZ2V0QXR0cmlidXRlKFwibmFtZVwiKSxpZDpmLmdldEF0dHJpYnV0ZShcImlkXCIpfSk7Zm9yKGU9MDtmPWMuZ2V0SXRlbShlKyspOykoZj10aGlzLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsZikpJiZkLnB1c2goe25hbWU6Zi5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpLGlkOmYuZ2V0QXR0cmlidXRlKFwiaWRcIil9KTtyZXR1cm4gZH0sZmFrZUFuY2hvcjohMCx0cnlSZXN0b3JlRmFrZUFuY2hvcjpmdW5jdGlvbihhLGIpe2lmKGImJmIuZGF0YShcImNrZS1yZWFsLWVsZW1lbnQtdHlwZVwiKSYmXG5cImFuY2hvclwiPT1iLmRhdGEoXCJja2UtcmVhbC1lbGVtZW50LXR5cGVcIikpe3ZhciBjPWEucmVzdG9yZVJlYWxFbGVtZW50KGIpO2lmKGMuZGF0YShcImNrZS1zYXZlZC1uYW1lXCIpKXJldHVybiBjfX0scGFyc2VMaW5rQXR0cmlidXRlczpmdW5jdGlvbihhLGIpe3ZhciBjPWImJihiLmRhdGEoXCJja2Utc2F2ZWQtaHJlZlwiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKXx8XCJcIixmPWEucGx1Z2lucy5saW5rLmNvbXBpbGVkUHJvdGVjdGlvbkZ1bmN0aW9uLHE9YS5jb25maWcuZW1haWxQcm90ZWN0aW9uLHcsQj17fTtjLm1hdGNoKGUpJiYoXCJlbmNvZGVcIj09cT9jPWMucmVwbGFjZShuLGZ1bmN0aW9uKGEsYixjKXtjPWN8fFwiXCI7cmV0dXJuXCJtYWlsdG86XCIrU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsYi5zcGxpdChcIixcIikpK2MucmVwbGFjZSgvXFxcXCcvZyxcIidcIil9KTpxJiZjLnJlcGxhY2UocCxmdW5jdGlvbihhLGIsYyl7aWYoYj09Zi5uYW1lKXtCLnR5cGU9XCJlbWFpbFwiO2E9Qi5lbWFpbD1cbnt9O2I9LyheJyl8KCckKS9nO2M9Yy5tYXRjaCgvW14sXFxzXSsvZyk7Zm9yKHZhciBkPWMubGVuZ3RoLGUsZyxoPTA7aDxkO2grKyllPWRlY29kZVVSSUNvbXBvbmVudCxnPWNbaF0ucmVwbGFjZShiLFwiXCIpLnJlcGxhY2UoL1xcXFwnL2csXCInXCIpLGc9ZShnKSxlPWYucGFyYW1zW2hdLnRvTG93ZXJDYXNlKCksYVtlXT1nO2EuYWRkcmVzcz1bYS5uYW1lLGEuZG9tYWluXS5qb2luKFwiQFwiKX19KSk7aWYoIUIudHlwZSlpZihxPWMubWF0Y2goaCkpQi50eXBlPVwiYW5jaG9yXCIsQi5hbmNob3I9e30sQi5hbmNob3IubmFtZT1CLmFuY2hvci5pZD1xWzFdO2Vsc2UgaWYocT1jLm1hdGNoKGwpKXt3PWMubWF0Y2goayk7Yz1jLm1hdGNoKGQpO0IudHlwZT1cImVtYWlsXCI7dmFyIHo9Qi5lbWFpbD17fTt6LmFkZHJlc3M9cVsxXTt3JiYoei5zdWJqZWN0PWRlY29kZVVSSUNvbXBvbmVudCh3WzFdKSk7YyYmKHouYm9keT1kZWNvZGVVUklDb21wb25lbnQoY1sxXSkpfWVsc2UgYyYmKHc9Yy5tYXRjaChtKSkmJlxuKEIudHlwZT1cInVybFwiLEIudXJsPXt9LEIudXJsLnByb3RvY29sPXdbMV0sQi51cmwudXJsPXdbMl0pO2lmKGIpe2lmKGM9Yi5nZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIikpQi50YXJnZXQ9e3R5cGU6Yy5tYXRjaChnKT9jOlwiZnJhbWVcIixuYW1lOmN9O2Vsc2UgaWYoYz0oYz1iLmRhdGEoXCJja2UtcGEtb25jbGlja1wiKXx8Yi5nZXRBdHRyaWJ1dGUoXCJvbmNsaWNrXCIpKSYmYy5tYXRjaChyKSlmb3IoQi50YXJnZXQ9e3R5cGU6XCJwb3B1cFwiLG5hbWU6Y1sxXX07cT14LmV4ZWMoY1syXSk7KVwieWVzXCIhPXFbMl0mJlwiMVwiIT1xWzJdfHxxWzFdaW57aGVpZ2h0OjEsd2lkdGg6MSx0b3A6MSxsZWZ0OjF9P2lzRmluaXRlKHFbMl0pJiYoQi50YXJnZXRbcVsxXV09cVsyXSk6Qi50YXJnZXRbcVsxXV09ITA7bnVsbCE9PWIuZ2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIikmJihCLmRvd25sb2FkPSEwKTt2YXIgYz17fSxDO2ZvcihDIGluIHYpKHE9Yi5nZXRBdHRyaWJ1dGUoQykpJiYoY1t2W0NdXT1xKTtpZihDPVxuYi5kYXRhKFwiY2tlLXNhdmVkLW5hbWVcIil8fGMuYWR2TmFtZSljLmFkdk5hbWU9QztDS0VESVRPUi50b29scy5pc0VtcHR5KGMpfHwoQi5hZHZhbmNlZD1jKX1yZXR1cm4gQn0sZ2V0TGlua0F0dHJpYnV0ZXM6ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLmNvbmZpZy5lbWFpbFByb3RlY3Rpb258fFwiXCIsZz17fTtzd2l0Y2goZC50eXBlKXtjYXNlIFwidXJsXCI6dmFyIGU9ZC51cmwmJnZvaWQgMCE9PWQudXJsLnByb3RvY29sP2QudXJsLnByb3RvY29sOlwiaHR0cDovL1wiLGg9ZC51cmwmJkNLRURJVE9SLnRvb2xzLnRyaW0oZC51cmwudXJsKXx8XCJcIjtnW1wiZGF0YS1ja2Utc2F2ZWQtaHJlZlwiXT0wPT09aC5pbmRleE9mKFwiL1wiKT9oOmUraDticmVhaztjYXNlIFwiYW5jaG9yXCI6ZT1kLmFuY2hvciYmZC5hbmNob3IuaWQ7Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09XCIjXCIrKGQuYW5jaG9yJiZkLmFuY2hvci5uYW1lfHxlfHxcIlwiKTticmVhaztjYXNlIFwiZW1haWxcIjp2YXIgaz1kLmVtYWlsLGg9ay5hZGRyZXNzO1xuc3dpdGNoKGUpe2Nhc2UgXCJcIjpjYXNlIFwiZW5jb2RlXCI6dmFyIGw9ZW5jb2RlVVJJQ29tcG9uZW50KGsuc3ViamVjdHx8XCJcIiksbT1lbmNvZGVVUklDb21wb25lbnQoay5ib2R5fHxcIlwiKSxrPVtdO2wmJmsucHVzaChcInN1YmplY3RcXHgzZFwiK2wpO20mJmsucHVzaChcImJvZHlcXHgzZFwiK20pO2s9ay5sZW5ndGg/XCI/XCIray5qb2luKFwiXFx4MjZcIik6XCJcIjtcImVuY29kZVwiPT1lPyhlPVtcImphdmFzY3JpcHQ6dm9pZChsb2NhdGlvbi5ocmVmXFx4M2QnbWFpbHRvOicrXCIsZihoKV0sayYmZS5wdXNoKFwiKydcIixhKGspLFwiJ1wiKSxlLnB1c2goXCIpXCIpKTplPVtcIm1haWx0bzpcIixoLGtdO2JyZWFrO2RlZmF1bHQ6ZT1oLnNwbGl0KFwiQFwiLDIpLGsubmFtZT1lWzBdLGsuZG9tYWluPWVbMV0sZT1bXCJqYXZhc2NyaXB0OlwiLGIoYyxrKV19Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl09ZS5qb2luKFwiXCIpfWlmKGQudGFyZ2V0KWlmKFwicG9wdXBcIj09ZC50YXJnZXQudHlwZSl7Zm9yKHZhciBlPVtcIndpbmRvdy5vcGVuKHRoaXMuaHJlZiwgJ1wiLFxuZC50YXJnZXQubmFtZXx8XCJcIixcIicsICdcIl0sbj1cInJlc2l6YWJsZSBzdGF0dXMgbG9jYXRpb24gdG9vbGJhciBtZW51YmFyIGZ1bGxzY3JlZW4gc2Nyb2xsYmFycyBkZXBlbmRlbnRcIi5zcGxpdChcIiBcIiksaD1uLmxlbmd0aCxsPWZ1bmN0aW9uKGEpe2QudGFyZ2V0W2FdJiZuLnB1c2goYStcIlxceDNkXCIrZC50YXJnZXRbYV0pfSxrPTA7azxoO2srKyluW2tdKz1kLnRhcmdldFtuW2tdXT9cIlxceDNkeWVzXCI6XCJcXHgzZG5vXCI7bChcIndpZHRoXCIpO2woXCJsZWZ0XCIpO2woXCJoZWlnaHRcIik7bChcInRvcFwiKTtlLnB1c2gobi5qb2luKFwiLFwiKSxcIicpOyByZXR1cm4gZmFsc2U7XCIpO2dbXCJkYXRhLWNrZS1wYS1vbmNsaWNrXCJdPWUuam9pbihcIlwiKX1lbHNlXCJub3RTZXRcIiE9ZC50YXJnZXQudHlwZSYmZC50YXJnZXQubmFtZSYmKGcudGFyZ2V0PWQudGFyZ2V0Lm5hbWUpO2QuZG93bmxvYWQmJihnLmRvd25sb2FkPVwiXCIpO2lmKGQuYWR2YW5jZWQpe2Zvcih2YXIgcCBpbiB2KShlPWQuYWR2YW5jZWRbdltwXV0pJiZcbihnW3BdPWUpO2cubmFtZSYmKGdbXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCJdPWcubmFtZSl9Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl0mJihnLmhyZWY9Z1tcImRhdGEtY2tlLXNhdmVkLWhyZWZcIl0pO3A9e3RhcmdldDoxLG9uY2xpY2s6MSxcImRhdGEtY2tlLXBhLW9uY2xpY2tcIjoxLFwiZGF0YS1ja2Utc2F2ZWQtbmFtZVwiOjEsZG93bmxvYWQ6MX07ZC5hZHZhbmNlZCYmQ0tFRElUT1IudG9vbHMuZXh0ZW5kKHAsdik7Zm9yKHZhciByIGluIGcpZGVsZXRlIHBbcl07cmV0dXJue3NldDpnLHJlbW92ZWQ6Q0tFRElUT1IudG9vbHMub2JqZWN0S2V5cyhwKX19LHNob3dEaXNwbGF5VGV4dEZvckVsZW1lbnQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz17aW1nOjEsdGFibGU6MSx0Ym9keToxLHRoZWFkOjEsdGZvb3Q6MSxpbnB1dDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LGQ9Yi5nZXRTZWxlY3Rpb24oKTtyZXR1cm4gYi53aWRnZXRzJiZiLndpZGdldHMuZm9jdXNlZHx8ZCYmMTxkLmdldFJhbmdlcygpLmxlbmd0aD9cbiExOiFhfHwhYS5nZXROYW1lfHwhYS5pcyhjKX19O0NLRURJVE9SLnVubGlua0NvbW1hbmQ9ZnVuY3Rpb24oKXt9O0NLRURJVE9SLnVubGlua0NvbW1hbmQucHJvdG90eXBlPXtleGVjOmZ1bmN0aW9uKGEpe2lmKENLRURJVE9SLmVudi5pZSl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKVswXSxjPWIuZ2V0UHJldmlvdXNFZGl0YWJsZU5vZGUoKSYmYi5nZXRQcmV2aW91c0VkaXRhYmxlTm9kZSgpLmdldEFzY2VuZGFudChcImFcIiwhMCl8fGIuZ2V0TmV4dEVkaXRhYmxlTm9kZSgpJiZiLmdldE5leHRFZGl0YWJsZU5vZGUoKS5nZXRBc2NlbmRhbnQoXCJhXCIsITApLGQ7Yi5jb2xsYXBzZWQmJmMmJihkPWIuY3JlYXRlQm9va21hcmsoKSxiLnNlbGVjdE5vZGVDb250ZW50cyhjKSxiLnNlbGVjdCgpKX1jPW5ldyBDS0VESVRPUi5zdHlsZSh7ZWxlbWVudDpcImFcIix0eXBlOkNLRURJVE9SLlNUWUxFX0lOTElORSxhbHdheXNSZW1vdmVFbGVtZW50OjF9KTthLnJlbW92ZVN0eWxlKGMpO1xuZCYmKGIubW92ZVRvQm9va21hcmsoZCksYi5zZWxlY3QoKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmxhc3RFbGVtZW50JiZiLmxhc3RFbGVtZW50LmdldEFzY2VuZGFudChcImFcIiwhMCk7YyYmXCJhXCI9PWMuZ2V0TmFtZSgpJiZjLmdldEF0dHJpYnV0ZShcImhyZWZcIikmJmMuZ2V0Q2hpbGRDb3VudCgpP3RoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT0ZGKTp0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX0sY29udGV4dFNlbnNpdGl2ZToxLHN0YXJ0RGlzYWJsZWQ6MSxyZXF1aXJlZENvbnRlbnQ6XCJhW2hyZWZdXCIsZWRpdG9yRm9jdXM6MX07Q0tFRElUT1IucmVtb3ZlQW5jaG9yQ29tbWFuZD1mdW5jdGlvbigpe307Q0tFRElUT1IucmVtb3ZlQW5jaG9yQ29tbWFuZC5wcm90b3R5cGU9e2V4ZWM6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTZWxlY3Rpb24oKSxjPWIuY3JlYXRlQm9va21hcmtzKCksZDtpZihiJiYoZD1iLmdldFNlbGVjdGVkRWxlbWVudCgpKSYmXG4oZC5nZXRDaGlsZENvdW50KCk/ZC5pcyhcImFcIik6Q0tFRElUT1IucGx1Z2lucy5saW5rLnRyeVJlc3RvcmVGYWtlQW5jaG9yKGEsZCkpKWQucmVtb3ZlKDEpO2Vsc2UgaWYoZD1DS0VESVRPUi5wbHVnaW5zLmxpbmsuZ2V0U2VsZWN0ZWRMaW5rKGEpKWQuaGFzQXR0cmlidXRlKFwiaHJlZlwiKT8oZC5yZW1vdmVBdHRyaWJ1dGVzKHtuYW1lOjEsXCJkYXRhLWNrZS1zYXZlZC1uYW1lXCI6MX0pLGQucmVtb3ZlQ2xhc3MoXCJja2VfYW5jaG9yXCIpKTpkLnJlbW92ZSgxKTtiLnNlbGVjdEJvb2ttYXJrcyhjKX0scmVxdWlyZWRDb250ZW50OlwiYVtuYW1lXVwifTtDS0VESVRPUi50b29scy5leHRlbmQoQ0tFRElUT1IuY29uZmlnLHtsaW5rU2hvd0FkdmFuY2VkVGFiOiEwLGxpbmtTaG93VGFyZ2V0VGFiOiEwfSl9KCksXCJ1c2Ugc3RyaWN0XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXtyZXR1cm4gbihiKSYmbihjKSYmYy5lcXVhbHMoYi5nZXROZXh0KGZ1bmN0aW9uKGEpe3JldHVybiEoWihhKXx8XG5hYShhKXx8cChhKSl9KSl9ZnVuY3Rpb24gZihhKXt0aGlzLnVwcGVyPWFbMF07dGhpcy5sb3dlcj1hWzFdO3RoaXMuc2V0LmFwcGx5KHRoaXMsYS5zbGljZSgyKSl9ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmVsZW1lbnQ7aWYoYiYmbihiKSYmKGI9Yi5nZXRBc2NlbmRhbnQoYS50cmlnZ2VycywhMCkpJiZhLmVkaXRhYmxlLmNvbnRhaW5zKGIpKXt2YXIgYz1rKGIpO2lmKFwidHJ1ZVwiPT1jLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYjtpZihjLmlzKGEudHJpZ2dlcnMpKXJldHVybiBjfXJldHVybiBudWxsfWZ1bmN0aW9uIGMoYSxiLGMpe3EoYSxiKTtxKGEsYyk7YT1iLnNpemUuYm90dG9tO2M9Yy5zaXplLnRvcDtyZXR1cm4gYSYmYz8wfChhK2MpLzI6YXx8Y31mdW5jdGlvbiBlKGEsYixjKXtyZXR1cm4gYj1iW2M/XCJnZXRQcmV2aW91c1wiOlwiZ2V0TmV4dFwiXShmdW5jdGlvbihiKXtyZXR1cm4gYiYmYi50eXBlPT1DS0VESVRPUi5OT0RFX1RFWFQmJiFaKGIpfHxcbm4oYikmJiFwKGIpJiYhZyhhLGIpfSl9ZnVuY3Rpb24gbChhLGIsYyl7cmV0dXJuIGE+YiYmYTxjfWZ1bmN0aW9uIGsoYSxiKXtpZihhLmRhdGEoXCJja2UtZWRpdGFibGVcIikpcmV0dXJuIG51bGw7Zm9yKGJ8fChhPWEuZ2V0UGFyZW50KCkpO2EmJiFhLmRhdGEoXCJja2UtZWRpdGFibGVcIik7KXtpZihhLmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSlyZXR1cm4gYTthPWEuZ2V0UGFyZW50KCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZChhKXt2YXIgYj1hLmRvYyxjPUcoJ1xceDNjc3BhbiBjb250ZW50ZWRpdGFibGVcXHgzZFwiZmFsc2VcIiBzdHlsZVxceDNkXCInK1MrXCJwb3NpdGlvbjphYnNvbHV0ZTtib3JkZXItdG9wOjFweCBkYXNoZWQgXCIrYS5ib3hDb2xvcisnXCJcXHgzZVxceDNjL3NwYW5cXHgzZScsYiksZD1DS0VESVRPUi5nZXRVcmwodGhpcy5wYXRoK1wiaW1hZ2VzL1wiKyhGLmhpZHBpP1wiaGlkcGkvXCI6XCJcIikrXCJpY29uXCIrKGEucnRsP1wiLXJ0bFwiOlwiXCIpK1wiLnBuZ1wiKTtDKGMse2F0dGFjaDpmdW5jdGlvbigpe3RoaXMud3JhcC5nZXRQYXJlbnQoKXx8XG50aGlzLndyYXAuYXBwZW5kVG8oYS5lZGl0YWJsZSwhMCk7cmV0dXJuIHRoaXN9LGxpbmVDaGlsZHJlbjpbQyhHKCdcXHgzY3NwYW4gdGl0bGVcXHgzZFwiJythLmVkaXRvci5sYW5nLm1hZ2ljbGluZS50aXRsZSsnXCIgY29udGVudGVkaXRhYmxlXFx4M2RcImZhbHNlXCJcXHgzZVxceDI2Izg2Mjk7XFx4M2Mvc3BhblxceDNlJyxiKSx7YmFzZTpTK1wiaGVpZ2h0OjE3cHg7d2lkdGg6MTdweDtcIisoYS5ydGw/XCJsZWZ0XCI6XCJyaWdodFwiKStcIjoxN3B4O2JhY2tncm91bmQ6dXJsKFwiK2QrXCIpIGNlbnRlciBuby1yZXBlYXQgXCIrYS5ib3hDb2xvcitcIjtjdXJzb3I6cG9pbnRlcjtcIisoRi5oYz9cImZvbnQtc2l6ZTogMTVweDtsaW5lLWhlaWdodDoxNHB4O2JvcmRlcjoxcHggc29saWQgI2ZmZjt0ZXh0LWFsaWduOmNlbnRlcjtcIjpcIlwiKSsoRi5oaWRwaT9cImJhY2tncm91bmQtc2l6ZTogOXB4IDEwcHg7XCI6XCJcIiksbG9va3M6W1widG9wOi04cHg7IGJvcmRlci1yYWRpdXM6IDJweDtcIixcInRvcDotMTdweDsgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwcHggMHB4O1wiLFxuXCJ0b3A6LTFweDsgYm9yZGVyLXJhZGl1czogMHB4IDBweCAycHggMnB4O1wiXX0pLEMoRyhZLGIpLHtiYXNlOlIrXCJsZWZ0OjBweDtib3JkZXItbGVmdC1jb2xvcjpcIithLmJveENvbG9yK1wiO1wiLGxvb2tzOltcImJvcmRlci13aWR0aDo4cHggMCA4cHggOHB4O3RvcDotOHB4XCIsXCJib3JkZXItd2lkdGg6OHB4IDAgMCA4cHg7dG9wOi04cHhcIixcImJvcmRlci13aWR0aDowIDAgOHB4IDhweDt0b3A6MHB4XCJdfSksQyhHKFksYikse2Jhc2U6UitcInJpZ2h0OjBweDtib3JkZXItcmlnaHQtY29sb3I6XCIrYS5ib3hDb2xvcitcIjtcIixsb29rczpbXCJib3JkZXItd2lkdGg6OHB4IDhweCA4cHggMDt0b3A6LThweFwiLFwiYm9yZGVyLXdpZHRoOjhweCA4cHggMCAwO3RvcDotOHB4XCIsXCJib3JkZXItd2lkdGg6MCA4cHggOHB4IDA7dG9wOjBweFwiXX0pXSxkZXRhY2g6ZnVuY3Rpb24oKXt0aGlzLndyYXAuZ2V0UGFyZW50KCkmJnRoaXMud3JhcC5yZW1vdmUoKTtyZXR1cm4gdGhpc30sbW91c2VOZWFyOmZ1bmN0aW9uKCl7cShhLFxudGhpcyk7dmFyIGI9YS5ob2xkRGlzdGFuY2UsYz10aGlzLnNpemU7cmV0dXJuIGMmJmwoYS5tb3VzZS55LGMudG9wLWIsYy5ib3R0b20rYikmJmwoYS5tb3VzZS54LGMubGVmdC1iLGMucmlnaHQrYik/ITA6ITF9LHBsYWNlOmZ1bmN0aW9uKCl7dmFyIGI9YS52aWV3LGM9YS5lZGl0YWJsZSxkPWEudHJpZ2dlcixlPWQudXBwZXIsZj1kLmxvd2VyLGc9ZXx8ZixoPWcuZ2V0UGFyZW50KCksaz17fTt0aGlzLnRyaWdnZXI9ZDtlJiZxKGEsZSwhMCk7ZiYmcShhLGYsITApO3EoYSxoLCEwKTthLmluSW5saW5lTW9kZSYmdyhhLCEwKTtoLmVxdWFscyhjKT8oay5sZWZ0PWIuc2Nyb2xsLngsay5yaWdodD0tYi5zY3JvbGwueCxrLndpZHRoPVwiXCIpOihrLmxlZnQ9Zy5zaXplLmxlZnQtZy5zaXplLm1hcmdpbi5sZWZ0K2Iuc2Nyb2xsLngtKGEuaW5JbmxpbmVNb2RlP2IuZWRpdGFibGUubGVmdCtiLmVkaXRhYmxlLmJvcmRlci5sZWZ0OjApLGsud2lkdGg9Zy5zaXplLm91dGVyV2lkdGgrZy5zaXplLm1hcmdpbi5sZWZ0K1xuZy5zaXplLm1hcmdpbi5yaWdodCtiLnNjcm9sbC54LGsucmlnaHQ9XCJcIik7ZSYmZj9rLnRvcD1lLnNpemUubWFyZ2luLmJvdHRvbT09PWYuc2l6ZS5tYXJnaW4udG9wPzB8ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbS8yOmUuc2l6ZS5tYXJnaW4uYm90dG9tPGYuc2l6ZS5tYXJnaW4udG9wP2Uuc2l6ZS5ib3R0b20rZS5zaXplLm1hcmdpbi5ib3R0b206ZS5zaXplLmJvdHRvbStlLnNpemUubWFyZ2luLmJvdHRvbS1mLnNpemUubWFyZ2luLnRvcDplP2Z8fChrLnRvcD1lLnNpemUuYm90dG9tK2Uuc2l6ZS5tYXJnaW4uYm90dG9tKTprLnRvcD1mLnNpemUudG9wLWYuc2l6ZS5tYXJnaW4udG9wO2QuaXMoTyl8fGwoay50b3AsYi5zY3JvbGwueS0xNSxiLnNjcm9sbC55KzUpPyhrLnRvcD1hLmluSW5saW5lTW9kZT8wOmIuc2Nyb2xsLnksdGhpcy5sb29rKE8pKTpkLmlzKEspfHxsKGsudG9wLGIucGFuZS5ib3R0b20tNSxiLnBhbmUuYm90dG9tKzE1KT8oay50b3A9YS5pbklubGluZU1vZGU/XG5iLmVkaXRhYmxlLmhlaWdodCtiLmVkaXRhYmxlLnBhZGRpbmcudG9wK2IuZWRpdGFibGUucGFkZGluZy5ib3R0b206Yi5wYW5lLmJvdHRvbS0xLHRoaXMubG9vayhLKSk6KGEuaW5JbmxpbmVNb2RlJiYoay50b3AtPWIuZWRpdGFibGUudG9wK2IuZWRpdGFibGUuYm9yZGVyLnRvcCksdGhpcy5sb29rKFUpKTthLmluSW5saW5lTW9kZSYmKGsudG9wLS0say50b3ArPWIuZWRpdGFibGUuc2Nyb2xsLnRvcCxrLmxlZnQrPWIuZWRpdGFibGUuc2Nyb2xsLmxlZnQpO2Zvcih2YXIgbSBpbiBrKWtbbV09Q0tFRElUT1IudG9vbHMuY3NzTGVuZ3RoKGtbbV0pO3RoaXMuc2V0U3R5bGVzKGspfSxsb29rOmZ1bmN0aW9uKGEpe2lmKHRoaXMub2xkTG9vayE9YSl7Zm9yKHZhciBiPXRoaXMubGluZUNoaWxkcmVuLmxlbmd0aCxjO2ItLTspKGM9dGhpcy5saW5lQ2hpbGRyZW5bYl0pLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsYy5iYXNlK2MubG9va3NbMHxhLzJdKTt0aGlzLm9sZExvb2s9YX19LHdyYXA6bmV3IEUoXCJzcGFuXCIsXG5hLmRvYyl9KTtmb3IoYj1jLmxpbmVDaGlsZHJlbi5sZW5ndGg7Yi0tOyljLmxpbmVDaGlsZHJlbltiXS5hcHBlbmRUbyhjKTtjLmxvb2soVSk7Yy5hcHBlbmRUbyhjLndyYXApO2MudW5zZWxlY3RhYmxlKCk7Yy5saW5lQ2hpbGRyZW5bMF0ub24oXCJtb3VzZXVwXCIsZnVuY3Rpb24oYil7Yy5kZXRhY2goKTtoKGEsZnVuY3Rpb24oYil7dmFyIGM9YS5saW5lLnRyaWdnZXI7YltjLmlzKEwpP1wiaW5zZXJ0QmVmb3JlXCI6XCJpbnNlcnRBZnRlclwiXShjLmlzKEwpP2MubG93ZXI6Yy51cHBlcil9LCEwKTthLmVkaXRvci5mb2N1cygpO0YuaWV8fGEuZW50ZXJNb2RlPT1DS0VESVRPUi5FTlRFUl9CUnx8YS5ob3ROb2RlLnNjcm9sbEludG9WaWV3KCk7Yi5kYXRhLnByZXZlbnREZWZhdWx0KCEwKX0pO2Mub24oXCJtb3VzZWRvd25cIixmdW5jdGlvbihhKXthLmRhdGEucHJldmVudERlZmF1bHQoITApfSk7YS5saW5lPWN9ZnVuY3Rpb24gaChhLGIsYyl7dmFyIGQ9bmV3IENLRURJVE9SLmRvbS5yYW5nZShhLmRvYyksXG5lPWEuZWRpdG9yLGY7Ri5pZSYmYS5lbnRlck1vZGU9PUNLRURJVE9SLkVOVEVSX0JSP2Y9YS5kb2MuY3JlYXRlVGV4dChWKTooZj0oZj1rKGEuZWxlbWVudCwhMCkpJiZmLmRhdGEoXCJja2UtZW50ZXItbW9kZVwiKXx8YS5lbnRlck1vZGUsZj1uZXcgRShNW2ZdLGEuZG9jKSxmLmlzKFwiYnJcIil8fGEuZG9jLmNyZWF0ZVRleHQoVikuYXBwZW5kVG8oZikpO2MmJmUuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtiKGYpO2QubW92ZVRvUG9zaXRpb24oZixDS0VESVRPUi5QT1NJVElPTl9BRlRFUl9TVEFSVCk7ZS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoW2RdKTthLmhvdE5vZGU9ZjtjJiZlLmZpcmUoXCJzYXZlU25hcHNob3RcIil9ZnVuY3Rpb24gbShhLGMpe3JldHVybntjYW5VbmRvOiEwLG1vZGVzOnt3eXNpd3lnOjF9LGV4ZWM6ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGIpe3ZhciBlPUYuaWUmJjk+Ri52ZXJzaW9uP1wiIFwiOlYsZj1hLmhvdE5vZGUmJmEuaG90Tm9kZS5nZXRUZXh0KCk9PWUmJlxuYS5lbGVtZW50LmVxdWFscyhhLmhvdE5vZGUpJiZhLmxhc3RDbWREaXJlY3Rpb249PT0hIWM7aChhLGZ1bmN0aW9uKGQpe2YmJmEuaG90Tm9kZSYmYS5ob3ROb2RlLnJlbW92ZSgpO2RbYz9cImluc2VydEFmdGVyXCI6XCJpbnNlcnRCZWZvcmVcIl0oYik7ZC5zZXRBdHRyaWJ1dGVzKHtcImRhdGEtY2tlLW1hZ2ljbGluZS1ob3RcIjoxLFwiZGF0YS1ja2UtbWFnaWNsaW5lLWRpclwiOiEhY30pO2EubGFzdENtZERpcmVjdGlvbj0hIWN9KTtGLmllfHxhLmVudGVyTW9kZT09Q0tFRElUT1IuRU5URVJfQlJ8fGEuaG90Tm9kZS5zY3JvbGxJbnRvVmlldygpO2EubGluZS5kZXRhY2goKX1yZXR1cm4gZnVuY3Rpb24oZil7Zj1mLmdldFNlbGVjdGlvbigpLmdldFN0YXJ0RWxlbWVudCgpO3ZhciBnO2Y9Zi5nZXRBc2NlbmRhbnQoUSwxKTtpZighdihhLGYpJiZmJiYhZi5lcXVhbHMoYS5lZGl0YWJsZSkmJiFmLmNvbnRhaW5zKGEuZWRpdGFibGUpKXsoZz1rKGYpKSYmXCJmYWxzZVwiPT1nLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSYmXG4oZj1nKTthLmVsZW1lbnQ9ZjtnPWUoYSxmLCFjKTt2YXIgaDtuKGcpJiZnLmlzKGEudHJpZ2dlcnMpJiZnLmlzKFApJiYoIWUoYSxnLCFjKXx8KGg9ZShhLGcsIWMpKSYmbihoKSYmaC5pcyhhLnRyaWdnZXJzKSk/ZChnKTooaD1iKGEsZiksbihoKSYmKGUoYSxoLCFjKT8oZj1lKGEsaCwhYykpJiZuKGYpJiZmLmlzKGEudHJpZ2dlcnMpJiZkKGgpOmQoaCkpKX19fSgpfX1mdW5jdGlvbiBnKGEsYil7aWYoIWJ8fGIudHlwZSE9Q0tFRElUT1IuTk9ERV9FTEVNRU5UfHwhYi4kKXJldHVybiExO3ZhciBjPWEubGluZTtyZXR1cm4gYy53cmFwLmVxdWFscyhiKXx8Yy53cmFwLmNvbnRhaW5zKGIpfWZ1bmN0aW9uIG4oYSl7cmV0dXJuIGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZhLiR9ZnVuY3Rpb24gcChhKXtpZighbihhKSlyZXR1cm4hMTt2YXIgYjsoYj1yKGEpKXx8KG4oYSk/KGI9e2xlZnQ6MSxyaWdodDoxLGNlbnRlcjoxfSxiPSEoIWJbYS5nZXRDb21wdXRlZFN0eWxlKFwiZmxvYXRcIildJiZcbiFiW2EuZ2V0QXR0cmlidXRlKFwiYWxpZ25cIildKSk6Yj0hMSk7cmV0dXJuIGJ9ZnVuY3Rpb24gcihhKXtyZXR1cm4hIXthYnNvbHV0ZToxLGZpeGVkOjF9W2EuZ2V0Q29tcHV0ZWRTdHlsZShcInBvc2l0aW9uXCIpXX1mdW5jdGlvbiB4KGEsYil7cmV0dXJuIG4oYik/Yi5pcyhhLnRyaWdnZXJzKTpudWxsfWZ1bmN0aW9uIHYoYSxiKXtpZighYilyZXR1cm4hMTtmb3IodmFyIGM9Yi5nZXRQYXJlbnRzKDEpLGQ9Yy5sZW5ndGg7ZC0tOylmb3IodmFyIGU9YS50YWJ1TGlzdC5sZW5ndGg7ZS0tOylpZihjW2RdLmhhc0F0dHJpYnV0ZShhLnRhYnVMaXN0W2VdKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiB1KGEsYixjKXtiPWJbYz9cImdldExhc3RcIjpcImdldEZpcnN0XCJdKGZ1bmN0aW9uKGIpe3JldHVybiBhLmlzUmVsZXZhbnQoYikmJiFiLmlzKGZhKX0pO2lmKCFiKXJldHVybiExO3EoYSxiKTtyZXR1cm4gYz9iLnNpemUudG9wPmEubW91c2UueTpiLnNpemUuYm90dG9tPGEubW91c2UueX1mdW5jdGlvbiB0KGEpe3ZhciBiPVxuYS5lZGl0YWJsZSxjPWEubW91c2UsZD1hLnZpZXcsZT1hLnRyaWdnZXJPZmZzZXQ7dyhhKTt2YXIgaD1jLnk+KGEuaW5JbmxpbmVNb2RlP2QuZWRpdGFibGUudG9wK2QuZWRpdGFibGUuaGVpZ2h0LzI6TWF0aC5taW4oZC5lZGl0YWJsZS5oZWlnaHQsZC5wYW5lLmhlaWdodCkvMiksYj1iW2g/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShmdW5jdGlvbihhKXtyZXR1cm4hKFooYSl8fGFhKGEpKX0pO2lmKCFiKXJldHVybiBudWxsO2coYSxiKSYmKGI9YS5saW5lLndyYXBbaD9cImdldFByZXZpb3VzXCI6XCJnZXROZXh0XCJdKGZ1bmN0aW9uKGEpe3JldHVybiEoWihhKXx8YWEoYSkpfSkpO2lmKCFuKGIpfHxwKGIpfHwheChhLGIpKXJldHVybiBudWxsO3EoYSxiKTtyZXR1cm4haCYmMDw9Yi5zaXplLnRvcCYmbChjLnksMCxiLnNpemUudG9wK2UpPyhhPWEuaW5JbmxpbmVNb2RlfHwwPT09ZC5zY3JvbGwueT9POlUsbmV3IGYoW251bGwsYixMLEksYV0pKTpoJiZiLnNpemUuYm90dG9tPD1kLnBhbmUuaGVpZ2h0JiZcbmwoYy55LGIuc2l6ZS5ib3R0b20tZSxkLnBhbmUuaGVpZ2h0KT8oYT1hLmluSW5saW5lTW9kZXx8bChiLnNpemUuYm90dG9tLGQucGFuZS5oZWlnaHQtZSxkLnBhbmUuaGVpZ2h0KT9LOlUsbmV3IGYoW2IsbnVsbCxELEksYV0pKTpudWxsfWZ1bmN0aW9uIHkoYSl7dmFyIGM9YS5tb3VzZSxkPWEudmlldyxnPWEudHJpZ2dlck9mZnNldCxoPWIoYSk7aWYoIWgpcmV0dXJuIG51bGw7cShhLGgpO3ZhciBnPU1hdGgubWluKGcsMHxoLnNpemUub3V0ZXJIZWlnaHQvMiksaz1bXSxtLHQ7aWYobChjLnksaC5zaXplLnRvcC0xLGguc2l6ZS50b3ArZykpdD0hMTtlbHNlIGlmKGwoYy55LGguc2l6ZS5ib3R0b20tZyxoLnNpemUuYm90dG9tKzEpKXQ9ITA7ZWxzZSByZXR1cm4gbnVsbDtpZihwKGgpfHx1KGEsaCx0KXx8aC5nZXRQYXJlbnQoKS5pcyhjYSkpcmV0dXJuIG51bGw7dmFyIHY9ZShhLGgsIXQpO2lmKHYpe2lmKHYmJnYudHlwZT09Q0tFRElUT1IuTk9ERV9URVhUKXJldHVybiBudWxsO1xuaWYobih2KSl7aWYocCh2KXx8IXgoYSx2KXx8di5nZXRQYXJlbnQoKS5pcyhjYSkpcmV0dXJuIG51bGw7az1bdixoXVt0P1wicmV2ZXJzZVwiOlwiY29uY2F0XCJdKCkuY29uY2F0KFtULEldKX19ZWxzZSBoLmVxdWFscyhhLmVkaXRhYmxlW3Q/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShhLmlzUmVsZXZhbnQpKT8odyhhKSx0JiZsKGMueSxoLnNpemUuYm90dG9tLWcsZC5wYW5lLmhlaWdodCkmJmwoaC5zaXplLmJvdHRvbSxkLnBhbmUuaGVpZ2h0LWcsZC5wYW5lLmhlaWdodCk/bT1LOmwoYy55LDAsaC5zaXplLnRvcCtnKSYmKG09TykpOm09VSxrPVtudWxsLGhdW3Q/XCJyZXZlcnNlXCI6XCJjb25jYXRcIl0oKS5jb25jYXQoW3Q/RDpMLEksbSxoLmVxdWFscyhhLmVkaXRhYmxlW3Q/XCJnZXRMYXN0XCI6XCJnZXRGaXJzdFwiXShhLmlzUmVsZXZhbnQpKT90P0s6TzpVXSk7cmV0dXJuIDAgaW4gaz9uZXcgZihrKTpudWxsfWZ1bmN0aW9uIEEoYSxiLGMsZCl7Zm9yKHZhciBlPWIuZ2V0RG9jdW1lbnRQb3NpdGlvbigpLFxuZj17fSxnPXt9LGg9e30saz17fSxsPWJhLmxlbmd0aDtsLS07KWZbYmFbbF1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJib3JkZXItXCIrYmFbbF0rXCItd2lkdGhcIiksMTApfHwwLGhbYmFbbF1dPXBhcnNlSW50KGIuZ2V0Q29tcHV0ZWRTdHlsZS5jYWxsKGIsXCJwYWRkaW5nLVwiK2JhW2xdKSwxMCl8fDAsZ1tiYVtsXV09cGFyc2VJbnQoYi5nZXRDb21wdXRlZFN0eWxlLmNhbGwoYixcIm1hcmdpbi1cIitiYVtsXSksMTApfHwwO2MmJiFkfHxCKGEsZCk7ay50b3A9ZS55LShjPzA6YS52aWV3LnNjcm9sbC55KTtrLmxlZnQ9ZS54LShjPzA6YS52aWV3LnNjcm9sbC54KTtrLm91dGVyV2lkdGg9Yi4kLm9mZnNldFdpZHRoO2sub3V0ZXJIZWlnaHQ9Yi4kLm9mZnNldEhlaWdodDtrLmhlaWdodD1rLm91dGVySGVpZ2h0LShoLnRvcCtoLmJvdHRvbStmLnRvcCtmLmJvdHRvbSk7ay53aWR0aD1rLm91dGVyV2lkdGgtKGgubGVmdCtoLnJpZ2h0K2YubGVmdCtmLnJpZ2h0KTtrLmJvdHRvbT1cbmsudG9wK2sub3V0ZXJIZWlnaHQ7ay5yaWdodD1rLmxlZnQray5vdXRlcldpZHRoO2EuaW5JbmxpbmVNb2RlJiYoay5zY3JvbGw9e3RvcDpiLiQuc2Nyb2xsVG9wLGxlZnQ6Yi4kLnNjcm9sbExlZnR9KTtyZXR1cm4gQyh7Ym9yZGVyOmYscGFkZGluZzpoLG1hcmdpbjpnLGlnbm9yZVNjcm9sbDpjfSxrLCEwKX1mdW5jdGlvbiBxKGEsYixjKXtpZighbihiKSlyZXR1cm4gYi5zaXplPW51bGw7aWYoIWIuc2l6ZSliLnNpemU9e307ZWxzZSBpZihiLnNpemUuaWdub3JlU2Nyb2xsPT1jJiZiLnNpemUuZGF0ZT5uZXcgRGF0ZS1OKXJldHVybiBudWxsO3JldHVybiBDKGIuc2l6ZSxBKGEsYixjKSx7ZGF0ZTorbmV3IERhdGV9LCEwKX1mdW5jdGlvbiB3KGEsYil7YS52aWV3LmVkaXRhYmxlPUEoYSxhLmVkaXRhYmxlLGIsITApfWZ1bmN0aW9uIEIoYSxiKXthLnZpZXd8fChhLnZpZXc9e30pO3ZhciBjPWEudmlldztpZighKCFiJiZjJiZjLmRhdGU+bmV3IERhdGUtTikpe3ZhciBkPWEud2luLFxuYz1kLmdldFNjcm9sbFBvc2l0aW9uKCksZD1kLmdldFZpZXdQYW5lU2l6ZSgpO0MoYS52aWV3LHtzY3JvbGw6e3g6Yy54LHk6Yy55LHdpZHRoOmEuZG9jLiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLWQud2lkdGgsaGVpZ2h0OmEuZG9jLiQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodC1kLmhlaWdodH0scGFuZTp7d2lkdGg6ZC53aWR0aCxoZWlnaHQ6ZC5oZWlnaHQsYm90dG9tOmQuaGVpZ2h0K2MueX0sZGF0ZTorbmV3IERhdGV9LCEwKX19ZnVuY3Rpb24geihhLGIsYyxkKXtmb3IodmFyIGU9ZCxnPWQsaD0wLGs9ITEsbD0hMSxtPWEudmlldy5wYW5lLmhlaWdodCxxPWEubW91c2U7cS55K2g8bSYmMDxxLnktaDspe2t8fChrPWIoZSxkKSk7bHx8KGw9YihnLGQpKTshayYmMDxxLnktaCYmKGU9YyhhLHt4OnEueCx5OnEueS1ofSkpOyFsJiZxLnkraDxtJiYoZz1jKGEse3g6cS54LHk6cS55K2h9KSk7aWYoayYmbClicmVhaztoKz0yfXJldHVybiBuZXcgZihbZSxnLG51bGwsXG5udWxsXSl9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJtYWdpY2xpbmVcIix7aW5pdDpmdW5jdGlvbihhKXt2YXIgYz1hLmNvbmZpZyxrPWMubWFnaWNsaW5lX3RyaWdnZXJPZmZzZXR8fDMwLGw9e2VkaXRvcjphLGVudGVyTW9kZTpjLmVudGVyTW9kZSx0cmlnZ2VyT2Zmc2V0OmssaG9sZERpc3RhbmNlOjB8ayooYy5tYWdpY2xpbmVfaG9sZERpc3RhbmNlfHwuNSksYm94Q29sb3I6Yy5tYWdpY2xpbmVfY29sb3J8fFwiI2ZmMDAwMFwiLHJ0bDpcInJ0bFwiPT1jLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbix0YWJ1TGlzdDpbXCJkYXRhLWNrZS1oaWRkZW4tc2VsXCJdLmNvbmNhdChjLm1hZ2ljbGluZV90YWJ1TGlzdHx8W10pLHRyaWdnZXJzOmMubWFnaWNsaW5lX2V2ZXJ5d2hlcmU/UTp7dGFibGU6MSxocjoxLGRpdjoxLHVsOjEsb2w6MSxkbDoxLGZvcm06MSxibG9ja3F1b3RlOjF9fSxxLHUsejtsLmlzUmVsZXZhbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIG4oYSkmJiFnKGwsYSkmJiFwKGEpfTthLm9uKFwiY29udGVudERvbVwiLFxuZnVuY3Rpb24oKXt2YXIgaz1hLmVkaXRhYmxlKCksbj1hLmRvY3VtZW50LHA9YS53aW5kb3c7QyhsLHtlZGl0YWJsZTprLGluSW5saW5lTW9kZTprLmlzSW5saW5lKCksZG9jOm4sd2luOnAsaG90Tm9kZTpudWxsfSwhMCk7bC5ib3VuZGFyeT1sLmluSW5saW5lTW9kZT9sLmVkaXRhYmxlOmwuZG9jLmdldERvY3VtZW50RWxlbWVudCgpO2suaXMoSC4kaW5saW5lKXx8KGwuaW5JbmxpbmVNb2RlJiYhcihrKSYmay5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwicmVsYXRpdmVcIix0b3A6bnVsbCxsZWZ0Om51bGx9KSxkLmNhbGwodGhpcyxsKSxCKGwpLGsuYXR0YWNoTGlzdGVuZXIoYSxcImJlZm9yZVVuZG9JbWFnZVwiLGZ1bmN0aW9uKCl7bC5saW5lLmRldGFjaCgpfSksay5hdHRhY2hMaXN0ZW5lcihhLFwiYmVmb3JlR2V0RGF0YVwiLGZ1bmN0aW9uKCl7bC5saW5lLndyYXAuZ2V0UGFyZW50KCkmJihsLmxpbmUuZGV0YWNoKCksYS5vbmNlKFwiZ2V0RGF0YVwiLGZ1bmN0aW9uKCl7bC5saW5lLmF0dGFjaCgpfSxcbm51bGwsbnVsbCwxRTMpKX0sbnVsbCxudWxsLDApLGsuYXR0YWNoTGlzdGVuZXIobC5pbklubGluZU1vZGU/bjpuLmdldFdpbmRvdygpLmdldEZyYW1lKCksXCJtb3VzZW91dFwiLGZ1bmN0aW9uKGIpe2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpaWYobC5pbklubGluZU1vZGUpe3ZhciBjPWIuZGF0YS4kLmNsaWVudFg7Yj1iLmRhdGEuJC5jbGllbnRZO0IobCk7dyhsLCEwKTt2YXIgZD1sLnZpZXcuZWRpdGFibGUsZT1sLnZpZXcuc2Nyb2xsO2M+ZC5sZWZ0LWUueCYmYzxkLnJpZ2h0LWUueCYmYj5kLnRvcC1lLnkmJmI8ZC5ib3R0b20tZS55fHwoY2xlYXJUaW1lb3V0KHopLHo9bnVsbCxsLmxpbmUuZGV0YWNoKCkpfWVsc2UgY2xlYXJUaW1lb3V0KHopLHo9bnVsbCxsLmxpbmUuZGV0YWNoKCl9KSxrLmF0dGFjaExpc3RlbmVyKGssXCJrZXl1cFwiLGZ1bmN0aW9uKCl7bC5oaWRkZW5Nb2RlPTB9KSxrLmF0dGFjaExpc3RlbmVyKGssXCJrZXlkb3duXCIsZnVuY3Rpb24oYil7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSlzd2l0Y2goYi5kYXRhLmdldEtleXN0cm9rZSgpKXtjYXNlIDIyMjgyNDA6Y2FzZSAxNjpsLmhpZGRlbk1vZGU9XG4xLGwubGluZS5kZXRhY2goKX19KSxrLmF0dGFjaExpc3RlbmVyKGwuaW5JbmxpbmVNb2RlP2s6bixcIm1vdXNlbW92ZVwiLGZ1bmN0aW9uKGIpe3U9ITA7aWYoXCJ3eXNpd3lnXCI9PWEubW9kZSYmIWEucmVhZE9ubHkmJiF6KXt2YXIgYz17eDpiLmRhdGEuJC5jbGllbnRYLHk6Yi5kYXRhLiQuY2xpZW50WX07ej1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5tb3VzZT1jO3o9bC50cmlnZ2VyPW51bGw7QihsKTt1JiYhbC5oaWRkZW5Nb2RlJiZhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmIWwubGluZS5tb3VzZU5lYXIoKSYmKGwuZWxlbWVudD1XKGwsITApKSYmKChsLnRyaWdnZXI9dChsKXx8eShsKXx8WChsKSkmJiF2KGwsbC50cmlnZ2VyLnVwcGVyfHxsLnRyaWdnZXIubG93ZXIpP2wubGluZS5hdHRhY2goKS5wbGFjZSgpOihsLnRyaWdnZXI9bnVsbCxsLmxpbmUuZGV0YWNoKCkpLHU9ITEpfSwzMCl9fSksay5hdHRhY2hMaXN0ZW5lcihwLFwic2Nyb2xsXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09XG5hLm1vZGUmJihsLmxpbmUuZGV0YWNoKCksRi53ZWJraXQmJihsLmhpZGRlbk1vZGU9MSxjbGVhclRpbWVvdXQocSkscT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bC5tb3VzZURvd258fChsLmhpZGRlbk1vZGU9MCl9LDUwKSkpfSksay5hdHRhY2hMaXN0ZW5lcihKP246cCxcIm1vdXNlZG93blwiLGZ1bmN0aW9uKCl7XCJ3eXNpd3lnXCI9PWEubW9kZSYmKGwubGluZS5kZXRhY2goKSxsLmhpZGRlbk1vZGU9MSxsLm1vdXNlRG93bj0xKX0pLGsuYXR0YWNoTGlzdGVuZXIoSj9uOnAsXCJtb3VzZXVwXCIsZnVuY3Rpb24oKXtsLmhpZGRlbk1vZGU9MDtsLm1vdXNlRG93bj0wfSksYS5hZGRDb21tYW5kKFwiYWNjZXNzUHJldmlvdXNTcGFjZVwiLG0obCkpLGEuYWRkQ29tbWFuZChcImFjY2Vzc05leHRTcGFjZVwiLG0obCwhMCkpLGEuc2V0S2V5c3Ryb2tlKFtbYy5tYWdpY2xpbmVfa2V5c3Ryb2tlUHJldmlvdXMsXCJhY2Nlc3NQcmV2aW91c1NwYWNlXCJdLFtjLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0LFwiYWNjZXNzTmV4dFNwYWNlXCJdXSksXG5hLm9uKFwibG9hZFNuYXBzaG90XCIsZnVuY3Rpb24oKXt2YXIgYixjLGQsZTtmb3IoZSBpbntwOjEsYnI6MSxkaXY6MX0pZm9yKGI9YS5kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnKGUpLGQ9Yi5jb3VudCgpO2QtLTspaWYoKGM9Yi5nZXRJdGVtKGQpKS5kYXRhKFwiY2tlLW1hZ2ljbGluZS1ob3RcIikpe2wuaG90Tm9kZT1jO2wubGFzdENtZERpcmVjdGlvbj1cInRydWVcIj09PWMuZGF0YShcImNrZS1tYWdpY2xpbmUtZGlyXCIpPyEwOiExO3JldHVybn19KSx0aGlzLmJhY2tkb29yPXthY2Nlc3NGb2N1c1NwYWNlOmgsYm94VHJpZ2dlcjpmLGlzTGluZTpnLGdldEFzY2VuZGFudFRyaWdnZXI6YixnZXROb25FbXB0eU5laWdoYm91cjplLGdldFNpemU6QSx0aGF0OmwsdHJpZ2dlckVkZ2U6eSx0cmlnZ2VyRWRpdGFibGU6dCx0cmlnZ2VyRXhwYW5kOlh9KX0sdGhpcyl9fSk7dmFyIEM9Q0tFRElUT1IudG9vbHMuZXh0ZW5kLEU9Q0tFRElUT1IuZG9tLmVsZW1lbnQsRz1FLmNyZWF0ZUZyb21IdG1sLFxuRj1DS0VESVRPUi5lbnYsSj1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24sSD1DS0VESVRPUi5kdGQsTT17fSxMPTEyOCxEPTY0LFQ9MzIsST0xNixPPTQsSz0yLFU9MSxWPVwiwqBcIixjYT1ILiRsaXN0SXRlbSxmYT1ILiR0YWJsZUNvbnRlbnQsUD1DKHt9LEguJG5vbkVkaXRhYmxlLEguJGVtcHR5KSxRPUguJGJsb2NrLE49MTAwLFM9XCJ3aWR0aDowcHg7aGVpZ2h0OjBweDtwYWRkaW5nOjBweDttYXJnaW46MHB4O2Rpc3BsYXk6YmxvY2s7ei1pbmRleDo5OTk5O2NvbG9yOiNmZmY7cG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOiAwcHg7bGluZS1oZWlnaHQ6MHB4O1wiLFI9UytcImJvcmRlci1jb2xvcjp0cmFuc3BhcmVudDtkaXNwbGF5OmJsb2NrO2JvcmRlci1zdHlsZTpzb2xpZDtcIixZPVwiXFx4M2NzcGFuXFx4M2VcIitWK1wiXFx4M2Mvc3BhblxceDNlXCI7TVtDS0VESVRPUi5FTlRFUl9CUl09XCJiclwiO01bQ0tFRElUT1IuRU5URVJfUF09XCJwXCI7TVtDS0VESVRPUi5FTlRFUl9ESVZdPVxuXCJkaXZcIjtmLnByb3RvdHlwZT17c2V0OmZ1bmN0aW9uKGEsYixjKXt0aGlzLnByb3BlcnRpZXM9YStiKyhjfHxVKTtyZXR1cm4gdGhpc30saXM6ZnVuY3Rpb24oYSl7cmV0dXJuKHRoaXMucHJvcGVydGllcyZhKT09YX19O3ZhciBXPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3ZhciBkPWIuJC5lbGVtZW50RnJvbVBvaW50KGMueCxjLnkpO3JldHVybiBkJiZkLm5vZGVUeXBlP25ldyBDS0VESVRPUi5kb20uZWxlbWVudChkKTpudWxsfXJldHVybiBmdW5jdGlvbihiLGMsZCl7aWYoIWIubW91c2UpcmV0dXJuIG51bGw7dmFyIGU9Yi5kb2MsZj1iLmxpbmUud3JhcDtkPWR8fGIubW91c2U7dmFyIGg9YShlLGQpO2MmJmcoYixoKSYmKGYuaGlkZSgpLGg9YShlLGQpLGYuc2hvdygpKTtyZXR1cm4haHx8aC50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fCFoLiR8fEYuaWUmJjk+Ri52ZXJzaW9uJiYhYi5ib3VuZGFyeS5lcXVhbHMoaCkmJiFiLmJvdW5kYXJ5LmNvbnRhaW5zKGgpP251bGw6XG5ofX0oKSxaPUNLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoKSxhYT1DS0VESVRPUi5kb20ud2Fsa2VyLm5vZGVUeXBlKENLRURJVE9SLk5PREVfQ09NTUVOVCksWD1mdW5jdGlvbigpe2Z1bmN0aW9uIGIoZSl7dmFyIGY9ZS5lbGVtZW50LGcsaCxrO2lmKCFuKGYpfHxmLmNvbnRhaW5zKGUuZWRpdGFibGUpfHxmLmlzUmVhZE9ubHkoKSlyZXR1cm4gbnVsbDtrPXooZSxmdW5jdGlvbihhLGIpe3JldHVybiFiLmVxdWFscyhhKX0sZnVuY3Rpb24oYSxiKXtyZXR1cm4gVyhhLCEwLGIpfSxmKTtnPWsudXBwZXI7aD1rLmxvd2VyO2lmKGEoZSxnLGgpKXJldHVybiBrLnNldChULDgpO2lmKGcmJmYuY29udGFpbnMoZykpZm9yKDshZy5nZXRQYXJlbnQoKS5lcXVhbHMoZik7KWc9Zy5nZXRQYXJlbnQoKTtlbHNlIGc9Zi5nZXRGaXJzdChmdW5jdGlvbihhKXtyZXR1cm4gZChlLGEpfSk7aWYoaCYmZi5jb250YWlucyhoKSlmb3IoOyFoLmdldFBhcmVudCgpLmVxdWFscyhmKTspaD1oLmdldFBhcmVudCgpO1xuZWxzZSBoPWYuZ2V0TGFzdChmdW5jdGlvbihhKXtyZXR1cm4gZChlLGEpfSk7aWYoIWd8fCFoKXJldHVybiBudWxsO3EoZSxnKTtxKGUsaCk7aWYoIWwoZS5tb3VzZS55LGcuc2l6ZS50b3AsaC5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7Zm9yKHZhciBmPU51bWJlci5NQVhfVkFMVUUsbSx0LHcscDtoJiYhaC5lcXVhbHMoZykmJih0PWcuZ2V0TmV4dChlLmlzUmVsZXZhbnQpKTspbT1NYXRoLmFicyhjKGUsZyx0KS1lLm1vdXNlLnkpLG08ZiYmKGY9bSx3PWcscD10KSxnPXQscShlLGcpO2lmKCF3fHwhcHx8IWwoZS5tb3VzZS55LHcuc2l6ZS50b3AscC5zaXplLmJvdHRvbSkpcmV0dXJuIG51bGw7ay51cHBlcj13O2subG93ZXI9cDtyZXR1cm4gay5zZXQoVCw4KX1mdW5jdGlvbiBkKGEsYil7cmV0dXJuIShiJiZiLnR5cGU9PUNLRURJVE9SLk5PREVfVEVYVHx8YWEoYil8fHAoYil8fGcoYSxiKXx8Yi50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmIuJCYmYi5pcyhcImJyXCIpKX1cbnJldHVybiBmdW5jdGlvbihjKXt2YXIgZD1iKGMpLGU7aWYoZT1kKXtlPWQudXBwZXI7dmFyIGY9ZC5sb3dlcjtlPSFlfHwhZnx8cChmKXx8cChlKXx8Zi5lcXVhbHMoZSl8fGUuZXF1YWxzKGYpfHxmLmNvbnRhaW5zKGUpfHxlLmNvbnRhaW5zKGYpPyExOngoYyxlKSYmeChjLGYpJiZhKGMsZSxmKT8hMDohMX1yZXR1cm4gZT9kOm51bGx9fSgpLGJhPVtcInRvcFwiLFwibGVmdFwiLFwicmlnaHRcIixcImJvdHRvbVwiXX0oKSxDS0VESVRPUi5jb25maWcubWFnaWNsaW5lX2tleXN0cm9rZVByZXZpb3VzPUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTEsQ0tFRElUT1IuY29uZmlnLm1hZ2ljbGluZV9rZXlzdHJva2VOZXh0PUNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrNTIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKCFhfHxhLnR5cGUhPUNLRURJVE9SLk5PREVfRUxFTUVOVHx8XCJmb3JtXCIhPWEuZ2V0TmFtZSgpKXJldHVybltdO2Zvcih2YXIgYj1bXSxjPVtcInN0eWxlXCIsXCJjbGFzc05hbWVcIl0sXG5lPTA7ZTxjLmxlbmd0aDtlKyspe3ZhciBmPWEuJC5lbGVtZW50cy5uYW1lZEl0ZW0oY1tlXSk7ZiYmKGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYpLGIucHVzaChbZixmLm5leHRTaWJsaW5nXSksZi5yZW1vdmUoKSl9cmV0dXJuIGJ9ZnVuY3Rpb24gZihhLGIpe2lmKGEmJmEudHlwZT09Q0tFRElUT1IuTk9ERV9FTEVNRU5UJiZcImZvcm1cIj09YS5nZXROYW1lKCkmJjA8Yi5sZW5ndGgpZm9yKHZhciBjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBlPWJbY11bMF0sZj1iW2NdWzFdO2Y/ZS5pbnNlcnRCZWZvcmUoZik6ZS5hcHBlbmRUbyhhKX19ZnVuY3Rpb24gYihiLGMpe3ZhciBkPWEoYiksZT17fSxtPWIuJDtjfHwoZVtcImNsYXNzXCJdPW0uY2xhc3NOYW1lfHxcIlwiLG0uY2xhc3NOYW1lPVwiXCIpO2UuaW5saW5lPW0uc3R5bGUuY3NzVGV4dHx8XCJcIjtjfHwobS5zdHlsZS5jc3NUZXh0PVwicG9zaXRpb246IHN0YXRpYzsgb3ZlcmZsb3c6IHZpc2libGVcIik7ZihkKTtyZXR1cm4gZX1mdW5jdGlvbiBjKGIsXG5jKXt2YXIgZD1hKGIpLGU9Yi4kO1wiY2xhc3NcImluIGMmJihlLmNsYXNzTmFtZT1jW1wiY2xhc3NcIl0pO1wiaW5saW5lXCJpbiBjJiYoZS5zdHlsZS5jc3NUZXh0PWMuaW5saW5lKTtmKGQpfWZ1bmN0aW9uIGUoYSl7aWYoIWEuZWRpdGFibGUoKS5pc0lubGluZSgpKXt2YXIgYj1DS0VESVRPUi5pbnN0YW5jZXMsYztmb3IoYyBpbiBiKXt2YXIgZT1iW2NdO1wid3lzaXd5Z1wiIT1lLm1vZGV8fGUucmVhZE9ubHl8fChlPWUuZG9jdW1lbnQuZ2V0Qm9keSgpLGUuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITEpLGUuc2V0QXR0cmlidXRlKFwiY29udGVudEVkaXRhYmxlXCIsITApKX1hLmVkaXRhYmxlKCkuaGFzRm9jdXMmJihhLnRvb2xib3guZm9jdXMoKSxhLmZvY3VzKCkpfX1DS0VESVRPUi5wbHVnaW5zLmFkZChcIm1heGltaXplXCIse2luaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZigpe3ZhciBiPW0uZ2V0Vmlld1BhbmVTaXplKCk7YS5yZXNpemUoYi53aWR0aCxiLmhlaWdodCxudWxsLFxuITApfWlmKGEuZWxlbWVudE1vZGUhPUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkUpe3ZhciBkPWEubGFuZyxoPUNLRURJVE9SLmRvY3VtZW50LG09aC5nZXRXaW5kb3coKSxnLG4scCxyPUNLRURJVE9SLlRSSVNUQVRFX09GRjthLmFkZENvbW1hbmQoXCJtYXhpbWl6ZVwiLHttb2Rlczp7d3lzaXd5ZzohQ0tFRElUT1IuZW52LmlPUyxzb3VyY2U6IUNLRURJVE9SLmVudi5pT1N9LHJlYWRPbmx5OjEsZWRpdG9yRm9jdXM6ITEsZXhlYzpmdW5jdGlvbigpe3ZhciB4PWEuY29udGFpbmVyLmdldEZpcnN0KGZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmYS5oYXNDbGFzcyhcImNrZV9pbm5lclwiKX0pLHY9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpO2lmKFwid3lzaXd5Z1wiPT1hLm1vZGUpe3ZhciB1PWEuZ2V0U2VsZWN0aW9uKCk7Zz11JiZ1LmdldFJhbmdlcygpO249bS5nZXRTY3JvbGxQb3NpdGlvbigpfWVsc2V7dmFyIHQ9YS5lZGl0YWJsZSgpLiQ7Zz1cbiFDS0VESVRPUi5lbnYuaWUmJlt0LnNlbGVjdGlvblN0YXJ0LHQuc2VsZWN0aW9uRW5kXTtuPVt0LnNjcm9sbExlZnQsdC5zY3JvbGxUb3BdfWlmKHRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRil7bS5vbihcInJlc2l6ZVwiLGYpO3A9bS5nZXRTY3JvbGxQb3NpdGlvbigpO2Zvcih1PWEuY29udGFpbmVyO3U9dS5nZXRQYXJlbnQoKTspdS5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYih1KSksdS5zZXRTdHlsZShcInotaW5kZXhcIixhLmNvbmZpZy5iYXNlRmxvYXRaSW5kZXgtNSk7di5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYih2LCEwKSk7eC5zZXRDdXN0b21EYXRhKFwibWF4aW1pemVfc2F2ZWRfc3R5bGVzXCIsYih4LCEwKSk7dj17b3ZlcmZsb3c6Q0tFRElUT1IuZW52LndlYmtpdD9cIlwiOlwiaGlkZGVuXCIsd2lkdGg6MCxoZWlnaHQ6MH07aC5nZXREb2N1bWVudEVsZW1lbnQoKS5zZXRTdHlsZXModik7IUNLRURJVE9SLmVudi5nZWNrbyYmXG5oLmdldERvY3VtZW50RWxlbWVudCgpLnNldFN0eWxlKFwicG9zaXRpb25cIixcImZpeGVkXCIpO0NLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnF1aXJrc3x8aC5nZXRCb2R5KCkuc2V0U3R5bGVzKHYpO0NLRURJVE9SLmVudi5pZT9zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bS4kLnNjcm9sbFRvKDAsMCl9LDApOm0uJC5zY3JvbGxUbygwLDApO3guc2V0U3R5bGUoXCJwb3NpdGlvblwiLENLRURJVE9SLmVudi5nZWNrbyYmQ0tFRElUT1IuZW52LnF1aXJrcz9cImZpeGVkXCI6XCJhYnNvbHV0ZVwiKTt4LiQub2Zmc2V0TGVmdDt4LnNldFN0eWxlcyh7XCJ6LWluZGV4XCI6YS5jb25maWcuYmFzZUZsb2F0WkluZGV4LTUsbGVmdDpcIjBweFwiLHRvcDpcIjBweFwifSk7eC5hZGRDbGFzcyhcImNrZV9tYXhpbWl6ZWRcIik7ZigpO3Y9eC5nZXREb2N1bWVudFBvc2l0aW9uKCk7eC5zZXRTdHlsZXMoe2xlZnQ6LTEqdi54K1wicHhcIix0b3A6LTEqdi55K1wicHhcIn0pO0NLRURJVE9SLmVudi5nZWNrbyYmZShhKX1lbHNlIGlmKHRoaXMuc3RhdGU9PVxuQ0tFRElUT1IuVFJJU1RBVEVfT04pe20ucmVtb3ZlTGlzdGVuZXIoXCJyZXNpemVcIixmKTtmb3IodmFyIHU9W3YseF0seT0wO3k8dS5sZW5ndGg7eSsrKWModVt5XSx1W3ldLmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHVbeV0ucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtmb3IodT1hLmNvbnRhaW5lcjt1PXUuZ2V0UGFyZW50KCk7KWModSx1LmdldEN1c3RvbURhdGEoXCJtYXhpbWl6ZV9zYXZlZF9zdHlsZXNcIikpLHUucmVtb3ZlQ3VzdG9tRGF0YShcIm1heGltaXplX3NhdmVkX3N0eWxlc1wiKTtDS0VESVRPUi5lbnYuaWU/c2V0VGltZW91dChmdW5jdGlvbigpe20uJC5zY3JvbGxUbyhwLngscC55KX0sMCk6bS4kLnNjcm9sbFRvKHAueCxwLnkpO3gucmVtb3ZlQ2xhc3MoXCJja2VfbWF4aW1pemVkXCIpO0NLRURJVE9SLmVudi53ZWJraXQmJih4LnNldFN0eWxlKFwiZGlzcGxheVwiLFwiaW5saW5lXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXt4LnNldFN0eWxlKFwiZGlzcGxheVwiLFxuXCJibG9ja1wiKX0sMCkpO2EuZmlyZShcInJlc2l6ZVwiLHtvdXRlckhlaWdodDphLmNvbnRhaW5lci4kLm9mZnNldEhlaWdodCxjb250ZW50c0hlaWdodDp2LiQub2Zmc2V0SGVpZ2h0LG91dGVyV2lkdGg6YS5jb250YWluZXIuJC5vZmZzZXRXaWR0aH0pfXRoaXMudG9nZ2xlU3RhdGUoKTtpZih1PXRoaXMudWlJdGVtc1swXSl2PXRoaXMuc3RhdGU9PUNLRURJVE9SLlRSSVNUQVRFX09GRj9kLm1heGltaXplLm1heGltaXplOmQubWF4aW1pemUubWluaW1pemUsdT1DS0VESVRPUi5kb2N1bWVudC5nZXRCeUlkKHUuXy5pZCksdS5nZXRDaGlsZCgxKS5zZXRIdG1sKHYpLHUuc2V0QXR0cmlidXRlKFwidGl0bGVcIix2KSx1LnNldEF0dHJpYnV0ZShcImhyZWZcIiwnamF2YXNjcmlwdDp2b2lkKFwiJyt2KydcIik7Jyk7XCJ3eXNpd3lnXCI9PWEubW9kZT9nPyhDS0VESVRPUi5lbnYuZ2Vja28mJmUoYSksYS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoZyksKHQ9YS5nZXRTZWxlY3Rpb24oKS5nZXRTdGFydEVsZW1lbnQoKSkmJlxudC5zY3JvbGxJbnRvVmlldyghMCkpOm0uJC5zY3JvbGxUbyhuLngsbi55KTooZyYmKHQuc2VsZWN0aW9uU3RhcnQ9Z1swXSx0LnNlbGVjdGlvbkVuZD1nWzFdKSx0LnNjcm9sbExlZnQ9blswXSx0LnNjcm9sbFRvcD1uWzFdKTtnPW49bnVsbDtyPXRoaXMuc3RhdGU7YS5maXJlKFwibWF4aW1pemVcIix0aGlzLnN0YXRlKX0sY2FuVW5kbzohMX0pO2EudWkuYWRkQnV0dG9uJiZhLnVpLmFkZEJ1dHRvbihcIk1heGltaXplXCIse2xhYmVsOmQubWF4aW1pemUubWF4aW1pemUsY29tbWFuZDpcIm1heGltaXplXCIsdG9vbGJhcjpcInRvb2xzLDEwXCJ9KTthLm9uKFwibW9kZVwiLGZ1bmN0aW9uKCl7dmFyIGI9YS5nZXRDb21tYW5kKFwibWF4aW1pemVcIik7Yi5zZXRTdGF0ZShiLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRD9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpyKX0sbnVsbCxudWxsLDEwMCl9fX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7dmFyIGU9Q0tFRElUT1IuY2xlYW5Xb3JkO1xuZT9jKCk6KGE9Q0tFRElUT1IuZ2V0VXJsKGEuY29uZmlnLnBhc3RlRnJvbVdvcmRDbGVhbnVwRmlsZXx8YitcImZpbHRlci9kZWZhdWx0LmpzXCIpLENLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKGEsYyxudWxsLCEwKSk7cmV0dXJuIWV9Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJwYXN0ZWZyb213b3JkXCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkXCIsaW5pdDpmdW5jdGlvbihmKXt2YXIgYj0wLGM9dGhpcy5wYXRoO2YuYWRkQ29tbWFuZChcInBhc3RlZnJvbXdvcmRcIix7Y2FuVW5kbzohMSxhc3luYzohMCxleGVjOmZ1bmN0aW9uKGEsYyl7Yj0xO2EuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwiaHRtbFwiLG5vdGlmaWNhdGlvbjpjJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGMubm90aWZpY2F0aW9uP2Mubm90aWZpY2F0aW9uOiEwfSl9fSk7Zi51aS5hZGRCdXR0b24mJmYudWkuYWRkQnV0dG9uKFwiUGFzdGVGcm9tV29yZFwiLHtsYWJlbDpmLmxhbmcucGFzdGVmcm9td29yZC50b29sYmFyLGNvbW1hbmQ6XCJwYXN0ZWZyb213b3JkXCIsXG50b29sYmFyOlwiY2xpcGJvYXJkLDUwXCJ9KTtmLm9uKFwicGFzdGVcIixmdW5jdGlvbihlKXt2YXIgbD1lLmRhdGEsaz0oQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21EYXRhVHlwZXNTdXBwb3J0ZWQ/bC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShcInRleHQvaHRtbFwiLCEwKTpudWxsKXx8bC5kYXRhVmFsdWUsZD17ZGF0YVZhbHVlOmt9LGg9LyhjbGFzcz1cXFwiP01zb3xzdHlsZT0oPzpcXFwifFxcJylbXlxcXCJdKj9cXGJtc29cXC18dzpXb3JkRG9jdW1lbnR8PG86XFx3Kz58PFxcL2ZvbnQ+KS8saD0vPG1ldGFcXHMqbmFtZT0oPzpcXFwifFxcJyk/Z2VuZXJhdG9yKD86XFxcInxcXCcpP1xccypjb250ZW50PSg/OlxcXCJ8XFwnKT9taWNyb3NvZnQvZ2kudGVzdChrKXx8aC50ZXN0KGspO2lmKGsmJihifHxoKSYmKCExIT09Zi5maXJlKFwicGFzdGVGcm9tV29yZFwiLGQpfHxiKSl7bC5kb250RmlsdGVyPSEwO3ZhciBtPWEoZixjLGZ1bmN0aW9uKCl7aWYobSlmLmZpcmUoXCJwYXN0ZVwiLGwpO2Vsc2UgaWYoIWYuY29uZmlnLnBhc3RlRnJvbVdvcmRQcm9tcHRDbGVhbnVwfHxcbmJ8fGNvbmZpcm0oZi5sYW5nLnBhc3RlZnJvbXdvcmQuY29uZmlybUNsZWFudXApKWQuZGF0YVZhbHVlPUNLRURJVE9SLmNsZWFuV29yZChkLmRhdGFWYWx1ZSxmKSxmLmZpcmUoXCJhZnRlclBhc3RlRnJvbVdvcmRcIixkKSxsLmRhdGFWYWx1ZT1kLmRhdGFWYWx1ZTtiPTB9KTttJiZlLmNhbmNlbCgpfX0sbnVsbCxudWxsLDMpfX0pfSgpLGZ1bmN0aW9uKCl7dmFyIGE9e2NhblVuZG86ITEsYXN5bmM6ITAsZXhlYzpmdW5jdGlvbihhLGIpe3ZhciBjPWEubGFuZyxlPUNLRURJVE9SLnRvb2xzLmtleXN0cm9rZVRvU3RyaW5nKGMuY29tbW9uLmtleWJvYXJkLGEuZ2V0Q29tbWFuZEtleXN0cm9rZShDS0VESVRPUi5lbnYuaWU/YS5jb21tYW5kcy5wYXN0ZTp0aGlzKSksbD1iJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGIubm90aWZpY2F0aW9uP2Iubm90aWZpY2F0aW9uOiFifHwhYi5mcm9tfHxcImtleXN0cm9rZUhhbmRsZXJcIj09PWIuZnJvbSYmQ0tFRElUT1IuZW52LmllLGM9bCYmXCJzdHJpbmdcIj09PVxudHlwZW9mIGw/bDpjLnBhc3RldGV4dC5wYXN0ZU5vdGlmaWNhdGlvbi5yZXBsYWNlKC8lMS8sJ1xceDNja2JkIGFyaWEtbGFiZWxcXHgzZFwiJytlLmFyaWErJ1wiXFx4M2UnK2UuZGlzcGxheStcIlxceDNjL2tiZFxceDNlXCIpO2EuZXhlY0NvbW1hbmQoXCJwYXN0ZVwiLHt0eXBlOlwidGV4dFwiLG5vdGlmaWNhdGlvbjpsP2M6ITF9KX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwicGFzdGV0ZXh0XCIse3JlcXVpcmVzOlwiY2xpcGJvYXJkXCIsaW5pdDpmdW5jdGlvbihmKXt2YXIgYj1DS0VESVRPUi5lbnYuc2FmYXJpP0NLRURJVE9SLkNUUkwrQ0tFRElUT1IuQUxUK0NLRURJVE9SLlNISUZUKzg2OkNLRURJVE9SLkNUUkwrQ0tFRElUT1IuU0hJRlQrODY7Zi5hZGRDb21tYW5kKFwicGFzdGV0ZXh0XCIsYSk7Zi5zZXRLZXlzdHJva2UoYixcInBhc3RldGV4dFwiKTtmLnVpLmFkZEJ1dHRvbiYmZi51aS5hZGRCdXR0b24oXCJQYXN0ZVRleHRcIix7bGFiZWw6Zi5sYW5nLnBhc3RldGV4dC5idXR0b24sY29tbWFuZDpcInBhc3RldGV4dFwiLFxudG9vbGJhcjpcImNsaXBib2FyZCw0MFwifSk7aWYoZi5jb25maWcuZm9yY2VQYXN0ZUFzUGxhaW5UZXh0KWYub24oXCJiZWZvcmVQYXN0ZVwiLGZ1bmN0aW9uKGEpe1wiaHRtbFwiIT1hLmRhdGEudHlwZSYmKGEuZGF0YS50eXBlPVwidGV4dFwiKX0pO2Yub24oXCJwYXN0ZVN0YXRlXCIsZnVuY3Rpb24oYSl7Zi5nZXRDb21tYW5kKFwicGFzdGV0ZXh0XCIpLnNldFN0YXRlKGEuZGF0YSl9KX19KX0oKSxDS0VESVRPUi5wbHVnaW5zLmFkZChcInJlbW92ZWZvcm1hdFwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuYWRkQ29tbWFuZChcInJlbW92ZUZvcm1hdFwiLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0LmNvbW1hbmRzLnJlbW92ZWZvcm1hdCk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiUmVtb3ZlRm9ybWF0XCIse2xhYmVsOmEubGFuZy5yZW1vdmVmb3JtYXQudG9vbGJhcixjb21tYW5kOlwicmVtb3ZlRm9ybWF0XCIsdG9vbGJhcjpcImNsZWFudXAsMTBcIn0pfX0pLENLRURJVE9SLnBsdWdpbnMucmVtb3ZlZm9ybWF0PVxue2NvbW1hbmRzOntyZW1vdmVmb3JtYXQ6e2V4ZWM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmPWEuXy5yZW1vdmVGb3JtYXRSZWdleHx8KGEuXy5yZW1vdmVGb3JtYXRSZWdleD1uZXcgUmVnRXhwKFwiXig/OlwiK2EuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3MucmVwbGFjZSgvLC9nLFwifFwiKStcIikkXCIsXCJpXCIpKSxiPWEuXy5yZW1vdmVBdHRyaWJ1dGVzfHwoYS5fLnJlbW92ZUF0dHJpYnV0ZXM9YS5jb25maWcucmVtb3ZlRm9ybWF0QXR0cmlidXRlcy5zcGxpdChcIixcIikpLGM9Q0tFRElUT1IucGx1Z2lucy5yZW1vdmVmb3JtYXQuZmlsdGVyLGU9YS5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxsPWUuY3JlYXRlSXRlcmF0b3IoKSxrPWZ1bmN0aW9uKGEpe3JldHVybiBhLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVH0sZDtkPWwuZ2V0TmV4dFJhbmdlKCk7KXtkLmNvbGxhcHNlZHx8ZC5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCk7dmFyIGg9ZC5jcmVhdGVCb29rbWFyaygpLFxubT1oLnN0YXJ0Tm9kZSxnPWguZW5kTm9kZSxuPWZ1bmN0aW9uKGIpe2Zvcih2YXIgZD1hLmVsZW1lbnRQYXRoKGIpLGU9ZC5lbGVtZW50cyxnPTEsaDsoaD1lW2ddKSYmIWguZXF1YWxzKGQuYmxvY2spJiYhaC5lcXVhbHMoZC5ibG9ja0xpbWl0KTtnKyspZi50ZXN0KGguZ2V0TmFtZSgpKSYmYyhhLGgpJiZiLmJyZWFrUGFyZW50KGgpfTtuKG0pO2lmKGcpZm9yKG4oZyksbT1tLmdldE5leHRTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCk7bSYmIW0uZXF1YWxzKGcpOylpZihtLmlzUmVhZE9ubHkoKSl7aWYobS5nZXRQb3NpdGlvbihnKSZDS0VESVRPUi5QT1NJVElPTl9DT05UQUlOUylicmVhazttPW0uZ2V0TmV4dChrKX1lbHNlIG49bS5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpLFwiaW1nXCI9PW0uZ2V0TmFtZSgpJiZtLmRhdGEoXCJja2UtcmVhbGVsZW1lbnRcIil8fCFjKGEsbSl8fChmLnRlc3QobS5nZXROYW1lKCkpP20ucmVtb3ZlKDEpOlxuKG0ucmVtb3ZlQXR0cmlidXRlcyhiKSxhLmZpcmUoXCJyZW1vdmVGb3JtYXRDbGVhbnVwXCIsbSkpKSxtPW47ZC5tb3ZlVG9Cb29rbWFyayhoKX1hLmZvcmNlTmV4dFNlbGVjdGlvbkNoZWNrKCk7YS5nZXRTZWxlY3Rpb24oKS5zZWxlY3RSYW5nZXMoZSl9fX0sZmlsdGVyOmZ1bmN0aW9uKGEsZil7Zm9yKHZhciBiPWEuXy5yZW1vdmVGb3JtYXRGaWx0ZXJzfHxbXSxjPTA7YzxiLmxlbmd0aDtjKyspaWYoITE9PT1iW2NdKGYpKXJldHVybiExO3JldHVybiEwfX0sQ0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXI9ZnVuY3Rpb24oYSl7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnN8fCh0aGlzLl8ucmVtb3ZlRm9ybWF0RmlsdGVycz1bXSk7dGhpcy5fLnJlbW92ZUZvcm1hdEZpbHRlcnMucHVzaChhKX0sQ0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdFRhZ3M9XCJiLGJpZyxjaXRlLGNvZGUsZGVsLGRmbixlbSxmb250LGksaW5zLGtiZCxxLHMsc2FtcCxzbWFsbCxzcGFuLHN0cmlrZSxzdHJvbmcsc3ViLHN1cCx0dCx1LHZhclwiLFxuQ0tFRElUT1IuY29uZmlnLnJlbW92ZUZvcm1hdEF0dHJpYnV0ZXM9XCJjbGFzcyxzdHlsZSxsYW5nLHdpZHRoLGhlaWdodCxhbGlnbixoc3BhY2UsdmFsaWduXCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJyZXNpemVcIix7aW5pdDpmdW5jdGlvbihhKXtmdW5jdGlvbiBmKGIpe3ZhciBlPWgud2lkdGgsZj1oLmhlaWdodCxrPWUrKGIuZGF0YS4kLnNjcmVlblgtZC54KSooXCJydGxcIj09bD8tMToxKTtiPWYrKGIuZGF0YS4kLnNjcmVlblktZC55KTttJiYoZT1NYXRoLm1heChjLnJlc2l6ZV9taW5XaWR0aCxNYXRoLm1pbihrLGMucmVzaXplX21heFdpZHRoKSkpO2cmJihmPU1hdGgubWF4KGMucmVzaXplX21pbkhlaWdodCxNYXRoLm1pbihiLGMucmVzaXplX21heEhlaWdodCkpKTthLnJlc2l6ZShtP2U6bnVsbCxmKX1mdW5jdGlvbiBiKCl7Q0tFRElUT1IuZG9jdW1lbnQucmVtb3ZlTGlzdGVuZXIoXCJtb3VzZW1vdmVcIixmKTtDS0VESVRPUi5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixcbmIpO2EuZG9jdW1lbnQmJihhLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZiksYS5kb2N1bWVudC5yZW1vdmVMaXN0ZW5lcihcIm1vdXNldXBcIixiKSl9dmFyIGM9YS5jb25maWcsZT1hLnVpLnNwYWNlSWQoXCJyZXNpemVyXCIpLGw9YS5lbGVtZW50P2EuZWxlbWVudC5nZXREaXJlY3Rpb24oMSk6XCJsdHJcIjshYy5yZXNpemVfZGlyJiYoYy5yZXNpemVfZGlyPVwidmVydGljYWxcIik7dm9pZCAwPT09Yy5yZXNpemVfbWF4V2lkdGgmJihjLnJlc2l6ZV9tYXhXaWR0aD0zRTMpO3ZvaWQgMD09PWMucmVzaXplX21heEhlaWdodCYmKGMucmVzaXplX21heEhlaWdodD0zRTMpO3ZvaWQgMD09PWMucmVzaXplX21pbldpZHRoJiYoYy5yZXNpemVfbWluV2lkdGg9NzUwKTt2b2lkIDA9PT1jLnJlc2l6ZV9taW5IZWlnaHQmJihjLnJlc2l6ZV9taW5IZWlnaHQ9MjUwKTtpZighMSE9PWMucmVzaXplX2VuYWJsZWQpe3ZhciBrPW51bGwsZCxoLG09KFwiYm90aFwiPT1jLnJlc2l6ZV9kaXJ8fFxuXCJob3Jpem9udGFsXCI9PWMucmVzaXplX2RpcikmJmMucmVzaXplX21pbldpZHRoIT1jLnJlc2l6ZV9tYXhXaWR0aCxnPShcImJvdGhcIj09Yy5yZXNpemVfZGlyfHxcInZlcnRpY2FsXCI9PWMucmVzaXplX2RpcikmJmMucmVzaXplX21pbkhlaWdodCE9Yy5yZXNpemVfbWF4SGVpZ2h0LG49Q0tFRElUT1IudG9vbHMuYWRkRnVuY3Rpb24oZnVuY3Rpb24oZSl7a3x8KGs9YS5nZXRSZXNpemFibGUoKSk7aD17d2lkdGg6ay4kLm9mZnNldFdpZHRofHwwLGhlaWdodDprLiQub2Zmc2V0SGVpZ2h0fHwwfTtkPXt4OmUuc2NyZWVuWCx5OmUuc2NyZWVuWX07Yy5yZXNpemVfbWluV2lkdGg+aC53aWR0aCYmKGMucmVzaXplX21pbldpZHRoPWgud2lkdGgpO2MucmVzaXplX21pbkhlaWdodD5oLmhlaWdodCYmKGMucmVzaXplX21pbkhlaWdodD1oLmhlaWdodCk7Q0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZW1vdmVcIixmKTtDS0VESVRPUi5kb2N1bWVudC5vbihcIm1vdXNldXBcIixiKTthLmRvY3VtZW50JiZcbihhLmRvY3VtZW50Lm9uKFwibW91c2Vtb3ZlXCIsZiksYS5kb2N1bWVudC5vbihcIm1vdXNldXBcIixiKSk7ZS5wcmV2ZW50RGVmYXVsdCYmZS5wcmV2ZW50RGVmYXVsdCgpfSk7YS5vbihcImRlc3Ryb3lcIixmdW5jdGlvbigpe0NLRURJVE9SLnRvb2xzLnJlbW92ZUZ1bmN0aW9uKG4pfSk7YS5vbihcInVpU3BhY2VcIixmdW5jdGlvbihiKXtpZihcImJvdHRvbVwiPT1iLmRhdGEuc3BhY2Upe3ZhciBjPVwiXCI7bSYmIWcmJihjPVwiIGNrZV9yZXNpemVyX2hvcml6b250YWxcIik7IW0mJmcmJihjPVwiIGNrZV9yZXNpemVyX3ZlcnRpY2FsXCIpO3ZhciBkPSdcXHgzY3NwYW4gaWRcXHgzZFwiJytlKydcIiBjbGFzc1xceDNkXCJja2VfcmVzaXplcicrYytcIiBja2VfcmVzaXplcl9cIitsKydcIiB0aXRsZVxceDNkXCInK0NLRURJVE9SLnRvb2xzLmh0bWxFbmNvZGUoYS5sYW5nLmNvbW1vbi5yZXNpemUpKydcIiBvbm1vdXNlZG93blxceDNkXCJDS0VESVRPUi50b29scy5jYWxsRnVuY3Rpb24oJytuKycsIGV2ZW50KVwiXFx4M2UnKyhcImx0clwiPT1cbmw/XCLil6JcIjpcIuKXo1wiKStcIlxceDNjL3NwYW5cXHgzZVwiO1wibHRyXCI9PWwmJlwibHRyXCI9PWM/Yi5kYXRhLmh0bWwrPWQ6Yi5kYXRhLmh0bWw9ZCtiLmRhdGEuaHRtbH19LGEsbnVsbCwxMDApO2Eub24oXCJtYXhpbWl6ZVwiLGZ1bmN0aW9uKGIpe2EudWkuc3BhY2UoXCJyZXNpemVyXCIpW2IuZGF0YT09Q0tFRElUT1IuVFJJU1RBVEVfT04/XCJoaWRlXCI6XCJzaG93XCJdKCl9KX19fSksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJtZW51YnV0dG9uXCIse3JlcXVpcmVzOlwiYnV0dG9uLG1lbnVcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgYT1mdW5jdGlvbihhKXt2YXIgYj10aGlzLl8sYz1iLm1lbnU7Yi5zdGF0ZSE9PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiYoYi5vbiYmYz9jLmhpZGUoKTooYi5wcmV2aW91c1N0YXRlPWIuc3RhdGUsY3x8KGM9Yi5tZW51PW5ldyBDS0VESVRPUi5tZW51KGEse3BhbmVsOntjbGFzc05hbWU6XCJja2VfbWVudV9wYW5lbFwiLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmEubGFuZy5jb21tb24ub3B0aW9uc319fSksXG5jLm9uSGlkZT1DS0VESVRPUi50b29scy5iaW5kKGZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5jb21tYW5kP2EuZ2V0Q29tbWFuZCh0aGlzLmNvbW1hbmQpLm1vZGVzOnRoaXMubW9kZXM7dGhpcy5zZXRTdGF0ZSghY3x8Y1thLm1vZGVdP2IucHJldmlvdXNTdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7Yi5vbj0wfSx0aGlzKSx0aGlzLm9uTWVudSYmYy5hZGRMaXN0ZW5lcih0aGlzLm9uTWVudSkpLHRoaXMuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfT04pLGIub249MSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yy5zaG93KENLRURJVE9SLmRvY3VtZW50LmdldEJ5SWQoYi5pZCksNCl9LDApKSl9O0NLRURJVE9SLnVpLm1lbnVCdXR0b249Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IudWkuYnV0dG9uLCQ6ZnVuY3Rpb24oZil7ZGVsZXRlIGYucGFuZWw7dGhpcy5iYXNlKGYpO3RoaXMuaGFzQXJyb3c9ITA7dGhpcy5jbGljaz1hfSxzdGF0aWNzOntoYW5kbGVyOntjcmVhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBDS0VESVRPUi51aS5tZW51QnV0dG9uKGEpfX19fSl9LFxuYmVmb3JlSW5pdDpmdW5jdGlvbihhKXthLnVpLmFkZEhhbmRsZXIoQ0tFRElUT1IuVUlfTUVOVUJVVFRPTixDS0VESVRPUi51aS5tZW51QnV0dG9uLmhhbmRsZXIpfX0pLENLRURJVE9SLlVJX01FTlVCVVRUT049XCJtZW51YnV0dG9uXCIsXCJ1c2Ugc3RyaWN0XCIsQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJzY2F5dFwiLHtyZXF1aXJlczpcIm1lbnVidXR0b24sZGlhbG9nXCIsdGFiVG9PcGVuOm51bGwsZGlhbG9nTmFtZTpcInNjYXl0RGlhbG9nXCIsb25Mb2FkOmZ1bmN0aW9uKGEpe0NLRURJVE9SLnBsdWdpbnMuc2NheXQub25Mb2FkVGltZXN0YW1wPShuZXcgRGF0ZSkuZ2V0VGltZSgpO1wibW9vbm8tbGlzYVwiPT0oQ0tFRElUT1Iuc2tpbk5hbWV8fGEuY29uZmlnLnNraW4pJiZDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcInNraW5zL1wiK0NLRURJVE9SLnNraW4ubmFtZStcIi9zY2F5dC5jc3NcIik7Q0tFRElUT1IuZG9jdW1lbnQuYXBwZW5kU3R5bGVTaGVldCh0aGlzLnBhdGgrXG5cImRpYWxvZ3MvZGlhbG9nLmNzc1wiKX0saW5pdDpmdW5jdGlvbihhKXt2YXIgZj10aGlzLGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDt0aGlzLmJpbmRFdmVudHMoYSk7dGhpcy5wYXJzZUNvbmZpZyhhKTt0aGlzLmFkZFJ1bGUoYSk7Q0tFRElUT1IuZGlhbG9nLmFkZCh0aGlzLmRpYWxvZ05hbWUsQ0tFRElUT1IuZ2V0VXJsKHRoaXMucGF0aCtcImRpYWxvZ3Mvb3B0aW9ucy5qc1wiKSk7dGhpcy5hZGRNZW51SXRlbXMoYSk7dmFyIGM9YS5sYW5nLnNjYXl0LGU9Q0tFRElUT1IuZW52O2EudWkuYWRkKFwiU2NheXRcIixDS0VESVRPUi5VSV9NRU5VQlVUVE9OLHtsYWJlbDpjLnRleHRfdGl0bGUsdGl0bGU6YS5wbHVnaW5zLndzYz9hLmxhbmcud3NjLnRpdGxlOmMudGV4dF90aXRsZSxtb2Rlczp7d3lzaXd5ZzohKGUuaWUmJig4PmUudmVyc2lvbnx8ZS5xdWlya3MpKX0sdG9vbGJhcjpcInNwZWxsY2hlY2tlciwyMFwiLHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYz1hLnVpLmluc3RhbmNlcy5TY2F5dC5nZXRTdGF0ZSgpO1xuYS5zY2F5dCYmKGM9Yi5zdGF0ZS5zY2F5dFthLm5hbWVdP0NLRURJVE9SLlRSSVNUQVRFX09OOkNLRURJVE9SLlRSSVNUQVRFX09GRik7YS5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLGMpfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXM7YS5vbihcInNjYXl0QnV0dG9uU3RhdGVcIixmdW5jdGlvbihhKXt2b2lkIDAhPT10eXBlb2YgYS5kYXRhJiZiLnNldFN0YXRlKGEuZGF0YSl9KX0sb25NZW51OmZ1bmN0aW9uKCl7dmFyIGM9YS5zY2F5dDthLmdldE1lbnVJdGVtKFwic2NheXRUb2dnbGVcIikubGFiZWw9YS5sYW5nLnNjYXl0W2MmJmIuc3RhdGUuc2NheXRbYS5uYW1lXT9cImJ0bl9kaXNhYmxlXCI6XCJidG5fZW5hYmxlXCJdO3ZhciBlPXtzY2F5dFRvZ2dsZTpDS0VESVRPUi5UUklTVEFURV9PRkYsc2NheXRPcHRpb25zOmM/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHNjYXl0TGFuZ3M6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsXG5zY2F5dERpY3Q6Yz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsc2NheXRBYm91dDpjP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxXU0M6YS5wbHVnaW5zLndzYz9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9O2EuY29uZmlnLnNjYXl0X3VpVGFic1swXXx8ZGVsZXRlIGUuc2NheXRPcHRpb25zO2EuY29uZmlnLnNjYXl0X3VpVGFic1sxXXx8ZGVsZXRlIGUuc2NheXRMYW5nczthLmNvbmZpZy5zY2F5dF91aVRhYnNbMl18fGRlbGV0ZSBlLnNjYXl0RGljdDtjJiYhQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5pc05ld1VkU3VwcG9ydGVkKGMpJiYoZGVsZXRlIGUuc2NheXREaWN0LGEuY29uZmlnLnNjYXl0X3VpVGFic1syXT0wLENLRURJVE9SLnBsdWdpbnMuc2NheXQuYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZSgpKTtyZXR1cm4gZX19KTthLmNvbnRleHRNZW51JiZcbmEuYWRkTWVudUl0ZW1zJiYoYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihiLGMpe3ZhciBkPWEuc2NheXQsZSxtO2QmJihtPWQuZ2V0U2VsZWN0aW9uTm9kZSgpKSYmKGU9Zi5tZW51R2VuZXJhdG9yKGEsbSksZC5zaG93QmFubmVyKFwiLlwiK2EuY29udGV4dE1lbnUuXy5kZWZpbml0aW9uLnBhbmVsLmNsYXNzTmFtZS5zcGxpdChcIiBcIikuam9pbihcIiAuXCIpKSk7cmV0dXJuIGV9KSxhLmNvbnRleHRNZW51Ll8ub25IaWRlPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuY29udGV4dE1lbnUuXy5vbkhpZGUsZnVuY3Rpb24oYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9YS5zY2F5dDtjJiZjLmhpZGVCYW5uZXIoKTtyZXR1cm4gYi5hcHBseSh0aGlzKX19KSl9LGFkZE1lbnVJdGVtczpmdW5jdGlvbihhKXt2YXIgZj10aGlzLGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dDthLmFkZE1lbnVHcm91cChcInNjYXl0QnV0dG9uXCIpO2Zvcih2YXIgYz1hLmNvbmZpZy5zY2F5dF9jb250ZXh0TWVudUl0ZW1zT3JkZXIuc3BsaXQoXCJ8XCIpLFxuZT0wO2U8Yy5sZW5ndGg7ZSsrKWNbZV09XCJzY2F5dF9cIitjW2VdO2lmKChjPVtcImdyYXl0X2Rlc2NyaXB0aW9uXCIsXCJncmF5dF9zdWdnZXN0XCIsXCJncmF5dF9jb250cm9sXCJdLmNvbmNhdChjKSkmJmMubGVuZ3RoKWZvcihlPTA7ZTxjLmxlbmd0aDtlKyspYS5hZGRNZW51R3JvdXAoY1tlXSxlLTEwKTthLmFkZENvbW1hbmQoXCJzY2F5dFRvZ2dsZVwiLHtleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7Yi5zdGF0ZS5zY2F5dFthLm5hbWVdPSFiLnN0YXRlLnNjYXl0W2EubmFtZV07ITA9PT1iLnN0YXRlLnNjYXl0W2EubmFtZV0/Y3x8Yi5jcmVhdGVTY2F5dChhKTpjJiZiLmRlc3Ryb3koYSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXRBYm91dFwiLHtleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwiYWJvdXRcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX19KTthLmFkZENvbW1hbmQoXCJzY2F5dE9wdGlvbnNcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cblwib3B0aW9uc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfX0pO2EuYWRkQ29tbWFuZChcInNjYXl0TGFuZ3NcIix7ZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImxhbmdzXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9fSk7YS5hZGRDb21tYW5kKFwic2NheXREaWN0XCIse2V4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJkaWN0aW9uYXJpZXNcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX19KTtjPXtzY2F5dFRvZ2dsZTp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9lbmFibGUsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dFRvZ2dsZVwifSxzY2F5dEFib3V0OntsYWJlbDphLmxhbmcuc2NheXQuYnRuX2Fib3V0LGdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRBYm91dFwifSxzY2F5dE9wdGlvbnM6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fb3B0aW9ucyxcbmdyb3VwOlwic2NheXRCdXR0b25cIixjb21tYW5kOlwic2NheXRPcHRpb25zXCJ9LHNjYXl0TGFuZ3M6e2xhYmVsOmEubGFuZy5zY2F5dC5idG5fbGFuZ3MsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dExhbmdzXCJ9LHNjYXl0RGljdDp7bGFiZWw6YS5sYW5nLnNjYXl0LmJ0bl9kaWN0aW9uYXJpZXMsZ3JvdXA6XCJzY2F5dEJ1dHRvblwiLGNvbW1hbmQ6XCJzY2F5dERpY3RcIn19O2EucGx1Z2lucy53c2MmJihjLldTQz17bGFiZWw6YS5sYW5nLndzYy50b29sYmFyLGdyb3VwOlwic2NheXRCdXR0b25cIixvbkNsaWNrOmZ1bmN0aW9uKCl7dmFyIGI9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxjPWEuc2NheXQsZD1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FP2EuY29udGFpbmVyLmdldFRleHQoKTphLmRvY3VtZW50LmdldEJvZHkoKS5nZXRUZXh0KCk7KGQ9ZC5yZXBsYWNlKC9cXHMvZyxcIlwiKSk/KGMmJmIuc3RhdGUuc2NheXRbYS5uYW1lXSYmYy5zZXRNYXJrdXBQYXVzZWQmJlxuYy5zZXRNYXJrdXBQYXVzZWQoITApLGEubG9ja1NlbGVjdGlvbigpLGEuZXhlY0NvbW1hbmQoXCJjaGVja3NwZWxsXCIpKTphbGVydChcIk5vdGhpbmcgdG8gY2hlY2shXCIpfX0pO2EuYWRkTWVudUl0ZW1zKGMpfSxiaW5kRXZlbnRzOmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLnBsdWdpbnMuc2NheXQsYj1hLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FLGM9ZnVuY3Rpb24oKXtmLmRlc3Ryb3koYSl9LGU9ZnVuY3Rpb24oKXshZi5zdGF0ZS5zY2F5dFthLm5hbWVdfHxhLnJlYWRPbmx5fHxhLnNjYXl0fHxmLmNyZWF0ZVNjYXl0KGEpfSxsPWZ1bmN0aW9uKCl7dmFyIGM9YS5lZGl0YWJsZSgpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImZvY3VzXCIsZnVuY3Rpb24oYyl7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmIWEuc2NheXQmJnNldFRpbWVvdXQoZSwwKTtjPUNLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbYS5uYW1lXSYmXG5hLnNjYXl0O3ZhciBkLGY7aWYoKGJ8fGMpJiZhLl8uc2F2ZWRTZWxlY3Rpb24pe2M9YS5fLnNhdmVkU2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2M9IWMmJmEuXy5zYXZlZFNlbGVjdGlvbi5nZXRSYW5nZXMoKTtmb3IodmFyIGs9MDtrPGMubGVuZ3RoO2srKylmPWNba10sXCJzdHJpbmdcIj09PXR5cGVvZiBmLnN0YXJ0Q29udGFpbmVyLiQubm9kZVZhbHVlJiYoZD1mLnN0YXJ0Q29udGFpbmVyLmdldFRleHQoKS5sZW5ndGgsKGQ8Zi5zdGFydE9mZnNldHx8ZDxmLmVuZE9mZnNldCkmJmEudW5sb2NrU2VsZWN0aW9uKCExKSl9fSx0aGlzLG51bGwsLTEwKX0saz1mdW5jdGlvbigpe2I/YS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD9lKCk6KGEub24oXCJibHVyXCIsZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGMsMCl9KSxhLm9uKFwiZm9jdXNcIixlKSxhLmZvY3VzTWFuYWdlci5oYXNGb2N1cyYmZSgpKTplKCk7bCgpO3ZhciBkPWEuZWRpdGFibGUoKTtkLmF0dGFjaExpc3RlbmVyKGQsXG5cIm1vdXNlZG93blwiLGZ1bmN0aW9uKGIpe2I9Yi5kYXRhLmdldFRhcmdldCgpO3ZhciBjPWEud2lkZ2V0cyYmYS53aWRnZXRzLmdldEJ5RWxlbWVudChiKTtjJiYoYy53cmFwcGVyPWIuZ2V0QXNjZW5kYW50KGZ1bmN0aW9uKGEpe3JldHVybiBhLmhhc0F0dHJpYnV0ZShcImRhdGEtY2tlLXdpZGdldC13cmFwcGVyXCIpfSwhMCkpfSx0aGlzLG51bGwsLTEwKX07YS5vbihcImNvbnRlbnREb21cIixrKTthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXt2YXIgYz1hLnNjYXl0LGU9ITEsZz0hMSxrPSEwO2IuZGF0YS5uYW1lIGluIGYub3B0aW9ucy5kaXNhYmxpbmdDb21tYW5kRXhlYyYmXCJ3eXNpd3lnXCI9PWEubW9kZT9jJiYoZi5kZXN0cm95KGEpLGEuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCkpOlwiYm9sZFwiIT09Yi5kYXRhLm5hbWUmJlwiaXRhbGljXCIhPT1iLmRhdGEubmFtZSYmXCJ1bmRlcmxpbmVcIiE9PWIuZGF0YS5uYW1lJiZcInN0cmlrZVwiIT09XG5iLmRhdGEubmFtZSYmXCJzdWJzY3JpcHRcIiE9PWIuZGF0YS5uYW1lJiZcInN1cGVyc2NyaXB0XCIhPT1iLmRhdGEubmFtZSYmXCJlbnRlclwiIT09Yi5kYXRhLm5hbWUmJlwiY3V0XCIhPT1iLmRhdGEubmFtZSYmXCJsYW5ndWFnZVwiIT09Yi5kYXRhLm5hbWV8fCFjfHwoXCJjdXRcIj09PWIuZGF0YS5uYW1lJiYoaz0hMSxnPSEwKSxcImxhbmd1YWdlXCI9PT1iLmRhdGEubmFtZSYmKGc9ZT0hMCksYS5maXJlKFwicmVsb2FkTWFya3VwU2NheXRcIix7cmVtb3ZlT3B0aW9uczp7cmVtb3ZlSW5zaWRlOmssZm9yY2VCb29rbWFyazpnLGxhbmd1YWdlOmV9LHRpbWVvdXQ6MH0pKX0pO2Eub24oXCJiZWZvcmVTZXRNb2RlXCIsZnVuY3Rpb24oYil7aWYoXCJzb3VyY2VcIj09Yi5kYXRhKXtpZihiPWEuc2NheXQpZi5kZXN0cm95KGEpLGEuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCk7YS5kb2N1bWVudCYmYS5kb2N1bWVudC5nZXRCb2R5KCkucmVtb3ZlQXR0cmlidXRlKFwiX2pxdWlkXCIpfX0pO1xuYS5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihiKXtcInd5c2l3eWdcIiE9YS5tb2RlfHxcInVuZG9cIiE9Yi5kYXRhLm5hbWUmJlwicmVkb1wiIT1iLmRhdGEubmFtZXx8c2V0VGltZW91dChmdW5jdGlvbigpe2YucmVsb2FkTWFya3VwKGEuc2NheXQpfSwyNTApfSk7YS5vbihcInJlYWRPbmx5XCIsZnVuY3Rpb24oYil7dmFyIGM7YiYmKGM9YS5zY2F5dCwhMD09PWIuZWRpdG9yLnJlYWRPbmx5P2MmJmMuZmlyZShcInJlbW92ZU1hcmt1cEluRG9jdW1lbnRcIix7fSk6Yz9mLnJlbG9hZE1hcmt1cChjKTpcInd5c2l3eWdcIj09Yi5lZGl0b3IubW9kZSYmITA9PT1mLnN0YXRlLnNjYXl0W2IuZWRpdG9yLm5hbWVdJiYoZi5jcmVhdGVTY2F5dChhKSxiLmVkaXRvci5maXJlKFwic2NheXRCdXR0b25TdGF0ZVwiLENLRURJVE9SLlRSSVNUQVRFX09OKSkpfSk7YS5vbihcImJlZm9yZURlc3Ryb3lcIixjKTthLm9uKFwic2V0RGF0YVwiLGZ1bmN0aW9uKCl7YygpOyhhLmVsZW1lbnRNb2RlPT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FfHxcbmEucGx1Z2lucy5kaXZhcmVhKSYmaygpfSx0aGlzLG51bGwsNTApO2Eub24oXCJyZWxvYWRNYXJrdXBTY2F5dFwiLGZ1bmN0aW9uKGIpe3ZhciBjPWIuZGF0YSYmYi5kYXRhLnJlbW92ZU9wdGlvbnMsZT1iLmRhdGEmJmIuZGF0YS50aW1lb3V0LGc9Yi5kYXRhJiZiLmRhdGEubGFuZ3VhZ2Usaz1hLnNjYXl0O2smJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtnJiYoYy5zZWxlY3Rpb25Ob2RlPWEucGx1Z2lucy5sYW5ndWFnZS5nZXRDdXJyZW50TGFuZ0VsZW1lbnQoYSksYy5zZWxlY3Rpb25Ob2RlPWMuc2VsZWN0aW9uTm9kZSYmYy5zZWxlY3Rpb25Ob2RlLiR8fG51bGwpO2sucmVtb3ZlTWFya3VwSW5TZWxlY3Rpb25Ob2RlKGMpO2YucmVsb2FkTWFya3VwKGspfSxlfHwwKX0pO2Eub24oXCJpbnNlcnRFbGVtZW50XCIsZnVuY3Rpb24oKXthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiLHtyZW1vdmVPcHRpb25zOntmb3JjZUJvb2ttYXJrOiEwfX0pfSx0aGlzLG51bGwsNTApO2Eub24oXCJpbnNlcnRIdG1sXCIsXG5mdW5jdGlvbigpe2Euc2NheXQmJmEuc2NheXQuc2V0Rm9jdXNlZCYmYS5zY2F5dC5zZXRGb2N1c2VkKCEwKTthLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiKX0sdGhpcyxudWxsLDUwKTthLm9uKFwiaW5zZXJ0VGV4dFwiLGZ1bmN0aW9uKCl7YS5zY2F5dCYmYS5zY2F5dC5zZXRGb2N1c2VkJiZhLnNjYXl0LnNldEZvY3VzZWQoITApO2EuZmlyZShcInJlbG9hZE1hcmt1cFNjYXl0XCIpfSx0aGlzLG51bGwsNTApO2Eub24oXCJzY2F5dERpYWxvZ1Nob3duXCIsZnVuY3Rpb24oYil7Yi5kYXRhLnNlbGVjdFBhZ2UoYS5zY2F5dC50YWJUb09wZW4pfSl9LHBhcnNlQ29uZmlnOmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7Zi5yZXBsYWNlT2xkT3B0aW9uc05hbWVzKGEuY29uZmlnKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9hdXRvU3RhcnR1cCYmKGEuY29uZmlnLnNjYXl0X2F1dG9TdGFydHVwPSExKTtmLnN0YXRlLnNjYXl0W2EubmFtZV09YS5jb25maWcuc2NheXRfYXV0b1N0YXJ0dXA7XG5cImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5ncmF5dF9hdXRvU3RhcnR1cCYmKGEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwPSExKTtcImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pbmxpbmVNb2RlSW1tZWRpYXRlTWFya3VwJiYoYS5jb25maWcuc2NheXRfaW5saW5lTW9kZUltbWVkaWF0ZU1hcmt1cD0hMSk7Zi5zdGF0ZS5ncmF5dFthLm5hbWVdPWEuY29uZmlnLmdyYXl0X2F1dG9TdGFydHVwO2EuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kc3x8KGEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kcz1cImlnbm9yZXxpZ25vcmVhbGx8YWRkXCIpO2EuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlcnx8KGEuY29uZmlnLnNjYXl0X2NvbnRleHRNZW51SXRlbXNPcmRlcj1cInN1Z2dlc3R8bW9yZXN1Z2dlc3R8Y29udHJvbFwiKTthLmNvbmZpZy5zY2F5dF9zTGFuZ3x8KGEuY29uZmlnLnNjYXl0X3NMYW5nPVwiZW5fVVNcIik7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfbWF4U3VnZ2VzdGlvbnN8fFxuXCJudW1iZXJcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zfHwwPmEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zKWEuY29uZmlnLnNjYXl0X21heFN1Z2dlc3Rpb25zPTU7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aHx8XCJudW1iZXJcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGh8fDE+YS5jb25maWcuc2NheXRfbWluV29yZExlbmd0aClhLmNvbmZpZy5zY2F5dF9taW5Xb3JkTGVuZ3RoPTQ7aWYodm9pZCAwPT09YS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkc3x8XCJzdHJpbmdcIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9jdXN0b21EaWN0aW9uYXJ5SWRzKWEuY29uZmlnLnNjYXl0X2N1c3RvbURpY3Rpb25hcnlJZHM9XCJcIjtpZih2b2lkIDA9PT1hLmNvbmZpZy5zY2F5dF91c2VyRGljdGlvbmFyeU5hbWV8fFwic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lKWEuY29uZmlnLnNjYXl0X3VzZXJEaWN0aW9uYXJ5TmFtZT1cbm51bGw7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF91aVRhYnMmJjM9PT1hLmNvbmZpZy5zY2F5dF91aVRhYnMuc3BsaXQoXCIsXCIpLmxlbmd0aCl7dmFyIGI9W10sYz1bXTthLmNvbmZpZy5zY2F5dF91aVRhYnM9YS5jb25maWcuc2NheXRfdWlUYWJzLnNwbGl0KFwiLFwiKTtDS0VESVRPUi50b29scy5zZWFyY2goYS5jb25maWcuc2NheXRfdWlUYWJzLGZ1bmN0aW9uKGEpezE9PT1OdW1iZXIoYSl8fDA9PT1OdW1iZXIoYSk/KGMucHVzaCghMCksYi5wdXNoKE51bWJlcihhKSkpOmMucHVzaCghMSl9KTtudWxsPT09Q0tFRElUT1IudG9vbHMuc2VhcmNoKGMsITEpP2EuY29uZmlnLnNjYXl0X3VpVGFicz1iOmEuY29uZmlnLnNjYXl0X3VpVGFicz1bMSwxLDFdfWVsc2UgYS5jb25maWcuc2NheXRfdWlUYWJzPVsxLDEsMV07XCJzdHJpbmdcIiE9dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbD1udWxsKTtcblwic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VIb3N0PW51bGwpO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQb3J0PW51bGwpO1wic3RyaW5nXCIhPXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aCYmKGEuY29uZmlnLnNjYXl0X3NlcnZpY2VQYXRoPW51bGwpO2EuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9uc3x8KGEuY29uZmlnLnNjYXl0X21vcmVTdWdnZXN0aW9ucz1cIm9uXCIpO1wic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tZXJJZCYmKGEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQ9XCIxOld2RjBENC1VdFBxTjEtNDNua0Q0LU5LdlVtMi1kYVFxazMtTG1OaUktejdZc2I0LW13cnkyNC1UOFlyUzMtUTJ0cHEyXCIpO1wic3RyaW5nXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfY3VzdG9tUHVuY3R1YXRpb24mJlxuKGEuY29uZmlnLnNjYXl0X2N1c3RvbVB1bmN0dWF0aW9uPVwiLVwiKTtcInN0cmluZ1wiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X3NyY1VybCYmKGY9ZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2wsZj0tMSE9Zi5zZWFyY2goL2h0dHBzPzovKT9mOlwiaHR0cDpcIixhLmNvbmZpZy5zY2F5dF9zcmNVcmw9ZitcIi8vc3ZjLndlYnNwZWxsY2hlY2tlci5uZXQvc3BlbGxjaGVjazMxL2xmL3NjYXl0My9ja3NjYXl0L2Nrc2NheXQuanNcIik7XCJib29sZWFuXCIhPT10eXBlb2YgQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZUNoZWNrRGlydHkmJihDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlQ2hlY2tEaXJ0eT0hMCk7XCJib29sZWFuXCIhPT10eXBlb2YgQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvJiYoQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvPSEwKTtDS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlVW5kb1JlZG89Q0tFRElUT1IucGx1Z2lucy51bmRvP1xuQ0tFRElUT1IuY29uZmlnLnNjYXl0X2hhbmRsZVVuZG9SZWRvOiExO1wiYm9vbGVhblwiIT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VNb2RlJiYoYS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZU1vZGU9ITEpO1wib2JqZWN0XCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZVN0eWxlcyYmKGEuY29uZmlnLnNjYXl0X211bHRpTGFuZ3VhZ2VTdHlsZXM9e30pO2EuY29uZmlnLnNjYXl0X2lnbm9yZUFsbENhcHNXb3JkcyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzJiYoYS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzPSExKTthLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMmJihhLmNvbmZpZy5zY2F5dF9pZ25vcmVEb21haW5OYW1lcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcyYmXG5cImJvb2xlYW5cIiE9PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzJiYoYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTWl4ZWRDYXNlcz0hMSk7YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyYmXCJib29sZWFuXCIhPT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyYmKGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE51bWJlcnM9ITEpO2lmKGEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZSl7dmFyIGY9Q0tFRElUT1IudG9vbHMuaXNBcnJheShhLmNvbmZpZy5zY2F5dF9kaXNhYmxlT3B0aW9uc1N0b3JhZ2UpP2EuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZTpcInN0cmluZ1wiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2Rpc2FibGVPcHRpb25zU3RvcmFnZT9bYS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlXTp2b2lkIDAsZT1cImFsbCBvcHRpb25zIGxhbmcgaWdub3JlLWFsbC1jYXBzLXdvcmRzIGlnbm9yZS1kb21haW4tbmFtZXMgaWdub3JlLXdvcmRzLXdpdGgtbWl4ZWQtY2FzZXMgaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiLnNwbGl0KFwiIFwiKSxcbmw9W1wibGFuZ1wiLFwiaWdub3JlLWFsbC1jYXBzLXdvcmRzXCIsXCJpZ25vcmUtZG9tYWluLW5hbWVzXCIsXCJpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlc1wiLFwiaWdub3JlLXdvcmRzLXdpdGgtbnVtYmVyc1wiXSxrPUNLRURJVE9SLnRvb2xzLnNlYXJjaCxkPUNLRURJVE9SLnRvb2xzLmluZGV4T2Y7YS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBmPWFbY10scD0hIWsoYSxcIm9wdGlvbnNcIik7aWYoIWsoZSxmKXx8cCYmayhsLGZ1bmN0aW9uKGEpe2lmKFwibGFuZ1wiPT09YSlyZXR1cm4hMX0pKXJldHVybjtrKGwsZikmJmwuc3BsaWNlKGQobCxmKSwxKTtpZihcImFsbFwiPT09Znx8cCYmayhhLFwibGFuZ1wiKSlyZXR1cm5bXTtcIm9wdGlvbnNcIj09PWYmJihsPVtcImxhbmdcIl0pfXJldHVybiBiPWIuY29uY2F0KGwpfShmKX19LGFkZFJ1bGU6ZnVuY3Rpb24oYSl7dmFyIGY9Q0tFRElUT1IucGx1Z2lucy5zY2F5dCxcbmI9YS5kYXRhUHJvY2Vzc29yLGM9YiYmYi5odG1sRmlsdGVyLGU9YS5fLmVsZW1lbnRzUGF0aCYmYS5fLmVsZW1lbnRzUGF0aC5maWx0ZXJzLGI9YiYmYi5kYXRhRmlsdGVyLGw9YS5hZGRSZW1vdmVGb3JtYXRGaWx0ZXIsaz1mdW5jdGlvbihiKXtpZihhLnNjYXl0JiYoYi5oYXNBdHRyaWJ1dGUoZi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWUpfHxiLmhhc0F0dHJpYnV0ZShmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2RhdGFfYXR0cmlidXRlKSkpcmV0dXJuITF9LGQ9ZnVuY3Rpb24oYil7dmFyIGM9ITA7YS5zY2F5dCYmKGIuaGFzQXR0cmlidXRlKGYub3B0aW9ucy5kYXRhX2F0dHJpYnV0ZV9uYW1lKXx8Yi5oYXNBdHRyaWJ1dGUoZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSkpJiYoYz0hMSk7cmV0dXJuIGN9O2UmJmUucHVzaChrKTtiJiZiLmFkZFJ1bGVzKHtlbGVtZW50czp7c3BhbjpmdW5jdGlvbihhKXt2YXIgYj1hLmhhc0NsYXNzKGYub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MpJiZcbmEuYXR0cmlidXRlc1tmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZV0sYz1hLmhhc0NsYXNzKGYub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZV07ZiYmKGJ8fGMpJiZkZWxldGUgYS5uYW1lO3JldHVybiBhfX19KTtjJiZjLmFkZFJ1bGVzKHtlbGVtZW50czp7c3BhbjpmdW5jdGlvbihhKXt2YXIgYj1hLmhhc0NsYXNzKGYub3B0aW9ucy5taXNzcGVsbGVkX3dvcmRfY2xhc3MpJiZhLmF0dHJpYnV0ZXNbZi5vcHRpb25zLmRhdGFfYXR0cmlidXRlX25hbWVdLGM9YS5oYXNDbGFzcyhmLm9wdGlvbnMucHJvYmxlbV9ncmFtbWFyX2NsYXNzKSYmYS5hdHRyaWJ1dGVzW2Yub3B0aW9ucy5wcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGVdO2YmJihifHxjKSYmZGVsZXRlIGEubmFtZTtyZXR1cm4gYX19fSk7bCYmbC5jYWxsKGEsZCl9LHNjYXl0TWVudURlZmluaXRpb246ZnVuY3Rpb24oYSl7dmFyIGY9XG50aGlzO2E9YS5zY2F5dDtyZXR1cm57c2NheXQ6e3NjYXl0X2lnbm9yZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MSxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQuaWdub3JlV29yZCgpfX0sc2NheXRfaWdub3JlYWxsOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2lnbm9yZUFsbFwiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjoyLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVBbGxXb3JkcygpfX0sc2NheXRfYWRkOntsYWJlbDphLmdldExvY2FsKFwiYnRuX2FkZFdvcmRcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6MyxleGVjOmZ1bmN0aW9uKGEpe3ZhciBjPWEuc2NheXQ7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYWRkV29yZFRvVXNlckRpY3Rpb25hcnkoKX0sMTApfX0sc2NheXRfb3B0aW9uOntsYWJlbDphLmdldExvY2FsKFwiYnRuX29wdGlvbnNcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NCxcbmV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XCJvcHRpb25zXCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9LHZlcmlmaWNhdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gMT09YS5jb25maWcuc2NheXRfdWlUYWJzWzBdPyEwOiExfX0sc2NheXRfbGFuZ3VhZ2U6e2xhYmVsOmEuZ2V0TG9jYWwoXCJidG5fbGFuZ3NcIiksZ3JvdXA6XCJzY2F5dF9jb250cm9sXCIsb3JkZXI6NSxleGVjOmZ1bmN0aW9uKGEpe2Euc2NheXQudGFiVG9PcGVuPVwibGFuZ3NcIjthLmxvY2tTZWxlY3Rpb24oKTthLm9wZW5EaWFsb2coZi5kaWFsb2dOYW1lKX0sdmVyaWZpY2F0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiAxPT1hLmNvbmZpZy5zY2F5dF91aVRhYnNbMV0/ITA6ITF9fSxzY2F5dF9kaWN0aW9uYXJ5OntsYWJlbDphLmdldExvY2FsKFwiYnRuX2RpY3Rpb25hcmllc1wiKSxncm91cDpcInNjYXl0X2NvbnRyb2xcIixvcmRlcjo2LGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC50YWJUb09wZW49XG5cImRpY3Rpb25hcmllc1wiO2EubG9ja1NlbGVjdGlvbigpO2Eub3BlbkRpYWxvZyhmLmRpYWxvZ05hbWUpfSx2ZXJpZmljYXRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PWEuY29uZmlnLnNjYXl0X3VpVGFic1syXT8hMDohMX19LHNjYXl0X2Fib3V0OntsYWJlbDphLmdldExvY2FsKFwiYnRuX2Fib3V0XCIpLGdyb3VwOlwic2NheXRfY29udHJvbFwiLG9yZGVyOjcsZXhlYzpmdW5jdGlvbihhKXthLnNjYXl0LnRhYlRvT3Blbj1cImFib3V0XCI7YS5sb2NrU2VsZWN0aW9uKCk7YS5vcGVuRGlhbG9nKGYuZGlhbG9nTmFtZSl9fX0sZ3JheXQ6e2dyYXl0X3Byb2JsZW1kZXNjcmlwdGlvbjp7bGFiZWw6XCJHcmFtbWFyIHByb2JsZW0gZGVzY3JpcHRpb25cIixncm91cDpcImdyYXl0X2Rlc2NyaXB0aW9uXCIsb3JkZXI6MSxzdGF0ZTpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCxleGVjOmZ1bmN0aW9uKGEpe319LGdyYXl0X2lnbm9yZTp7bGFiZWw6YS5nZXRMb2NhbChcImJ0bl9pZ25vcmVcIiksZ3JvdXA6XCJncmF5dF9jb250cm9sXCIsXG5vcmRlcjoyLGV4ZWM6ZnVuY3Rpb24oYSl7YS5zY2F5dC5pZ25vcmVQaHJhc2UoKX19fX19LGJ1aWxkU3VnZ2VzdGlvbk1lbnVJdGVtczpmdW5jdGlvbihhLGYsYil7dmFyIGM9e30sZT17fSxsPWI/XCJ3b3JkXCI6XCJwaHJhc2VcIixrPWI/XCJzdGFydEdyYW1tYXJDaGVja1wiOlwic3RhcnRTcGVsbENoZWNrXCIsZD1hLnNjYXl0O2lmKDA8Zi5sZW5ndGgmJlwibm9fYW55X3N1Z2dlc3Rpb25zXCIhPT1mWzBdKWlmKGIpZm9yKGI9MDtiPGYubGVuZ3RoO2IrKyl7dmFyIGg9XCJzY2F5dF9zdWdnZXN0X1wiK0NLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0ucmVwbGFjZShcIiBcIixcIl9cIik7YS5hZGRDb21tYW5kKGgsdGhpcy5jcmVhdGVDb21tYW5kKENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0sbCxrKSk7YjxhLmNvbmZpZy5zY2F5dF9tYXhTdWdnZXN0aW9ucz8oYS5hZGRNZW51SXRlbShoLHtsYWJlbDpmW2JdLGNvbW1hbmQ6aCxncm91cDpcInNjYXl0X3N1Z2dlc3RcIixcbm9yZGVyOmIrMX0pLGNbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKTooYS5hZGRNZW51SXRlbShoLHtsYWJlbDpmW2JdLGNvbW1hbmQ6aCxncm91cDpcInNjYXl0X21vcmVzdWdnZXN0XCIsb3JkZXI6YisxfSksZVtoXT1DS0VESVRPUi5UUklTVEFURV9PRkYsXCJvblwiPT09YS5jb25maWcuc2NheXRfbW9yZVN1Z2dlc3Rpb25zJiYoYS5hZGRNZW51SXRlbShcInNjYXl0X21vcmVzdWdnZXN0XCIse2xhYmVsOmQuZ2V0TG9jYWwoXCJidG5fbW9yZVN1Z2dlc3Rpb25zXCIpLGdyb3VwOlwic2NheXRfbW9yZXN1Z2dlc3RcIixvcmRlcjoxMCxnZXRJdGVtczpmdW5jdGlvbigpe3JldHVybiBlfX0pLGMuc2NheXRfbW9yZXN1Z2dlc3Q9Q0tFRElUT1IuVFJJU1RBVEVfT0ZGKSl9ZWxzZSBmb3IoYj0wO2I8Zi5sZW5ndGg7YisrKWg9XCJncmF5dF9zdWdnZXN0X1wiK0NLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0ucmVwbGFjZShcIiBcIixcIl9cIiksYS5hZGRDb21tYW5kKGgsdGhpcy5jcmVhdGVDb21tYW5kKENLRURJVE9SLnBsdWdpbnMuc2NheXQuc3VnZ2VzdGlvbnNbYl0sXG5sLGspKSxhLmFkZE1lbnVJdGVtKGgse2xhYmVsOmZbYl0sY29tbWFuZDpoLGdyb3VwOlwiZ3JheXRfc3VnZ2VzdFwiLG9yZGVyOmIrMX0pLGNbaF09Q0tFRElUT1IuVFJJU1RBVEVfT0ZGO2Vsc2UgYy5ub19zY2F5dF9zdWdnZXN0PUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELGEuYWRkQ29tbWFuZChcIm5vX3NjYXl0X3N1Z2dlc3RcIix7ZXhlYzpmdW5jdGlvbigpe319KSxhLmFkZE1lbnVJdGVtKFwibm9fc2NheXRfc3VnZ2VzdFwiLHtsYWJlbDpkLmdldExvY2FsKFwiYnRuX25vU3VnZ2VzdGlvbnNcIil8fFwibm9fc2NheXRfc3VnZ2VzdFwiLGNvbW1hbmQ6XCJub19zY2F5dF9zdWdnZXN0XCIsZ3JvdXA6XCJzY2F5dF9zdWdnZXN0XCIsb3JkZXI6MH0pO3JldHVybiBjfSxtZW51R2VuZXJhdG9yOmZ1bmN0aW9uKGEsZil7dmFyIGI9YS5zY2F5dCxjPXRoaXMuc2NheXRNZW51RGVmaW5pdGlvbihhKSxlPXt9LGw9YS5jb25maWcuc2NheXRfY29udGV4dENvbW1hbmRzLnNwbGl0KFwifFwiKSxrPWYuZ2V0QXR0cmlidXRlKGIuZ2V0TGFuZ0F0dHJpYnV0ZSgpKXx8XG5iLmdldExhbmcoKSxkLGg7ZD1iLmlzU2NheXROb2RlKGYpO2g9Yi5pc0dyYXl0Tm9kZShmKTtkPyhjPWMuc2NheXQsZT1mLmdldEF0dHJpYnV0ZShiLmdldFNjYXl0Tm9kZUF0dHJpYnV0ZU5hbWUoKSksYi5maXJlKFwiZ2V0U3VnZ2VzdGlvbnNMaXN0XCIse2xhbmc6ayx3b3JkOmV9KSxlPXRoaXMuYnVpbGRTdWdnZXN0aW9uTWVudUl0ZW1zKGEsQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucyxkKSk6aCYmKGM9Yy5ncmF5dCxlPWYuZ2V0QXR0cmlidXRlKGIuZ2V0R3JheXROb2RlQXR0cmlidXRlTmFtZSgpKSxoPWIuZ2V0UHJvYmxlbURlc2NyaXB0aW9uVGV4dChlLGspLGMuZ3JheXRfcHJvYmxlbWRlc2NyaXB0aW9uJiZoJiYoYy5ncmF5dF9wcm9ibGVtZGVzY3JpcHRpb24ubGFiZWw9aCksYi5maXJlKFwiZ2V0R3JhbW1hclN1Z2dlc3Rpb25zTGlzdFwiLHtsYW5nOmsscGhyYXNlOmV9KSxlPXRoaXMuYnVpbGRTdWdnZXN0aW9uTWVudUl0ZW1zKGEsQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdWdnZXN0aW9ucyxcbmQpKTtpZihkJiZcIm9mZlwiPT1hLmNvbmZpZy5zY2F5dF9jb250ZXh0Q29tbWFuZHMpcmV0dXJuIGU7Zm9yKHZhciBtIGluIGMpZCYmLTE9PUNLRURJVE9SLnRvb2xzLmluZGV4T2YobCxtLnJlcGxhY2UoXCJzY2F5dF9cIixcIlwiKSkmJlwiYWxsXCIhPWEuY29uZmlnLnNjYXl0X2NvbnRleHRDb21tYW5kc3x8KGVbbV09XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNbbV0uc3RhdGU/Y1ttXS5zdGF0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsXCJmdW5jdGlvblwiIT09dHlwZW9mIGNbbV0udmVyaWZpY2F0aW9ufHxjW21dLnZlcmlmaWNhdGlvbihhKXx8ZGVsZXRlIGVbbV0sYS5hZGRDb21tYW5kKG0se2V4ZWM6Y1ttXS5leGVjfSksYS5hZGRNZW51SXRlbShtLHtsYWJlbDphLmxhbmcuc2NheXRbY1ttXS5sYWJlbF18fGNbbV0ubGFiZWwsY29tbWFuZDptLGdyb3VwOmNbbV0uZ3JvdXAsb3JkZXI6Y1ttXS5vcmRlcn0pKTtyZXR1cm4gZX0sY3JlYXRlQ29tbWFuZDpmdW5jdGlvbihhLGYsYil7cmV0dXJue2V4ZWM6ZnVuY3Rpb24oYyl7Yz1cbmMuc2NheXQ7dmFyIGU9e307ZVtmXT1hO2MucmVwbGFjZVNlbGVjdGlvbk5vZGUoZSk7XCJzdGFydEdyYW1tYXJDaGVja1wiPT09YiYmYy5yZW1vdmVNYXJrdXBJblNlbGVjdGlvbk5vZGUoe2dyYW1tYXJPbmx5OiEwfSk7Yy5maXJlKGIpfX19fSksQ0tFRElUT1IucGx1Z2lucy5zY2F5dD17Y2hhcnNUb09ic2VydmU6W3tjaGFyTmFtZTpcImNrZS1maWxsaW5nQ2hhclwiLGNoYXJDb2RlOmZ1bmN0aW9uKCl7dmFyIGE9Q0tFRElUT1IudmVyc2lvbi5tYXRjaCgvXlxcZChcXC5cXGQqKSovKSxhPWEmJmFbMF0sZjtpZihhKXtmPVwiNC41LjdcIjt2YXIgYixhPWEucmVwbGFjZSgvXFwuL2csXCJcIik7Zj1mLnJlcGxhY2UoL1xcLi9nLFwiXCIpO2I9YS5sZW5ndGgtZi5sZW5ndGg7Yj0wPD1iP2I6MDtmPXBhcnNlSW50KGEpPj1wYXJzZUludChmKSpNYXRoLnBvdygxMCxiKX1yZXR1cm4gZj9BcnJheSg3KS5qb2luKFN0cmluZy5mcm9tQ2hhckNvZGUoODIwMykpOlN0cmluZy5mcm9tQ2hhckNvZGUoODIwMyl9KCl9XSxcbm9uTG9hZFRpbWVzdGFtcDpcIlwiLHN0YXRlOntzY2F5dDp7fSxncmF5dDp7fX0sd2FybmluZ0NvdW50ZXI6MCxzdWdnZXN0aW9uczpbXSxvcHRpb25zOntkaXNhYmxpbmdDb21tYW5kRXhlYzp7c291cmNlOiEwLG5ld3BhZ2U6ITAsdGVtcGxhdGVzOiEwfSxkYXRhX2F0dHJpYnV0ZV9uYW1lOlwiZGF0YS1zY2F5dC13b3JkXCIsbWlzc3BlbGxlZF93b3JkX2NsYXNzOlwic2NheXQtbWlzc3BlbGwtd29yZFwiLHByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZTpcImRhdGEtZ3JheXQtcGhyYXNlXCIscHJvYmxlbV9ncmFtbWFyX2NsYXNzOlwiZ3JhbW0tcHJvYmxlbVwifSxiYWNrQ29tcGF0aWJpbGl0eU1hcDp7c2NheXRfc2VydmljZV9wcm90b2NvbDpcInNjYXl0X3NlcnZpY2VQcm90b2NvbFwiLHNjYXl0X3NlcnZpY2VfaG9zdDpcInNjYXl0X3NlcnZpY2VIb3N0XCIsc2NheXRfc2VydmljZV9wb3J0Olwic2NheXRfc2VydmljZVBvcnRcIixzY2F5dF9zZXJ2aWNlX3BhdGg6XCJzY2F5dF9zZXJ2aWNlUGF0aFwiLFxuc2NheXRfY3VzdG9tZXJpZDpcInNjYXl0X2N1c3RvbWVySWRcIn0sYWxhcm1Db21wYXRpYmlsaXR5TWVzc2FnZTpmdW5jdGlvbigpezU+dGhpcy53YXJuaW5nQ291bnRlciYmKGNvbnNvbGUud2FybihcIllvdSBhcmUgdXNpbmcgdGhlIGxhdGVzdCB2ZXJzaW9uIG9mIFNDQVlUIHBsdWdpbiBmb3IgQ0tFZGl0b3Igd2l0aCB0aGUgb2xkIGFwcGxpY2F0aW9uIHZlcnNpb24uIEluIG9yZGVyIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSBuZXdlc3QgZmVhdHVyZXMsIGl0IGlzIHJlY29tbWVuZGVkIHRvIHVwZ3JhZGUgdGhlIGFwcGxpY2F0aW9uIHZlcnNpb24gdG8gbGF0ZXN0IG9uZSBhcyB3ZWxsLiBDb250YWN0IHVzIGZvciBtb3JlIGRldGFpbHMgYXQgc3VwcG9ydEB3ZWJzcGVsbGNoZWNrZXIubmV0LlwiKSx0aGlzLndhcm5pbmdDb3VudGVyKz0xKX0saXNOZXdVZFN1cHBvcnRlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRVc2VyRGljdGlvbmFyeT8hMDohMX0scmVsb2FkTWFya3VwOmZ1bmN0aW9uKGEpe3ZhciBmO1xuYSYmKGY9YS5nZXRTY2F5dExhbmdMaXN0KCksYS5yZWxvYWRNYXJrdXA/YS5yZWxvYWRNYXJrdXAoKToodGhpcy5hbGFybUNvbXBhdGliaWxpdHlNZXNzYWdlKCksZiYmZi5sdHImJmYucnRsJiZhLmZpcmUoXCJzdGFydFNwZWxsQ2hlY2ssIHN0YXJ0R3JhbW1hckNoZWNrXCIpKSl9LHJlcGxhY2VPbGRPcHRpb25zTmFtZXM6ZnVuY3Rpb24oYSl7Zm9yKHZhciBmIGluIGEpZiBpbiB0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwJiYoYVt0aGlzLmJhY2tDb21wYXRpYmlsaXR5TWFwW2ZdXT1hW2ZdLGRlbGV0ZSBhW2ZdKX0sY3JlYXRlU2NheXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcyxiPUNLRURJVE9SLnBsdWdpbnMuc2NheXQ7dGhpcy5sb2FkU2NheXRMaWJyYXJ5KGEsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gbmV3IFNDQVlULkNLU0NBWVQoYSxmdW5jdGlvbigpe30sZnVuY3Rpb24oKXt9KX12YXIgbD1hLndpbmRvdyYmYS53aW5kb3cuZ2V0RnJhbWUoKXx8YS5lZGl0YWJsZSgpO1xuaWYobCl7bD17bGFuZzphLmNvbmZpZy5zY2F5dF9zTGFuZyxjb250YWluZXI6bC4kLGN1c3RvbURpY3Rpb25hcnk6YS5jb25maWcuc2NheXRfY3VzdG9tRGljdGlvbmFyeUlkcyx1c2VyRGljdGlvbmFyeU5hbWU6YS5jb25maWcuc2NheXRfdXNlckRpY3Rpb25hcnlOYW1lLGxvY2FsaXphdGlvbjphLmxhbmdDb2RlLGN1c3RvbWVyX2lkOmEuY29uZmlnLnNjYXl0X2N1c3RvbWVySWQsY3VzdG9tUHVuY3R1YXRpb246YS5jb25maWcuc2NheXRfY3VzdG9tUHVuY3R1YXRpb24sZGVidWc6YS5jb25maWcuc2NheXRfZGVidWcsZGF0YV9hdHRyaWJ1dGVfbmFtZTpmLm9wdGlvbnMuZGF0YV9hdHRyaWJ1dGVfbmFtZSxtaXNzcGVsbGVkX3dvcmRfY2xhc3M6Zi5vcHRpb25zLm1pc3NwZWxsZWRfd29yZF9jbGFzcyxwcm9ibGVtX2dyYW1tYXJfZGF0YV9hdHRyaWJ1dGU6Zi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9kYXRhX2F0dHJpYnV0ZSxwcm9ibGVtX2dyYW1tYXJfY2xhc3M6Zi5vcHRpb25zLnByb2JsZW1fZ3JhbW1hcl9jbGFzcyxcblwib3B0aW9ucy10by1yZXN0b3JlXCI6YS5jb25maWcuc2NheXRfZGlzYWJsZU9wdGlvbnNTdG9yYWdlLGZvY3VzZWQ6YS5lZGl0YWJsZSgpLmhhc0ZvY3VzLGlnbm9yZUVsZW1lbnRzUmVnZXg6YS5jb25maWcuc2NheXRfZWxlbWVudHNUb0lnbm9yZSxpZ25vcmVHcmF5dEVsZW1lbnRzUmVnZXg6YS5jb25maWcuZ3JheXRfZWxlbWVudHNUb0lnbm9yZSxtaW5Xb3JkTGVuZ3RoOmEuY29uZmlnLnNjYXl0X21pbldvcmRMZW5ndGgsbXVsdGlMYW5ndWFnZU1vZGU6YS5jb25maWcuc2NheXRfbXVsdGlMYW5ndWFnZU1vZGUsbXVsdGlMYW5ndWFnZVN0eWxlczphLmNvbmZpZy5zY2F5dF9tdWx0aUxhbmd1YWdlU3R5bGVzLGdyYXl0QXV0b1N0YXJ0dXA6Yi5zdGF0ZS5ncmF5dFthLm5hbWVdLGNoYXJzVG9PYnNlcnZlOmIuY2hhcnNUb09ic2VydmV9O2EuY29uZmlnLnNjYXl0X3NlcnZpY2VQcm90b2NvbCYmKGwuc2VydmljZV9wcm90b2NvbD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUHJvdG9jb2wpO1xuYS5jb25maWcuc2NheXRfc2VydmljZUhvc3QmJihsLnNlcnZpY2VfaG9zdD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlSG9zdCk7YS5jb25maWcuc2NheXRfc2VydmljZVBvcnQmJihsLnNlcnZpY2VfcG9ydD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUG9ydCk7YS5jb25maWcuc2NheXRfc2VydmljZVBhdGgmJihsLnNlcnZpY2VfcGF0aD1hLmNvbmZpZy5zY2F5dF9zZXJ2aWNlUGF0aCk7XCJib29sZWFuXCI9PT10eXBlb2YgYS5jb25maWcuc2NheXRfaWdub3JlQWxsQ2Fwc1dvcmRzJiYobFtcImlnbm9yZS1hbGwtY2Fwcy13b3Jkc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVBbGxDYXBzV29yZHMpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZURvbWFpbk5hbWVzJiYobFtcImlnbm9yZS1kb21haW4tbmFtZXNcIl09YS5jb25maWcuc2NheXRfaWdub3JlRG9tYWluTmFtZXMpO1wiYm9vbGVhblwiPT09dHlwZW9mIGEuY29uZmlnLnNjYXl0X2lnbm9yZVdvcmRzV2l0aE1peGVkQ2FzZXMmJlxuKGxbXCJpZ25vcmUtd29yZHMtd2l0aC1taXhlZC1jYXNlc1wiXT1hLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhNaXhlZENhc2VzKTtcImJvb2xlYW5cIj09PXR5cGVvZiBhLmNvbmZpZy5zY2F5dF9pZ25vcmVXb3Jkc1dpdGhOdW1iZXJzJiYobFtcImlnbm9yZS13b3Jkcy13aXRoLW51bWJlcnNcIl09YS5jb25maWcuc2NheXRfaWdub3JlV29yZHNXaXRoTnVtYmVycyk7dmFyIGs7dHJ5e2s9ZShsKX1jYXRjaChkKXtmLmFsYXJtQ29tcGF0aWJpbGl0eU1lc3NhZ2UoKSxkZWxldGUgbC5jaGFyc1RvT2JzZXJ2ZSxrPWUobCl9ay5zdWJzY3JpYmUoXCJzdWdnZXN0aW9uTGlzdFNlbmRcIixmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz1bXSxkPTA7ZDxhLnN1Z2dlc3Rpb25MaXN0Lmxlbmd0aDtkKyspYltcIndvcmRfXCIrYS5zdWdnZXN0aW9uTGlzdFtkXV18fChiW1wid29yZF9cIithLnN1Z2dlc3Rpb25MaXN0W2RdXT1hLnN1Z2dlc3Rpb25MaXN0W2RdLGMucHVzaChhLnN1Z2dlc3Rpb25MaXN0W2RdKSk7XG5DS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN1Z2dlc3Rpb25zPWN9KTtrLnN1YnNjcmliZShcInNlbGVjdGlvbklzQ2hhbmdlZFwiLGZ1bmN0aW9uKGIpe2EuZ2V0U2VsZWN0aW9uKCkuaXNMb2NrZWQmJmEubG9ja1NlbGVjdGlvbigpfSk7ay5zdWJzY3JpYmUoXCJncmF5dFN0YXRlQ2hhbmdlZFwiLGZ1bmN0aW9uKGQpe2Iuc3RhdGUuZ3JheXRbYS5uYW1lXT1kLnN0YXRlfSk7ay5hZGRNYXJrdXBIYW5kbGVyJiZrLmFkZE1hcmt1cEhhbmRsZXIoZnVuY3Rpb24oYil7dmFyIGQ9YS5lZGl0YWJsZSgpLGU9ZC5nZXRDdXN0b21EYXRhKGIuY2hhck5hbWUpO2UmJihlLiQ9Yi5ub2RlLGQuc2V0Q3VzdG9tRGF0YShiLmNoYXJOYW1lLGUpKX0pO2Euc2NheXQ9azthLmZpcmUoXCJzY2F5dEJ1dHRvblN0YXRlXCIsYS5yZWFkT25seT9DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRDpDS0VESVRPUi5UUklTVEFURV9PTil9ZWxzZSBiLnN0YXRlLnNjYXl0W2EubmFtZV09ITF9KX0sZGVzdHJveTpmdW5jdGlvbihhKXthLnNjYXl0JiZcbmEuc2NheXQuZGVzdHJveSgpO2RlbGV0ZSBhLnNjYXl0O2EuZmlyZShcInNjYXl0QnV0dG9uU3RhdGVcIixDS0VESVRPUi5UUklTVEFURV9PRkYpfSxsb2FkU2NheXRMaWJyYXJ5OmZ1bmN0aW9uKGEsZil7dmFyIGIsYz1mdW5jdGlvbigpe0NLRURJVE9SLmZpcmVPbmNlKFwic2NheXRSZWFkeVwiKTthLnNjYXl0fHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgZiYmZihhKX07XCJ1bmRlZmluZWRcIj09PXR5cGVvZiB3aW5kb3cuU0NBWVR8fFwiZnVuY3Rpb25cIiE9PXR5cGVvZiB3aW5kb3cuU0NBWVQuQ0tTQ0FZVD8oYj1hLmNvbmZpZy5zY2F5dF9zcmNVcmwrXCI/XCIrdGhpcy5vbkxvYWRUaW1lc3RhbXAsQ0tFRElUT1Iuc2NyaXB0TG9hZGVyLmxvYWQoYixmdW5jdGlvbihhKXthJiZjKCl9KSk6d2luZG93LlNDQVlUJiZcImZ1bmN0aW9uXCI9PT10eXBlb2Ygd2luZG93LlNDQVlULkNLU0NBWVQmJmMoKX19LENLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe3ZhciBmPWEuZGF0YS5uYW1lO1xuYT1hLmRhdGEuZGVmaW5pdGlvbi5kaWFsb2c7aWYoXCJzY2F5dERpYWxvZ1wiPT09ZilhLm9uKFwiY2FuY2VsXCIsZnVuY3Rpb24oYSl7cmV0dXJuITF9LHRoaXMsbnVsbCwtMSk7aWYoXCJjaGVja3NwZWxsXCI9PT1mKWEub24oXCJjYW5jZWxcIixmdW5jdGlvbihhKXthPWEuc2VuZGVyJiZhLnNlbmRlci5nZXRQYXJlbnRFZGl0b3IoKTt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnNjYXl0LGU9YS5zY2F5dDtlJiZjLnN0YXRlLnNjYXl0W2EubmFtZV0mJmUuc2V0TWFya3VwUGF1c2VkJiZlLnNldE1hcmt1cFBhdXNlZCghMSk7YS51bmxvY2tTZWxlY3Rpb24oKX0sdGhpcyxudWxsLC0yKTtpZihcImxpbmtcIj09PWYpYS5vbihcIm9rXCIsZnVuY3Rpb24oYSl7dmFyIGM9YS5zZW5kZXImJmEuc2VuZGVyLmdldFBhcmVudEVkaXRvcigpO2MmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmZpcmUoXCJyZWxvYWRNYXJrdXBTY2F5dFwiLHtyZW1vdmVPcHRpb25zOntyZW1vdmVJbnNpZGU6ITAsZm9yY2VCb29rbWFyazohMH0sXG50aW1lb3V0OjB9KX0sMCl9KX0pLENLRURJVE9SLm9uKFwic2NheXRSZWFkeVwiLGZ1bmN0aW9uKCl7aWYoITA9PT1DS0VESVRPUi5jb25maWcuc2NheXRfaGFuZGxlQ2hlY2tEaXJ0eSl7dmFyIGE9Q0tFRElUT1IuZWRpdG9yLnByb3RvdHlwZTthLmNoZWNrRGlydHk9Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5jaGVja0RpcnR5LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPW51bGwsZT10aGlzLnNjYXl0O2lmKENLRURJVE9SLnBsdWdpbnMuc2NheXQmJkNLRURJVE9SLnBsdWdpbnMuc2NheXQuc3RhdGUuc2NheXRbdGhpcy5uYW1lXSYmdGhpcy5zY2F5dCl7aWYoYz1cInJlYWR5XCI9PXRoaXMuc3RhdHVzKXZhciBmPWUucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLmdldFNuYXBzaG90KCkpLGU9ZS5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKHRoaXMuXy5wcmV2aW91c1ZhbHVlKSxjPWMmJmUhPT1mfWVsc2UgYz1hLmNhbGwodGhpcyk7cmV0dXJuIGN9fSk7YS5yZXNldERpcnR5PVxuQ0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYS5yZXNldERpcnR5LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPXRoaXMuc2NheXQ7Q0tFRElUT1IucGx1Z2lucy5zY2F5dCYmQ0tFRElUT1IucGx1Z2lucy5zY2F5dC5zdGF0ZS5zY2F5dFt0aGlzLm5hbWVdJiZ0aGlzLnNjYXl0P3RoaXMuXy5wcmV2aW91c1ZhbHVlPWMucmVtb3ZlTWFya3VwRnJvbVN0cmluZyh0aGlzLmdldFNuYXBzaG90KCkpOmEuY2FsbCh0aGlzKX19KX1pZighMD09PUNLRURJVE9SLmNvbmZpZy5zY2F5dF9oYW5kbGVVbmRvUmVkbyl7dmFyIGE9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlLnByb3RvdHlwZSxmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZXF1YWxzQ29udGVudD9cImVxdWFsc0NvbnRlbnRcIjpcImVxdWFsc1wiO2FbZl09Q0tFRElUT1IudG9vbHMub3ZlcnJpZGUoYVtmXSxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYyl7dmFyIGU9Yy5lZGl0b3Iuc2NheXQsZj10aGlzLmNvbnRlbnRzLFxuaz1jLmNvbnRlbnRzLGQ9bnVsbDtDS0VESVRPUi5wbHVnaW5zLnNjYXl0JiZDS0VESVRPUi5wbHVnaW5zLnNjYXl0LnN0YXRlLnNjYXl0W2MuZWRpdG9yLm5hbWVdJiZjLmVkaXRvci5zY2F5dCYmKHRoaXMuY29udGVudHM9ZS5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKGYpfHxcIlwiLGMuY29udGVudHM9ZS5yZW1vdmVNYXJrdXBGcm9tU3RyaW5nKGspfHxcIlwiKTtkPWEuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuY29udGVudHM9ZjtjLmNvbnRlbnRzPWs7cmV0dXJuIGR9fSl9fSksZnVuY3Rpb24oKXt2YXIgYT17cHJlc2VydmVTdGF0ZTohMCxlZGl0b3JGb2N1czohMSxyZWFkT25seToxLGV4ZWM6ZnVuY3Rpb24oYSl7dGhpcy50b2dnbGVTdGF0ZSgpO3RoaXMucmVmcmVzaChhKX0scmVmcmVzaDpmdW5jdGlvbihhKXtpZihhLmRvY3VtZW50KXt2YXIgYj10aGlzLnN0YXRlPT1DS0VESVRPUi5UUklTVEFURV9PTj9cImF0dGFjaENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiO2EuZWRpdGFibGUoKVtiXShcImNrZV9zaG93X2JvcmRlcnNcIil9fX07XG5DS0VESVRPUi5wbHVnaW5zLmFkZChcInNob3dib3JkZXJzXCIse21vZGVzOnt3eXNpd3lnOjF9LG9uTG9hZDpmdW5jdGlvbigpe3ZhciBhO2E9KENLRURJVE9SLmVudi5pZTZDb21wYXQ/W1wiLiUxIHRhYmxlLiUyLFwiLFwiLiUxIHRhYmxlLiUyIHRkLCAuJTEgdGFibGUuJTIgdGhcIixcIntcIixcImJvcmRlciA6ICNkM2QzZDMgMXB4IGRvdHRlZFwiLFwifVwiXTpcIi4lMSB0YWJsZS4lMiw7LiUxIHRhYmxlLiUyIFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdHIgXFx4M2UgdGgsOy4lMSB0YWJsZS4lMiBcXHgzZSB0Ym9keSBcXHgzZSB0ciBcXHgzZSB0ZCwgLiUxIHRhYmxlLiUyIFxceDNlIHRib2R5IFxceDNlIHRyIFxceDNlIHRoLDsuJTEgdGFibGUuJTIgXFx4M2UgdGhlYWQgXFx4M2UgdHIgXFx4M2UgdGQsIC4lMSB0YWJsZS4lMiBcXHgzZSB0aGVhZCBcXHgzZSB0ciBcXHgzZSB0aCw7LiUxIHRhYmxlLiUyIFxceDNlIHRmb290IFxceDNlIHRyIFxceDNlIHRkLCAuJTEgdGFibGUuJTIgXFx4M2UgdGZvb3QgXFx4M2UgdHIgXFx4M2UgdGg7eztib3JkZXIgOiAjZDNkM2QzIDFweCBkb3R0ZWQ7fVwiLnNwbGl0KFwiO1wiKSkuam9pbihcIlwiKS5yZXBsYWNlKC8lMi9nLFxuXCJja2Vfc2hvd19ib3JkZXJcIikucmVwbGFjZSgvJTEvZyxcImNrZV9zaG93X2JvcmRlcnMgXCIpO0NLRURJVE9SLmFkZENzcyhhKX0saW5pdDpmdW5jdGlvbihmKXt2YXIgYj1mLmFkZENvbW1hbmQoXCJzaG93Ym9yZGVyc1wiLGEpO2IuY2FuVW5kbz0hMTshMSE9PWYuY29uZmlnLnN0YXJ0dXBTaG93Qm9yZGVycyYmYi5zZXRTdGF0ZShDS0VESVRPUi5UUklTVEFURV9PTik7Zi5vbihcIm1vZGVcIixmdW5jdGlvbigpe2Iuc3RhdGUhPUNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEJiZiLnJlZnJlc2goZil9LG51bGwsbnVsbCwxMDApO2Yub24oXCJjb250ZW50RG9tXCIsZnVuY3Rpb24oKXtiLnN0YXRlIT1DS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCYmYi5yZWZyZXNoKGYpfSk7Zi5vbihcInJlbW92ZUZvcm1hdENsZWFudXBcIixmdW5jdGlvbihhKXthPWEuZGF0YTtmLmdldENvbW1hbmQoXCJzaG93Ym9yZGVyc1wiKS5zdGF0ZT09Q0tFRElUT1IuVFJJU1RBVEVfT04mJmEuaXMoXCJ0YWJsZVwiKSYmKCFhLmhhc0F0dHJpYnV0ZShcImJvcmRlclwiKXx8XG4wPj1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcImJvcmRlclwiKSwxMCkpJiZhLmFkZENsYXNzKFwiY2tlX3Nob3dfYm9yZGVyXCIpfSl9LGFmdGVySW5pdDpmdW5jdGlvbihhKXt2YXIgYj1hLmRhdGFQcm9jZXNzb3I7YT1iJiZiLmRhdGFGaWx0ZXI7Yj1iJiZiLmh0bWxGaWx0ZXI7YSYmYS5hZGRSdWxlcyh7ZWxlbWVudHM6e3RhYmxlOmZ1bmN0aW9uKGEpe2E9YS5hdHRyaWJ1dGVzO3ZhciBiPWFbXCJjbGFzc1wiXSxmPXBhcnNlSW50KGEuYm9yZGVyLDEwKTtmJiYhKDA+PWYpfHxiJiYtMSE9Yi5pbmRleE9mKFwiY2tlX3Nob3dfYm9yZGVyXCIpfHwoYVtcImNsYXNzXCJdPShifHxcIlwiKStcIiBja2Vfc2hvd19ib3JkZXJcIil9fX0pO2ImJmIuYWRkUnVsZXMoe2VsZW1lbnRzOnt0YWJsZTpmdW5jdGlvbihhKXthPWEuYXR0cmlidXRlczt2YXIgYj1hW1wiY2xhc3NcIl07YiYmKGFbXCJjbGFzc1wiXT1iLnJlcGxhY2UoXCJja2Vfc2hvd19ib3JkZXJcIixcIlwiKS5yZXBsYWNlKC9cXHN7Mn0vLFwiIFwiKS5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sXG5cIlwiKSl9fX0pfX0pO0NLRURJVE9SLm9uKFwiZGlhbG9nRGVmaW5pdGlvblwiLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZGF0YS5uYW1lO2lmKFwidGFibGVcIj09Ynx8XCJ0YWJsZVByb3BlcnRpZXNcIj09YilpZihhPWEuZGF0YS5kZWZpbml0aW9uLGI9YS5nZXRDb250ZW50cyhcImluZm9cIikuZ2V0KFwidHh0Qm9yZGVyXCIpLGIuY29tbWl0PUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGIuY29tbWl0LGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGYpe2EuYXBwbHkodGhpcyxhcmd1bWVudHMpO3ZhciBrPXBhcnNlSW50KHRoaXMuZ2V0VmFsdWUoKSwxMCk7Zlsha3x8MD49az9cImFkZENsYXNzXCI6XCJyZW1vdmVDbGFzc1wiXShcImNrZV9zaG93X2JvcmRlclwiKX19KSxhPShhPWEuZ2V0Q29udGVudHMoXCJhZHZhbmNlZFwiKSkmJmEuZ2V0KFwiYWR2Q1NTQ2xhc3Nlc1wiKSlhLnNldHVwPUNLRURJVE9SLnRvb2xzLm92ZXJyaWRlKGEuc2V0dXAsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7YS5hcHBseSh0aGlzLFxuYXJndW1lbnRzKTt0aGlzLnNldFZhbHVlKHRoaXMuZ2V0VmFsdWUoKS5yZXBsYWNlKC9ja2Vfc2hvd19ib3JkZXIvLFwiXCIpKX19KSxhLmNvbW1pdD1DS0VESVRPUi50b29scy5vdmVycmlkZShhLmNvbW1pdCxmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixmKXthLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtwYXJzZUludChmLmdldEF0dHJpYnV0ZShcImJvcmRlclwiKSwxMCl8fGYuYWRkQ2xhc3MoXCJja2Vfc2hvd19ib3JkZXJcIil9fSl9KX0oKSxmdW5jdGlvbigpe0NLRURJVE9SLnBsdWdpbnMuYWRkKFwic291cmNlYXJlYVwiLHtpbml0OmZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGIoKXt2YXIgYT1lJiZ0aGlzLmVxdWFscyhDS0VESVRPUi5kb2N1bWVudC5nZXRBY3RpdmUoKSk7dGhpcy5oaWRlKCk7dGhpcy5zZXRTdHlsZShcImhlaWdodFwiLHRoaXMuZ2V0UGFyZW50KCkuJC5jbGllbnRIZWlnaHQrXCJweFwiKTt0aGlzLnNldFN0eWxlKFwid2lkdGhcIix0aGlzLmdldFBhcmVudCgpLiQuY2xpZW50V2lkdGgrXG5cInB4XCIpO3RoaXMuc2hvdygpO2EmJnRoaXMuZm9jdXMoKX1pZihmLmVsZW1lbnRNb2RlIT1DS0VESVRPUi5FTEVNRU5UX01PREVfSU5MSU5FKXt2YXIgYz1DS0VESVRPUi5wbHVnaW5zLnNvdXJjZWFyZWE7Zi5hZGRNb2RlKFwic291cmNlXCIsZnVuY3Rpb24oYyl7dmFyIGU9Zi51aS5zcGFjZShcImNvbnRlbnRzXCIpLmdldERvY3VtZW50KCkuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpO2Uuc2V0U3R5bGVzKENLRURJVE9SLnRvb2xzLmV4dGVuZCh7d2lkdGg6Q0tFRElUT1IuZW52LmllN0NvbXBhdD9cIjk5JVwiOlwiMTAwJVwiLGhlaWdodDpcIjEwMCVcIixyZXNpemU6XCJub25lXCIsb3V0bGluZTpcIm5vbmVcIixcInRleHQtYWxpZ25cIjpcImxlZnRcIn0sQ0tFRElUT1IudG9vbHMuY3NzVmVuZG9yUHJlZml4KFwidGFiLXNpemVcIixmLmNvbmZpZy5zb3VyY2VBcmVhVGFiU2l6ZXx8NCkpKTtlLnNldEF0dHJpYnV0ZShcImRpclwiLFwibHRyXCIpO2UuYWRkQ2xhc3MoXCJja2Vfc291cmNlXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0XCIpLmFkZENsYXNzKFwiY2tlX2VuYWJsZV9jb250ZXh0X21lbnVcIik7XG5mLnVpLnNwYWNlKFwiY29udGVudHNcIikuYXBwZW5kKGUpO2U9Zi5lZGl0YWJsZShuZXcgYShmLGUpKTtlLnNldERhdGEoZi5nZXREYXRhKDEpKTtDS0VESVRPUi5lbnYuaWUmJihlLmF0dGFjaExpc3RlbmVyKGYsXCJyZXNpemVcIixiLGUpLGUuYXR0YWNoTGlzdGVuZXIoQ0tFRElUT1IuZG9jdW1lbnQuZ2V0V2luZG93KCksXCJyZXNpemVcIixiLGUpLENLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYiwwLGUpKTtmLmZpcmUoXCJhcmlhV2lkZ2V0XCIsdGhpcyk7YygpfSk7Zi5hZGRDb21tYW5kKFwic291cmNlXCIsYy5jb21tYW5kcy5zb3VyY2UpO2YudWkuYWRkQnV0dG9uJiZmLnVpLmFkZEJ1dHRvbihcIlNvdXJjZVwiLHtsYWJlbDpmLmxhbmcuc291cmNlYXJlYS50b29sYmFyLGNvbW1hbmQ6XCJzb3VyY2VcIix0b29sYmFyOlwibW9kZSwxMFwifSk7Zi5vbihcIm1vZGVcIixmdW5jdGlvbigpe2YuZ2V0Q29tbWFuZChcInNvdXJjZVwiKS5zZXRTdGF0ZShcInNvdXJjZVwiPT1mLm1vZGU/Q0tFRElUT1IuVFJJU1RBVEVfT046XG5DS0VESVRPUi5UUklTVEFURV9PRkYpfSk7dmFyIGU9Q0tFRElUT1IuZW52LmllJiY5PT1DS0VESVRPUi5lbnYudmVyc2lvbn19fSk7dmFyIGE9Q0tFRElUT1IudG9vbHMuY3JlYXRlQ2xhc3Moe2Jhc2U6Q0tFRElUT1IuZWRpdGFibGUscHJvdG86e3NldERhdGE6ZnVuY3Rpb24oYSl7dGhpcy5zZXRWYWx1ZShhKTt0aGlzLnN0YXR1cz1cInJlYWR5XCI7dGhpcy5lZGl0b3IuZmlyZShcImRhdGFSZWFkeVwiKX0sZ2V0RGF0YTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9LGluc2VydEh0bWw6ZnVuY3Rpb24oKXt9LGluc2VydEVsZW1lbnQ6ZnVuY3Rpb24oKXt9LGluc2VydFRleHQ6ZnVuY3Rpb24oKXt9LHNldFJlYWRPbmx5OmZ1bmN0aW9uKGEpe3RoaXNbKGE/XCJzZXRcIjpcInJlbW92ZVwiKStcIkF0dHJpYnV0ZVwiXShcInJlYWRPbmx5XCIsXCJyZWFkb25seVwiKX0sZGV0YWNoOmZ1bmN0aW9uKCl7YS5iYXNlUHJvdG8uZGV0YWNoLmNhbGwodGhpcyk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTtcbnRoaXMucmVtb3ZlKCl9fX0pfSgpLENLRURJVE9SLnBsdWdpbnMuc291cmNlYXJlYT17Y29tbWFuZHM6e3NvdXJjZTp7bW9kZXM6e3d5c2l3eWc6MSxzb3VyY2U6MX0sZWRpdG9yRm9jdXM6ITEscmVhZE9ubHk6MSxleGVjOmZ1bmN0aW9uKGEpe1wid3lzaXd5Z1wiPT1hLm1vZGUmJmEuZmlyZShcInNhdmVTbmFwc2hvdFwiKTthLmdldENvbW1hbmQoXCJzb3VyY2VcIikuc2V0U3RhdGUoQ0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO2Euc2V0TW9kZShcInNvdXJjZVwiPT1hLm1vZGU/XCJ3eXNpd3lnXCI6XCJzb3VyY2VcIil9LGNhblVuZG86ITF9fX0sQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJzcGVjaWFsY2hhclwiLHthdmFpbGFibGVMYW5nczp7YWY6MSxhcjoxLGF6OjEsYmc6MSxjYToxLGNzOjEsY3k6MSxkYToxLGRlOjEsXCJkZS1jaFwiOjEsZWw6MSxlbjoxLFwiZW4tYXVcIjoxLFwiZW4tY2FcIjoxLFwiZW4tZ2JcIjoxLGVvOjEsZXM6MSxldDoxLGV1OjEsZmE6MSxmaToxLGZyOjEsXCJmci1jYVwiOjEsZ2w6MSxoZToxLFxuaHI6MSxodToxLGlkOjEsaXQ6MSxqYToxLGttOjEsa286MSxrdToxLGx0OjEsbHY6MSxuYjoxLG5sOjEsbm86MSxvYzoxLHBsOjEscHQ6MSxcInB0LWJyXCI6MSxydToxLHNpOjEsc2s6MSxzbDoxLHNxOjEsc3Y6MSx0aDoxLHRyOjEsdHQ6MSx1ZzoxLHVrOjEsdmk6MSx6aDoxLFwiemgtY25cIjoxfSxyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9dGhpcztDS0VESVRPUi5kaWFsb2cuYWRkKFwic3BlY2lhbGNoYXJcIix0aGlzLnBhdGgrXCJkaWFsb2dzL3NwZWNpYWxjaGFyLmpzXCIpO2EuYWRkQ29tbWFuZChcInNwZWNpYWxjaGFyXCIse2V4ZWM6ZnVuY3Rpb24oKXt2YXIgYj1hLmxhbmdDb2RlLGI9Zi5hdmFpbGFibGVMYW5nc1tiXT9iOmYuYXZhaWxhYmxlTGFuZ3NbYi5yZXBsYWNlKC8tLiovLFwiXCIpXT9iLnJlcGxhY2UoLy0uKi8sXCJcIik6XCJlblwiO0NLRURJVE9SLnNjcmlwdExvYWRlci5sb2FkKENLRURJVE9SLmdldFVybChmLnBhdGgrXCJkaWFsb2dzL2xhbmcvXCIrYitcIi5qc1wiKSxcbmZ1bmN0aW9uKCl7Q0tFRElUT1IudG9vbHMuZXh0ZW5kKGEubGFuZy5zcGVjaWFsY2hhcixmLmxhbmdFbnRyaWVzW2JdKTthLm9wZW5EaWFsb2coXCJzcGVjaWFsY2hhclwiKX0pfSxtb2Rlczp7d3lzaXd5ZzoxfSxjYW5VbmRvOiExfSk7YS51aS5hZGRCdXR0b24mJmEudWkuYWRkQnV0dG9uKFwiU3BlY2lhbENoYXJcIix7bGFiZWw6YS5sYW5nLnNwZWNpYWxjaGFyLnRvb2xiYXIsY29tbWFuZDpcInNwZWNpYWxjaGFyXCIsdG9vbGJhcjpcImluc2VydCw1MFwifSl9fSksQ0tFRElUT1IuY29uZmlnLnNwZWNpYWxDaGFycz1cIiEgXFx4MjZxdW90OyAjICQgJSBcXHgyNmFtcDsgJyAoICkgKiArIC0gLiAvIDAgMSAyIDMgNCA1IDYgNyA4IDkgOiA7IFxceDI2bHQ7IFxceDNkIFxceDI2Z3Q7ID8gQCBBIEIgQyBEIEUgRiBHIEggSSBKIEsgTCBNIE4gTyBQIFEgUiBTIFQgVSBWIFcgWCBZIFogWyBdIF4gXyBgIGEgYiBjIGQgZSBmIGcgaCBpIGogayBsIG0gbiBvIHAgcSByIHMgdCB1IHYgdyB4IHkgeiB7IHwgfSB+IFxceDI2ZXVybzsgXFx4MjZsc3F1bzsgXFx4MjZyc3F1bzsgXFx4MjZsZHF1bzsgXFx4MjZyZHF1bzsgXFx4MjZuZGFzaDsgXFx4MjZtZGFzaDsgXFx4MjZpZXhjbDsgXFx4MjZjZW50OyBcXHgyNnBvdW5kOyBcXHgyNmN1cnJlbjsgXFx4MjZ5ZW47IFxceDI2YnJ2YmFyOyBcXHgyNnNlY3Q7IFxceDI2dW1sOyBcXHgyNmNvcHk7IFxceDI2b3JkZjsgXFx4MjZsYXF1bzsgXFx4MjZub3Q7IFxceDI2cmVnOyBcXHgyNm1hY3I7IFxceDI2ZGVnOyBcXHgyNnN1cDI7IFxceDI2c3VwMzsgXFx4MjZhY3V0ZTsgXFx4MjZtaWNybzsgXFx4MjZwYXJhOyBcXHgyNm1pZGRvdDsgXFx4MjZjZWRpbDsgXFx4MjZzdXAxOyBcXHgyNm9yZG07IFxceDI2cmFxdW87IFxceDI2ZnJhYzE0OyBcXHgyNmZyYWMxMjsgXFx4MjZmcmFjMzQ7IFxceDI2aXF1ZXN0OyBcXHgyNkFncmF2ZTsgXFx4MjZBYWN1dGU7IFxceDI2QWNpcmM7IFxceDI2QXRpbGRlOyBcXHgyNkF1bWw7IFxceDI2QXJpbmc7IFxceDI2QUVsaWc7IFxceDI2Q2NlZGlsOyBcXHgyNkVncmF2ZTsgXFx4MjZFYWN1dGU7IFxceDI2RWNpcmM7IFxceDI2RXVtbDsgXFx4MjZJZ3JhdmU7IFxceDI2SWFjdXRlOyBcXHgyNkljaXJjOyBcXHgyNkl1bWw7IFxceDI2RVRIOyBcXHgyNk50aWxkZTsgXFx4MjZPZ3JhdmU7IFxceDI2T2FjdXRlOyBcXHgyNk9jaXJjOyBcXHgyNk90aWxkZTsgXFx4MjZPdW1sOyBcXHgyNnRpbWVzOyBcXHgyNk9zbGFzaDsgXFx4MjZVZ3JhdmU7IFxceDI2VWFjdXRlOyBcXHgyNlVjaXJjOyBcXHgyNlV1bWw7IFxceDI2WWFjdXRlOyBcXHgyNlRIT1JOOyBcXHgyNnN6bGlnOyBcXHgyNmFncmF2ZTsgXFx4MjZhYWN1dGU7IFxceDI2YWNpcmM7IFxceDI2YXRpbGRlOyBcXHgyNmF1bWw7IFxceDI2YXJpbmc7IFxceDI2YWVsaWc7IFxceDI2Y2NlZGlsOyBcXHgyNmVncmF2ZTsgXFx4MjZlYWN1dGU7IFxceDI2ZWNpcmM7IFxceDI2ZXVtbDsgXFx4MjZpZ3JhdmU7IFxceDI2aWFjdXRlOyBcXHgyNmljaXJjOyBcXHgyNml1bWw7IFxceDI2ZXRoOyBcXHgyNm50aWxkZTsgXFx4MjZvZ3JhdmU7IFxceDI2b2FjdXRlOyBcXHgyNm9jaXJjOyBcXHgyNm90aWxkZTsgXFx4MjZvdW1sOyBcXHgyNmRpdmlkZTsgXFx4MjZvc2xhc2g7IFxceDI2dWdyYXZlOyBcXHgyNnVhY3V0ZTsgXFx4MjZ1Y2lyYzsgXFx4MjZ1dW1sOyBcXHgyNnlhY3V0ZTsgXFx4MjZ0aG9ybjsgXFx4MjZ5dW1sOyBcXHgyNk9FbGlnOyBcXHgyNm9lbGlnOyBcXHgyNiMzNzI7IFxceDI2IzM3NCBcXHgyNiMzNzMgXFx4MjYjMzc1OyBcXHgyNnNicXVvOyBcXHgyNiM4MjE5OyBcXHgyNmJkcXVvOyBcXHgyNmhlbGxpcDsgXFx4MjZ0cmFkZTsgXFx4MjYjOTY1ODsgXFx4MjZidWxsOyBcXHgyNnJhcnI7IFxceDI2ckFycjsgXFx4MjZoQXJyOyBcXHgyNmRpYW1zOyBcXHgyNmFzeW1wO1wiLnNwbGl0KFwiIFwiKSxcbmZ1bmN0aW9uKCl7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJzdHlsZXNjb21ib1wiLHtyZXF1aXJlczpcInJpY2hjb21ib1wiLGluaXQ6ZnVuY3Rpb24oYSl7dmFyIGY9YS5jb25maWcsYj1hLmxhbmcuc3R5bGVzY29tYm8sYz17fSxlPVtdLGw9W107YS5vbihcInN0eWxlc1NldFwiLGZ1bmN0aW9uKGIpe2lmKGI9Yi5kYXRhLnN0eWxlcyl7Zm9yKHZhciBkLGgsbSxnPTAsbj1iLmxlbmd0aDtnPG47ZysrKShkPWJbZ10sYS5ibG9ja2xlc3MmJmQuZWxlbWVudCBpbiBDS0VESVRPUi5kdGQuJGJsb2NrfHxcInN0cmluZ1wiPT10eXBlb2YgZC50eXBlJiYhQ0tFRElUT1Iuc3R5bGUuY3VzdG9tSGFuZGxlcnNbZC50eXBlXXx8KGg9ZC5uYW1lLGQ9bmV3IENLRURJVE9SLnN0eWxlKGQpLGEuZmlsdGVyLmN1c3RvbUNvbmZpZyYmIWEuZmlsdGVyLmNoZWNrKGQpKSl8fChkLl9uYW1lPWgsZC5fLmVudGVyTW9kZT1mLmVudGVyTW9kZSxkLl8udHlwZT1tPWQuYXNzaWduZWRUb3x8ZC50eXBlLGQuXy53ZWlnaHQ9XG5nKzFFMyoobT09Q0tFRElUT1IuU1RZTEVfT0JKRUNUPzE6bT09Q0tFRElUT1IuU1RZTEVfQkxPQ0s/MjozKSxjW2hdPWQsZS5wdXNoKGQpLGwucHVzaChkKSk7ZS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuXy53ZWlnaHQtYi5fLndlaWdodH0pfX0pO2EudWkuYWRkUmljaENvbWJvKFwiU3R5bGVzXCIse2xhYmVsOmIubGFiZWwsdGl0bGU6Yi5wYW5lbFRpdGxlLHRvb2xiYXI6XCJzdHlsZXMsMTBcIixhbGxvd2VkQ29udGVudDpsLHBhbmVsOntjc3M6W0NLRURJVE9SLnNraW4uZ2V0UGF0aChcImVkaXRvclwiKV0uY29uY2F0KGYuY29udGVudHNDc3MpLG11bHRpU2VsZWN0OiEwLGF0dHJpYnV0ZXM6e1wiYXJpYS1sYWJlbFwiOmIucGFuZWxUaXRsZX19LGluaXQ6ZnVuY3Rpb24oKXt2YXIgYSxjLGYsbCxnLG47Zz0wO2ZvcihuPWUubGVuZ3RoO2c8bjtnKyspYT1lW2ddLGM9YS5fbmFtZSxsPWEuXy50eXBlLGwhPWYmJih0aGlzLnN0YXJ0R3JvdXAoYltcInBhbmVsVGl0bGVcIitTdHJpbmcobCldKSxcbmY9bCksdGhpcy5hZGQoYyxhLnR5cGU9PUNLRURJVE9SLlNUWUxFX09CSkVDVD9jOmEuYnVpbGRQcmV2aWV3KCksYyk7dGhpcy5jb21taXQoKX0sb25DbGljazpmdW5jdGlvbihiKXthLmZvY3VzKCk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpO2I9Y1tiXTt2YXIgZD1hLmVsZW1lbnRQYXRoKCk7aWYoYi5ncm91cCYmYi5yZW1vdmVTdHlsZXNGcm9tU2FtZUdyb3VwKGEpKWEuYXBwbHlTdHlsZShiKTtlbHNlIGFbYi5jaGVja0FjdGl2ZShkLGEpP1wicmVtb3ZlU3R5bGVcIjpcImFwcGx5U3R5bGVcIl0oYik7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfSxvblJlbmRlcjpmdW5jdGlvbigpe2Eub24oXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbihiKXt2YXIgZD10aGlzLmdldFZhbHVlKCk7Yj1iLmRhdGEucGF0aC5lbGVtZW50cztmb3IodmFyIGU9MCxmPWIubGVuZ3RoLGc7ZTxmO2UrKyl7Zz1iW2VdO2Zvcih2YXIgbCBpbiBjKWlmKGNbbF0uY2hlY2tFbGVtZW50UmVtb3ZhYmxlKGcsITAsYSkpe2whPVxuZCYmdGhpcy5zZXRWYWx1ZShsKTtyZXR1cm59fXRoaXMuc2V0VmFsdWUoXCJcIil9LHRoaXMpfSxvbk9wZW46ZnVuY3Rpb24oKXt2YXIgZT1hLmdldFNlbGVjdGlvbigpLmdldFNlbGVjdGVkRWxlbWVudCgpLGU9YS5lbGVtZW50UGF0aChlKSxkPVswLDAsMCwwXTt0aGlzLnNob3dBbGwoKTt0aGlzLnVubWFya0FsbCgpO2Zvcih2YXIgZiBpbiBjKXt2YXIgbD1jW2ZdLGc9bC5fLnR5cGU7bC5jaGVja0FwcGxpY2FibGUoZSxhLGEuYWN0aXZlRmlsdGVyKT9kW2ddKys6dGhpcy5oaWRlSXRlbShmKTtsLmNoZWNrQWN0aXZlKGUsYSkmJnRoaXMubWFyayhmKX1kW0NLRURJVE9SLlNUWUxFX0JMT0NLXXx8dGhpcy5oaWRlR3JvdXAoYltcInBhbmVsVGl0bGVcIitTdHJpbmcoQ0tFRElUT1IuU1RZTEVfQkxPQ0spXSk7ZFtDS0VESVRPUi5TVFlMRV9JTkxJTkVdfHx0aGlzLmhpZGVHcm91cChiW1wicGFuZWxUaXRsZVwiK1N0cmluZyhDS0VESVRPUi5TVFlMRV9JTkxJTkUpXSk7ZFtDS0VESVRPUi5TVFlMRV9PQkpFQ1RdfHxcbnRoaXMuaGlkZUdyb3VwKGJbXCJwYW5lbFRpdGxlXCIrU3RyaW5nKENLRURJVE9SLlNUWUxFX09CSkVDVCldKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPWEuZWxlbWVudFBhdGgoKTtpZihiKXtmb3IodmFyIGQgaW4gYylpZihjW2RdLmNoZWNrQXBwbGljYWJsZShiLGEsYS5hY3RpdmVGaWx0ZXIpKXJldHVybjt0aGlzLnNldFN0YXRlKENLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19LHJlc2V0OmZ1bmN0aW9uKCl7Yz17fTtlPVtdfX0pfX0pfSgpLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtyZXR1cm57ZWRpdG9yRm9jdXM6ITEsY2FuVW5kbzohMSxtb2Rlczp7d3lzaXd5ZzoxfSxleGVjOmZ1bmN0aW9uKGIpe2lmKGIuZWRpdGFibGUoKS5oYXNGb2N1cyl7dmFyIGM9Yi5nZXRTZWxlY3Rpb24oKSxkO2lmKGQ9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudFBhdGgoYy5nZXRDb21tb25BbmNlc3RvcigpLGMucm9vdCkpLmNvbnRhaW5zKHt0ZDoxLHRoOjF9LDEpKXt2YXIgYz1iLmNyZWF0ZVJhbmdlKCksXG5mPUNLRURJVE9SLnRvb2xzLnRyeVRoZXNlKGZ1bmN0aW9uKCl7dmFyIGI9ZC5nZXRQYXJlbnQoKS4kLmNlbGxzW2QuJC5jZWxsSW5kZXgrKGE/LTE6MSldO2IucGFyZW50Tm9kZS5wYXJlbnROb2RlO3JldHVybiBifSxmdW5jdGlvbigpe3ZhciBiPWQuZ2V0UGFyZW50KCksYj1iLmdldEFzY2VuZGFudChcInRhYmxlXCIpLiQucm93c1tiLiQucm93SW5kZXgrKGE/LTE6MSldO3JldHVybiBiLmNlbGxzW2E/Yi5jZWxscy5sZW5ndGgtMTowXX0pO2lmKGZ8fGEpaWYoZilmPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmKSxjLm1vdmVUb0VsZW1lbnRFZGl0U3RhcnQoZiksYy5jaGVja1N0YXJ0T2ZCbG9jaygpJiZjLmNoZWNrRW5kT2ZCbG9jaygpfHxjLnNlbGVjdE5vZGVDb250ZW50cyhmKTtlbHNlIHJldHVybiEwO2Vsc2V7Zm9yKHZhciBtPWQuZ2V0QXNjZW5kYW50KFwidGFibGVcIikuJCxmPWQuZ2V0UGFyZW50KCkuJC5jZWxscyxtPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChtLmluc2VydFJvdygtMSksXG5iLmRvY3VtZW50KSxnPTAsbj1mLmxlbmd0aDtnPG47ZysrKW0uYXBwZW5kKChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZltnXSxiLmRvY3VtZW50KSkuY2xvbmUoITEsITEpKS5hcHBlbmRCb2d1cygpO2MubW92ZVRvRWxlbWVudEVkaXRTdGFydChtKX1jLnNlbGVjdCghMCk7cmV0dXJuITB9fXJldHVybiExfX19dmFyIGY9e2VkaXRvckZvY3VzOiExLG1vZGVzOnt3eXNpd3lnOjEsc291cmNlOjF9fSxiPXtleGVjOmZ1bmN0aW9uKGEpe2EuY29udGFpbmVyLmZvY3VzTmV4dCghMCxhLnRhYkluZGV4KX19LGM9e2V4ZWM6ZnVuY3Rpb24oYSl7YS5jb250YWluZXIuZm9jdXNQcmV2aW91cyghMCxhLnRhYkluZGV4KX19O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidGFiXCIse2luaXQ6ZnVuY3Rpb24oZSl7Zm9yKHZhciBsPSExIT09ZS5jb25maWcuZW5hYmxlVGFiS2V5VG9vbHMsaz1lLmNvbmZpZy50YWJTcGFjZXN8fDAsZD1cIlwiO2stLTspZCs9XCLCoFwiO2lmKGQpZS5vbihcImtleVwiLGZ1bmN0aW9uKGEpezk9PVxuYS5kYXRhLmtleUNvZGUmJihlLmluc2VydFRleHQoZCksYS5jYW5jZWwoKSl9KTtpZihsKWUub24oXCJrZXlcIixmdW5jdGlvbihhKXsoOT09YS5kYXRhLmtleUNvZGUmJmUuZXhlY0NvbW1hbmQoXCJzZWxlY3ROZXh0Q2VsbFwiKXx8YS5kYXRhLmtleUNvZGU9PUNLRURJVE9SLlNISUZUKzkmJmUuZXhlY0NvbW1hbmQoXCJzZWxlY3RQcmV2aW91c0NlbGxcIikpJiZhLmNhbmNlbCgpfSk7ZS5hZGRDb21tYW5kKFwiYmx1clwiLENLRURJVE9SLnRvb2xzLmV4dGVuZChiLGYpKTtlLmFkZENvbW1hbmQoXCJibHVyQmFja1wiLENLRURJVE9SLnRvb2xzLmV4dGVuZChjLGYpKTtlLmFkZENvbW1hbmQoXCJzZWxlY3ROZXh0Q2VsbFwiLGEoKSk7ZS5hZGRDb21tYW5kKFwic2VsZWN0UHJldmlvdXNDZWxsXCIsYSghMCkpfX0pfSgpLENLRURJVE9SLmRvbS5lbGVtZW50LnByb3RvdHlwZS5mb2N1c05leHQ9ZnVuY3Rpb24oYSxmKXt2YXIgYj12b2lkIDA9PT1mP3RoaXMuZ2V0VGFiSW5kZXgoKTpmLGMsZSxsLGssZCxoO2lmKDA+PVxuYilmb3IoZD10aGlzLmdldE5leHRTb3VyY2VOb2RlKGEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTtkOyl7aWYoZC5pc1Zpc2libGUoKSYmMD09PWQuZ2V0VGFiSW5kZXgoKSl7bD1kO2JyZWFrfWQ9ZC5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpfWVsc2UgZm9yKGQ9dGhpcy5nZXREb2N1bWVudCgpLmdldEJvZHkoKS5nZXRGaXJzdCgpO2Q9ZC5nZXROZXh0U291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQpOyl7aWYoIWMpaWYoIWUmJmQuZXF1YWxzKHRoaXMpKXtpZihlPSEwLGEpe2lmKCEoZD1kLmdldE5leHRTb3VyY2VOb2RlKCEwLENLRURJVE9SLk5PREVfRUxFTUVOVCkpKWJyZWFrO2M9MX19ZWxzZSBlJiYhdGhpcy5jb250YWlucyhkKSYmKGM9MSk7aWYoZC5pc1Zpc2libGUoKSYmISgwPihoPWQuZ2V0VGFiSW5kZXgoKSkpKXtpZihjJiZoPT1iKXtsPWQ7YnJlYWt9aD5iJiYoIWx8fCFrfHxoPGspPyhsPWQsaz1oKTpsfHwwIT09aHx8XG4obD1kLGs9aCl9fWwmJmwuZm9jdXMoKX0sQ0tFRElUT1IuZG9tLmVsZW1lbnQucHJvdG90eXBlLmZvY3VzUHJldmlvdXM9ZnVuY3Rpb24oYSxmKXtmb3IodmFyIGI9dm9pZCAwPT09Zj90aGlzLmdldFRhYkluZGV4KCk6ZixjLGUsbCxrPTAsZCxoPXRoaXMuZ2V0RG9jdW1lbnQoKS5nZXRCb2R5KCkuZ2V0TGFzdCgpO2g9aC5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITEsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKTspe2lmKCFjKWlmKCFlJiZoLmVxdWFscyh0aGlzKSl7aWYoZT0hMCxhKXtpZighKGg9aC5nZXRQcmV2aW91c1NvdXJjZU5vZGUoITAsQ0tFRElUT1IuTk9ERV9FTEVNRU5UKSkpYnJlYWs7Yz0xfX1lbHNlIGUmJiF0aGlzLmNvbnRhaW5zKGgpJiYoYz0xKTtpZihoLmlzVmlzaWJsZSgpJiYhKDA+KGQ9aC5nZXRUYWJJbmRleCgpKSkpaWYoMD49Yil7aWYoYyYmMD09PWQpe2w9aDticmVha31kPmsmJihsPWgsaz1kKX1lbHNle2lmKGMmJmQ9PWIpe2w9aDticmVha31kPGImJighbHx8XG5kPmspJiYobD1oLGs9ZCl9fWwmJmwuZm9jdXMoKX0sQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJsZVwiLHtyZXF1aXJlczpcImRpYWxvZ1wiLGluaXQ6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyhcInRhYmxlXCIsMSk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVEKX19KX1pZighYS5ibG9ja2xlc3Mpe3ZhciBiPWEubGFuZy50YWJsZTthLmFkZENvbW1hbmQoXCJ0YWJsZVwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwidGFibGVcIix7Y29udGV4dDpcInRhYmxlXCIsYWxsb3dlZENvbnRlbnQ6XCJ0YWJsZXt3aWR0aCxoZWlnaHR9W2FsaWduLGJvcmRlcixjZWxscGFkZGluZyxjZWxsc3BhY2luZyxzdW1tYXJ5XTtjYXB0aW9uIHRib2R5IHRoZWFkIHRmb290O3RoIHRkIHRyW3Njb3BlXTtcIitcbihhLnBsdWdpbnMuZGlhbG9nYWR2dGFiP1widGFibGVcIithLnBsdWdpbnMuZGlhbG9nYWR2dGFiLmFsbG93ZWRDb250ZW50KCk6XCJcIikscmVxdWlyZWRDb250ZW50OlwidGFibGVcIixjb250ZW50VHJhbnNmb3JtYXRpb25zOltbXCJ0YWJsZXt3aWR0aH06IHNpemVUb1N0eWxlXCIsXCJ0YWJsZVt3aWR0aF06IHNpemVUb0F0dHJpYnV0ZVwiXSxbXCJ0ZDogc3BsaXRCb3JkZXJTaG9ydGhhbmRcIl0sW3tlbGVtZW50OlwidGFibGVcIixyaWdodDpmdW5jdGlvbihhKXthLnN0eWxlcyYmKGEuc3R5bGVzLmJvcmRlciYmYS5zdHlsZXMuYm9yZGVyLm1hdGNoKC9zb2xpZC8pJiYoYS5hdHRyaWJ1dGVzLmJvcmRlcj0xKSxcImNvbGxhcHNlXCI9PWEuc3R5bGVzW1wiYm9yZGVyLWNvbGxhcHNlXCJdJiYoYS5hdHRyaWJ1dGVzLmNlbGxzcGFjaW5nPTApKX19XV19KSk7YS5hZGRDb21tYW5kKFwidGFibGVQcm9wZXJ0aWVzXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJ0YWJsZVByb3BlcnRpZXNcIixmKCkpKTthLmFkZENvbW1hbmQoXCJ0YWJsZURlbGV0ZVwiLFxuZih7ZXhlYzpmdW5jdGlvbihhKXt2YXIgYj1hLmVsZW1lbnRQYXRoKCkuY29udGFpbnMoXCJ0YWJsZVwiLDEpO2lmKGIpe3ZhciBmPWIuZ2V0UGFyZW50KCksaz1hLmVkaXRhYmxlKCk7MSE9Zi5nZXRDaGlsZENvdW50KCl8fGYuaXMoXCJ0ZFwiLFwidGhcIil8fGYuZXF1YWxzKGspfHwoYj1mKTthPWEuY3JlYXRlUmFuZ2UoKTthLm1vdmVUb1Bvc2l0aW9uKGIsQ0tFRElUT1IuUE9TSVRJT05fQkVGT1JFX1NUQVJUKTtiLnJlbW92ZSgpO2Euc2VsZWN0KCl9fX0pKTthLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJUYWJsZVwiLHtsYWJlbDpiLnRvb2xiYXIsY29tbWFuZDpcInRhYmxlXCIsdG9vbGJhcjpcImluc2VydCwzMFwifSk7Q0tFRElUT1IuZGlhbG9nLmFkZChcInRhYmxlXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTtDS0VESVRPUi5kaWFsb2cuYWRkKFwidGFibGVQcm9wZXJ0aWVzXCIsdGhpcy5wYXRoK1wiZGlhbG9ncy90YWJsZS5qc1wiKTthLmFkZE1lbnVJdGVtcyYmYS5hZGRNZW51SXRlbXMoe3RhYmxlOntsYWJlbDpiLm1lbnUsXG5jb21tYW5kOlwidGFibGVQcm9wZXJ0aWVzXCIsZ3JvdXA6XCJ0YWJsZVwiLG9yZGVyOjV9LHRhYmxlZGVsZXRlOntsYWJlbDpiLmRlbGV0ZVRhYmxlLGNvbW1hbmQ6XCJ0YWJsZURlbGV0ZVwiLGdyb3VwOlwidGFibGVcIixvcmRlcjoxfX0pO2Eub24oXCJkb3VibGVjbGlja1wiLGZ1bmN0aW9uKGEpe2EuZGF0YS5lbGVtZW50LmlzKFwidGFibGVcIikmJihhLmRhdGEuZGlhbG9nPVwidGFibGVQcm9wZXJ0aWVzXCIpfSk7YS5jb250ZXh0TWVudSYmYS5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbigpe3JldHVybnt0YWJsZWRlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfX0pfX19KSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXtmdW5jdGlvbiBjKGEpe3JldHVybiBiP2IuY29udGFpbnMoYSkmJmEuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCkuZXF1YWxzKGIpOiEwfWZ1bmN0aW9uIGQoYSl7MDxmLmxlbmd0aHx8YS50eXBlIT1DS0VESVRPUi5OT0RFX0VMRU1FTlR8fFxuIXIudGVzdChhLmdldE5hbWUoKSl8fGEuZ2V0Q3VzdG9tRGF0YShcInNlbGVjdGVkX2NlbGxcIil8fChDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZyxhLFwic2VsZWN0ZWRfY2VsbFwiLCEwKSxmLnB1c2goYSkpfWlmKGEpe2Zvcih2YXIgZT1hLmdldFJhbmdlcygpLGY9W10sZz17fSxoPTA7aDxlLmxlbmd0aDtoKyspe3ZhciBrPWVbaF07aWYoay5jb2xsYXBzZWQpKGs9ay5nZXRDb21tb25BbmNlc3RvcigpLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCkpJiZjKGspJiZmLnB1c2goayk7ZWxzZXt2YXIgaz1uZXcgQ0tFRElUT1IuZG9tLndhbGtlcihrKSxsO2ZvcihrLmd1YXJkPWQ7bD1rLm5leHQoKTspbC50eXBlPT1DS0VESVRPUi5OT0RFX0VMRU1FTlQmJmwuaXMoQ0tFRElUT1IuZHRkLnRhYmxlKXx8KGw9bC5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApKSYmIWwuZ2V0Q3VzdG9tRGF0YShcInNlbGVjdGVkX2NlbGxcIikmJmMobCkmJihDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoZyxcbmwsXCJzZWxlY3RlZF9jZWxsXCIsITApLGYucHVzaChsKSl9fUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhnKTtyZXR1cm4gZn19ZnVuY3Rpb24gZihiLGMpe2Zvcih2YXIgZD14KGIpP2I6YShiKSxlPWRbMF0sZj1lLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGU9ZS5nZXREb2N1bWVudCgpLGc9ZFswXS5nZXRQYXJlbnQoKSxoPWcuJC5yb3dJbmRleCxkPWRbZC5sZW5ndGgtMV0saz1kLmdldFBhcmVudCgpLiQucm93SW5kZXgrZC4kLnJvd1NwYW4tMSxkPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmLiQucm93c1trXSksaD1jP2g6ayxnPWM/ZzpkLGQ9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxmPWRbaF0saD1jP2RbaC0xXTpkW2grMV0sZD1kWzBdLmxlbmd0aCxlPWUuY3JlYXRlRWxlbWVudChcInRyXCIpLGs9MDtmW2tdJiZrPGQ7aysrKXt2YXIgbDsxPGZba10ucm93U3BhbiYmaCYmZltrXT09aFtrXT8obD1mW2tdLGwucm93U3Bhbis9MSk6KGw9KG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmW2tdKSkuY2xvbmUoKSxcbmwucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKSxsLmFwcGVuZEJvZ3VzKCksZS5hcHBlbmQobCksbD1sLiQpO2srPWwuY29sU3Bhbi0xfWM/ZS5pbnNlcnRCZWZvcmUoZyk6ZS5pbnNlcnRBZnRlcihnKX1mdW5jdGlvbiBiKGMpe2lmKGMgaW5zdGFuY2VvZiBDS0VESVRPUi5kb20uc2VsZWN0aW9uKXt2YXIgZD1jLmdldFJhbmdlcygpLGU9YShjKSxmPWVbMF0uZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGg9ZVswXS5nZXRQYXJlbnQoKS4kLnJvd0luZGV4LGU9ZVtlLmxlbmd0aC0xXSxrPWUuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCtlLiQucm93U3Bhbi0xLGU9W107Yy5yZXNldCgpO2ZvcihjPWg7Yzw9aztjKyspe2Zvcih2YXIgbD1nW2NdLG09bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5yb3dzW2NdKSxuPTA7bjxsLmxlbmd0aDtuKyspe3ZhciBwPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChsW25dKSxyPXAuZ2V0UGFyZW50KCkuJC5yb3dJbmRleDtcbjE9PXAuJC5yb3dTcGFuP3AucmVtb3ZlKCk6KC0tcC4kLnJvd1NwYW4scj09YyYmKHI9Z1tjKzFdLHJbbi0xXT9wLmluc2VydEFmdGVyKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChyW24tMV0pKToobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5yb3dzW2MrMV0pKS5hcHBlbmQocCwxKSkpO24rPXAuJC5jb2xTcGFuLTF9ZS5wdXNoKG0pfWc9Zi4kLnJvd3M7ZFswXS5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCk7aD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZ1trKzFdfHwoMDxoP2dbaC0xXTpudWxsKXx8Zi4kLnBhcmVudE5vZGUpO2ZvcihjPWUubGVuZ3RoOzA8PWM7Yy0tKWIoZVtjXSk7cmV0dXJuIGYuJC5wYXJlbnROb2RlP2g6KGRbMF0uc2VsZWN0KCksbnVsbCl9YyBpbnN0YW5jZW9mIENLRURJVE9SLmRvbS5lbGVtZW50JiYoZj1jLmdldEFzY2VuZGFudChcInRhYmxlXCIpLDE9PWYuJC5yb3dzLmxlbmd0aD9mLnJlbW92ZSgpOmMucmVtb3ZlKCkpO1xucmV0dXJuIG51bGx9ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgYz1hLmdldFBhcmVudCgpLiQuY2VsbHMsZD0wLGU9MDtlPGMubGVuZ3RoO2UrKyl7dmFyIGY9Y1tlXSxkPWQrKGI/MTpmLmNvbFNwYW4pO2lmKGY9PWEuJClicmVha31yZXR1cm4gZC0xfWZ1bmN0aW9uIGUoYSxiKXtmb3IodmFyIGQ9Yj9JbmZpbml0eTowLGU9MDtlPGEubGVuZ3RoO2UrKyl7dmFyIGY9YyhhW2VdLGIpO2lmKGI/ZjxkOmY+ZClkPWZ9cmV0dXJuIGR9ZnVuY3Rpb24gbChiLGMpe2Zvcih2YXIgZD14KGIpP2I6YShiKSxmPWRbMF0uZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZz1lKGQsMSksZD1lKGQpLGg9Yz9nOmQsaz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGYpLGY9W10sZz1bXSxkPWsubGVuZ3RoLGw9MDtsPGQ7bCsrKWYucHVzaChrW2xdW2hdKSxnLnB1c2goYz9rW2xdW2gtMV06a1tsXVtoKzFdKTtmb3IobD0wO2w8ZDtsKyspZltsXSYmKDE8ZltsXS5jb2xTcGFuJiZnW2xdPT1mW2xdPyhrPWZbbF0sXG5rLmNvbFNwYW4rPTEpOihoPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChmW2xdKSxrPWguY2xvbmUoKSxrLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIiksay5hcHBlbmRCb2d1cygpLGtbYz9cImluc2VydEJlZm9yZVwiOlwiaW5zZXJ0QWZ0ZXJcIl0uY2FsbChrLGgpLGs9ay4kKSxsKz1rLnJvd1NwYW4tMSl9ZnVuY3Rpb24gayhhLGIpe3ZhciBjPWEuZ2V0U3RhcnRFbGVtZW50KCkuZ2V0QXNjZW5kYW50KHt0ZDoxLHRoOjF9LCEwKTtpZihjKXt2YXIgZD1jLmNsb25lKCk7ZC5hcHBlbmRCb2d1cygpO2I/ZC5pbnNlcnRCZWZvcmUoYyk6ZC5pbnNlcnRBZnRlcihjKX19ZnVuY3Rpb24gZChiKXtpZihiIGluc3RhbmNlb2YgQ0tFRElUT1IuZG9tLnNlbGVjdGlvbil7dmFyIGM9Yi5nZXRSYW5nZXMoKSxlPWEoYiksZj1lWzBdJiZlWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc7YTp7dmFyIGs9MDtnPWUubGVuZ3RoLTE7Zm9yKHZhciBsPXt9LG0sbjttPWVbaysrXTspQ0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKGwsXG5tLFwiZGVsZXRlX2NlbGxcIiwhMCk7Zm9yKGs9MDttPWVbaysrXTspaWYoKG49bS5nZXRQcmV2aW91cygpKSYmIW4uZ2V0Q3VzdG9tRGF0YShcImRlbGV0ZV9jZWxsXCIpfHwobj1tLmdldE5leHQoKSkmJiFuLmdldEN1c3RvbURhdGEoXCJkZWxldGVfY2VsbFwiKSl7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGwpO2c9bjticmVhayBhfUNLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2VycyhsKTtrPWVbMF0uZ2V0UGFyZW50KCk7KGs9ay5nZXRQcmV2aW91cygpKT9nPWsuZ2V0TGFzdCgpOihrPWVbZ10uZ2V0UGFyZW50KCksZz0oaz1rLmdldE5leHQoKSk/ay5nZXRDaGlsZCgwKTpudWxsKX1iLnJlc2V0KCk7Zm9yKGI9ZS5sZW5ndGgtMTswPD1iO2ItLSlkKGVbYl0pO2c/aChnLCEwKTpmJiYoY1swXS5tb3ZlVG9Qb3NpdGlvbihmLENLRURJVE9SLlBPU0lUSU9OX0JFRk9SRV9TVEFSVCksY1swXS5zZWxlY3QoKSxmLnJlbW92ZSgpKX1lbHNlIGIgaW5zdGFuY2VvZlxuQ0tFRElUT1IuZG9tLmVsZW1lbnQmJihjPWIuZ2V0UGFyZW50KCksMT09Yy5nZXRDaGlsZENvdW50KCk/Yy5yZW1vdmUoKTpiLnJlbW92ZSgpKX1mdW5jdGlvbiBoKGEsYil7dmFyIGM9YS5nZXREb2N1bWVudCgpLGQ9Q0tFRElUT1IuZG9jdW1lbnQ7Q0tFRElUT1IuZW52LmllJiYxMD09Q0tFRElUT1IuZW52LnZlcnNpb24mJihkLmZvY3VzKCksYy5mb2N1cygpKTtjPW5ldyBDS0VESVRPUi5kb20ucmFuZ2UoYyk7Y1tcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKGI/XCJFbmRcIjpcIlN0YXJ0XCIpXShhKXx8KGMuc2VsZWN0Tm9kZUNvbnRlbnRzKGEpLGMuY29sbGFwc2UoYj8hMTohMCkpO2Muc2VsZWN0KCEwKX1mdW5jdGlvbiBtKGEsYixjKXthPWFbYl07aWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGMpcmV0dXJuIGE7Zm9yKGI9MDthJiZiPGEubGVuZ3RoO2IrKyl7aWYoYy5pcyYmYVtiXT09Yy4kKXJldHVybiBiO2lmKGI9PWMpcmV0dXJuIG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChhW2JdKX1yZXR1cm4gYy5pcz9cbi0xOm51bGx9ZnVuY3Rpb24gZyhiLGMsZCl7dmFyIGU9YShiKSxmO2lmKChjPzEhPWUubGVuZ3RoOjI+ZS5sZW5ndGgpfHwoZj1iLmdldENvbW1vbkFuY2VzdG9yKCkpJiZmLnR5cGU9PUNLRURJVE9SLk5PREVfRUxFTUVOVCYmZi5pcyhcInRhYmxlXCIpKXJldHVybiExO3ZhciBnO2I9ZVswXTtmPWIuZ2V0QXNjZW5kYW50KFwidGFibGVcIik7dmFyIGg9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxrPWgubGVuZ3RoLGw9aFswXS5sZW5ndGgsbj1iLmdldFBhcmVudCgpLiQucm93SW5kZXgscD1tKGgsbixiKTtpZihjKXt2YXIgcjt0cnl7dmFyIHg9cGFyc2VJbnQoYi5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpLDEwKXx8MTtnPXBhcnNlSW50KGIuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSwxMCl8fDE7cj1oW1widXBcIj09Yz9uLXg6XCJkb3duXCI9PWM/bit4Om5dW1wibGVmdFwiPT1jP3AtZzpcInJpZ2h0XCI9PWM/cCtnOnBdfWNhdGNoKEope3JldHVybiExfWlmKCFyfHxiLiQ9PXIpcmV0dXJuITE7XG5lW1widXBcIj09Y3x8XCJsZWZ0XCI9PWM/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKG5ldyBDS0VESVRPUi5kb20uZWxlbWVudChyKSl9Yz1iLmdldERvY3VtZW50KCk7dmFyIEg9bix4PXI9MCxNPSFkJiZuZXcgQ0tFRElUT1IuZG9tLmRvY3VtZW50RnJhZ21lbnQoYyksTD0wO2ZvcihjPTA7YzxlLmxlbmd0aDtjKyspe2c9ZVtjXTt2YXIgRD1nLmdldFBhcmVudCgpLFQ9Zy5nZXRGaXJzdCgpLEk9Zy4kLmNvbFNwYW4sTz1nLiQucm93U3BhbixEPUQuJC5yb3dJbmRleCxLPW0oaCxELGcpLEw9TCtJKk8seD1NYXRoLm1heCh4LEstcCtJKTtyPU1hdGgubWF4KHIsRC1uK08pO2R8fChJPWcsKE89SS5nZXRCb2d1cygpKSYmTy5yZW1vdmUoKSxJLnRyaW0oKSxnLmdldENoaWxkcmVuKCkuY291bnQoKSYmKEQ9PUh8fCFUfHxULmlzQmxvY2tCb3VuZGFyeSYmVC5pc0Jsb2NrQm91bmRhcnkoe2JyOjF9KXx8KEg9TS5nZXRMYXN0KENLRURJVE9SLmRvbS53YWxrZXIud2hpdGVzcGFjZXMoITApKSwhSHx8SC5pcyYmXG5ILmlzKFwiYnJcIil8fE0uYXBwZW5kKFwiYnJcIikpLGcubW92ZUNoaWxkcmVuKE0pKSxjP2cucmVtb3ZlKCk6Zy5zZXRIdG1sKFwiXCIpKTtIPUR9aWYoZClyZXR1cm4gcip4PT1MO00ubW92ZUNoaWxkcmVuKGIpO2IuYXBwZW5kQm9ndXMoKTt4Pj1sP2IucmVtb3ZlQXR0cmlidXRlKFwicm93U3BhblwiKTpiLiQucm93U3Bhbj1yO3I+PWs/Yi5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpOmIuJC5jb2xTcGFuPXg7ZD1uZXcgQ0tFRElUT1IuZG9tLm5vZGVMaXN0KGYuJC5yb3dzKTtlPWQuY291bnQoKTtmb3IoYz1lLTE7MDw9YztjLS0pZj1kLmdldEl0ZW0oYyksZi4kLmNlbGxzLmxlbmd0aHx8KGYucmVtb3ZlKCksZSsrKTtyZXR1cm4gYn1mdW5jdGlvbiBuKGIsYyl7dmFyIGQ9YShiKTtpZigxPGQubGVuZ3RoKXJldHVybiExO2lmKGMpcmV0dXJuITA7dmFyIGQ9ZFswXSxlPWQuZ2V0UGFyZW50KCksZj1lLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGc9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChmKSxcbmg9ZS4kLnJvd0luZGV4LGs9bShnLGgsZCksbD1kLiQucm93U3BhbixuO2lmKDE8bCl7bj1NYXRoLmNlaWwobC8yKTtmb3IodmFyIGw9TWF0aC5mbG9vcihsLzIpLGU9aCtuLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGYuJC5yb3dzW2VdKSxnPW0oZyxlKSxwLGU9ZC5jbG9uZSgpLGg9MDtoPGcubGVuZ3RoO2grKylpZihwPWdbaF0scC5wYXJlbnROb2RlPT1mLiQmJmg+ayl7ZS5pbnNlcnRCZWZvcmUobmV3IENLRURJVE9SLmRvbS5lbGVtZW50KHApKTticmVha31lbHNlIHA9bnVsbDtwfHxmLmFwcGVuZChlKX1lbHNlIGZvcihsPW49MSxmPWUuY2xvbmUoKSxmLmluc2VydEFmdGVyKGUpLGYuYXBwZW5kKGU9ZC5jbG9uZSgpKSxwPW0oZyxoKSxrPTA7azxwLmxlbmd0aDtrKyspcFtrXS5yb3dTcGFuKys7ZS5hcHBlbmRCb2d1cygpO2QuJC5yb3dTcGFuPW47ZS4kLnJvd1NwYW49bDsxPT1uJiZkLnJlbW92ZUF0dHJpYnV0ZShcInJvd1NwYW5cIik7MT09bCYmZS5yZW1vdmVBdHRyaWJ1dGUoXCJyb3dTcGFuXCIpO1xucmV0dXJuIGV9ZnVuY3Rpb24gcChiLGMpe3ZhciBkPWEoYik7aWYoMTxkLmxlbmd0aClyZXR1cm4hMTtpZihjKXJldHVybiEwO3ZhciBkPWRbMF0sZT1kLmdldFBhcmVudCgpLGY9ZS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxmPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoZiksZz1tKGYsZS4kLnJvd0luZGV4LGQpLGg9ZC4kLmNvbFNwYW47aWYoMTxoKWU9TWF0aC5jZWlsKGgvMiksaD1NYXRoLmZsb29yKGgvMik7ZWxzZXtmb3IodmFyIGg9ZT0xLGs9W10sbD0wO2w8Zi5sZW5ndGg7bCsrKXt2YXIgbj1mW2xdO2sucHVzaChuW2ddKTsxPG5bZ10ucm93U3BhbiYmKGwrPW5bZ10ucm93U3Bhbi0xKX1mb3IoZj0wO2Y8ay5sZW5ndGg7ZisrKWtbZl0uY29sU3BhbisrfWY9ZC5jbG9uZSgpO2YuaW5zZXJ0QWZ0ZXIoZCk7Zi5hcHBlbmRCb2d1cygpO2QuJC5jb2xTcGFuPWU7Zi4kLmNvbFNwYW49aDsxPT1lJiZkLnJlbW92ZUF0dHJpYnV0ZShcImNvbFNwYW5cIik7MT09aCYmZi5yZW1vdmVBdHRyaWJ1dGUoXCJjb2xTcGFuXCIpO1xucmV0dXJuIGZ9dmFyIHI9L14oPzp0ZHx0aCkkLyx4PUNLRURJVE9SLnRvb2xzLmlzQXJyYXk7Q0tFRElUT1IucGx1Z2lucy50YWJsZXRvb2xzPXtyZXF1aXJlczpcInRhYmxlLGRpYWxvZyxjb250ZXh0bWVudVwiLGluaXQ6ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gQ0tFRElUT1IudG9vbHMuZXh0ZW5kKGF8fHt9LHtjb250ZXh0U2Vuc2l0aXZlOjEscmVmcmVzaDpmdW5jdGlvbihhLGIpe3RoaXMuc2V0U3RhdGUoYi5jb250YWlucyh7dGQ6MSx0aDoxfSwxKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpfX0pfWZ1bmN0aW9uIG0oYSxiKXt2YXIgZD1jLmFkZENvbW1hbmQoYSxiKTtjLmFkZEZlYXR1cmUoZCl9dmFyIHI9Yy5sYW5nLnRhYmxlLHg9Q0tFRElUT1IudG9vbHMuc3R5bGUucGFyc2U7bShcImNlbGxQcm9wZXJ0aWVzXCIsbmV3IENLRURJVE9SLmRpYWxvZ0NvbW1hbmQoXCJjZWxsUHJvcGVydGllc1wiLGUoe2FsbG93ZWRDb250ZW50OlwidGQgdGh7d2lkdGgsaGVpZ2h0LGJvcmRlci1jb2xvcixiYWNrZ3JvdW5kLWNvbG9yLHdoaXRlLXNwYWNlLHZlcnRpY2FsLWFsaWduLHRleHQtYWxpZ259W2NvbHNwYW4scm93c3Bhbl1cIixcbnJlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsY29udGVudFRyYW5zZm9ybWF0aW9uczpbW3tlbGVtZW50OlwidGRcIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlcy5iYWNrZ3JvdW5kJiZ4LmJhY2tncm91bmQoYS5zdHlsZXMuYmFja2dyb3VuZCkuY29sb3J9LHJpZ2h0OmZ1bmN0aW9uKGEpe2Euc3R5bGVzW1wiYmFja2dyb3VuZC1jb2xvclwiXT14LmJhY2tncm91bmQoYS5zdHlsZXMuYmFja2dyb3VuZCkuY29sb3J9fSx7ZWxlbWVudDpcInRkXCIsY2hlY2s6XCJ0ZHt2ZXJ0aWNhbC1hbGlnbn1cIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmF0dHJpYnV0ZXMmJmEuYXR0cmlidXRlcy52YWxpZ259LHJpZ2h0OmZ1bmN0aW9uKGEpe2Euc3R5bGVzW1widmVydGljYWwtYWxpZ25cIl09YS5hdHRyaWJ1dGVzLnZhbGlnbjtkZWxldGUgYS5hdHRyaWJ1dGVzLnZhbGlnbn19XSxbe2VsZW1lbnQ6XCJ0clwiLGNoZWNrOlwidGR7aGVpZ2h0fVwiLGxlZnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3R5bGVzJiZcbmEuc3R5bGVzLmhlaWdodH0scmlnaHQ6ZnVuY3Rpb24oYSl7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChhLmNoaWxkcmVuLGZ1bmN0aW9uKGIpe2IubmFtZSBpbnt0ZDoxLHRoOjF9JiYoYi5hdHRyaWJ1dGVzW1wiY2tlLXJvdy1oZWlnaHRcIl09YS5zdHlsZXMuaGVpZ2h0KX0pO2RlbGV0ZSBhLnN0eWxlcy5oZWlnaHR9fV0sW3tlbGVtZW50OlwidGRcIixjaGVjazpcInRke2hlaWdodH1cIixsZWZ0OmZ1bmN0aW9uKGEpe3JldHVybihhPWEuYXR0cmlidXRlcykmJmFbXCJja2Utcm93LWhlaWdodFwiXX0scmlnaHQ6ZnVuY3Rpb24oYSl7YS5zdHlsZXMuaGVpZ2h0PWEuYXR0cmlidXRlc1tcImNrZS1yb3ctaGVpZ2h0XCJdO2RlbGV0ZSBhLmF0dHJpYnV0ZXNbXCJja2Utcm93LWhlaWdodFwiXX19XV19KSkpO0NLRURJVE9SLmRpYWxvZy5hZGQoXCJjZWxsUHJvcGVydGllc1wiLHRoaXMucGF0aCtcImRpYWxvZ3MvdGFibGVDZWxsLmpzXCIpO20oXCJyb3dEZWxldGVcIixlKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLFxuZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7KGE9YihhKSkmJmgoYSl9fSkpO20oXCJyb3dJbnNlcnRCZWZvcmVcIixlKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYil7Yj1iLmdldFNlbGVjdGlvbigpO2I9YShiKTtmKGIsITApfX0pKTttKFwicm93SW5zZXJ0QWZ0ZXJcIixlKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLGV4ZWM6ZnVuY3Rpb24oYil7Yj1iLmdldFNlbGVjdGlvbigpO2I9YShiKTtmKGIpfX0pKTttKFwiY29sdW1uRGVsZXRlXCIsZSh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGIpe3ZhciBjPWIuZ2V0U2VsZWN0aW9uKCk7Yj1jLmdldFJhbmdlcygpO3ZhciBkPWEoYyksZT1kWzBdLGY9ZFtkLmxlbmd0aC0xXSxkPWUuZ2V0QXNjZW5kYW50KFwidGFibGVcIiksZz1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGQpLGssbCxtPVtdO2MucmVzZXQoKTtmb3IodmFyIG49MCxjPWcubGVuZ3RoO248YztuKyspZm9yKHZhciBwPVxuMCxyPWdbbl0ubGVuZ3RoO3A8cjtwKyspZ1tuXVtwXT09ZS4kJiYoaz1wKSxnW25dW3BdPT1mLiQmJihsPXApO2ZvcihuPWs7bjw9bDtuKyspZm9yKHA9MDtwPGcubGVuZ3RoO3ArKylmPWdbcF0sZT1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZC4kLnJvd3NbcF0pLGY9bmV3IENLRURJVE9SLmRvbS5lbGVtZW50KGZbbl0pLGYuJCYmKDE9PWYuJC5jb2xTcGFuP2YucmVtb3ZlKCk6LS1mLiQuY29sU3BhbixwKz1mLiQucm93U3Bhbi0xLGUuJC5jZWxscy5sZW5ndGh8fG0ucHVzaChlKSk7bD1kLiQucm93c1swXSYmZC4kLnJvd3NbMF0uY2VsbHM7az1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobFtrXXx8KGs/bFtrLTFdOmQuJC5wYXJlbnROb2RlKSk7bS5sZW5ndGg9PWMmJihiWzBdLm1vdmVUb1Bvc2l0aW9uKGQsQ0tFRElUT1IuUE9TSVRJT05fQUZURVJfRU5EKSxiWzBdLnNlbGVjdCgpLGQucmVtb3ZlKCkpO2smJmgoaywhMCl9fSkpO20oXCJjb2x1bW5JbnNlcnRCZWZvcmVcIixlKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLFxuZXhlYzpmdW5jdGlvbihiKXtiPWIuZ2V0U2VsZWN0aW9uKCk7Yj1hKGIpO2woYiwhMCl9fSkpO20oXCJjb2x1bW5JbnNlcnRBZnRlclwiLGUoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihiKXtiPWIuZ2V0U2VsZWN0aW9uKCk7Yj1hKGIpO2woYil9fSkpO20oXCJjZWxsRGVsZXRlXCIsZSh7cmVxdWlyZWRDb250ZW50OlwidGFibGVcIixleGVjOmZ1bmN0aW9uKGEpe2E9YS5nZXRTZWxlY3Rpb24oKTtkKGEpfX0pKTttKFwiY2VsbE1lcmdlXCIsZSh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuLHJvd3NwYW5dXCIscmVxdWlyZWRDb250ZW50OlwidGRbY29sc3Bhbixyb3dzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSxiKXtiLmNlbGw9ZyhhLmdldFNlbGVjdGlvbigpKTtoKGIuY2VsbCwhMCl9fSkpO20oXCJjZWxsTWVyZ2VSaWdodFwiLGUoe2FsbG93ZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSxiKXtiLmNlbGw9XG5nKGEuZ2V0U2VsZWN0aW9uKCksXCJyaWdodFwiKTtoKGIuY2VsbCwhMCl9fSkpO20oXCJjZWxsTWVyZ2VEb3duXCIsZSh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIsZXhlYzpmdW5jdGlvbihhLGIpe2IuY2VsbD1nKGEuZ2V0U2VsZWN0aW9uKCksXCJkb3duXCIpO2goYi5jZWxsLCEwKX19KSk7bShcImNlbGxWZXJ0aWNhbFNwbGl0XCIsZSh7YWxsb3dlZENvbnRlbnQ6XCJ0ZFtyb3dzcGFuXVwiLHJlcXVpcmVkQ29udGVudDpcInRkW3Jvd3NwYW5dXCIsZXhlYzpmdW5jdGlvbihhKXtoKHAoYS5nZXRTZWxlY3Rpb24oKSkpfX0pKTttKFwiY2VsbEhvcml6b250YWxTcGxpdFwiLGUoe2FsbG93ZWRDb250ZW50OlwidGRbY29sc3Bhbl1cIixyZXF1aXJlZENvbnRlbnQ6XCJ0ZFtjb2xzcGFuXVwiLGV4ZWM6ZnVuY3Rpb24oYSl7aChuKGEuZ2V0U2VsZWN0aW9uKCkpKX19KSk7bShcImNlbGxJbnNlcnRCZWZvcmVcIixlKHtyZXF1aXJlZENvbnRlbnQ6XCJ0YWJsZVwiLFxuZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ayhhLCEwKX19KSk7bShcImNlbGxJbnNlcnRBZnRlclwiLGUoe3JlcXVpcmVkQ29udGVudDpcInRhYmxlXCIsZXhlYzpmdW5jdGlvbihhKXthPWEuZ2V0U2VsZWN0aW9uKCk7ayhhKX19KSk7Yy5hZGRNZW51SXRlbXMmJmMuYWRkTWVudUl0ZW1zKHt0YWJsZWNlbGw6e2xhYmVsOnIuY2VsbC5tZW51LGdyb3VwOlwidGFibGVjZWxsXCIsb3JkZXI6MSxnZXRJdGVtczpmdW5jdGlvbigpe3ZhciBiPWMuZ2V0U2VsZWN0aW9uKCksZD1hKGIpO3JldHVybnt0YWJsZWNlbGxfaW5zZXJ0QmVmb3JlOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZWNlbGxfaW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9kZWxldGU6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY2VsbF9tZXJnZTpnKGIsbnVsbCwhMCk/Q0tFRElUT1IuVFJJU1RBVEVfT0ZGOkNLRURJVE9SLlRSSVNUQVRFX0RJU0FCTEVELHRhYmxlY2VsbF9tZXJnZV9yaWdodDpnKGIsXG5cInJpZ2h0XCIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfbWVyZ2VfZG93bjpnKGIsXCJkb3duXCIsITApP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCx0YWJsZWNlbGxfc3BsaXRfdmVydGljYWw6cChiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX3NwbGl0X2hvcml6b250YWw6bihiLCEwKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQsdGFibGVjZWxsX3Byb3BlcnRpZXM6MDxkLmxlbmd0aD9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUR9fX0sdGFibGVjZWxsX2luc2VydEJlZm9yZTp7bGFiZWw6ci5jZWxsLmluc2VydEJlZm9yZSxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsSW5zZXJ0QmVmb3JlXCIsb3JkZXI6NX0sdGFibGVjZWxsX2luc2VydEFmdGVyOntsYWJlbDpyLmNlbGwuaW5zZXJ0QWZ0ZXIsXG5ncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsSW5zZXJ0QWZ0ZXJcIixvcmRlcjoxMH0sdGFibGVjZWxsX2RlbGV0ZTp7bGFiZWw6ci5jZWxsLmRlbGV0ZUNlbGwsZ3JvdXA6XCJ0YWJsZWNlbGxcIixjb21tYW5kOlwiY2VsbERlbGV0ZVwiLG9yZGVyOjE1fSx0YWJsZWNlbGxfbWVyZ2U6e2xhYmVsOnIuY2VsbC5tZXJnZSxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VcIixvcmRlcjoxNn0sdGFibGVjZWxsX21lcmdlX3JpZ2h0OntsYWJlbDpyLmNlbGwubWVyZ2VSaWdodCxncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VSaWdodFwiLG9yZGVyOjE3fSx0YWJsZWNlbGxfbWVyZ2VfZG93bjp7bGFiZWw6ci5jZWxsLm1lcmdlRG93bixncm91cDpcInRhYmxlY2VsbFwiLGNvbW1hbmQ6XCJjZWxsTWVyZ2VEb3duXCIsb3JkZXI6MTh9LHRhYmxlY2VsbF9zcGxpdF9ob3Jpem9udGFsOntsYWJlbDpyLmNlbGwuc3BsaXRIb3Jpem9udGFsLGdyb3VwOlwidGFibGVjZWxsXCIsXG5jb21tYW5kOlwiY2VsbEhvcml6b250YWxTcGxpdFwiLG9yZGVyOjE5fSx0YWJsZWNlbGxfc3BsaXRfdmVydGljYWw6e2xhYmVsOnIuY2VsbC5zcGxpdFZlcnRpY2FsLGdyb3VwOlwidGFibGVjZWxsXCIsY29tbWFuZDpcImNlbGxWZXJ0aWNhbFNwbGl0XCIsb3JkZXI6MjB9LHRhYmxlY2VsbF9wcm9wZXJ0aWVzOntsYWJlbDpyLmNlbGwudGl0bGUsZ3JvdXA6XCJ0YWJsZWNlbGxwcm9wZXJ0aWVzXCIsY29tbWFuZDpcImNlbGxQcm9wZXJ0aWVzXCIsb3JkZXI6MjF9LHRhYmxlcm93OntsYWJlbDpyLnJvdy5tZW51LGdyb3VwOlwidGFibGVyb3dcIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJue3RhYmxlcm93X2luc2VydEJlZm9yZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVyb3dfaW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlcm93X2RlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fX0sdGFibGVyb3dfaW5zZXJ0QmVmb3JlOntsYWJlbDpyLnJvdy5pbnNlcnRCZWZvcmUsXG5ncm91cDpcInRhYmxlcm93XCIsY29tbWFuZDpcInJvd0luc2VydEJlZm9yZVwiLG9yZGVyOjV9LHRhYmxlcm93X2luc2VydEFmdGVyOntsYWJlbDpyLnJvdy5pbnNlcnRBZnRlcixncm91cDpcInRhYmxlcm93XCIsY29tbWFuZDpcInJvd0luc2VydEFmdGVyXCIsb3JkZXI6MTB9LHRhYmxlcm93X2RlbGV0ZTp7bGFiZWw6ci5yb3cuZGVsZXRlUm93LGdyb3VwOlwidGFibGVyb3dcIixjb21tYW5kOlwicm93RGVsZXRlXCIsb3JkZXI6MTV9LHRhYmxlY29sdW1uOntsYWJlbDpyLmNvbHVtbi5tZW51LGdyb3VwOlwidGFibGVjb2x1bW5cIixvcmRlcjoxLGdldEl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJue3RhYmxlY29sdW1uX2luc2VydEJlZm9yZTpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW5faW5zZXJ0QWZ0ZXI6Q0tFRElUT1IuVFJJU1RBVEVfT0ZGLHRhYmxlY29sdW1uX2RlbGV0ZTpDS0VESVRPUi5UUklTVEFURV9PRkZ9fX0sdGFibGVjb2x1bW5faW5zZXJ0QmVmb3JlOntsYWJlbDpyLmNvbHVtbi5pbnNlcnRCZWZvcmUsXG5ncm91cDpcInRhYmxlY29sdW1uXCIsY29tbWFuZDpcImNvbHVtbkluc2VydEJlZm9yZVwiLG9yZGVyOjV9LHRhYmxlY29sdW1uX2luc2VydEFmdGVyOntsYWJlbDpyLmNvbHVtbi5pbnNlcnRBZnRlcixncm91cDpcInRhYmxlY29sdW1uXCIsY29tbWFuZDpcImNvbHVtbkluc2VydEFmdGVyXCIsb3JkZXI6MTB9LHRhYmxlY29sdW1uX2RlbGV0ZTp7bGFiZWw6ci5jb2x1bW4uZGVsZXRlQ29sdW1uLGdyb3VwOlwidGFibGVjb2x1bW5cIixjb21tYW5kOlwiY29sdW1uRGVsZXRlXCIsb3JkZXI6MTV9fSk7Yy5jb250ZXh0TWVudSYmYy5jb250ZXh0TWVudS5hZGRMaXN0ZW5lcihmdW5jdGlvbihhLGIsYyl7cmV0dXJuKGE9Yy5jb250YWlucyh7dGQ6MSx0aDoxfSwxKSkmJiFhLmlzUmVhZE9ubHkoKT97dGFibGVjZWxsOkNLRURJVE9SLlRSSVNUQVRFX09GRix0YWJsZXJvdzpDS0VESVRPUi5UUklTVEFURV9PRkYsdGFibGVjb2x1bW46Q0tFRElUT1IuVFJJU1RBVEVfT0ZGfTpudWxsfSl9LGdldENlbGxDb2xJbmRleDpjLFxuaW5zZXJ0Um93OmYsaW5zZXJ0Q29sdW1uOmwsZ2V0U2VsZWN0ZWRDZWxsczphfTtDS0VESVRPUi5wbHVnaW5zLmFkZChcInRhYmxldG9vbHNcIixDS0VESVRPUi5wbHVnaW5zLnRhYmxldG9vbHMpfSgpLENLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXA9ZnVuY3Rpb24oYSxmLGIsYyxlKXthPWEuJC5yb3dzO2I9Ynx8MDtjPVwibnVtYmVyXCI9PT10eXBlb2YgYz9jOmEubGVuZ3RoLTE7ZT1cIm51bWJlclwiPT09dHlwZW9mIGU/ZTotMTt2YXIgbD0tMSxrPVtdO2ZvcihmPWZ8fDA7Zjw9YztmKyspe2wrKzsha1tsXSYmKGtbbF09W10pO2Zvcih2YXIgZD0tMSxoPWI7aDw9KC0xPT09ZT9hW2ZdLmNlbGxzLmxlbmd0aC0xOmUpO2grKyl7dmFyIG09YVtmXS5jZWxsc1toXTtpZighbSlicmVhaztmb3IoZCsrO2tbbF1bZF07KWQrKztmb3IodmFyIGc9aXNOYU4obS5jb2xTcGFuKT8xOm0uY29sU3BhbixtPWlzTmFOKG0ucm93U3Bhbik/MTptLnJvd1NwYW4sbj0wO248bSYmIShmK24+Yyk7bisrKXtrW2wrXG5uXXx8KGtbbCtuXT1bXSk7Zm9yKHZhciBwPTA7cDxnO3ArKylrW2wrbl1bZCtwXT1hW2ZdLmNlbGxzW2hdfWQrPWctMTtpZigtMSE9PWUmJmQ+PWUpYnJlYWt9fXJldHVybiBrfSxmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYz1hLmdldEFzY2VuZGFudChcInRhYmxlXCIpLGQ9Yi5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxlPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoYyksZj1hLmdldEFzY2VuZGFudChcInRyXCIsITApLiQucm93SW5kZXgsZz1iLmdldEFzY2VuZGFudChcInRyXCIsITApLiQucm93SW5kZXgsaD1bXSxrPXt9LGwsbTtjLmNvbnRhaW5zKGQpJiYoYj1iLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSksZz1iLmdldEFzY2VuZGFudChcInRyXCIsITApLiQucm93SW5kZXgpO2Y+ZyYmKGM9ZixmPWcsZz1jLGM9YSxhPWIsYj1jKTtmb3IoYz0wO2M8ZVtmXS5sZW5ndGg7YysrKWlmKGEuJD09PWVbZl1bY10pe2w9YzticmVha31mb3IoYz0wO2M8ZVtnXS5sZW5ndGg7YysrKWlmKGIuJD09PVxuZVtnXVtjXSl7bT1jO2JyZWFrfWw+bSYmKGM9bCxsPW0sbT1jKTtmb3IoYz1mO2M8PWc7YysrKWZvcihmPWw7Zjw9bTtmKyspZD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoZVtjXVtmXSksZC4kJiYhZC5nZXRDdXN0b21EYXRhKFwic2VsZWN0ZWRfY2VsbFwiKSYmKGgucHVzaChkKSxDS0VESVRPUi5kb20uZWxlbWVudC5zZXRNYXJrZXIoayxkLFwic2VsZWN0ZWRfY2VsbFwiLCEwKSk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuY2xlYXJBbGxNYXJrZXJzKGspO3JldHVybiBofWZ1bmN0aW9uIGYoYSl7YT1hLmRhdGEuJDtyZXR1cm4gQ0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uPzE9PT1hLmJ1dHRvbjowPT09YS5idXR0b259ZnVuY3Rpb24gYihhKXtyZXR1cm4oYT1hLmVkaXRhYmxlKCkuZmluZE9uZShcIi5ja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpKSYmYS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKX1mdW5jdGlvbiBjKGEsYil7dmFyIGM9YS5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKSxcbmQ7YS5maXJlKFwibG9ja1NuYXBzaG90XCIpO2EuZWRpdGFibGUoKS5yZW1vdmVDbGFzcyhcImNrZV90YWJsZS1mYWtlZC1zZWxlY3Rpb24tZWRpdG9yXCIpO2ZvcihkPTA7ZDxjLmNvdW50KCk7ZCsrKWMuZ2V0SXRlbShkKS5yZW1vdmVDbGFzcyhcImNrZV90YWJsZS1mYWtlZC1zZWxlY3Rpb25cIik7MDxjLmNvdW50KCkmJmMuZ2V0SXRlbSgwKS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKS5yZW1vdmVDbGFzcyhcImNrZV90YWJsZS1mYWtlZC1zZWxlY3Rpb24tdGFibGVcIik7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIik7YiYmKHg9e2FjdGl2ZTohMX0sYS5nZXRTZWxlY3Rpb24oKS5pc0luVGFibGUoKSYmYS5nZXRTZWxlY3Rpb24oKS5yZXNldCgpKX1mdW5jdGlvbiBlKGEsYil7dmFyIGM9W10sZCxlO2ZvcihlPTA7ZTxiLmxlbmd0aDtlKyspZD1hLmNyZWF0ZVJhbmdlKCksZC5zZXRTdGFydEJlZm9yZShiW2VdKSxkLnNldEVuZEFmdGVyKGJbZV0pLGMucHVzaChkKTthLmdldFNlbGVjdGlvbigpLnNlbGVjdFJhbmdlcyhjKX1cbmZ1bmN0aW9uIGwoYil7dmFyIGM9Yi5lZGl0YWJsZSgpLmZpbmQoXCIuY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKTsxPmMuY291bnQoKXx8KGM9YShjLmdldEl0ZW0oMCksYy5nZXRJdGVtKGMuY291bnQoKS0xKSksZShiLGMpKX1mdW5jdGlvbiBrKGIsZCxmKXt2YXIgZz11KGIuZ2V0U2VsZWN0aW9uKCEwKSk7ZD1kLmlzKFwidGFibGVcIik/bnVsbDpkO3ZhciBoOyhoPXguYWN0aXZlJiYheC5maXJzdCkmJiEoaD1kKSYmKGg9Yi5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZXMoKSxoPTE8Zy5sZW5ndGh8fGhbMF0mJiFoWzBdLmNvbGxhcHNlZD8hMDohMSk7aWYoaCl4LmZpcnN0PWR8fGdbMF0seC5kaXJ0eT1kPyExOjEhPT1nLmxlbmd0aDtlbHNlIGlmKHguYWN0aXZlJiZkKXtnPWEoeC5maXJzdCxkKTtpZigheC5kaXJ0eSYmMT09PWcubGVuZ3RoKXJldHVybiBjKGIsXCJtb3VzZXVwXCI9PT1mLm5hbWUpO3guZGlydHk9ITA7eC5sYXN0PWQ7ZShiLGcpfX1mdW5jdGlvbiBkKGEpe3ZhciBiPVxuKGE9YS5lZGl0b3J8fGEuc2VuZGVyLmVkaXRvcikmJmEuZ2V0U2VsZWN0aW9uKCksZD1iJiZiLmdldFJhbmdlcygpfHxbXSxlO2lmKGImJihjKGEpLGIuaXNJblRhYmxlKCkmJmIuaXNGYWtlKSl7MT09PWQubGVuZ3RoJiZkWzBdLl9nZXRUYWJsZUVsZW1lbnQoKSYmZFswXS5fZ2V0VGFibGVFbGVtZW50KCkuaXMoXCJ0YWJsZVwiKSYmKGU9ZFswXS5fZ2V0VGFibGVFbGVtZW50KCkpO2U9dShiLGUpO2EuZmlyZShcImxvY2tTbmFwc2hvdFwiKTtmb3IoYj0wO2I8ZS5sZW5ndGg7YisrKWVbYl0uYWRkQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uXCIpOzA8ZS5sZW5ndGgmJihhLmVkaXRhYmxlKCkuYWRkQ2xhc3MoXCJja2VfdGFibGUtZmFrZWQtc2VsZWN0aW9uLWVkaXRvclwiKSxlWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpLmFkZENsYXNzKFwiY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvbi10YWJsZVwiKSk7YS5maXJlKFwidW5sb2NrU25hcHNob3RcIil9fWZ1bmN0aW9uIGgoYSl7ZnVuY3Rpb24gZChhLFxuYil7cmV0dXJuIGEmJmI/YS5lcXVhbHMoYil8fGEuY29udGFpbnMoYil8fGIuY29udGFpbnMoYSl8fGEuZ2V0Q29tbW9uQW5jZXN0b3IoYikuaXModCk6ITF9ZnVuY3Rpb24gZShhKXtyZXR1cm4hYS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSYmYS5nZXREb2N1bWVudCgpLmVxdWFscyhnLmRvY3VtZW50KX12YXIgZz1hLmVkaXRvcnx8YS5saXN0ZW5lckRhdGEuZWRpdG9yLG09Zy5nZXRTZWxlY3Rpb24oMSksbj1iKGcpLHA9YS5kYXRhLmdldFRhcmdldCgpLHI9cCYmcC5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApLHA9cCYmcC5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSx0PXt0YWJsZToxLHRoZWFkOjEsdGJvZHk6MSx0Zm9vdDoxLHRyOjEsdGQ6MSx0aDoxfTsoZnVuY3Rpb24oYSxiLGMsZyl7cmV0dXJuXCJtb3VzZWRvd25cIj09PWEubmFtZSYmKGYoYSl8fCFnKXx8XCJtb3VzZXVwXCI9PT1hLm5hbWUmJiFlKGEuZGF0YS5nZXRUYXJnZXQoKSkmJiFkKGMsZyk/ITA6ITF9KShhLG0sXG5uLHApJiZjKGcsITApOyF4LmFjdGl2ZSYmXCJtb3VzZWRvd25cIj09PWEubmFtZSYmZihhKSYmcCYmKHg9e2FjdGl2ZTohMH0sQ0tFRElUT1IuZG9jdW1lbnQub24oXCJtb3VzZXVwXCIsaCxudWxsLHtlZGl0b3I6Z30pKTsocnx8cCkmJmsoZyxyfHxwLGEpO1wibW91c2V1cFwiPT09YS5uYW1lJiYoZihhKSYmKGUoYS5kYXRhLmdldFRhcmdldCgpKXx8ZChuLHApKSYmbChnKSx4PXthY3RpdmU6ITF9LENLRURJVE9SLmRvY3VtZW50LnJlbW92ZUxpc3RlbmVyKFwibW91c2V1cFwiLGgpKX1mdW5jdGlvbiBtKGEpe3ZhciBiPWEuZGF0YS5nZXRUYXJnZXQoKS5nZXRBc2NlbmRhbnQoe3RkOjEsdGg6MX0sITApO2ImJiFiLmhhc0NsYXNzKFwiY2tlX3RhYmxlLWZha2VkLXNlbGVjdGlvblwiKSYmKGEuY2FuY2VsKCksYS5kYXRhLnByZXZlbnREZWZhdWx0KCkpfWZ1bmN0aW9uIGcoYSxiKXtmdW5jdGlvbiBjKGEpe2EuY2FuY2VsKCl9dmFyIGQ9YS5nZXRTZWxlY3Rpb24oKSxlPWQuY3JlYXRlQm9va21hcmtzKCksXG5mPWEuZG9jdW1lbnQsZz1hLmNyZWF0ZVJhbmdlKCksaD1mLmdldERvY3VtZW50RWxlbWVudCgpLiQsaz1DS0VESVRPUi5lbnYuaWUmJjk+Q0tFRElUT1IuZW52LnZlcnNpb24sbD1hLmJsb2NrbGVzc3x8Q0tFRElUT1IuZW52LmllP1wic3BhblwiOlwiZGl2XCIsbSxuLHAscjtmLmdldEJ5SWQoXCJja2VfdGFibGVfY29weWJpblwiKXx8KG09Zi5jcmVhdGVFbGVtZW50KGwpLG49Zi5jcmVhdGVFbGVtZW50KGwpLG4uc2V0QXR0cmlidXRlcyh7aWQ6XCJja2VfdGFibGVfY29weWJpblwiLFwiZGF0YS1ja2UtdGVtcFwiOlwiMVwifSksbS5zZXRTdHlsZXMoe3Bvc2l0aW9uOlwiYWJzb2x1dGVcIix3aWR0aDpcIjFweFwiLGhlaWdodDpcIjFweFwiLG92ZXJmbG93OlwiaGlkZGVuXCJ9KSxtLnNldFN0eWxlKFwibHRyXCI9PWEuY29uZmlnLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbj9cImxlZnRcIjpcInJpZ2h0XCIsXCItNTAwMHB4XCIpLG0uc2V0SHRtbChhLmdldFNlbGVjdGVkSHRtbCghMCkpLGEuZmlyZShcImxvY2tTbmFwc2hvdFwiKSxuLmFwcGVuZChtKSxcbmEuZWRpdGFibGUoKS5hcHBlbmQobikscj1hLm9uKFwic2VsZWN0aW9uQ2hhbmdlXCIsYyxudWxsLG51bGwsMCksayYmKHA9aC5zY3JvbGxUb3ApLGcuc2VsZWN0Tm9kZUNvbnRlbnRzKG0pLGcuc2VsZWN0KCksayYmKGguc2Nyb2xsVG9wPXApLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtuLnJlbW92ZSgpO2Quc2VsZWN0Qm9va21hcmtzKGUpO3IucmVtb3ZlTGlzdGVuZXIoKTthLmZpcmUoXCJ1bmxvY2tTbmFwc2hvdFwiKTtiJiYoYS5leHRyYWN0U2VsZWN0ZWRIdG1sKCksYS5maXJlKFwic2F2ZVNuYXBzaG90XCIpKX0sMTAwKSl9ZnVuY3Rpb24gbihhKXt2YXIgYj1hLmVkaXRvcnx8YS5zZW5kZXIuZWRpdG9yO2IuZ2V0U2VsZWN0aW9uKCkuaXNJblRhYmxlKCkmJmcoYixcImN1dFwiPT09YS5uYW1lKX1mdW5jdGlvbiBwKGIpe2Z1bmN0aW9uIGMoYSl7YT1hLmdldFJhbmdlcygpWzBdO3ZhciBiPWEuZW5kQ29udGFpbmVyLmdldEFzY2VuZGFudChcInRyXCIsITApO2lmKGImJmEuY29sbGFwc2VkKXtpZihhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixcbkNLRURJVE9SLlNUQVJUKSlyZXR1cm4gMTtpZihhLmNoZWNrQm91bmRhcnlPZkVsZW1lbnQoYixDS0VESVRPUi5FTkQpKXJldHVybiAyfXJldHVybiAwfWZ1bmN0aW9uIGQoYSl7dmFyIGI9MCxjO2ZvcihjPTA7YzxhLmxlbmd0aDtjKyspYVtjXS5sZW5ndGg+YiYmKGI9YVtjXS5sZW5ndGgpO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7dmFyIGI9YS5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiKSxjPWEuZ2V0UGFyZW50KCkuJC5yb3dJbmRleCxiPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAoYiksZDtmb3IoZD0wO2Q8YltjXS5sZW5ndGg7ZCsrKWlmKChuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYltjXVtkXSkpLmVxdWFscyhhKSlyZXR1cm4gZH12YXIgZz1iLmVkaXRvcixoPWcuZGF0YVByb2Nlc3NvcixrPWcuZ2V0U2VsZWN0aW9uKCksbD1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoXCJib2R5XCIpLG09MCxuPTAscD0wLHI9MCx2PXt9LHgsSSxPLEssVSxWO2h8fChoPW5ldyBDS0VESVRPUi5odG1sRGF0YVByb2Nlc3NvcihnKSk7XG5sLnNldEh0bWwoaC50b0h0bWwoYi5kYXRhLmRhdGFWYWx1ZSkse2ZpeEZvckJvZHk6ITF9KTtyPWwuZmluZE9uZShcInRhYmxlXCIpO2lmKGsuZ2V0UmFuZ2VzKCkubGVuZ3RoJiYoay5pc0luVGFibGUoKXx8KHg9YyhrKSkpJiYoST11KGspLEkubGVuZ3RoKSl7Yi5zdG9wKCk7Yj1JWzBdLmdldEFzY2VuZGFudChcInRhYmxlXCIpO0k9dShrLGIpO089SVswXTtwPU8uZ2V0UGFyZW50KCk7Sz1JW0kubGVuZ3RoLTFdO1U9Sy5nZXRQYXJlbnQoKTtpZigheClmb3IoaD0wO2g8SS5sZW5ndGg7aCsrKUlbaF0uc2V0SHRtbChcIlwiKTtpZigxPGwuZ2V0Q2hpbGRDb3VudCgpfHwhcilJWzBdLnNldEh0bWwobC5nZXRIdG1sKCkpLGcuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtlbHNle2lmKHgpe0k9cC5nZXRDaGlsZENvdW50KCk7cD1VPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInRyXCIpO3BbXCJpbnNlcnRcIisoMT09PXg/XCJCZWZvcmVcIjpcIkFmdGVyXCIpXShPLmdldFBhcmVudCgpKTtmb3IoaD0wO2g8STtoKyspTz1cbm5ldyBDS0VESVRPUi5kb20uZWxlbWVudChcInRkXCIpLE8uYXBwZW5kVG8ocCk7Tz1wLmdldEZpcnN0KCk7Sz1wLmdldExhc3QoKTtrLnNlbGVjdEVsZW1lbnQocCk7ST11KGspfXg9Q0tFRElUT1IudG9vbHMuYnVpbGRUYWJsZU1hcChiLHAuJC5yb3dJbmRleCx0KE8sITApLFUuJC5yb3dJbmRleCxmKEspKTtrPUNLRURJVE9SLnRvb2xzLmJ1aWxkVGFibGVNYXAocik7cD1kKGspO3I9ZCh4KTtpZihrLmxlbmd0aD54Lmxlbmd0aClmb3IobT1rLmxlbmd0aC14Lmxlbmd0aCxoPTA7aDxtO2grKyl5KEkpO2lmKHA+cilmb3Iobj1wLXIsaD0wO2g8bjtoKyspQShJKTtPPUlbMF07cD1PLmdldFBhcmVudCgpO0s9SVtJLmxlbmd0aC0xXTtVPW5ldyBDS0VESVRPUi5kb20uZWxlbWVudChiLiQucm93c1tLLmdldFBhcmVudCgpLiQucm93SW5kZXgrbV0pO0s9VS5nZXRDaGlsZChLLiQuY2VsbEluZGV4K24pO209dChJWzBdLCEwKTtJPWYoSyk7eD1DS0VESVRPUi50b29scy5idWlsZFRhYmxlTWFwKGIsXG5wLiQucm93SW5kZXgsbSxVLiQucm93SW5kZXgsSSk7Zm9yKGg9MDtoPGsubGVuZ3RoO2grKylmb3Iobj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoYi4kLnJvd3NbcC4kLnJvd0luZGV4K2hdKSxJPTA7STxrW2hdLmxlbmd0aDtJKyspaWYoVj1uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoa1toXVtJXSksbD14W2hdJiZ4W2hdW0ldP25ldyBDS0VESVRPUi5kb20uZWxlbWVudCh4W2hdW0ldKTpudWxsLFYmJiFWLmdldEN1c3RvbURhdGEoXCJwcm9jZXNzZWRcIikpe2lmKGwmJmwuZ2V0UGFyZW50KCkpVi5yZXBsYWNlKGwpO2Vsc2UgaWYoMD09PUl8fGtbaF1bSS0xXSkobD0wIT09ST9uZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoa1toXVtJLTFdKTpudWxsKSYmbi5lcXVhbHMobC5nZXRQYXJlbnQoKSk/Vi5pbnNlcnRBZnRlcihsKTowPG0/Vi5pbnNlcnRBZnRlcihuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQobi4kLmNlbGxzW21dKSk6bi5hcHBlbmQoViwhMCk7Q0tFRElUT1IuZG9tLmVsZW1lbnQuc2V0TWFya2VyKHYsXG5WLFwicHJvY2Vzc2VkXCIsITApfWVsc2UgVi5nZXRDdXN0b21EYXRhKFwicHJvY2Vzc2VkXCIpJiZsJiZsLnJlbW92ZSgpO0NLRURJVE9SLmRvbS5lbGVtZW50LmNsZWFyQWxsTWFya2Vycyh2KTtlKGcsYShuZXcgQ0tFRElUT1IuZG9tLmVsZW1lbnQoa1swXVswXSksVikpO2cuZmlyZShcInNhdmVTbmFwc2hvdFwiKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zy5maXJlKFwiYWZ0ZXJQYXN0ZVwiKX0sMCl9fX1mdW5jdGlvbiByKGEsYixjKXthLm9uKFwiYmVmb3JlQ29tbWFuZEV4ZWNcIixmdW5jdGlvbihjKXstMSE9PUNLRURJVE9SLnRvb2xzLmFycmF5LmluZGV4T2YoYixjLmRhdGEubmFtZSkmJihjLmRhdGEuc2VsZWN0ZWRDZWxscz11KGEuZ2V0U2VsZWN0aW9uKCkpKX0pO2Eub24oXCJhZnRlckNvbW1hbmRFeGVjXCIsZnVuY3Rpb24oZCl7LTEhPT1DS0VESVRPUi50b29scy5hcnJheS5pbmRleE9mKGIsZC5kYXRhLm5hbWUpJiZjKGEsZC5kYXRhKX0pfXZhciB4PXthY3RpdmU6ITF9LHYsdSx0LHksQTtcbkNLRURJVE9SLnBsdWdpbnMudGFibGVzZWxlY3Rpb249e2dldENlbGxzQmV0d2VlbjphLGtleWJvYXJkSW50ZWdyYXRpb246ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthLmdldEVuY2xvc2VkTm9kZSgpP2EuZ2V0RW5jbG9zZWROb2RlKCkuc2V0VGV4dChcIlwiKTphLmRlbGV0ZUNvbnRlbnRzKCk7Q0tFRElUT1IudG9vbHMuYXJyYXkuZm9yRWFjaChhLl9maW5kKFwidGRcIiksZnVuY3Rpb24oYSl7YS5hcHBlbmRCb2d1cygpfSl9dmFyIGM9YS5lZGl0YWJsZSgpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImtleWRvd25cIixmdW5jdGlvbihhKXtmdW5jdGlvbiBjKGIsZCl7aWYoIWQubGVuZ3RoKXJldHVybiBudWxsO3ZhciBmPWEuY3JlYXRlUmFuZ2UoKSxnPUNLRURJVE9SLmRvbS5yYW5nZS5tZXJnZVJhbmdlcyhkKTtDS0VESVRPUi50b29scy5hcnJheS5mb3JFYWNoKGcsZnVuY3Rpb24oYSl7YS5lbmxhcmdlKENLRURJVE9SLkVOTEFSR0VfRUxFTUVOVCl9KTt2YXIgaD1nWzBdLmdldEJvdW5kYXJ5Tm9kZXMoKSxcbms9aC5zdGFydE5vZGUsaD1oLmVuZE5vZGU7aWYoayYmay5pcyYmay5pcyhlKSl7Zm9yKHZhciBsPWsuZ2V0QXNjZW5kYW50KFwidGFibGVcIiwhMCksbT1rLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsbCksbj0hMSxwPWZ1bmN0aW9uKGEpe3JldHVybiFrLmNvbnRhaW5zKGEpJiZhLmlzJiZhLmlzKFwidGRcIixcInRoXCIpfTttJiYhcChtKTspbT1tLmdldFByZXZpb3VzU291cmNlTm9kZSghMSxDS0VESVRPUi5OT0RFX0VMRU1FTlQsbCk7IW0mJmgmJmguaXMmJiFoLmlzKFwidGFibGVcIikmJmguZ2V0TmV4dCgpJiYobT1oLmdldE5leHQoKS5maW5kT25lKFwidGQsIHRoXCIpLG49ITApO2lmKG0pZltcIm1vdmVUb0VsZW1lbnRFZGl0XCIrKG4/XCJTdGFydFwiOlwiRW5kXCIpXShtKTtlbHNlIGYuc2V0U3RhcnRCZWZvcmUoay5nZXRBc2NlbmRhbnQoXCJ0YWJsZVwiLCEwKSksZi5jb2xsYXBzZSghMCk7Z1swXS5kZWxldGVDb250ZW50cygpO3JldHVybltmXX1pZihrKXJldHVybiBmLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGspLFxuW2ZdfXZhciBkPXszNzoxLDM4OjEsMzk6MSw0MDoxLDg6MSw0NjoxfSxlPUNLRURJVE9SLnRvb2xzLmV4dGVuZCh7dGFibGU6MX0sQ0tFRElUT1IuZHRkLiR0YWJsZUNvbnRlbnQpO2RlbGV0ZSBlLnRkO2RlbGV0ZSBlLnRoO3JldHVybiBmdW5jdGlvbihlKXt2YXIgZj1lLmRhdGEuZ2V0S2V5KCksZyxoPTM3PT09Znx8Mzg9PWYsayxsLG07aWYoZFtmXSYmKGc9YS5nZXRTZWxlY3Rpb24oKSkmJmcuaXNJblRhYmxlKCkmJmcuaXNGYWtlKWlmKGs9Zy5nZXRSYW5nZXMoKSxsPWtbMF0uX2dldFRhYmxlRWxlbWVudCgpLG09a1trLmxlbmd0aC0xXS5fZ2V0VGFibGVFbGVtZW50KCksZS5kYXRhLnByZXZlbnREZWZhdWx0KCksZS5jYW5jZWwoKSw4PGYmJjQ2PmYpa1swXS5tb3ZlVG9FbGVtZW50RWRpdGFibGVQb3NpdGlvbihoP2w6bSwhaCksZy5zZWxlY3RSYW5nZXMoW2tbMF1dKTtlbHNle2ZvcihlPTA7ZTxrLmxlbmd0aDtlKyspYihrW2VdKTsoZT1jKGwsaykpP2s9ZTprWzBdLm1vdmVUb0VsZW1lbnRFZGl0YWJsZVBvc2l0aW9uKGwpO1xuZy5zZWxlY3RSYW5nZXMoayk7YS5maXJlKFwic2F2ZVNuYXBzaG90XCIpfX19KGEpLG51bGwsbnVsbCwtMSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5cHJlc3NcIixmdW5jdGlvbihjKXt2YXIgZD1hLmdldFNlbGVjdGlvbigpLGUsZjtpZihkJiZkLmlzSW5UYWJsZSgpJiZkLmlzRmFrZSYmYy5kYXRhLiQuY2hhckNvZGUmJiEoYy5kYXRhLmdldEtleXN0cm9rZSgpJkNLRURJVE9SLkNUUkwpKXtjPWQuZ2V0UmFuZ2VzKCk7ZT1jWzBdLmdldEVuY2xvc2VkTm9kZSgpLmdldEFzY2VuZGFudCh7dGQ6MSx0aDoxfSwhMCk7Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyliKGNbZl0pO2NbMF0ubW92ZVRvRWxlbWVudEVkaXRhYmxlUG9zaXRpb24oZSk7ZC5zZWxlY3RSYW5nZXMoW2NbMF1dKX19LG51bGwsbnVsbCwtMSl9LGlzU3VwcG9ydGVkRW52aXJvbm1lbnQ6IShDS0VESVRPUi5lbnYuaWUmJjExPkNLRURJVE9SLmVudi52ZXJzaW9uKX07Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ0YWJsZXNlbGVjdGlvblwiLFxue3JlcXVpcmVzOlwiY2xpcGJvYXJkLHRhYmxldG9vbHNcIixvbkxvYWQ6ZnVuY3Rpb24oKXt2PUNLRURJVE9SLnBsdWdpbnMudGFibGV0b29sczt1PXYuZ2V0U2VsZWN0ZWRDZWxsczt0PXYuZ2V0Q2VsbENvbEluZGV4O3k9di5pbnNlcnRSb3c7QT12Lmluc2VydENvbHVtbjtDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcIi9zdHlsZXMvdGFibGVzZWxlY3Rpb24uY3NzXCIpfSxpbml0OmZ1bmN0aW9uKGEpe0NLRURJVE9SLnBsdWdpbnMudGFibGVzZWxlY3Rpb24uaXNTdXBwb3J0ZWRFbnZpcm9ubWVudCYmKGEuYWRkQ29udGVudHNDc3MmJmEuYWRkQ29udGVudHNDc3ModGhpcy5wYXRoK1wiL3N0eWxlcy90YWJsZXNlbGVjdGlvbi5jc3NcIiksYS5vbihcImNvbnRlbnREb21cIixmdW5jdGlvbigpe3ZhciBiPWEuZWRpdGFibGUoKSxjPWIuaXNJbmxpbmUoKT9iOmEuZG9jdW1lbnQsZT17ZWRpdG9yOmF9O2IuYXR0YWNoTGlzdGVuZXIoYyxcIm1vdXNlZG93blwiLGgsbnVsbCxcbmUpO2IuYXR0YWNoTGlzdGVuZXIoYyxcIm1vdXNlbW92ZVwiLGgsbnVsbCxlKTtiLmF0dGFjaExpc3RlbmVyKGMsXCJtb3VzZXVwXCIsaCxudWxsLGUpO2IuYXR0YWNoTGlzdGVuZXIoYixcImRyYWdzdGFydFwiLG0pO2IuYXR0YWNoTGlzdGVuZXIoYSxcInNlbGVjdGlvbkNoZWNrXCIsZCk7Q0tFRElUT1IucGx1Z2lucy50YWJsZXNlbGVjdGlvbi5rZXlib2FyZEludGVncmF0aW9uKGEpO0NLRURJVE9SLnBsdWdpbnMuY2xpcGJvYXJkJiYhQ0tFRElUT1IucGx1Z2lucy5jbGlwYm9hcmQuaXNDdXN0b21Db3B5Q3V0U3VwcG9ydGVkJiYoYi5hdHRhY2hMaXN0ZW5lcihiLFwiY3V0XCIsbiksYi5hdHRhY2hMaXN0ZW5lcihiLFwiY29weVwiLG4pKX0pLGEub24oXCJwYXN0ZVwiLHApLHIoYSxcInJvd0luc2VydEJlZm9yZSByb3dJbnNlcnRBZnRlciBjb2x1bW5JbnNlcnRCZWZvcmUgY29sdW1uSW5zZXJ0QWZ0ZXIgY2VsbEluc2VydEJlZm9yZSBjZWxsSW5zZXJ0QWZ0ZXJcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSxiKXtlKGEsXG5iLnNlbGVjdGVkQ2VsbHMpfSkscihhLFtcImNlbGxNZXJnZVwiLFwiY2VsbE1lcmdlUmlnaHRcIixcImNlbGxNZXJnZURvd25cIl0sZnVuY3Rpb24oYSxiKXtlKGEsW2IuY29tbWFuZERhdGEuY2VsbF0pfSkscihhLFtcImNlbGxEZWxldGVcIl0sZnVuY3Rpb24oYSl7YyhhLCEwKX0pKX19KX0oKSxcInVzZSBzdHJpY3RcIixmdW5jdGlvbigpe3ZhciBhPVtDS0VESVRPUi5DVFJMKzkwLENLRURJVE9SLkNUUkwrODksQ0tFRElUT1IuQ1RSTCtDS0VESVRPUi5TSElGVCs5MF0sZj17ODoxLDQ2OjF9O0NLRURJVE9SLnBsdWdpbnMuYWRkKFwidW5kb1wiLHtpbml0OmZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGUoYSl7Zy5lbmFibGVkJiYhMSE9PWEuZGF0YS5jb21tYW5kLmNhblVuZG8mJmcuc2F2ZSgpfWZ1bmN0aW9uIGYoKXtnLmVuYWJsZWQ9Yy5yZWFkT25seT8hMTpcInd5c2l3eWdcIj09Yy5tb2RlO2cub25DaGFuZ2UoKX12YXIgZz1jLnVuZG9NYW5hZ2VyPW5ldyBiKGMpLGs9Zy5lZGl0aW5nSGFuZGxlcj1uZXcgbChnKSxcbnA9Yy5hZGRDb21tYW5kKFwidW5kb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zy51bmRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyVW5kb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pLHI9Yy5hZGRDb21tYW5kKFwicmVkb1wiLHtleGVjOmZ1bmN0aW9uKCl7Zy5yZWRvKCkmJihjLnNlbGVjdGlvbkNoYW5nZSgpLHRoaXMuZmlyZShcImFmdGVyUmVkb1wiKSl9LHN0YXJ0RGlzYWJsZWQ6ITAsY2FuVW5kbzohMX0pO2Muc2V0S2V5c3Ryb2tlKFtbYVswXSxcInVuZG9cIl0sW2FbMV0sXCJyZWRvXCJdLFthWzJdLFwicmVkb1wiXV0pO2cub25DaGFuZ2U9ZnVuY3Rpb24oKXtwLnNldFN0YXRlKGcudW5kb2FibGUoKT9DS0VESVRPUi5UUklTVEFURV9PRkY6Q0tFRElUT1IuVFJJU1RBVEVfRElTQUJMRUQpO3Iuc2V0U3RhdGUoZy5yZWRvYWJsZSgpP0NLRURJVE9SLlRSSVNUQVRFX09GRjpDS0VESVRPUi5UUklTVEFURV9ESVNBQkxFRCl9O2Mub24oXCJiZWZvcmVDb21tYW5kRXhlY1wiLFxuZSk7Yy5vbihcImFmdGVyQ29tbWFuZEV4ZWNcIixlKTtjLm9uKFwic2F2ZVNuYXBzaG90XCIsZnVuY3Rpb24oYSl7Zy5zYXZlKGEuZGF0YSYmYS5kYXRhLmNvbnRlbnRPbmx5KX0pO2Mub24oXCJjb250ZW50RG9tXCIsay5hdHRhY2hMaXN0ZW5lcnMsayk7Yy5vbihcImluc3RhbmNlUmVhZHlcIixmdW5jdGlvbigpe2MuZmlyZShcInNhdmVTbmFwc2hvdFwiKX0pO2Mub24oXCJiZWZvcmVNb2RlVW5sb2FkXCIsZnVuY3Rpb24oKXtcInd5c2l3eWdcIj09Yy5tb2RlJiZnLnNhdmUoITApfSk7Yy5vbihcIm1vZGVcIixmKTtjLm9uKFwicmVhZE9ubHlcIixmKTtjLnVpLmFkZEJ1dHRvbiYmKGMudWkuYWRkQnV0dG9uKFwiVW5kb1wiLHtsYWJlbDpjLmxhbmcudW5kby51bmRvLGNvbW1hbmQ6XCJ1bmRvXCIsdG9vbGJhcjpcInVuZG8sMTBcIn0pLGMudWkuYWRkQnV0dG9uKFwiUmVkb1wiLHtsYWJlbDpjLmxhbmcudW5kby5yZWRvLGNvbW1hbmQ6XCJyZWRvXCIsdG9vbGJhcjpcInVuZG8sMjBcIn0pKTtjLnJlc2V0VW5kbz1mdW5jdGlvbigpe2cucmVzZXQoKTtcbmMuZmlyZShcInNhdmVTbmFwc2hvdFwiKX07Yy5vbihcInVwZGF0ZVNuYXBzaG90XCIsZnVuY3Rpb24oKXtnLmN1cnJlbnRJbWFnZSYmZy51cGRhdGUoKX0pO2Mub24oXCJsb2NrU25hcHNob3RcIixmdW5jdGlvbihhKXthPWEuZGF0YTtnLmxvY2soYSYmYS5kb250VXBkYXRlLGEmJmEuZm9yY2VVcGRhdGUpfSk7Yy5vbihcInVubG9ja1NuYXBzaG90XCIsZy51bmxvY2ssZyl9fSk7Q0tFRElUT1IucGx1Z2lucy51bmRvPXt9O3ZhciBiPUNLRURJVE9SLnBsdWdpbnMudW5kby5VbmRvTWFuYWdlcj1mdW5jdGlvbihhKXt0aGlzLnN0cm9rZXNSZWNvcmRlZD1bMCwwXTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucHJldmlvdXNLZXlHcm91cD0tMTt0aGlzLmxpbWl0PWEuY29uZmlnLnVuZG9TdGFja1NpemV8fDIwO3RoaXMuc3Ryb2tlc0xpbWl0PTI1O3RoaXMuZWRpdG9yPWE7dGhpcy5yZXNldCgpfTtiLnByb3RvdHlwZT17dHlwZTpmdW5jdGlvbihhLGMpe3ZhciBlPWIuZ2V0S2V5R3JvdXAoYSksZj10aGlzLnN0cm9rZXNSZWNvcmRlZFtlXStcbjE7Yz1jfHxmPj10aGlzLnN0cm9rZXNMaW1pdDt0aGlzLnR5cGluZ3x8KHRoaXMuaGFzVW5kbz10aGlzLnR5cGluZz0hMCx0aGlzLmhhc1JlZG89ITEsdGhpcy5vbkNoYW5nZSgpKTtjPyhmPTAsdGhpcy5lZGl0b3IuZmlyZShcInNhdmVTbmFwc2hvdFwiKSk6dGhpcy5lZGl0b3IuZmlyZShcImNoYW5nZVwiKTt0aGlzLnN0cm9rZXNSZWNvcmRlZFtlXT1mO3RoaXMucHJldmlvdXNLZXlHcm91cD1lfSxrZXlHcm91cENoYW5nZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGIuZ2V0S2V5R3JvdXAoYSkhPXRoaXMucHJldmlvdXNLZXlHcm91cH0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLnNuYXBzaG90cz1bXTt0aGlzLmluZGV4PS0xO3RoaXMuY3VycmVudEltYWdlPW51bGw7dGhpcy5oYXNSZWRvPXRoaXMuaGFzVW5kbz0hMTt0aGlzLmxvY2tlZD1udWxsO3RoaXMucmVzZXRUeXBlKCl9LHJlc2V0VHlwZTpmdW5jdGlvbigpe3RoaXMuc3Ryb2tlc1JlY29yZGVkPVswLDBdO3RoaXMudHlwaW5nPSExO3RoaXMucHJldmlvdXNLZXlHcm91cD1cbi0xfSxyZWZyZXNoU3RhdGU6ZnVuY3Rpb24oKXt0aGlzLmhhc1VuZG89ISF0aGlzLmdldE5leHRJbWFnZSghMCk7dGhpcy5oYXNSZWRvPSEhdGhpcy5nZXROZXh0SW1hZ2UoITEpO3RoaXMucmVzZXRUeXBlKCk7dGhpcy5vbkNoYW5nZSgpfSxzYXZlOmZ1bmN0aW9uKGEsYixlKXt2YXIgZj10aGlzLmVkaXRvcjtpZih0aGlzLmxvY2tlZHx8XCJyZWFkeVwiIT1mLnN0YXR1c3x8XCJ3eXNpd3lnXCIhPWYubW9kZSlyZXR1cm4hMTt2YXIgaz1mLmVkaXRhYmxlKCk7aWYoIWt8fFwicmVhZHlcIiE9ay5zdGF0dXMpcmV0dXJuITE7az10aGlzLnNuYXBzaG90cztifHwoYj1uZXcgYyhmKSk7aWYoITE9PT1iLmNvbnRlbnRzKXJldHVybiExO2lmKHRoaXMuY3VycmVudEltYWdlKWlmKGIuZXF1YWxzQ29udGVudCh0aGlzLmN1cnJlbnRJbWFnZSkpe2lmKGF8fGIuZXF1YWxzU2VsZWN0aW9uKHRoaXMuY3VycmVudEltYWdlKSlyZXR1cm4hMX1lbHNlITEhPT1lJiZmLmZpcmUoXCJjaGFuZ2VcIik7ay5zcGxpY2UodGhpcy5pbmRleCtcbjEsay5sZW5ndGgtdGhpcy5pbmRleC0xKTtrLmxlbmd0aD09dGhpcy5saW1pdCYmay5zaGlmdCgpO3RoaXMuaW5kZXg9ay5wdXNoKGIpLTE7dGhpcy5jdXJyZW50SW1hZ2U9YjshMSE9PWUmJnRoaXMucmVmcmVzaFN0YXRlKCk7cmV0dXJuITB9LHJlc3RvcmVJbWFnZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmVkaXRvcixjO2EuYm9va21hcmtzJiYoYi5mb2N1cygpLGM9Yi5nZXRTZWxlY3Rpb24oKSk7dGhpcy5sb2NrZWQ9e2xldmVsOjk5OX07dGhpcy5lZGl0b3IubG9hZFNuYXBzaG90KGEuY29udGVudHMpO2EuYm9va21hcmtzP2Muc2VsZWN0Qm9va21hcmtzKGEuYm9va21hcmtzKTpDS0VESVRPUi5lbnYuaWUmJihjPXRoaXMuZWRpdG9yLmRvY3VtZW50LmdldEJvZHkoKS4kLmNyZWF0ZVRleHRSYW5nZSgpLGMuY29sbGFwc2UoITApLGMuc2VsZWN0KCkpO3RoaXMubG9ja2VkPW51bGw7dGhpcy5pbmRleD1hLmluZGV4O3RoaXMuY3VycmVudEltYWdlPXRoaXMuc25hcHNob3RzW3RoaXMuaW5kZXhdO1xudGhpcy51cGRhdGUoKTt0aGlzLnJlZnJlc2hTdGF0ZSgpO2IuZmlyZShcImNoYW5nZVwiKX0sZ2V0TmV4dEltYWdlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc25hcHNob3RzLGM9dGhpcy5jdXJyZW50SW1hZ2UsZTtpZihjKWlmKGEpZm9yKGU9dGhpcy5pbmRleC0xOzA8PWU7ZS0tKXtpZihhPWJbZV0sIWMuZXF1YWxzQ29udGVudChhKSlyZXR1cm4gYS5pbmRleD1lLGF9ZWxzZSBmb3IoZT10aGlzLmluZGV4KzE7ZTxiLmxlbmd0aDtlKyspaWYoYT1iW2VdLCFjLmVxdWFsc0NvbnRlbnQoYSkpcmV0dXJuIGEuaW5kZXg9ZSxhO3JldHVybiBudWxsfSxyZWRvYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVuYWJsZWQmJnRoaXMuaGFzUmVkb30sdW5kb2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkJiZ0aGlzLmhhc1VuZG99LHVuZG86ZnVuY3Rpb24oKXtpZih0aGlzLnVuZG9hYmxlKCkpe3RoaXMuc2F2ZSghMCk7dmFyIGE9dGhpcy5nZXROZXh0SW1hZ2UoITApO2lmKGEpcmV0dXJuIHRoaXMucmVzdG9yZUltYWdlKGEpLFxuITB9cmV0dXJuITF9LHJlZG86ZnVuY3Rpb24oKXtpZih0aGlzLnJlZG9hYmxlKCkmJih0aGlzLnNhdmUoITApLHRoaXMucmVkb2FibGUoKSkpe3ZhciBhPXRoaXMuZ2V0TmV4dEltYWdlKCExKTtpZihhKXJldHVybiB0aGlzLnJlc3RvcmVJbWFnZShhKSwhMH1yZXR1cm4hMX0sdXBkYXRlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmxvY2tlZCl7YXx8KGE9bmV3IGModGhpcy5lZGl0b3IpKTtmb3IodmFyIGI9dGhpcy5pbmRleCxlPXRoaXMuc25hcHNob3RzOzA8YiYmdGhpcy5jdXJyZW50SW1hZ2UuZXF1YWxzQ29udGVudChlW2ItMV0pOyktLWI7ZS5zcGxpY2UoYix0aGlzLmluZGV4LWIrMSxhKTt0aGlzLmluZGV4PWI7dGhpcy5jdXJyZW50SW1hZ2U9YX19LHVwZGF0ZVNlbGVjdGlvbjpmdW5jdGlvbihhKXtpZighdGhpcy5zbmFwc2hvdHMubGVuZ3RoKXJldHVybiExO3ZhciBiPXRoaXMuc25hcHNob3RzLGM9YltiLmxlbmd0aC0xXTtyZXR1cm4gYy5lcXVhbHNDb250ZW50KGEpJiYhYy5lcXVhbHNTZWxlY3Rpb24oYSk/XG4odGhpcy5jdXJyZW50SW1hZ2U9YltiLmxlbmd0aC0xXT1hLCEwKTohMX0sbG9jazpmdW5jdGlvbihhLGIpe2lmKHRoaXMubG9ja2VkKXRoaXMubG9ja2VkLmxldmVsKys7ZWxzZSBpZihhKXRoaXMubG9ja2VkPXtsZXZlbDoxfTtlbHNle3ZhciBlPW51bGw7aWYoYillPSEwO2Vsc2V7dmFyIGY9bmV3IGModGhpcy5lZGl0b3IsITApO3RoaXMuY3VycmVudEltYWdlJiZ0aGlzLmN1cnJlbnRJbWFnZS5lcXVhbHNDb250ZW50KGYpJiYoZT1mKX10aGlzLmxvY2tlZD17dXBkYXRlOmUsbGV2ZWw6MX19fSx1bmxvY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmxvY2tlZCYmIS0tdGhpcy5sb2NrZWQubGV2ZWwpe3ZhciBhPXRoaXMubG9ja2VkLnVwZGF0ZTt0aGlzLmxvY2tlZD1udWxsO2lmKCEwPT09YSl0aGlzLnVwZGF0ZSgpO2Vsc2UgaWYoYSl7dmFyIGI9bmV3IGModGhpcy5lZGl0b3IsITApO2EuZXF1YWxzQ29udGVudChiKXx8dGhpcy51cGRhdGUoKX19fX07Yi5uYXZpZ2F0aW9uS2V5Q29kZXM9XG57Mzc6MSwzODoxLDM5OjEsNDA6MSwzNjoxLDM1OjEsMzM6MSwzNDoxfTtiLmtleUdyb3Vwcz17UFJJTlRBQkxFOjAsRlVOQ1RJT05BTDoxfTtiLmlzTmF2aWdhdGlvbktleT1mdW5jdGlvbihhKXtyZXR1cm4hIWIubmF2aWdhdGlvbktleUNvZGVzW2FdfTtiLmdldEtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBmW2FdP2MuRlVOQ1RJT05BTDpjLlBSSU5UQUJMRX07Yi5nZXRPcHBvc2l0ZUtleUdyb3VwPWZ1bmN0aW9uKGEpe3ZhciBjPWIua2V5R3JvdXBzO3JldHVybiBhPT1jLkZVTkNUSU9OQUw/Yy5QUklOVEFCTEU6Yy5GVU5DVElPTkFMfTtiLmllRnVuY3Rpb25hbEtleXNCdWc9ZnVuY3Rpb24oYSl7cmV0dXJuIENLRURJVE9SLmVudi5pZSYmYi5nZXRLZXlHcm91cChhKT09Yi5rZXlHcm91cHMuRlVOQ1RJT05BTH07dmFyIGM9Q0tFRElUT1IucGx1Z2lucy51bmRvLkltYWdlPWZ1bmN0aW9uKGEsYil7dGhpcy5lZGl0b3I9YTthLmZpcmUoXCJiZWZvcmVVbmRvSW1hZ2VcIik7XG52YXIgYz1hLmdldFNuYXBzaG90KCk7Q0tFRElUT1IuZW52LmllJiZjJiYoYz1jLnJlcGxhY2UoL1xccytkYXRhLWNrZS1leHBhbmRvPVwiLio/XCIvZyxcIlwiKSk7dGhpcy5jb250ZW50cz1jO2J8fCh0aGlzLmJvb2ttYXJrcz0oYz1jJiZhLmdldFNlbGVjdGlvbigpKSYmYy5jcmVhdGVCb29rbWFya3MyKCEwKSk7YS5maXJlKFwiYWZ0ZXJVbmRvSW1hZ2VcIil9LGU9L1xcYig/OmhyZWZ8c3JjfG5hbWUpPVwiW15cIl0qP1wiL2dpO2MucHJvdG90eXBlPXtlcXVhbHNDb250ZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29udGVudHM7YT1hLmNvbnRlbnRzO0NLRURJVE9SLmVudi5pZSYmKENLRURJVE9SLmVudi5pZTdDb21wYXR8fENLRURJVE9SLmVudi5xdWlya3MpJiYoYj1iLnJlcGxhY2UoZSxcIlwiKSxhPWEucmVwbGFjZShlLFwiXCIpKTtyZXR1cm4gYiE9YT8hMTohMH0sZXF1YWxzU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYm9va21hcmtzO2E9YS5ib29rbWFya3M7aWYoYnx8YSl7aWYoIWJ8fFxuIWF8fGIubGVuZ3RoIT1hLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9YltjXSxmPWFbY107aWYoZS5zdGFydE9mZnNldCE9Zi5zdGFydE9mZnNldHx8ZS5lbmRPZmZzZXQhPWYuZW5kT2Zmc2V0fHwhQ0tFRElUT1IudG9vbHMuYXJyYXlDb21wYXJlKGUuc3RhcnQsZi5zdGFydCl8fCFDS0VESVRPUi50b29scy5hcnJheUNvbXBhcmUoZS5lbmQsZi5lbmQpKXJldHVybiExfX1yZXR1cm4hMH19O3ZhciBsPUNLRURJVE9SLnBsdWdpbnMudW5kby5OYXRpdmVFZGl0aW5nSGFuZGxlcj1mdW5jdGlvbihhKXt0aGlzLnVuZG9NYW5hZ2VyPWE7dGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO3RoaXMua2V5RXZlbnRzU3RhY2s9bmV3IGs7dGhpcy5sYXN0S2V5ZG93bkltYWdlPW51bGx9O2wucHJvdG90eXBlPXtvbktleWRvd246ZnVuY3Rpb24oZCl7dmFyIGU9ZC5kYXRhLmdldEtleSgpO2lmKDIyOSE9PWUpaWYoLTE8Q0tFRElUT1IudG9vbHMuaW5kZXhPZihhLFxuZC5kYXRhLmdldEtleXN0cm9rZSgpKSlkLmRhdGEucHJldmVudERlZmF1bHQoKTtlbHNlIGlmKHRoaXMua2V5RXZlbnRzU3RhY2suY2xlYW5VcChkKSxkPXRoaXMudW5kb01hbmFnZXIsdGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KGUpfHx0aGlzLmtleUV2ZW50c1N0YWNrLnB1c2goZSksdGhpcy5sYXN0S2V5ZG93bkltYWdlPW5ldyBjKGQuZWRpdG9yKSxiLmlzTmF2aWdhdGlvbktleShlKXx8dGhpcy51bmRvTWFuYWdlci5rZXlHcm91cENoYW5nZWQoZSkpaWYoZC5zdHJva2VzUmVjb3JkZWRbMF18fGQuc3Ryb2tlc1JlY29yZGVkWzFdKWQuc2F2ZSghMSx0aGlzLmxhc3RLZXlkb3duSW1hZ2UsITEpLGQucmVzZXRUeXBlKCl9LG9uSW5wdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZUlucHV0RXZlbnQpdGhpcy5pZ25vcmVJbnB1dEV2ZW50PSExO2Vsc2V7dmFyIGE9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRMYXN0KCk7YXx8KGE9dGhpcy5rZXlFdmVudHNTdGFjay5wdXNoKDApKTtcbnRoaXMua2V5RXZlbnRzU3RhY2suaW5jcmVtZW50KGEua2V5Q29kZSk7dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpPj10aGlzLnVuZG9NYW5hZ2VyLnN0cm9rZXNMaW1pdCYmKHRoaXMudW5kb01hbmFnZXIudHlwZShhLmtleUNvZGUsITApLHRoaXMua2V5RXZlbnRzU3RhY2sucmVzZXRJbnB1dHMoKSl9fSxvbktleXVwOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMudW5kb01hbmFnZXI7YT1hLmRhdGEuZ2V0S2V5KCk7dmFyIGY9dGhpcy5rZXlFdmVudHNTdGFjay5nZXRUb3RhbElucHV0cygpO3RoaXMua2V5RXZlbnRzU3RhY2sucmVtb3ZlKGEpO2lmKCEoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEpJiZ0aGlzLmxhc3RLZXlkb3duSW1hZ2UmJnRoaXMubGFzdEtleWRvd25JbWFnZS5lcXVhbHNDb250ZW50KG5ldyBjKGUuZWRpdG9yLCEwKSkpKWlmKDA8ZillLnR5cGUoYSk7ZWxzZSBpZihiLmlzTmF2aWdhdGlvbktleShhKSl0aGlzLm9uTmF2aWdhdGlvbktleSghMCl9LFxub25OYXZpZ2F0aW9uS2V5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMudW5kb01hbmFnZXI7IWEmJmIuc2F2ZSghMCxudWxsLCExKXx8Yi51cGRhdGVTZWxlY3Rpb24obmV3IGMoYi5lZGl0b3IpKTtiLnJlc2V0VHlwZSgpfSxpZ25vcmVJbnB1dEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmlnbm9yZUlucHV0RXZlbnQ9ITB9LGF0dGFjaExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXMudW5kb01hbmFnZXIuZWRpdG9yLGM9YS5lZGl0YWJsZSgpLGU9dGhpcztjLmF0dGFjaExpc3RlbmVyKGMsXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7ZS5vbktleWRvd24oYSk7aWYoYi5pZUZ1bmN0aW9uYWxLZXlzQnVnKGEuZGF0YS5nZXRLZXkoKSkpZS5vbklucHV0KCl9LG51bGwsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxDS0VESVRPUi5lbnYuaWU/XCJrZXlwcmVzc1wiOlwiaW5wdXRcIixlLm9uSW5wdXQsZSxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcihjLFwia2V5dXBcIixlLm9uS2V5dXAsXG5lLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMsXCJwYXN0ZVwiLGUuaWdub3JlSW5wdXRFdmVudExpc3RlbmVyLGUsbnVsbCw5OTkpO2MuYXR0YWNoTGlzdGVuZXIoYyxcImRyb3BcIixlLmlnbm9yZUlucHV0RXZlbnRMaXN0ZW5lcixlLG51bGwsOTk5KTtjLmF0dGFjaExpc3RlbmVyKGMuaXNJbmxpbmUoKT9jOmEuZG9jdW1lbnQuZ2V0RG9jdW1lbnRFbGVtZW50KCksXCJjbGlja1wiLGZ1bmN0aW9uKCl7ZS5vbk5hdmlnYXRpb25LZXkoKX0sbnVsbCxudWxsLDk5OSk7Yy5hdHRhY2hMaXN0ZW5lcih0aGlzLnVuZG9NYW5hZ2VyLmVkaXRvcixcImJsdXJcIixmdW5jdGlvbigpe2Uua2V5RXZlbnRzU3RhY2sucmVtb3ZlKDkpfSxudWxsLG51bGwsOTk5KX19O3ZhciBrPUNLRURJVE9SLnBsdWdpbnMudW5kby5LZXlFdmVudHNTdGFjaz1mdW5jdGlvbigpe3RoaXMuc3RhY2s9W119O2sucHJvdG90eXBlPXtwdXNoOmZ1bmN0aW9uKGEpe2E9dGhpcy5zdGFjay5wdXNoKHtrZXlDb2RlOmEsaW5wdXRzOjB9KTtcbnJldHVybiB0aGlzLnN0YWNrW2EtMV19LGdldExhc3RJbmRleDpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiIT10eXBlb2YgYSlyZXR1cm4gdGhpcy5zdGFjay5sZW5ndGgtMTtmb3IodmFyIGI9dGhpcy5zdGFjay5sZW5ndGg7Yi0tOylpZih0aGlzLnN0YWNrW2JdLmtleUNvZGU9PWEpcmV0dXJuIGI7cmV0dXJuLTF9LGdldExhc3Q6ZnVuY3Rpb24oYSl7YT10aGlzLmdldExhc3RJbmRleChhKTtyZXR1cm4tMSE9YT90aGlzLnN0YWNrW2FdOm51bGx9LGluY3JlbWVudDpmdW5jdGlvbihhKXt0aGlzLmdldExhc3QoYSkuaW5wdXRzKyt9LHJlbW92ZTpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TGFzdEluZGV4KGEpOy0xIT1hJiZ0aGlzLnN0YWNrLnNwbGljZShhLDEpfSxyZXNldElucHV0czpmdW5jdGlvbihhKXtpZihcIm51bWJlclwiPT10eXBlb2YgYSl0aGlzLmdldExhc3QoYSkuaW5wdXRzPTA7ZWxzZSBmb3IoYT10aGlzLnN0YWNrLmxlbmd0aDthLS07KXRoaXMuc3RhY2tbYV0uaW5wdXRzPTB9LFxuZ2V0VG90YWxJbnB1dHM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5zdGFjay5sZW5ndGgsYj0wO2EtLTspYis9dGhpcy5zdGFja1thXS5pbnB1dHM7cmV0dXJuIGJ9LGNsZWFuVXA6ZnVuY3Rpb24oYSl7YT1hLmRhdGEuJDthLmN0cmxLZXl8fGEubWV0YUtleXx8dGhpcy5yZW1vdmUoMTcpO2Euc2hpZnRLZXl8fHRoaXMucmVtb3ZlKDE2KTthLmFsdEtleXx8dGhpcy5yZW1vdmUoMTgpfX19KCksQ0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3c2NcIix7cmVxdWlyZXM6XCJkaWFsb2dcIixwYXJzZUFwaTpmdW5jdGlvbihhKXthLmNvbmZpZy53c2Nfb25GaW5pc2g9XCJmdW5jdGlvblwiPT09dHlwZW9mIGEuY29uZmlnLndzY19vbkZpbmlzaD9hLmNvbmZpZy53c2Nfb25GaW5pc2g6ZnVuY3Rpb24oKXt9O2EuY29uZmlnLndzY19vbkNsb3NlPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmNvbmZpZy53c2Nfb25DbG9zZT9hLmNvbmZpZy53c2Nfb25DbG9zZTpmdW5jdGlvbigpe319LHBhcnNlQ29uZmlnOmZ1bmN0aW9uKGEpe2EuY29uZmlnLndzY19jdXN0b21lcklkPVxuYS5jb25maWcud3NjX2N1c3RvbWVySWR8fENLRURJVE9SLmNvbmZpZy53c2NfY3VzdG9tZXJJZHx8XCIxOnVhM3h3MS0yWHlHSjMtR1dydUQzLTZPRk5UMS1vWGN1QjEtblI2QnA0LWhnUUhjLUVjWW5nMy1zZFJYRzMtTk9mRmtcIjthLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkcz1hLmNvbmZpZy53c2NfY3VzdG9tRGljdGlvbmFyeUlkc3x8Q0tFRElUT1IuY29uZmlnLndzY19jdXN0b21EaWN0aW9uYXJ5SWRzfHxcIlwiO2EuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWU9YS5jb25maWcud3NjX3VzZXJEaWN0aW9uYXJ5TmFtZXx8Q0tFRElUT1IuY29uZmlnLndzY191c2VyRGljdGlvbmFyeU5hbWV8fFwiXCI7YS5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdD1hLmNvbmZpZy53c2NfY3VzdG9tTG9hZGVyU2NyaXB0fHxDS0VESVRPUi5jb25maWcud3NjX2N1c3RvbUxvYWRlclNjcmlwdDthLmNvbmZpZy53c2NfaW50ZXJmYWNlTGFuZz1hLmNvbmZpZy53c2NfaW50ZXJmYWNlTGFuZztcbkNLRURJVE9SLmNvbmZpZy53c2NfY21kPWEuY29uZmlnLndzY19jbWR8fENLRURJVE9SLmNvbmZpZy53c2NfY21kfHxcInNwZWxsXCI7Q0tFRElUT1IuY29uZmlnLndzY192ZXJzaW9uPVwidjQuMy4wLW1hc3Rlci1kNzY5MjMzXCI7Q0tFRElUT1IuY29uZmlnLndzY19yZW1vdmVHbG9iYWxWYXJpYWJsZT0hMH0sb25Mb2FkOmZ1bmN0aW9uKGEpe1wibW9vbm8tbGlzYVwiPT0oQ0tFRElUT1Iuc2tpbk5hbWV8fGEuY29uZmlnLnNraW4pJiZDS0VESVRPUi5kb2N1bWVudC5hcHBlbmRTdHlsZVNoZWV0KHRoaXMucGF0aCtcInNraW5zL1wiK0NLRURJVE9SLnNraW4ubmFtZStcIi93c2MuY3NzXCIpfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBmPUNLRURJVE9SLmVudjt0aGlzLnBhcnNlQ29uZmlnKGEpO3RoaXMucGFyc2VBcGkoYSk7YS5hZGRDb21tYW5kKFwiY2hlY2tzcGVsbFwiLG5ldyBDS0VESVRPUi5kaWFsb2dDb21tYW5kKFwiY2hlY2tzcGVsbFwiKSkubW9kZXM9e3d5c2l3eWc6IUNLRURJVE9SLmVudi5vcGVyYSYmXG4hQ0tFRElUT1IuZW52LmFpciYmZG9jdW1lbnQuZG9tYWluPT13aW5kb3cubG9jYXRpb24uaG9zdG5hbWUmJiEoZi5pZSYmKDg+Zi52ZXJzaW9ufHxmLnF1aXJrcykpfTtcInVuZGVmaW5lZFwiPT10eXBlb2YgYS5wbHVnaW5zLnNjYXl0JiZhLnVpLmFkZEJ1dHRvbiYmYS51aS5hZGRCdXR0b24oXCJTcGVsbENoZWNrZXJcIix7bGFiZWw6YS5sYW5nLndzYy50b29sYmFyLGNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBjPWEuZWxlbWVudE1vZGU9PUNLRURJVE9SLkVMRU1FTlRfTU9ERV9JTkxJTkU/YS5jb250YWluZXIuZ2V0VGV4dCgpOmEuZG9jdW1lbnQuZ2V0Qm9keSgpLmdldFRleHQoKTsoYz1jLnJlcGxhY2UoL1xccy9nLFwiXCIpKT9hLmV4ZWNDb21tYW5kKFwiY2hlY2tzcGVsbFwiKTphbGVydChcIk5vdGhpbmcgdG8gY2hlY2shXCIpfSx0b29sYmFyOlwic3BlbGxjaGVja2VyLDEwXCJ9KTtDS0VESVRPUi5kaWFsb2cuYWRkKFwiY2hlY2tzcGVsbFwiLHRoaXMucGF0aCsoQ0tFRElUT1IuZW52LmllJiY3Pj1DS0VESVRPUi5lbnYudmVyc2lvbj9cblwiZGlhbG9ncy93c2NfaWUuanNcIjp3aW5kb3cucG9zdE1lc3NhZ2U/XCJkaWFsb2dzL3dzYy5qc1wiOlwiZGlhbG9ncy93c2NfaWUuanNcIikpfX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXtmdW5jdGlvbiBiKGEpe3ZhciBjPSExO2cuYXR0YWNoTGlzdGVuZXIoZyxcImtleWRvd25cIixmdW5jdGlvbigpe3ZhciBiPWQuZ2V0Qm9keSgpLmdldEVsZW1lbnRzQnlUYWcoYSk7aWYoIWMpe2Zvcih2YXIgZT0wO2U8Yi5jb3VudCgpO2UrKyliLmdldEl0ZW0oZSkuc2V0Q3VzdG9tRGF0YShcInJldGFpblwiLCEwKTtjPSEwfX0sbnVsbCxudWxsLDEpO2cuYXR0YWNoTGlzdGVuZXIoZyxcImtleXVwXCIsZnVuY3Rpb24oKXt2YXIgYj1kLmdldEVsZW1lbnRzQnlUYWcoYSk7YyYmKDEhPWIuY291bnQoKXx8Yi5nZXRJdGVtKDApLmdldEN1c3RvbURhdGEoXCJyZXRhaW5cIil8fGIuZ2V0SXRlbSgwKS5oYXNBdHRyaWJ1dGUoXCJkYXRhLWNrZS10ZW1wXCIpfHxiLmdldEl0ZW0oMCkucmVtb3ZlKDEpLGM9ITEpfSl9dmFyIGM9XG50aGlzLmVkaXRvcixkPWEuZG9jdW1lbnQsaD1kLmJvZHksbT1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX2FjdHNjcnB0XCIpO20mJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKTsobT1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX3NoaW1zY3JwdFwiKSkmJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKTsobT1kLmdldEVsZW1lbnRCeUlkKFwiY2tlX2Jhc2V0YWdzY3JwdFwiKSkmJm0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChtKTtoLmNvbnRlbnRFZGl0YWJsZT0hMDtDS0VESVRPUi5lbnYuaWUmJihoLmhpZGVGb2N1cz0hMCxoLmRpc2FibGVkPSEwLGgucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO2RlbGV0ZSB0aGlzLl8uaXNMb2FkaW5nRGF0YTt0aGlzLiQ9aDtkPW5ldyBDS0VESVRPUi5kb20uZG9jdW1lbnQoZCk7dGhpcy5zZXR1cCgpO3RoaXMuZml4SW5pdGlhbFNlbGVjdGlvbigpO3ZhciBnPXRoaXM7Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2UmJmQuZ2V0RG9jdW1lbnRFbGVtZW50KCkuYWRkQ2xhc3MoZC4kLmNvbXBhdE1vZGUpO1xuQ0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2UmJmMuZW50ZXJNb2RlIT1DS0VESVRPUi5FTlRFUl9QP2IoXCJwXCIpOkNLRURJVE9SLmVudi5lZGdlJiZjLmVudGVyTW9kZSE9Q0tFRElUT1IuRU5URVJfRElWJiZiKFwiZGl2XCIpO2lmKENLRURJVE9SLmVudi53ZWJraXR8fENLRURJVE9SLmVudi5pZSYmMTA8Q0tFRElUT1IuZW52LnZlcnNpb24pZC5nZXREb2N1bWVudEVsZW1lbnQoKS5vbihcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EuZGF0YS5nZXRUYXJnZXQoKS5pcyhcImh0bWxcIikmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmVkaXRhYmxlKCkuZm9jdXMoKX0pfSk7ZihjKTt0cnl7Yy5kb2N1bWVudC4kLmV4ZWNDb21tYW5kKFwiMkQtcG9zaXRpb25cIiwhMSwhMCl9Y2F0Y2gobil7fShDS0VESVRPUi5lbnYuZ2Vja298fENLRURJVE9SLmVudi5pZSYmXCJDU1MxQ29tcGF0XCI9PWMuZG9jdW1lbnQuJC5jb21wYXRNb2RlKSYmdGhpcy5hdHRhY2hMaXN0ZW5lcih0aGlzLFwia2V5ZG93blwiLFxuZnVuY3Rpb24oYSl7dmFyIGI9YS5kYXRhLmdldEtleXN0cm9rZSgpO2lmKDMzPT1ifHwzND09YilpZihDS0VESVRPUi5lbnYuaWUpc2V0VGltZW91dChmdW5jdGlvbigpe2MuZ2V0U2VsZWN0aW9uKCkuc2Nyb2xsSW50b1ZpZXcoKX0sMCk7ZWxzZSBpZihjLndpbmRvdy4kLmlubmVySGVpZ2h0PnRoaXMuJC5vZmZzZXRIZWlnaHQpe3ZhciBkPWMuY3JlYXRlUmFuZ2UoKTtkWzMzPT1iP1wibW92ZVRvRWxlbWVudEVkaXRTdGFydFwiOlwibW92ZVRvRWxlbWVudEVkaXRFbmRcIl0odGhpcyk7ZC5zZWxlY3QoKTthLmRhdGEucHJldmVudERlZmF1bHQoKX19KTtDS0VESVRPUi5lbnYuaWUmJnRoaXMuYXR0YWNoTGlzdGVuZXIoZCxcImJsdXJcIixmdW5jdGlvbigpe3RyeXtkLiQuc2VsZWN0aW9uLmVtcHR5KCl9Y2F0Y2goYSl7fX0pO0NLRURJVE9SLmVudi5pT1MmJnRoaXMuYXR0YWNoTGlzdGVuZXIoZCxcInRvdWNoZW5kXCIsZnVuY3Rpb24oKXthLmZvY3VzKCl9KTtoPWMuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZyhcInRpdGxlXCIpLmdldEl0ZW0oMCk7XG5oLmRhdGEoXCJja2UtdGl0bGVcIixoLmdldFRleHQoKSk7Q0tFRElUT1IuZW52LmllJiYoYy5kb2N1bWVudC4kLnRpdGxlPXRoaXMuXy5kb2NUaXRsZSk7Q0tFRElUT1IudG9vbHMuc2V0VGltZW91dChmdW5jdGlvbigpe1widW5sb2FkZWRcIj09dGhpcy5zdGF0dXMmJih0aGlzLnN0YXR1cz1cInJlYWR5XCIpO2MuZmlyZShcImNvbnRlbnREb21cIik7dGhpcy5fLmlzUGVuZGluZ0ZvY3VzJiYoYy5mb2N1cygpLHRoaXMuXy5pc1BlbmRpbmdGb2N1cz0hMSk7c2V0VGltZW91dChmdW5jdGlvbigpe2MuZmlyZShcImRhdGFSZWFkeVwiKX0sMCl9LDAsdGhpcyl9ZnVuY3Rpb24gZihhKXtmdW5jdGlvbiBiKCl7dmFyIGQ7YS5lZGl0YWJsZSgpLmF0dGFjaExpc3RlbmVyKGEsXCJzZWxlY3Rpb25DaGFuZ2VcIixmdW5jdGlvbigpe3ZhciBiPWEuZ2V0U2VsZWN0aW9uKCkuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7YiYmKGQmJihkLmRldGFjaEV2ZW50KFwib25yZXNpemVzdGFydFwiLGMpLGQ9bnVsbCksYi4kLmF0dGFjaEV2ZW50KFwib25yZXNpemVzdGFydFwiLFxuYyksZD1iLiQpfSl9ZnVuY3Rpb24gYyhhKXthLnJldHVyblZhbHVlPSExfWlmKENLRURJVE9SLmVudi5nZWNrbyl0cnl7dmFyIGQ9YS5kb2N1bWVudC4kO2QuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCExLCFhLmNvbmZpZy5kaXNhYmxlT2JqZWN0UmVzaXppbmcpO2QuZXhlY0NvbW1hbmQoXCJlbmFibGVJbmxpbmVUYWJsZUVkaXRpbmdcIiwhMSwhYS5jb25maWcuZGlzYWJsZU5hdGl2ZVRhYmxlSGFuZGxlcyl9Y2F0Y2goZil7fWVsc2UgQ0tFRElUT1IuZW52LmllJiYxMT5DS0VESVRPUi5lbnYudmVyc2lvbiYmYS5jb25maWcuZGlzYWJsZU9iamVjdFJlc2l6aW5nJiZiKGEpfWZ1bmN0aW9uIGIoKXt2YXIgYT1bXTtpZig4PD1DS0VESVRPUi5kb2N1bWVudC4kLmRvY3VtZW50TW9kZSl7YS5wdXNoKFwiaHRtbC5DU1MxQ29tcGF0IFtjb250ZW50ZWRpdGFibGVcXHgzZGZhbHNlXXttaW4taGVpZ2h0OjAgIWltcG9ydGFudH1cIik7dmFyIGI9W10sYztmb3IoYyBpbiBDS0VESVRPUi5kdGQuJHJlbW92ZUVtcHR5KWIucHVzaChcImh0bWwuQ1NTMUNvbXBhdCBcIitcbmMrXCJbY29udGVudGVkaXRhYmxlXFx4M2RmYWxzZV1cIik7YS5wdXNoKGIuam9pbihcIixcIikrXCJ7ZGlzcGxheTppbmxpbmUtYmxvY2t9XCIpfWVsc2UgQ0tFRElUT1IuZW52LmdlY2tvJiYoYS5wdXNoKFwiaHRtbHtoZWlnaHQ6MTAwJSAhaW1wb3J0YW50fVwiKSxhLnB1c2goXCJpbWc6LW1vei1icm9rZW57LW1vei1mb3JjZS1icm9rZW4taW1hZ2UtaWNvbjoxO21pbi13aWR0aDoyNHB4O21pbi1oZWlnaHQ6MjRweH1cIikpO2EucHVzaChcImh0bWx7Y3Vyc29yOnRleHQ7KmN1cnNvcjphdXRvfVwiKTthLnB1c2goXCJpbWcsaW5wdXQsdGV4dGFyZWF7Y3Vyc29yOmRlZmF1bHR9XCIpO3JldHVybiBhLmpvaW4oXCJcXG5cIil9dmFyIGM7Q0tFRElUT1IucGx1Z2lucy5hZGQoXCJ3eXNpd3lnYXJlYVwiLHtpbml0OmZ1bmN0aW9uKGEpe2EuY29uZmlnLmZ1bGxQYWdlJiZhLmFkZEZlYXR1cmUoe2FsbG93ZWRDb250ZW50OlwiaHRtbCBoZWFkIHRpdGxlOyBzdHlsZSBbbWVkaWEsdHlwZV07IGJvZHkgKCopW2lkXTsgbWV0YSBsaW5rIFsqXVwiLFxucmVxdWlyZWRDb250ZW50OlwiYm9keVwifSk7YS5hZGRNb2RlKFwid3lzaXd5Z1wiLGZ1bmN0aW9uKGIpe2Z1bmN0aW9uIGYoZCl7ZCYmZC5yZW1vdmVMaXN0ZW5lcigpO2EuZWRpdGFibGUobmV3IGMoYSxoLiQuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5KSk7YS5zZXREYXRhKGEuZ2V0RGF0YSgxKSxiKX12YXIgZD1cImRvY3VtZW50Lm9wZW4oKTtcIisoQ0tFRElUT1IuZW52LmllP1wiKFwiK0NLRURJVE9SLnRvb2xzLmZpeERvbWFpbitcIikoKTtcIjpcIlwiKStcImRvY3VtZW50LmNsb3NlKCk7XCIsZD1DS0VESVRPUi5lbnYuYWlyP1wiamF2YXNjcmlwdDp2b2lkKDApXCI6Q0tFRElUT1IuZW52LmllJiYhQ0tFRElUT1IuZW52LmVkZ2U/XCJqYXZhc2NyaXB0OnZvaWQoZnVuY3Rpb24oKXtcIitlbmNvZGVVUklDb21wb25lbnQoZCkrXCJ9KCkpXCI6XCJcIixoPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY2lmcmFtZSBzcmNcXHgzZFwiJytkKydcIiBmcmFtZUJvcmRlclxceDNkXCIwXCJcXHgzZVxceDNjL2lmcmFtZVxceDNlJyk7XG5oLnNldFN0eWxlcyh7d2lkdGg6XCIxMDAlXCIsaGVpZ2h0OlwiMTAwJVwifSk7aC5hZGRDbGFzcyhcImNrZV93eXNpd3lnX2ZyYW1lXCIpLmFkZENsYXNzKFwiY2tlX3Jlc2V0XCIpO2Q9YS51aS5zcGFjZShcImNvbnRlbnRzXCIpO2QuYXBwZW5kKGgpO3ZhciBtPUNLRURJVE9SLmVudi5pZSYmIUNLRURJVE9SLmVudi5lZGdlfHxDS0VESVRPUi5lbnYuZ2Vja287aWYobSloLm9uKFwibG9hZFwiLGYpO3ZhciBnPWEudGl0bGUsbj1hLmZpcmUoXCJhcmlhRWRpdG9ySGVscExhYmVsXCIse30pLmxhYmVsO2cmJihDS0VESVRPUi5lbnYuaWUmJm4mJihnKz1cIiwgXCIrbiksaC5zZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiLGcpKTtpZihuKXt2YXIgZz1DS0VESVRPUi50b29scy5nZXROZXh0SWQoKSxwPUNLRURJVE9SLmRvbS5lbGVtZW50LmNyZWF0ZUZyb21IdG1sKCdcXHgzY3NwYW4gaWRcXHgzZFwiJytnKydcIiBjbGFzc1xceDNkXCJja2Vfdm9pY2VfbGFiZWxcIlxceDNlJytuK1wiXFx4M2Mvc3BhblxceDNlXCIpO2QuYXBwZW5kKHAsMSk7aC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWRlc2NyaWJlZGJ5XCIsXG5nKX1hLm9uKFwiYmVmb3JlTW9kZVVubG9hZFwiLGZ1bmN0aW9uKGEpe2EucmVtb3ZlTGlzdGVuZXIoKTtwJiZwLnJlbW92ZSgpfSk7aC5zZXRBdHRyaWJ1dGVzKHt0YWJJbmRleDphLnRhYkluZGV4LGFsbG93VHJhbnNwYXJlbmN5OlwidHJ1ZVwifSk7IW0mJmYoKTthLmZpcmUoXCJhcmlhV2lkZ2V0XCIsaCl9KX19KTtDS0VESVRPUi5lZGl0b3IucHJvdG90eXBlLmFkZENvbnRlbnRzQ3NzPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY29uZmlnLGM9Yi5jb250ZW50c0NzcztDS0VESVRPUi50b29scy5pc0FycmF5KGMpfHwoYi5jb250ZW50c0Nzcz1jP1tjXTpbXSk7Yi5jb250ZW50c0Nzcy5wdXNoKGEpfTtjPUNLRURJVE9SLnRvb2xzLmNyZWF0ZUNsYXNzKHskOmZ1bmN0aW9uKCl7dGhpcy5iYXNlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyPUNLRURJVE9SLnRvb2xzLmFkZEZ1bmN0aW9uKGZ1bmN0aW9uKGIpe0NLRURJVE9SLnRvb2xzLnNldFRpbWVvdXQoYSxcbjAsdGhpcyxiKX0sdGhpcyk7dGhpcy5fLmRvY1RpdGxlPXRoaXMuZ2V0V2luZG93KCkuZ2V0RnJhbWUoKS5nZXRBdHRyaWJ1dGUoXCJ0aXRsZVwiKX0sYmFzZTpDS0VESVRPUi5lZGl0YWJsZSxwcm90bzp7c2V0RGF0YTpmdW5jdGlvbihhLGMpe3ZhciBmPXRoaXMuZWRpdG9yO2lmKGMpdGhpcy5zZXRIdG1sKGEpLHRoaXMuZml4SW5pdGlhbFNlbGVjdGlvbigpLGYuZmlyZShcImRhdGFSZWFkeVwiKTtlbHNle3RoaXMuXy5pc0xvYWRpbmdEYXRhPSEwO2YuXy5kYXRhU3RvcmU9e2lkOjF9O3ZhciBkPWYuY29uZmlnLGg9ZC5mdWxsUGFnZSxtPWQuZG9jVHlwZSxnPUNLRURJVE9SLnRvb2xzLmJ1aWxkU3R5bGVIdG1sKGIoKSkucmVwbGFjZSgvPHN0eWxlPi8sJ1xceDNjc3R5bGUgZGF0YS1ja2UtdGVtcFxceDNkXCIxXCJcXHgzZScpO2h8fChnKz1DS0VESVRPUi50b29scy5idWlsZFN0eWxlSHRtbChmLmNvbmZpZy5jb250ZW50c0NzcykpO3ZhciBuPWQuYmFzZUhyZWY/J1xceDNjYmFzZSBocmVmXFx4M2RcIicrXG5kLmJhc2VIcmVmKydcIiBkYXRhLWNrZS10ZW1wXFx4M2RcIjFcIiAvXFx4M2UnOlwiXCI7aCYmKGE9YS5yZXBsYWNlKC88IURPQ1RZUEVbXj5dKj4vaSxmdW5jdGlvbihhKXtmLmRvY1R5cGU9bT1hO3JldHVyblwiXCJ9KS5yZXBsYWNlKC88XFw/eG1sXFxzW15cXD9dKlxcPz4vaSxmdW5jdGlvbihhKXtmLnhtbERlY2xhcmF0aW9uPWE7cmV0dXJuXCJcIn0pKTthPWYuZGF0YVByb2Nlc3Nvci50b0h0bWwoYSk7aD8oLzxib2R5W1xcc3w+XS8udGVzdChhKXx8KGE9XCJcXHgzY2JvZHlcXHgzZVwiK2EpLC88aHRtbFtcXHN8Pl0vLnRlc3QoYSl8fChhPVwiXFx4M2NodG1sXFx4M2VcIithK1wiXFx4M2MvaHRtbFxceDNlXCIpLC88aGVhZFtcXHN8Pl0vLnRlc3QoYSk/Lzx0aXRsZVtcXHN8Pl0vLnRlc3QoYSl8fChhPWEucmVwbGFjZSgvPGhlYWRbXj5dKj4vLFwiJFxceDI2XFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVwiKSk6YT1hLnJlcGxhY2UoLzxodG1sW14+XSo+LyxcIiRcXHgyNlxceDNjaGVhZFxceDNlXFx4M2N0aXRsZVxceDNlXFx4M2MvdGl0bGVcXHgzZVxceDNjL2hlYWRcXHgzZVwiKSxcbm4mJihhPWEucmVwbGFjZSgvPGhlYWRbXj5dKj8+LyxcIiRcXHgyNlwiK24pKSxhPWEucmVwbGFjZSgvPFxcL2hlYWRcXHMqPi8sZytcIiRcXHgyNlwiKSxhPW0rYSk6YT1kLmRvY1R5cGUrJ1xceDNjaHRtbCBkaXJcXHgzZFwiJytkLmNvbnRlbnRzTGFuZ0RpcmVjdGlvbisnXCIgbGFuZ1xceDNkXCInKyhkLmNvbnRlbnRzTGFuZ3VhZ2V8fGYubGFuZ0NvZGUpKydcIlxceDNlXFx4M2NoZWFkXFx4M2VcXHgzY3RpdGxlXFx4M2UnK3RoaXMuXy5kb2NUaXRsZStcIlxceDNjL3RpdGxlXFx4M2VcIituK2crXCJcXHgzYy9oZWFkXFx4M2VcXHgzY2JvZHlcIisoZC5ib2R5SWQ/JyBpZFxceDNkXCInK2QuYm9keUlkKydcIic6XCJcIikrKGQuYm9keUNsYXNzPycgY2xhc3NcXHgzZFwiJytkLmJvZHlDbGFzcysnXCInOlwiXCIpK1wiXFx4M2VcIithK1wiXFx4M2MvYm9keVxceDNlXFx4M2MvaHRtbFxceDNlXCI7Q0tFRElUT1IuZW52LmdlY2tvJiYoYT1hLnJlcGxhY2UoLzxib2R5LywnXFx4M2Nib2R5IGNvbnRlbnRlZGl0YWJsZVxceDNkXCJ0cnVlXCIgJyksMkU0PkNLRURJVE9SLmVudi52ZXJzaW9uJiZcbihhPWEucmVwbGFjZSgvPGJvZHlbXj5dKj4vLFwiJFxceDI2XFx4M2MhLS0gY2tlLWNvbnRlbnQtc3RhcnQgLS1cXHgzZVwiKSkpO2Q9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9hY3RzY3JwdFwiIHR5cGVcXHgzZFwidGV4dC9qYXZhc2NyaXB0XCInKyhDS0VESVRPUi5lbnYuaWU/JyBkZWZlclxceDNkXCJkZWZlclwiICc6XCJcIikrXCJcXHgzZXZhciB3YXNMb2FkZWRcXHgzZDA7ZnVuY3Rpb24gb25sb2FkKCl7aWYoIXdhc0xvYWRlZCl3aW5kb3cucGFyZW50LkNLRURJVE9SLnRvb2xzLmNhbGxGdW5jdGlvbihcIit0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyK1wiLHdpbmRvdyk7d2FzTG9hZGVkXFx4M2QxO31cIisoQ0tFRElUT1IuZW52LmllP1wib25sb2FkKCk7XCI6J2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIG9ubG9hZCwgZmFsc2UgKTsnKStcIlxceDNjL3NjcmlwdFxceDNlXCI7Q0tFRElUT1IuZW52LmllJiY5PkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZCs9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9zaGltc2NycHRcIlxceDNld2luZG93LnBhcmVudC5DS0VESVRPUi50b29scy5lbmFibGVIdG1sNUVsZW1lbnRzKGRvY3VtZW50KVxceDNjL3NjcmlwdFxceDNlJyk7XG5uJiZDS0VESVRPUi5lbnYuaWUmJjEwPkNLRURJVE9SLmVudi52ZXJzaW9uJiYoZCs9J1xceDNjc2NyaXB0IGlkXFx4M2RcImNrZV9iYXNldGFnc2NycHRcIlxceDNldmFyIGJhc2VUYWcgXFx4M2QgZG9jdW1lbnQucXVlcnlTZWxlY3RvciggXCJiYXNlXCIgKTtiYXNlVGFnLmhyZWYgXFx4M2QgYmFzZVRhZy5ocmVmO1xceDNjL3NjcmlwdFxceDNlJyk7YT1hLnJlcGxhY2UoLyg/PVxccyo8XFwvKDo/aGVhZCk+KS8sZCk7dGhpcy5jbGVhckN1c3RvbURhdGEoKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7Zi5maXJlKFwiY29udGVudERvbVVubG9hZFwiKTt2YXIgcD10aGlzLmdldERvY3VtZW50KCk7dHJ5e3Aud3JpdGUoYSl9Y2F0Y2gocil7c2V0VGltZW91dChmdW5jdGlvbigpe3Aud3JpdGUoYSl9LDApfX19LGdldERhdGE6ZnVuY3Rpb24oYSl7aWYoYSlyZXR1cm4gdGhpcy5nZXRIdG1sKCk7YT10aGlzLmVkaXRvcjt2YXIgYj1hLmNvbmZpZyxjPWIuZnVsbFBhZ2UsZD1jJiZhLmRvY1R5cGUsZj1jJiZhLnhtbERlY2xhcmF0aW9uLFxubT10aGlzLmdldERvY3VtZW50KCksYz1jP20uZ2V0RG9jdW1lbnRFbGVtZW50KCkuZ2V0T3V0ZXJIdG1sKCk6bS5nZXRCb2R5KCkuZ2V0SHRtbCgpO0NLRURJVE9SLmVudi5nZWNrbyYmYi5lbnRlck1vZGUhPUNLRURJVE9SLkVOVEVSX0JSJiYoYz1jLnJlcGxhY2UoLzxicj4oPz1cXHMqKDo/JHw8XFwvYm9keT4pKS8sXCJcIikpO2M9YS5kYXRhUHJvY2Vzc29yLnRvRGF0YUZvcm1hdChjKTtmJiYoYz1mK1wiXFxuXCIrYyk7ZCYmKGM9ZCtcIlxcblwiK2MpO3JldHVybiBjfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuXy5pc0xvYWRpbmdEYXRhP3RoaXMuXy5pc1BlbmRpbmdGb2N1cz0hMDpjLmJhc2VQcm90by5mb2N1cy5jYWxsKHRoaXMpfSxkZXRhY2g6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVkaXRvcixiPWEuZG9jdW1lbnQsZjt0cnl7Zj1hLndpbmRvdy5nZXRGcmFtZSgpfWNhdGNoKGQpe31jLmJhc2VQcm90by5kZXRhY2guY2FsbCh0aGlzKTt0aGlzLmNsZWFyQ3VzdG9tRGF0YSgpO2IuZ2V0RG9jdW1lbnRFbGVtZW50KCkuY2xlYXJDdXN0b21EYXRhKCk7XG5DS0VESVRPUi50b29scy5yZW1vdmVGdW5jdGlvbih0aGlzLl8uZnJhbWVMb2FkZWRIYW5kbGVyKTtmJiZmLmdldFBhcmVudCgpPyhmLmNsZWFyQ3VzdG9tRGF0YSgpLChhPWYucmVtb3ZlQ3VzdG9tRGF0YShcIm9uUmVzaXplXCIpKSYmYS5yZW1vdmVMaXN0ZW5lcigpLGYucmVtb3ZlKCkpOkNLRURJVE9SLndhcm4oXCJlZGl0b3ItZGVzdHJveS1pZnJhbWVcIil9fX0pfSgpLENLRURJVE9SLmNvbmZpZy5kaXNhYmxlT2JqZWN0UmVzaXppbmc9ITEsQ0tFRElUT1IuY29uZmlnLmRpc2FibGVOYXRpdmVUYWJsZUhhbmRsZXM9ITAsQ0tFRElUT1IuY29uZmlnLmRpc2FibGVOYXRpdmVTcGVsbENoZWNrZXI9ITAsQ0tFRElUT1IuY29uZmlnLnBsdWdpbnM9XCJkaWFsb2d1aSxkaWFsb2csYTExeWhlbHAsYWJvdXQsYmFzaWNzdHlsZXMsYmxvY2txdW90ZSxidXR0b24sdG9vbGJhcixub3RpZmljYXRpb24sY2xpcGJvYXJkLHBhbmVsLGZsb2F0cGFuZWwsbWVudSxjb250ZXh0bWVudSxlbGVtZW50c3BhdGgsaW5kZW50LGluZGVudGxpc3QsbGlzdCxlbnRlcmtleSxlbnRpdGllcyxwb3B1cCxmaWxlYnJvd3NlcixmbG9hdGluZ3NwYWNlLGxpc3RibG9jayxyaWNoY29tYm8sZm9ybWF0LGhvcml6b250YWxydWxlLGh0bWx3cml0ZXIsaW1hZ2UsZmFrZW9iamVjdHMsbGluayxtYWdpY2xpbmUsbWF4aW1pemUscGFzdGVmcm9td29yZCxwYXN0ZXRleHQscmVtb3ZlZm9ybWF0LHJlc2l6ZSxtZW51YnV0dG9uLHNjYXl0LHNob3dib3JkZXJzLHNvdXJjZWFyZWEsc3BlY2lhbGNoYXIsc3R5bGVzY29tYm8sdGFiLHRhYmxlLHRhYmxldG9vbHMsdGFibGVzZWxlY3Rpb24sdW5kbyx3c2Msd3lzaXd5Z2FyZWFcIixcbkNLRURJVE9SLmNvbmZpZy5za2luPVwibW9vbm8tbGlzYVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZnVuY3Rpb24oYSxiKXt2YXIgYz1DS0VESVRPUi5nZXRVcmwoXCJwbHVnaW5zL1wiK2IpO2E9YS5zcGxpdChcIixcIik7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDtlKyspQ0tFRElUT1Iuc2tpbi5pY29uc1thW2VdXT17cGF0aDpjLG9mZnNldDotYVsrK2VdLGJnc2l6ZTphWysrZV19fTtDS0VESVRPUi5lbnYuaGlkcGk/YShcImFib3V0LDAsLGJvbGQsMjQsLGl0YWxpYyw0OCwsc3RyaWtlLDcyLCxzdWJzY3JpcHQsOTYsLHN1cGVyc2NyaXB0LDEyMCwsdW5kZXJsaW5lLDE0NCwsYmlkaWx0ciwxNjgsLGJpZGlydGwsMTkyLCxibG9ja3F1b3RlLDIxNiwsY29weS1ydGwsMjQwLCxjb3B5LDI2NCwsY3V0LXJ0bCwyODgsLGN1dCwzMTIsLHBhc3RlLXJ0bCwzMzYsLHBhc3RlLDM2MCwsY29kZXNuaXBwZXQsMzg0LCxiZ2NvbG9yLDQwOCwsdGV4dGNvbG9yLDQzMiwsY29weWZvcm1hdHRpbmcsNDU2LCxjcmVhdGVkaXYsNDgwLCxkb2Nwcm9wcy1ydGwsNTA0LCxkb2Nwcm9wcyw1MjgsLGVtYmVkLDU1MiwsZW1iZWRzZW1hbnRpYyw1NzYsLGZpbmQtcnRsLDYwMCwsZmluZCw2MjQsLHJlcGxhY2UsNjQ4LCxmbGFzaCw2NzIsLGJ1dHRvbiw2OTYsLGNoZWNrYm94LDcyMCwsZm9ybSw3NDQsLGhpZGRlbmZpZWxkLDc2OCwsaW1hZ2VidXR0b24sNzkyLCxyYWRpbyw4MTYsLHNlbGVjdC1ydGwsODQwLCxzZWxlY3QsODY0LCx0ZXh0YXJlYS1ydGwsODg4LCx0ZXh0YXJlYSw5MTIsLHRleHRmaWVsZC1ydGwsOTM2LCx0ZXh0ZmllbGQsOTYwLCxob3Jpem9udGFscnVsZSw5ODQsLGlmcmFtZSwxMDA4LCxpbWFnZSwxMDMyLCxpbmRlbnQtcnRsLDEwNTYsLGluZGVudCwxMDgwLCxvdXRkZW50LXJ0bCwxMTA0LCxvdXRkZW50LDExMjgsLGp1c3RpZnlibG9jaywxMTUyLCxqdXN0aWZ5Y2VudGVyLDExNzYsLGp1c3RpZnlsZWZ0LDEyMDAsLGp1c3RpZnlyaWdodCwxMjI0LCxsYW5ndWFnZSwxMjQ4LCxhbmNob3ItcnRsLDEyNzIsLGFuY2hvciwxMjk2LCxsaW5rLDEzMjAsLHVubGluaywxMzQ0LCxidWxsZXRlZGxpc3QtcnRsLDEzNjgsLGJ1bGxldGVkbGlzdCwxMzkyLCxudW1iZXJlZGxpc3QtcnRsLDE0MTYsLG51bWJlcmVkbGlzdCwxNDQwLCxtYXRoamF4LDE0NjQsLG1heGltaXplLDE0ODgsLG5ld3BhZ2UtcnRsLDE1MTIsLG5ld3BhZ2UsMTUzNiwscGFnZWJyZWFrLXJ0bCwxNTYwLCxwYWdlYnJlYWssMTU4NCwscGFzdGVmcm9td29yZC1ydGwsMTYwOCwscGFzdGVmcm9td29yZCwxNjMyLCxwYXN0ZXRleHQtcnRsLDE2NTYsLHBhc3RldGV4dCwxNjgwLCxwbGFjZWhvbGRlciwxNzA0LCxwcmV2aWV3LXJ0bCwxNzI4LCxwcmV2aWV3LDE3NTIsLHByaW50LDE3NzYsLHJlbW92ZWZvcm1hdCwxODAwLCxzYXZlLDE4MjQsLHNjYXl0LDE4NDgsLHNlbGVjdGFsbCwxODcyLCxzaG93YmxvY2tzLXJ0bCwxODk2LCxzaG93YmxvY2tzLDE5MjAsLHNtaWxleSwxOTQ0LCxzb3VyY2UtcnRsLDE5NjgsLHNvdXJjZSwxOTkyLCxzb3VyY2VkaWFsb2ctcnRsLDIwMTYsLHNvdXJjZWRpYWxvZywyMDQwLCxzcGVjaWFsY2hhciwyMDY0LCx0YWJsZSwyMDg4LCx0ZW1wbGF0ZXMtcnRsLDIxMTIsLHRlbXBsYXRlcywyMTM2LCx1aWNvbG9yLDIxNjAsLHJlZG8tcnRsLDIxODQsLHJlZG8sMjIwOCwsdW5kby1ydGwsMjIzMiwsdW5kbywyMjU2LCxzaW1wbGVib3gsNDU2MCxhdXRvLHNwZWxsY2hlY2tlciwyMzA0LFwiLFxuXCJpY29uc19oaWRwaS5wbmdcIik6YShcImFib3V0LDAsYXV0byxib2xkLDI0LGF1dG8saXRhbGljLDQ4LGF1dG8sc3RyaWtlLDcyLGF1dG8sc3Vic2NyaXB0LDk2LGF1dG8sc3VwZXJzY3JpcHQsMTIwLGF1dG8sdW5kZXJsaW5lLDE0NCxhdXRvLGJpZGlsdHIsMTY4LGF1dG8sYmlkaXJ0bCwxOTIsYXV0byxibG9ja3F1b3RlLDIxNixhdXRvLGNvcHktcnRsLDI0MCxhdXRvLGNvcHksMjY0LGF1dG8sY3V0LXJ0bCwyODgsYXV0byxjdXQsMzEyLGF1dG8scGFzdGUtcnRsLDMzNixhdXRvLHBhc3RlLDM2MCxhdXRvLGNvZGVzbmlwcGV0LDM4NCxhdXRvLGJnY29sb3IsNDA4LGF1dG8sdGV4dGNvbG9yLDQzMixhdXRvLGNvcHlmb3JtYXR0aW5nLDQ1NixhdXRvLGNyZWF0ZWRpdiw0ODAsYXV0byxkb2Nwcm9wcy1ydGwsNTA0LGF1dG8sZG9jcHJvcHMsNTI4LGF1dG8sZW1iZWQsNTUyLGF1dG8sZW1iZWRzZW1hbnRpYyw1NzYsYXV0byxmaW5kLXJ0bCw2MDAsYXV0byxmaW5kLDYyNCxhdXRvLHJlcGxhY2UsNjQ4LGF1dG8sZmxhc2gsNjcyLGF1dG8sYnV0dG9uLDY5NixhdXRvLGNoZWNrYm94LDcyMCxhdXRvLGZvcm0sNzQ0LGF1dG8saGlkZGVuZmllbGQsNzY4LGF1dG8saW1hZ2VidXR0b24sNzkyLGF1dG8scmFkaW8sODE2LGF1dG8sc2VsZWN0LXJ0bCw4NDAsYXV0byxzZWxlY3QsODY0LGF1dG8sdGV4dGFyZWEtcnRsLDg4OCxhdXRvLHRleHRhcmVhLDkxMixhdXRvLHRleHRmaWVsZC1ydGwsOTM2LGF1dG8sdGV4dGZpZWxkLDk2MCxhdXRvLGhvcml6b250YWxydWxlLDk4NCxhdXRvLGlmcmFtZSwxMDA4LGF1dG8saW1hZ2UsMTAzMixhdXRvLGluZGVudC1ydGwsMTA1NixhdXRvLGluZGVudCwxMDgwLGF1dG8sb3V0ZGVudC1ydGwsMTEwNCxhdXRvLG91dGRlbnQsMTEyOCxhdXRvLGp1c3RpZnlibG9jaywxMTUyLGF1dG8sanVzdGlmeWNlbnRlciwxMTc2LGF1dG8sanVzdGlmeWxlZnQsMTIwMCxhdXRvLGp1c3RpZnlyaWdodCwxMjI0LGF1dG8sbGFuZ3VhZ2UsMTI0OCxhdXRvLGFuY2hvci1ydGwsMTI3MixhdXRvLGFuY2hvciwxMjk2LGF1dG8sbGluaywxMzIwLGF1dG8sdW5saW5rLDEzNDQsYXV0byxidWxsZXRlZGxpc3QtcnRsLDEzNjgsYXV0byxidWxsZXRlZGxpc3QsMTM5MixhdXRvLG51bWJlcmVkbGlzdC1ydGwsMTQxNixhdXRvLG51bWJlcmVkbGlzdCwxNDQwLGF1dG8sbWF0aGpheCwxNDY0LGF1dG8sbWF4aW1pemUsMTQ4OCxhdXRvLG5ld3BhZ2UtcnRsLDE1MTIsYXV0byxuZXdwYWdlLDE1MzYsYXV0byxwYWdlYnJlYWstcnRsLDE1NjAsYXV0byxwYWdlYnJlYWssMTU4NCxhdXRvLHBhc3RlZnJvbXdvcmQtcnRsLDE2MDgsYXV0byxwYXN0ZWZyb213b3JkLDE2MzIsYXV0byxwYXN0ZXRleHQtcnRsLDE2NTYsYXV0byxwYXN0ZXRleHQsMTY4MCxhdXRvLHBsYWNlaG9sZGVyLDE3MDQsYXV0byxwcmV2aWV3LXJ0bCwxNzI4LGF1dG8scHJldmlldywxNzUyLGF1dG8scHJpbnQsMTc3NixhdXRvLHJlbW92ZWZvcm1hdCwxODAwLGF1dG8sc2F2ZSwxODI0LGF1dG8sc2NheXQsMTg0OCxhdXRvLHNlbGVjdGFsbCwxODcyLGF1dG8sc2hvd2Jsb2Nrcy1ydGwsMTg5NixhdXRvLHNob3dibG9ja3MsMTkyMCxhdXRvLHNtaWxleSwxOTQ0LGF1dG8sc291cmNlLXJ0bCwxOTY4LGF1dG8sc291cmNlLDE5OTIsYXV0byxzb3VyY2VkaWFsb2ctcnRsLDIwMTYsYXV0byxzb3VyY2VkaWFsb2csMjA0MCxhdXRvLHNwZWNpYWxjaGFyLDIwNjQsYXV0byx0YWJsZSwyMDg4LGF1dG8sdGVtcGxhdGVzLXJ0bCwyMTEyLGF1dG8sdGVtcGxhdGVzLDIxMzYsYXV0byx1aWNvbG9yLDIxNjAsYXV0byxyZWRvLXJ0bCwyMTg0LGF1dG8scmVkbywyMjA4LGF1dG8sdW5kby1ydGwsMjIzMixhdXRvLHVuZG8sMjI1NixhdXRvLHNpbXBsZWJveCwyMjgwLGF1dG8sc3BlbGxjaGVja2VyLDIzMDQsYXV0b1wiLFxuXCJpY29ucy5wbmdcIil9KCkpfSkoKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vY2tlZGl0b3IvY2tlZGl0b3IuanNcbi8vIG1vZHVsZSBpZCA9IDgwXG4vLyBtb2R1bGUgY2h1bmtzID0gMyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ }),

/***/ 81:
/***/ (function(module, exports) {

eval("/**\n * @license Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.\n * For licensing, see LICENSE.md or http://ckeditor.com/license\n */\n\nCKEDITOR.editorConfig = function( config ) {\n\t// Define changes to default configuration here.\n\t// For complete reference see:\n\t// http://docs.ckeditor.com/#!/api/CKEDITOR.config\n\n\t// The toolbar groups arrangement, optimized for two toolbar rows.\n\tconfig.toolbarGroups = [\n\t\t{ name: 'clipboard',   groups: [ 'clipboard', 'undo' ] },\n\t\t{ name: 'editing',     groups: [ 'find', 'selection', 'spellchecker' ] },\n\t\t{ name: 'links' },\n\t\t{ name: 'insert' },\n\t\t{ name: 'forms' },\n\t\t{ name: 'tools' },\n\t\t{ name: 'document',\t   groups: [ 'mode', 'document', 'doctools' ] },\n\t\t{ name: 'others' },\n\t\t'/',\n\t\t{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },\n\t\t{ name: 'paragraph',   groups: [ 'list', 'indent', 'blocks', 'align', 'bidi' ] },\n\t\t{ name: 'styles' },\n\t\t{ name: 'colors' },\n\t\t{ name: 'about' }\n\t];\n\n\t// Remove some buttons provided by the standard plugins, which are\n\t// not needed in the Standard(s) toolbar.\n\tconfig.removeButtons = 'Underline,Subscript,Superscript';\n\n\t// Set the most common block elements.\n\tconfig.format_tags = 'p;h1;h2;h3;pre';\n\n\t// Simplify the dialog windows.\n\tconfig.removeDialogTabs = 'image:advanced;link:advanced';\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9+L2NrZWRpdG9yL2NvbmZpZy5qcz9iMWFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMTcsIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZCBvciBodHRwOi8vY2tlZGl0b3IuY29tL2xpY2Vuc2VcbiAqL1xuXG5DS0VESVRPUi5lZGl0b3JDb25maWcgPSBmdW5jdGlvbiggY29uZmlnICkge1xuXHQvLyBEZWZpbmUgY2hhbmdlcyB0byBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gaGVyZS5cblx0Ly8gRm9yIGNvbXBsZXRlIHJlZmVyZW5jZSBzZWU6XG5cdC8vIGh0dHA6Ly9kb2NzLmNrZWRpdG9yLmNvbS8jIS9hcGkvQ0tFRElUT1IuY29uZmlnXG5cblx0Ly8gVGhlIHRvb2xiYXIgZ3JvdXBzIGFycmFuZ2VtZW50LCBvcHRpbWl6ZWQgZm9yIHR3byB0b29sYmFyIHJvd3MuXG5cdGNvbmZpZy50b29sYmFyR3JvdXBzID0gW1xuXHRcdHsgbmFtZTogJ2NsaXBib2FyZCcsICAgZ3JvdXBzOiBbICdjbGlwYm9hcmQnLCAndW5kbycgXSB9LFxuXHRcdHsgbmFtZTogJ2VkaXRpbmcnLCAgICAgZ3JvdXBzOiBbICdmaW5kJywgJ3NlbGVjdGlvbicsICdzcGVsbGNoZWNrZXInIF0gfSxcblx0XHR7IG5hbWU6ICdsaW5rcycgfSxcblx0XHR7IG5hbWU6ICdpbnNlcnQnIH0sXG5cdFx0eyBuYW1lOiAnZm9ybXMnIH0sXG5cdFx0eyBuYW1lOiAndG9vbHMnIH0sXG5cdFx0eyBuYW1lOiAnZG9jdW1lbnQnLFx0ICAgZ3JvdXBzOiBbICdtb2RlJywgJ2RvY3VtZW50JywgJ2RvY3Rvb2xzJyBdIH0sXG5cdFx0eyBuYW1lOiAnb3RoZXJzJyB9LFxuXHRcdCcvJyxcblx0XHR7IG5hbWU6ICdiYXNpY3N0eWxlcycsIGdyb3VwczogWyAnYmFzaWNzdHlsZXMnLCAnY2xlYW51cCcgXSB9LFxuXHRcdHsgbmFtZTogJ3BhcmFncmFwaCcsICAgZ3JvdXBzOiBbICdsaXN0JywgJ2luZGVudCcsICdibG9ja3MnLCAnYWxpZ24nLCAnYmlkaScgXSB9LFxuXHRcdHsgbmFtZTogJ3N0eWxlcycgfSxcblx0XHR7IG5hbWU6ICdjb2xvcnMnIH0sXG5cdFx0eyBuYW1lOiAnYWJvdXQnIH1cblx0XTtcblxuXHQvLyBSZW1vdmUgc29tZSBidXR0b25zIHByb3ZpZGVkIGJ5IHRoZSBzdGFuZGFyZCBwbHVnaW5zLCB3aGljaCBhcmVcblx0Ly8gbm90IG5lZWRlZCBpbiB0aGUgU3RhbmRhcmQocykgdG9vbGJhci5cblx0Y29uZmlnLnJlbW92ZUJ1dHRvbnMgPSAnVW5kZXJsaW5lLFN1YnNjcmlwdCxTdXBlcnNjcmlwdCc7XG5cblx0Ly8gU2V0IHRoZSBtb3N0IGNvbW1vbiBibG9jayBlbGVtZW50cy5cblx0Y29uZmlnLmZvcm1hdF90YWdzID0gJ3A7aDE7aDI7aDM7cHJlJztcblxuXHQvLyBTaW1wbGlmeSB0aGUgZGlhbG9nIHdpbmRvd3MuXG5cdGNvbmZpZy5yZW1vdmVEaWFsb2dUYWJzID0gJ2ltYWdlOmFkdmFuY2VkO2xpbms6YWR2YW5jZWQnO1xufTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ja2VkaXRvci9jb25maWcuanNcbi8vIG1vZHVsZSBpZCA9IDgxXG4vLyBtb2R1bGUgY2h1bmtzID0gMyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })

/******/ });